var _7=Object.defineProperty;var N7=(e,t,r)=>t in e?_7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nh=(e,t,r)=>N7(e,typeof t!="symbol"?t+"":t,r);function k7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lR={exports:{}},Cx={},cR={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=Symbol.for("react.element"),C7=Symbol.for("react.portal"),T7=Symbol.for("react.fragment"),j7=Symbol.for("react.strict_mode"),A7=Symbol.for("react.profiler"),I7=Symbol.for("react.provider"),P7=Symbol.for("react.context"),O7=Symbol.for("react.forward_ref"),R7=Symbol.for("react.suspense"),D7=Symbol.for("react.memo"),F7=Symbol.for("react.lazy"),bk=Symbol.iterator;function M7(e){return e===null||typeof e!="object"?null:(e=bk&&e[bk]||e["@@iterator"],typeof e=="function"?e:null)}var uR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dR=Object.assign,fR={};function rd(e,t,r){this.props=e,this.context=t,this.refs=fR,this.updater=r||uR}rd.prototype.isReactComponent={};rd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pR(){}pR.prototype=rd.prototype;function I2(e,t,r){this.props=e,this.context=t,this.refs=fR,this.updater=r||uR}var P2=I2.prototype=new pR;P2.constructor=I2;dR(P2,rd.prototype);P2.isPureReactComponent=!0;var wk=Array.isArray,mR=Object.prototype.hasOwnProperty,O2={current:null},hR={key:!0,ref:!0,__self:!0,__source:!0};function gR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)mR.call(t,n)&&!hR.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:vm,type:e,key:i,ref:s,props:a,_owner:O2.current}}function L7(e,t){return{$$typeof:vm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function R2(e){return typeof e=="object"&&e!==null&&e.$$typeof===vm}function $7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sk=/\/+/g;function Sy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$7(""+e.key):t.toString(36)}function e0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vm:case C7:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Sy(s,0):n,wk(a)?(r="",e!=null&&(r=e.replace(Sk,"$&/")+"/"),e0(a,t,r,"",function(u){return u})):a!=null&&(R2(a)&&(a=L7(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Sk,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",wk(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Sy(i,o);s+=e0(i,t,r,c,a)}else if(c=M7(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Sy(i,o++),s+=e0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ah(e,t,r){if(e==null)return e;var n=[],a=0;return e0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function B7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},t0={transition:null},z7={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:t0,ReactCurrentOwner:O2};function xR(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:ah,forEach:function(e,t,r){ah(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ah(e,function(){t++}),t},toArray:function(e){return ah(e,function(t){return t})||[]},only:function(e){if(!R2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=rd;ot.Fragment=T7;ot.Profiler=A7;ot.PureComponent=I2;ot.StrictMode=j7;ot.Suspense=R7;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z7;ot.act=xR;ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=O2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)mR.call(t,c)&&!hR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:vm,type:e.type,key:a,ref:i,props:n,_owner:s}};ot.createContext=function(e){return e={$$typeof:P7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I7,_context:e},e.Consumer=e};ot.createElement=gR;ot.createFactory=function(e){var t=gR.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:O7,render:e}};ot.isValidElement=R2;ot.lazy=function(e){return{$$typeof:F7,_payload:{_status:-1,_result:e},_init:B7}};ot.memo=function(e,t){return{$$typeof:D7,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=t0.transition;t0.transition={};try{e()}finally{t0.transition=t}};ot.unstable_act=xR;ot.useCallback=function(e,t){return Rn.current.useCallback(e,t)};ot.useContext=function(e){return Rn.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};ot.useEffect=function(e,t){return Rn.current.useEffect(e,t)};ot.useId=function(){return Rn.current.useId()};ot.useImperativeHandle=function(e,t,r){return Rn.current.useImperativeHandle(e,t,r)};ot.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return Rn.current.useMemo(e,t)};ot.useReducer=function(e,t,r){return Rn.current.useReducer(e,t,r)};ot.useRef=function(e){return Rn.current.useRef(e)};ot.useState=function(e){return Rn.current.useState(e)};ot.useSyncExternalStore=function(e,t,r){return Rn.current.useSyncExternalStore(e,t,r)};ot.useTransition=function(){return Rn.current.useTransition()};ot.version="18.3.1";cR.exports=ot;var _=cR.exports;const ae=_t(_),U7=k7({__proto__:null,default:ae},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7=_,V7=Symbol.for("react.element"),H7=Symbol.for("react.fragment"),W7=Object.prototype.hasOwnProperty,G7=q7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X7={key:!0,ref:!0,__self:!0,__source:!0};function vR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)W7.call(t,n)&&!X7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:V7,type:e,key:i,ref:s,props:a,_owner:G7.current}}Cx.Fragment=H7;Cx.jsx=vR;Cx.jsxs=vR;lR.exports=Cx;var l=lR.exports,yR={exports:{}},ba={},bR={exports:{}},wR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,B){var R=V.length;V.push(B);e:for(;0<R;){var ne=R-1>>>1,z=V[ne];if(0<a(z,B))V[ne]=B,V[R]=z,R=ne;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var B=V[0],R=V.pop();if(R!==B){V[0]=R;e:for(var ne=0,z=V.length,P=z>>>1;ne<P;){var G=2*(ne+1)-1,J=V[G],te=G+1,re=V[te];if(0>a(J,R))te<z&&0>a(re,J)?(V[ne]=re,V[te]=R,ne=te):(V[ne]=J,V[G]=R,ne=G);else if(te<z&&0>a(re,R))V[ne]=re,V[te]=R,ne=te;else break e}}return B}function a(V,B){var R=V.sortIndex-B.sortIndex;return R!==0?R:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,p=3,m=!1,h=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=V)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function k(V){if(g=!1,y(V),!h)if(r(c)!==null)h=!0,q(E);else{var B=r(u);B!==null&&W(k,B.startTime-V)}}function E(V,B){h=!1,g&&(g=!1,v(j),j=-1),m=!0;var R=p;try{for(y(B),f=r(c);f!==null&&(!(f.expirationTime>B)||V&&!A());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var z=ne(f.expirationTime<=B);B=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),y(B)}else n(c);f=r(c)}if(f!==null)var P=!0;else{var G=r(u);G!==null&&W(k,G.startTime-B),P=!1}return P}finally{f=null,p=R,m=!1}}var S=!1,w=null,j=-1,T=5,C=-1;function A(){return!(e.unstable_now()-C<T)}function N(){if(w!==null){var V=e.unstable_now();C=V;var B=!0;try{B=w(!0,V)}finally{B?I():(S=!1,w=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=N,I=function(){F.postMessage(null)}}else I=function(){x(N,0)};function q(V){w=V,S||(S=!0,I())}function W(V,B){j=x(function(){V(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,q(E))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var R=p;p=B;try{return V()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var R=p;p=V;try{return B()}finally{p=R}},e.unstable_scheduleCallback=function(V,B,R){var ne=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ne+R:ne):R=ne,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=R+z,V={id:d++,callback:B,priorityLevel:V,startTime:R,expirationTime:z,sortIndex:-1},R>ne?(V.sortIndex=R,t(u,V),r(c)===null&&V===r(u)&&(g?(v(j),j=-1):g=!0,W(k,R-ne))):(V.sortIndex=z,t(c,V),h||m||(h=!0,q(E))),V},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(V){var B=p;return function(){var R=p;p=B;try{return V.apply(this,arguments)}finally{p=R}}}})(wR);bR.exports=wR;var K7=bR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y7=_,va=K7;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SR=new Set,Xf={};function Zl(e,t){xu(e,t),xu(e+"Capture",t)}function xu(e,t){for(Xf[e]=t,e=0;e<t.length;e++)SR.add(t[e])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v1=Object.prototype.hasOwnProperty,J7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ek={},_k={};function Q7(e){return v1.call(_k,e)?!0:v1.call(Ek,e)?!1:J7.test(e)?_k[e]=!0:(Ek[e]=!0,!1)}function Z7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e9(e,t,r,n){if(t===null||typeof t>"u"||Z7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zr[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zr[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zr[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zr[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zr[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zr[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zr[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zr[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zr[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var D2=/[\-:]([a-z])/g;function F2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D2,F2);Zr[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D2,F2);Zr[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D2,F2);Zr[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zr[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zr[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function M2(e,t,r,n){var a=Zr.hasOwnProperty(t)?Zr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e9(t,r,a,n)&&(r=null),n||a===null?Q7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _s=Y7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),L2=Symbol.for("react.strict_mode"),y1=Symbol.for("react.profiler"),ER=Symbol.for("react.provider"),_R=Symbol.for("react.context"),$2=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),w1=Symbol.for("react.suspense_list"),B2=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),Nk=Symbol.iterator;function $d(e){return e===null||typeof e!="object"?null:(e=Nk&&e[Nk]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,Ey;function lf(e){if(Ey===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ey=t&&t[1]||""}return`
`+Ey+e}var _y=!1;function Ny(e,t){if(!e||_y)return"";_y=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{_y=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lf(e):""}function t9(e){switch(e.tag){case 5:return lf(e.type);case 16:return lf("Lazy");case 13:return lf("Suspense");case 19:return lf("SuspenseList");case 0:case 2:case 15:return e=Ny(e.type,!1),e;case 11:return e=Ny(e.type.render,!1),e;case 1:return e=Ny(e.type,!0),e;default:return""}}function S1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rc:return"Fragment";case Oc:return"Portal";case y1:return"Profiler";case L2:return"StrictMode";case b1:return"Suspense";case w1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _R:return(e.displayName||"Context")+".Consumer";case ER:return(e._context.displayName||"Context")+".Provider";case $2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B2:return t=e.displayName||null,t!==null?t:S1(e.type)||"Memo";case Us:t=e._payload,e=e._init;try{return S1(e(t))}catch{}}return null}function r9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S1(t);case 8:return t===L2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n9(e){var t=kR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sh(e){e._valueTracker||(e._valueTracker=n9(e))}function CR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function S0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function E1(e,t){var r=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TR(e,t){t=t.checked,t!=null&&M2(e,"checked",t,!1)}function _1(e,t){TR(e,t);var r=bo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?N1(e,t.type,r):t.hasOwnProperty("defaultValue")&&N1(e,t.type,bo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ck(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function N1(e,t,r){(t!=="number"||S0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cf=Array.isArray;function Yc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function k1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(cf(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bo(r)}}function jR(e,t){var r=bo(t.value),n=bo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oh,IR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a9=["Webkit","ms","Moz","O"];Object.keys(bf).forEach(function(e){a9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bf[t]=bf[e]})});function PR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bf.hasOwnProperty(e)&&bf[e]?(""+t).trim():t+"px"}function OR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=PR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var i9=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T1(e,t){if(t){if(i9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function j1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A1=null;function z2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var I1=null,Jc=null,Qc=null;function Ak(e){if(e=wm(e)){if(typeof I1!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Px(t),I1(e.stateNode,e.type,t))}}function RR(e){Jc?Qc?Qc.push(e):Qc=[e]:Jc=e}function DR(){if(Jc){var e=Jc,t=Qc;if(Qc=Jc=null,Ak(e),t)for(e=0;e<t.length;e++)Ak(t[e])}}function FR(e,t){return e(t)}function MR(){}var ky=!1;function LR(e,t,r){if(ky)return e(t,r);ky=!0;try{return FR(e,t,r)}finally{ky=!1,(Jc!==null||Qc!==null)&&(MR(),DR())}}function Yf(e,t){var r=e.stateNode;if(r===null)return null;var n=Px(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var P1=!1;if(fs)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){P1=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{P1=!1}function s9(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wf=!1,E0=null,_0=!1,O1=null,o9={onError:function(e){wf=!0,E0=e}};function l9(e,t,r,n,a,i,s,o,c){wf=!1,E0=null,s9.apply(o9,arguments)}function c9(e,t,r,n,a,i,s,o,c){if(l9.apply(this,arguments),wf){if(wf){var u=E0;wf=!1,E0=null}else throw Error(Se(198));_0||(_0=!0,O1=u)}}function ec(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ik(e){if(ec(e)!==e)throw Error(Se(188))}function u9(e){var t=e.alternate;if(!t){if(t=ec(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ik(a),e;if(i===n)return Ik(a),t;i=i.sibling}throw Error(Se(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function BR(e){return e=u9(e),e!==null?zR(e):null}function zR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zR(e);if(t!==null)return t;e=e.sibling}return null}var UR=va.unstable_scheduleCallback,Pk=va.unstable_cancelCallback,d9=va.unstable_shouldYield,f9=va.unstable_requestPaint,pr=va.unstable_now,p9=va.unstable_getCurrentPriorityLevel,U2=va.unstable_ImmediatePriority,qR=va.unstable_UserBlockingPriority,N0=va.unstable_NormalPriority,m9=va.unstable_LowPriority,VR=va.unstable_IdlePriority,Tx=null,Ti=null;function h9(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Tx,e,void 0,(e.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:v9,g9=Math.log,x9=Math.LN2;function v9(e){return e>>>=0,e===0?32:31-(g9(e)/x9|0)|0}var lh=64,ch=4194304;function uf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function k0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=uf(o):(i&=s,i!==0&&(n=uf(i)))}else s=r&~a,s!==0?n=uf(s):i!==0&&(n=uf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-oi(t),a=1<<r,n|=e[r],t&=~a;return n}function y9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-oi(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=y9(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function R1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HR(){var e=lh;return lh<<=1,!(lh&4194240)&&(lh=64),e}function Cy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ym(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oi(t),e[t]=r}function w9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-oi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function q2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-oi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Et=0;function WR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GR,V2,XR,KR,YR,D1=!1,uh=[],so=null,oo=null,lo=null,Jf=new Map,Qf=new Map,Hs=[],S9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ok(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Jf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(t.pointerId)}}function zd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=wm(t),t!==null&&V2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function E9(e,t,r,n,a){switch(t){case"focusin":return so=zd(so,e,t,r,n,a),!0;case"dragenter":return oo=zd(oo,e,t,r,n,a),!0;case"mouseover":return lo=zd(lo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jf.set(i,zd(Jf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Qf.set(i,zd(Qf.get(i)||null,e,t,r,n,a)),!0}return!1}function JR(e){var t=ol(e.target);if(t!==null){var r=ec(t);if(r!==null){if(t=r.tag,t===13){if(t=$R(r),t!==null){e.blockedOn=t,YR(e.priority,function(){XR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=F1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);A1=n,r.target.dispatchEvent(n),A1=null}else return t=wm(r),t!==null&&V2(t),e.blockedOn=r,!1;t.shift()}return!0}function Rk(e,t,r){r0(e)&&r.delete(t)}function _9(){D1=!1,so!==null&&r0(so)&&(so=null),oo!==null&&r0(oo)&&(oo=null),lo!==null&&r0(lo)&&(lo=null),Jf.forEach(Rk),Qf.forEach(Rk)}function Ud(e,t){e.blockedOn===t&&(e.blockedOn=null,D1||(D1=!0,va.unstable_scheduleCallback(va.unstable_NormalPriority,_9)))}function Zf(e){function t(a){return Ud(a,e)}if(0<uh.length){Ud(uh[0],e);for(var r=1;r<uh.length;r++){var n=uh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(so!==null&&Ud(so,e),oo!==null&&Ud(oo,e),lo!==null&&Ud(lo,e),Jf.forEach(t),Qf.forEach(t),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)JR(r),r.blockedOn===null&&Hs.shift()}var Zc=_s.ReactCurrentBatchConfig,C0=!0;function N9(e,t,r,n){var a=Et,i=Zc.transition;Zc.transition=null;try{Et=1,H2(e,t,r,n)}finally{Et=a,Zc.transition=i}}function k9(e,t,r,n){var a=Et,i=Zc.transition;Zc.transition=null;try{Et=4,H2(e,t,r,n)}finally{Et=a,Zc.transition=i}}function H2(e,t,r,n){if(C0){var a=F1(e,t,r,n);if(a===null)My(e,t,n,T0,r),Ok(e,n);else if(E9(a,e,t,r,n))n.stopPropagation();else if(Ok(e,n),t&4&&-1<S9.indexOf(e)){for(;a!==null;){var i=wm(a);if(i!==null&&GR(i),i=F1(e,t,r,n),i===null&&My(e,t,n,T0,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else My(e,t,n,null,r)}}var T0=null;function F1(e,t,r,n){if(T0=null,e=z2(n),e=ol(e),e!==null)if(t=ec(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$R(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T0=e,null}function QR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p9()){case U2:return 1;case qR:return 4;case N0:case m9:return 16;case VR:return 536870912;default:return 16}default:return 16}}var eo=null,W2=null,n0=null;function ZR(){if(n0)return n0;var e,t=W2,r=t.length,n,a="value"in eo?eo.value:eo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return n0=a.slice(e,1<n?1-n:void 0)}function a0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dh(){return!0}function Dk(){return!1}function wa(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dh:Dk,this.isPropagationStopped=Dk,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),t}var nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G2=wa(nd),bm=ir({},nd,{view:0,detail:0}),C9=wa(bm),Ty,jy,qd,jx=ir({},bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(Ty=e.screenX-qd.screenX,jy=e.screenY-qd.screenY):jy=Ty=0,qd=e),Ty)},movementY:function(e){return"movementY"in e?e.movementY:jy}}),Fk=wa(jx),T9=ir({},jx,{dataTransfer:0}),j9=wa(T9),A9=ir({},bm,{relatedTarget:0}),Ay=wa(A9),I9=ir({},nd,{animationName:0,elapsedTime:0,pseudoElement:0}),P9=wa(I9),O9=ir({},nd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R9=wa(O9),D9=ir({},nd,{data:0}),Mk=wa(D9),F9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L9[e])?!!t[e]:!1}function X2(){return $9}var B9=ir({},bm,{key:function(e){if(e.key){var t=F9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X2,charCode:function(e){return e.type==="keypress"?a0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z9=wa(B9),U9=ir({},jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lk=wa(U9),q9=ir({},bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X2}),V9=wa(q9),H9=ir({},nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),W9=wa(H9),G9=ir({},jx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X9=wa(G9),K9=[9,13,27,32],K2=fs&&"CompositionEvent"in window,Sf=null;fs&&"documentMode"in document&&(Sf=document.documentMode);var Y9=fs&&"TextEvent"in window&&!Sf,e3=fs&&(!K2||Sf&&8<Sf&&11>=Sf),$k=" ",Bk=!1;function t3(e,t){switch(e){case"keyup":return K9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dc=!1;function J9(e,t){switch(e){case"compositionend":return r3(t);case"keypress":return t.which!==32?null:(Bk=!0,$k);case"textInput":return e=t.data,e===$k&&Bk?null:e;default:return null}}function Q9(e,t){if(Dc)return e==="compositionend"||!K2&&t3(e,t)?(e=ZR(),n0=W2=eo=null,Dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e3&&t.locale!=="ko"?null:t.data;default:return null}}var Z9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z9[e.type]:t==="textarea"}function n3(e,t,r,n){RR(n),t=j0(t,"onChange"),0<t.length&&(r=new G2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ef=null,ep=null;function eq(e){m3(e,0)}function Ax(e){var t=Lc(e);if(CR(t))return e}function tq(e,t){if(e==="change")return t}var a3=!1;if(fs){var Iy;if(fs){var Py="oninput"in document;if(!Py){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),Py=typeof Uk.oninput=="function"}Iy=Py}else Iy=!1;a3=Iy&&(!document.documentMode||9<document.documentMode)}function qk(){Ef&&(Ef.detachEvent("onpropertychange",i3),ep=Ef=null)}function i3(e){if(e.propertyName==="value"&&Ax(ep)){var t=[];n3(t,ep,e,z2(e)),LR(eq,t)}}function rq(e,t,r){e==="focusin"?(qk(),Ef=t,ep=r,Ef.attachEvent("onpropertychange",i3)):e==="focusout"&&qk()}function nq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ax(ep)}function aq(e,t){if(e==="click")return Ax(t)}function iq(e,t){if(e==="input"||e==="change")return Ax(t)}function sq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:sq;function tp(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!v1.call(t,a)||!mi(e[a],t[a]))return!1}return!0}function Vk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hk(e,t){var r=Vk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vk(r)}}function s3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o3(){for(var e=window,t=S0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=S0(e.document)}return t}function Y2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oq(e){var t=o3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s3(r.ownerDocument.documentElement,r)){if(n!==null&&Y2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Hk(r,i);var s=Hk(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lq=fs&&"documentMode"in document&&11>=document.documentMode,Fc=null,M1=null,_f=null,L1=!1;function Wk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;L1||Fc==null||Fc!==S0(n)||(n=Fc,"selectionStart"in n&&Y2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_f&&tp(_f,n)||(_f=n,n=j0(M1,"onSelect"),0<n.length&&(t=new G2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fc)))}function fh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mc={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},Oy={},l3={};fs&&(l3=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function Ix(e){if(Oy[e])return Oy[e];if(!Mc[e])return e;var t=Mc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l3)return Oy[e]=t[r];return e}var c3=Ix("animationend"),u3=Ix("animationiteration"),d3=Ix("animationstart"),f3=Ix("transitionend"),p3=new Map,Gk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){p3.set(e,t),Zl(t,[e])}for(var Ry=0;Ry<Gk.length;Ry++){var Dy=Gk[Ry],cq=Dy.toLowerCase(),uq=Dy[0].toUpperCase()+Dy.slice(1);jo(cq,"on"+uq)}jo(c3,"onAnimationEnd");jo(u3,"onAnimationIteration");jo(d3,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(f3,"onTransitionEnd");xu("onMouseEnter",["mouseout","mouseover"]);xu("onMouseLeave",["mouseout","mouseover"]);xu("onPointerEnter",["pointerout","pointerover"]);xu("onPointerLeave",["pointerout","pointerover"]);Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dq=new Set("cancel close invalid load scroll toggle".split(" ").concat(df));function Xk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c9(n,t,void 0,e),e.currentTarget=null}function m3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Xk(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Xk(a,o,u),i=c}}}if(_0)throw e=O1,_0=!1,O1=null,e}function Ut(e,t){var r=t[q1];r===void 0&&(r=t[q1]=new Set);var n=e+"__bubble";r.has(n)||(h3(t,e,2,!1),r.add(n))}function Fy(e,t,r){var n=0;t&&(n|=4),h3(r,e,n,t)}var ph="_reactListening"+Math.random().toString(36).slice(2);function rp(e){if(!e[ph]){e[ph]=!0,SR.forEach(function(r){r!=="selectionchange"&&(dq.has(r)||Fy(r,!1,e),Fy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ph]||(t[ph]=!0,Fy("selectionchange",!1,t))}}function h3(e,t,r,n){switch(QR(t)){case 1:var a=N9;break;case 4:a=k9;break;default:a=H2}r=a.bind(null,t,r,e),a=void 0,!P1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function My(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=ol(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}LR(function(){var u=i,d=z2(r),f=[];e:{var p=p3.get(e);if(p!==void 0){var m=G2,h=e;switch(e){case"keypress":if(a0(r)===0)break e;case"keydown":case"keyup":m=z9;break;case"focusin":h="focus",m=Ay;break;case"focusout":h="blur",m=Ay;break;case"beforeblur":case"afterblur":m=Ay;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V9;break;case c3:case u3:case d3:m=P9;break;case f3:m=W9;break;case"scroll":m=C9;break;case"wheel":m=X9;break;case"copy":case"cut":case"paste":m=R9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Lk}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,y;b!==null;){y=b;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,v!==null&&(k=Yf(b,v),k!=null&&g.push(np(b,k,y)))),x)break;b=b.return}0<g.length&&(p=new m(p,h,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==A1&&(h=r.relatedTarget||r.fromElement)&&(ol(h)||h[ps]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=u,h=h?ol(h):null,h!==null&&(x=ec(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(g=Fk,k="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Lk,k="onPointerLeave",v="onPointerEnter",b="pointer"),x=m==null?p:Lc(m),y=h==null?p:Lc(h),p=new g(k,b+"leave",m,r,d),p.target=x,p.relatedTarget=y,k=null,ol(d)===u&&(g=new g(v,b+"enter",h,r,d),g.target=y,g.relatedTarget=x,k=g),x=k,m&&h)t:{for(g=m,v=h,b=0,y=g;y;y=wc(y))b++;for(y=0,k=v;k;k=wc(k))y++;for(;0<b-y;)g=wc(g),b--;for(;0<y-b;)v=wc(v),y--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=wc(g),v=wc(v)}g=null}else g=null;m!==null&&Kk(f,p,m,g,!1),h!==null&&x!==null&&Kk(f,x,h,g,!0)}}e:{if(p=u?Lc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=tq;else if(zk(p))if(a3)E=iq;else{E=nq;var S=rq}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=aq);if(E&&(E=E(e,u))){n3(f,E,r,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&N1(p,"number",p.value)}switch(S=u?Lc(u):window,e){case"focusin":(zk(S)||S.contentEditable==="true")&&(Fc=S,M1=u,_f=null);break;case"focusout":_f=M1=Fc=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,Wk(f,r,d);break;case"selectionchange":if(lq)break;case"keydown":case"keyup":Wk(f,r,d)}var w;if(K2)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Dc?t3(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(e3&&r.locale!=="ko"&&(Dc||j!=="onCompositionStart"?j==="onCompositionEnd"&&Dc&&(w=ZR()):(eo=d,W2="value"in eo?eo.value:eo.textContent,Dc=!0)),S=j0(u,j),0<S.length&&(j=new Mk(j,e,null,r,d),f.push({event:j,listeners:S}),w?j.data=w:(w=r3(r),w!==null&&(j.data=w)))),(w=Y9?J9(e,r):Q9(e,r))&&(u=j0(u,"onBeforeInput"),0<u.length&&(d=new Mk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=w))}m3(f,t)})}function np(e,t,r){return{instance:e,listener:t,currentTarget:r}}function j0(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Yf(e,r),i!=null&&n.unshift(np(e,i,a)),i=Yf(e,t),i!=null&&n.push(np(e,i,a))),e=e.return}return n}function wc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kk(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Yf(r,i),c!=null&&s.unshift(np(r,c,o))):a||(c=Yf(r,i),c!=null&&s.push(np(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var fq=/\r\n?/g,pq=/\u0000|\uFFFD/g;function Yk(e){return(typeof e=="string"?e:""+e).replace(fq,`
`).replace(pq,"")}function mh(e,t,r){if(t=Yk(t),Yk(e)!==t&&r)throw Error(Se(425))}function A0(){}var $1=null,B1=null;function z1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var U1=typeof setTimeout=="function"?setTimeout:void 0,mq=typeof clearTimeout=="function"?clearTimeout:void 0,Jk=typeof Promise=="function"?Promise:void 0,hq=typeof queueMicrotask=="function"?queueMicrotask:typeof Jk<"u"?function(e){return Jk.resolve(null).then(e).catch(gq)}:U1;function gq(e){setTimeout(function(){throw e})}function Ly(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zf(t)}function co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ad=Math.random().toString(36).slice(2),Ni="__reactFiber$"+ad,ap="__reactProps$"+ad,ps="__reactContainer$"+ad,q1="__reactEvents$"+ad,xq="__reactListeners$"+ad,vq="__reactHandles$"+ad;function ol(e){var t=e[Ni];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ps]||r[Ni]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qk(e);e!==null;){if(r=e[Ni])return r;e=Qk(e)}return t}e=r,r=e.parentNode}return null}function wm(e){return e=e[Ni]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Px(e){return e[ap]||null}var V1=[],$c=-1;function Ao(e){return{current:e}}function Wt(e){0>$c||(e.current=V1[$c],V1[$c]=null,$c--)}function Lt(e,t){$c++,V1[$c]=e.current,e.current=t}var wo={},xn=Ao(wo),Vn=Ao(!1),Cl=wo;function vu(e,t){var r=e.type.contextTypes;if(!r)return wo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Hn(e){return e=e.childContextTypes,e!=null}function I0(){Wt(Vn),Wt(xn)}function Zk(e,t,r){if(xn.current!==wo)throw Error(Se(168));Lt(xn,t),Lt(Vn,r)}function g3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Se(108,r9(e)||"Unknown",a));return ir({},r,n)}function P0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wo,Cl=xn.current,Lt(xn,e),Lt(Vn,Vn.current),!0}function eC(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=g3(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,Wt(Vn),Wt(xn),Lt(xn,e)):Wt(Vn),Lt(Vn,r)}var Ki=null,Ox=!1,$y=!1;function x3(e){Ki===null?Ki=[e]:Ki.push(e)}function yq(e){Ox=!0,x3(e)}function Io(){if(!$y&&Ki!==null){$y=!0;var e=0,t=Et;try{var r=Ki;for(Et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ki=null,Ox=!1}catch(a){throw Ki!==null&&(Ki=Ki.slice(e+1)),UR(U2,Io),a}finally{Et=t,$y=!1}}return null}var Bc=[],zc=0,O0=null,R0=0,Da=[],Fa=0,Tl=null,Yi=1,Ji="";function Zo(e,t){Bc[zc++]=R0,Bc[zc++]=O0,O0=e,R0=t}function v3(e,t,r){Da[Fa++]=Yi,Da[Fa++]=Ji,Da[Fa++]=Tl,Tl=e;var n=Yi;e=Ji;var a=32-oi(n)-1;n&=~(1<<a),r+=1;var i=32-oi(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Yi=1<<32-oi(t)+a|r<<a|n,Ji=i+e}else Yi=1<<i|r<<a|n,Ji=e}function J2(e){e.return!==null&&(Zo(e,1),v3(e,1,0))}function Q2(e){for(;e===O0;)O0=Bc[--zc],Bc[zc]=null,R0=Bc[--zc],Bc[zc]=null;for(;e===Tl;)Tl=Da[--Fa],Da[Fa]=null,Ji=Da[--Fa],Da[Fa]=null,Yi=Da[--Fa],Da[Fa]=null}var ha=null,pa=null,Yt=!1,ri=null;function y3(e,t){var r=La(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ha=e,pa=co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ha=e,pa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tl!==null?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=La(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ha=e,pa=null,!0):!1;default:return!1}}function H1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function W1(e){if(Yt){var t=pa;if(t){var r=t;if(!tC(e,t)){if(H1(e))throw Error(Se(418));t=co(r.nextSibling);var n=ha;t&&tC(e,t)?y3(n,r):(e.flags=e.flags&-4097|2,Yt=!1,ha=e)}}else{if(H1(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Yt=!1,ha=e}}}function rC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ha=e}function hh(e){if(e!==ha)return!1;if(!Yt)return rC(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!z1(e.type,e.memoizedProps)),t&&(t=pa)){if(H1(e))throw b3(),Error(Se(418));for(;t;)y3(e,t),t=co(t.nextSibling)}if(rC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pa=co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pa=null}}else pa=ha?co(e.stateNode.nextSibling):null;return!0}function b3(){for(var e=pa;e;)e=co(e.nextSibling)}function yu(){pa=ha=null,Yt=!1}function Z2(e){ri===null?ri=[e]:ri.push(e)}var bq=_s.ReactCurrentBatchConfig;function Vd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function gh(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nC(e){var t=e._init;return t(e._payload)}function w3(e){function t(v,b){if(e){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=mo(v,b),v.index=0,v.sibling=null,v}function i(v,b,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,y,k){return b===null||b.tag!==6?(b=Wy(y,v.mode,k),b.return=v,b):(b=a(b,y),b.return=v,b)}function c(v,b,y,k){var E=y.type;return E===Rc?d(v,b,y.props.children,k,y.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Us&&nC(E)===b.type)?(k=a(b,y.props),k.ref=Vd(v,b,y),k.return=v,k):(k=d0(y.type,y.key,y.props,null,v.mode,k),k.ref=Vd(v,b,y),k.return=v,k)}function u(v,b,y,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Gy(y,v.mode,k),b.return=v,b):(b=a(b,y.children||[]),b.return=v,b)}function d(v,b,y,k,E){return b===null||b.tag!==7?(b=xl(y,v.mode,k,E),b.return=v,b):(b=a(b,y),b.return=v,b)}function f(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Wy(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ih:return y=d0(b.type,b.key,b.props,null,v.mode,y),y.ref=Vd(v,null,b),y.return=v,y;case Oc:return b=Gy(b,v.mode,y),b.return=v,b;case Us:var k=b._init;return f(v,k(b._payload),y)}if(cf(b)||$d(b))return b=xl(b,v.mode,y,null),b.return=v,b;gh(v,b)}return null}function p(v,b,y,k){var E=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(v,b,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ih:return y.key===E?c(v,b,y,k):null;case Oc:return y.key===E?u(v,b,y,k):null;case Us:return E=y._init,p(v,b,E(y._payload),k)}if(cf(y)||$d(y))return E!==null?null:d(v,b,y,k,null);gh(v,y)}return null}function m(v,b,y,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(y)||null,o(b,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ih:return v=v.get(k.key===null?y:k.key)||null,c(b,v,k,E);case Oc:return v=v.get(k.key===null?y:k.key)||null,u(b,v,k,E);case Us:var S=k._init;return m(v,b,y,S(k._payload),E)}if(cf(k)||$d(k))return v=v.get(y)||null,d(b,v,k,E,null);gh(b,k)}return null}function h(v,b,y,k){for(var E=null,S=null,w=b,j=b=0,T=null;w!==null&&j<y.length;j++){w.index>j?(T=w,w=null):T=w.sibling;var C=p(v,w,y[j],k);if(C===null){w===null&&(w=T);break}e&&w&&C.alternate===null&&t(v,w),b=i(C,b,j),S===null?E=C:S.sibling=C,S=C,w=T}if(j===y.length)return r(v,w),Yt&&Zo(v,j),E;if(w===null){for(;j<y.length;j++)w=f(v,y[j],k),w!==null&&(b=i(w,b,j),S===null?E=w:S.sibling=w,S=w);return Yt&&Zo(v,j),E}for(w=n(v,w);j<y.length;j++)T=m(w,v,j,y[j],k),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?E=T:S.sibling=T,S=T);return e&&w.forEach(function(A){return t(v,A)}),Yt&&Zo(v,j),E}function g(v,b,y,k){var E=$d(y);if(typeof E!="function")throw Error(Se(150));if(y=E.call(y),y==null)throw Error(Se(151));for(var S=E=null,w=b,j=b=0,T=null,C=y.next();w!==null&&!C.done;j++,C=y.next()){w.index>j?(T=w,w=null):T=w.sibling;var A=p(v,w,C.value,k);if(A===null){w===null&&(w=T);break}e&&w&&A.alternate===null&&t(v,w),b=i(A,b,j),S===null?E=A:S.sibling=A,S=A,w=T}if(C.done)return r(v,w),Yt&&Zo(v,j),E;if(w===null){for(;!C.done;j++,C=y.next())C=f(v,C.value,k),C!==null&&(b=i(C,b,j),S===null?E=C:S.sibling=C,S=C);return Yt&&Zo(v,j),E}for(w=n(v,w);!C.done;j++,C=y.next())C=m(w,v,j,C.value,k),C!==null&&(e&&C.alternate!==null&&w.delete(C.key===null?j:C.key),b=i(C,b,j),S===null?E=C:S.sibling=C,S=C);return e&&w.forEach(function(N){return t(v,N)}),Yt&&Zo(v,j),E}function x(v,b,y,k){if(typeof y=="object"&&y!==null&&y.type===Rc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ih:e:{for(var E=y.key,S=b;S!==null;){if(S.key===E){if(E=y.type,E===Rc){if(S.tag===7){r(v,S.sibling),b=a(S,y.props.children),b.return=v,v=b;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Us&&nC(E)===S.type){r(v,S.sibling),b=a(S,y.props),b.ref=Vd(v,S,y),b.return=v,v=b;break e}r(v,S);break}else t(v,S);S=S.sibling}y.type===Rc?(b=xl(y.props.children,v.mode,k,y.key),b.return=v,v=b):(k=d0(y.type,y.key,y.props,null,v.mode,k),k.ref=Vd(v,b,y),k.return=v,v=k)}return s(v);case Oc:e:{for(S=y.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(v,b.sibling),b=a(b,y.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Gy(y,v.mode,k),b.return=v,v=b}return s(v);case Us:return S=y._init,x(v,b,S(y._payload),k)}if(cf(y))return h(v,b,y,k);if($d(y))return g(v,b,y,k);gh(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,y),b.return=v,v=b):(r(v,b),b=Wy(y,v.mode,k),b.return=v,v=b),s(v)):r(v,b)}return x}var bu=w3(!0),S3=w3(!1),D0=Ao(null),F0=null,Uc=null,eE=null;function tE(){eE=Uc=F0=null}function rE(e){var t=D0.current;Wt(D0),e._currentValue=t}function G1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function eu(e,t){F0=e,eE=Uc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Un=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(eE!==e)if(e={context:e,memoizedValue:t,next:null},Uc===null){if(F0===null)throw Error(Se(308));Uc=e,F0.dependencies={lanes:0,firstContext:e}}else Uc=Uc.next=e;return t}var ll=null;function nE(e){ll===null?ll=[e]:ll.push(e)}function E3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,nE(t)):(r.next=a.next,a.next=r),t.interleaved=r,ms(e,n)}function ms(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qs=!1;function aE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ms(e,r)}return a=n.interleaved,a===null?(t.next=t,nE(n)):(t.next=a.next,a.next=t),n.interleaved=t,ms(e,r)}function i0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q2(e,r)}}function aC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function M0(e,t,r,n){var a=e.updateQueue;qs=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var p=o.lane,m=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(p=t,m=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=ir({},f,p);break e;case 2:qs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Al|=s,e.lanes=s,e.memoizedState=f}}function iC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Se(191,a));a.call(n)}}}var Sm={},ji=Ao(Sm),ip=Ao(Sm),sp=Ao(Sm);function cl(e){if(e===Sm)throw Error(Se(174));return e}function iE(e,t){switch(Lt(sp,t),Lt(ip,e),Lt(ji,Sm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C1(t,e)}Wt(ji),Lt(ji,t)}function wu(){Wt(ji),Wt(ip),Wt(sp)}function N3(e){cl(sp.current);var t=cl(ji.current),r=C1(t,e.type);t!==r&&(Lt(ip,e),Lt(ji,r))}function sE(e){ip.current===e&&(Wt(ji),Wt(ip))}var tr=Ao(0);function L0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var By=[];function oE(){for(var e=0;e<By.length;e++)By[e]._workInProgressVersionPrimary=null;By.length=0}var s0=_s.ReactCurrentDispatcher,zy=_s.ReactCurrentBatchConfig,jl=0,ar=null,Tr=null,Mr=null,$0=!1,Nf=!1,op=0,wq=0;function rn(){throw Error(Se(321))}function lE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mi(e[r],t[r]))return!1;return!0}function cE(e,t,r,n,a,i){if(jl=i,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s0.current=e===null||e.memoizedState===null?Nq:kq,e=r(n,a),Nf){i=0;do{if(Nf=!1,op=0,25<=i)throw Error(Se(301));i+=1,Mr=Tr=null,t.updateQueue=null,s0.current=Cq,e=r(n,a)}while(Nf)}if(s0.current=B0,t=Tr!==null&&Tr.next!==null,jl=0,Mr=Tr=ar=null,$0=!1,t)throw Error(Se(300));return e}function uE(){var e=op!==0;return op=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?ar.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Va(){if(Tr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Mr===null?ar.memoizedState:Mr.next;if(t!==null)Mr=t,Tr=e;else{if(e===null)throw Error(Se(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Mr===null?ar.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function lp(e,t){return typeof t=="function"?t(e):t}function Uy(e){var t=Va(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=Tr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((jl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,ar.lanes|=d,Al|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,mi(n,t.memoizedState)||(Un=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ar.lanes|=i,Al|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qy(e){var t=Va(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);mi(i,t.memoizedState)||(Un=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function k3(){}function C3(e,t){var r=ar,n=Va(),a=t(),i=!mi(n.memoizedState,a);if(i&&(n.memoizedState=a,Un=!0),n=n.queue,dE(A3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Mr!==null&&Mr.memoizedState.tag&1){if(r.flags|=2048,cp(9,j3.bind(null,r,n,a,t),void 0,null),zr===null)throw Error(Se(349));jl&30||T3(r,t,a)}return a}function T3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j3(e,t,r,n){t.value=r,t.getSnapshot=n,I3(t)&&P3(e)}function A3(e,t,r){return r(function(){I3(t)&&P3(e)})}function I3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mi(e,r)}catch{return!0}}function P3(e){var t=ms(e,1);t!==null&&li(t,e,1,-1)}function sC(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:e},t.queue=e,e=e.dispatch=_q.bind(null,ar,e),[t.memoizedState,e]}function cp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function O3(){return Va().memoizedState}function o0(e,t,r,n){var a=Ei();ar.flags|=e,a.memoizedState=cp(1|t,r,void 0,n===void 0?null:n)}function Rx(e,t,r,n){var a=Va();n=n===void 0?null:n;var i=void 0;if(Tr!==null){var s=Tr.memoizedState;if(i=s.destroy,n!==null&&lE(n,s.deps)){a.memoizedState=cp(t,r,i,n);return}}ar.flags|=e,a.memoizedState=cp(1|t,r,i,n)}function oC(e,t){return o0(8390656,8,e,t)}function dE(e,t){return Rx(2048,8,e,t)}function R3(e,t){return Rx(4,2,e,t)}function D3(e,t){return Rx(4,4,e,t)}function F3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M3(e,t,r){return r=r!=null?r.concat([e]):null,Rx(4,4,F3.bind(null,t,e),r)}function fE(){}function L3(e,t){var r=Va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $3(e,t){var r=Va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function B3(e,t,r){return jl&21?(mi(r,t)||(r=HR(),ar.lanes|=r,Al|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=r)}function Sq(e,t){var r=Et;Et=r!==0&&4>r?r:4,e(!0);var n=zy.transition;zy.transition={};try{e(!1),t()}finally{Et=r,zy.transition=n}}function z3(){return Va().memoizedState}function Eq(e,t,r){var n=po(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U3(e))q3(t,r);else if(r=E3(e,t,r,n),r!==null){var a=In();li(r,e,n,a),V3(r,t,n)}}function _q(e,t,r){var n=po(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U3(e))q3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,mi(o,s)){var c=t.interleaved;c===null?(a.next=a,nE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=E3(e,t,a,n),r!==null&&(a=In(),li(r,e,n,a),V3(r,t,n))}}function U3(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function q3(e,t){Nf=$0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function V3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q2(e,r)}}var B0={readContext:qa,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},Nq={readContext:qa,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:oC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,o0(4194308,4,F3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return o0(4194308,4,e,t)},useInsertionEffect:function(e,t){return o0(4,2,e,t)},useMemo:function(e,t){var r=Ei();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ei();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eq.bind(null,ar,e),[n.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:sC,useDebugValue:fE,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=sC(!1),t=e[0];return e=Sq.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ar,a=Ei();if(Yt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),zr===null)throw Error(Se(349));jl&30||T3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,oC(A3.bind(null,n,i,e),[e]),n.flags|=2048,cp(9,j3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ei(),t=zr.identifierPrefix;if(Yt){var r=Ji,n=Yi;r=(n&~(1<<32-oi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=op++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wq++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kq={readContext:qa,useCallback:L3,useContext:qa,useEffect:dE,useImperativeHandle:M3,useInsertionEffect:R3,useLayoutEffect:D3,useMemo:$3,useReducer:Uy,useRef:O3,useState:function(){return Uy(lp)},useDebugValue:fE,useDeferredValue:function(e){var t=Va();return B3(t,Tr.memoizedState,e)},useTransition:function(){var e=Uy(lp)[0],t=Va().memoizedState;return[e,t]},useMutableSource:k3,useSyncExternalStore:C3,useId:z3,unstable_isNewReconciler:!1},Cq={readContext:qa,useCallback:L3,useContext:qa,useEffect:dE,useImperativeHandle:M3,useInsertionEffect:R3,useLayoutEffect:D3,useMemo:$3,useReducer:qy,useRef:O3,useState:function(){return qy(lp)},useDebugValue:fE,useDeferredValue:function(e){var t=Va();return Tr===null?t.memoizedState=e:B3(t,Tr.memoizedState,e)},useTransition:function(){var e=qy(lp)[0],t=Va().memoizedState;return[e,t]},useMutableSource:k3,useSyncExternalStore:C3,useId:z3,unstable_isNewReconciler:!1};function Za(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function X1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ir({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dx={isMounted:function(e){return(e=e._reactInternals)?ec(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=In(),a=po(e),i=is(n,a);i.payload=t,r!=null&&(i.callback=r),t=uo(e,i,a),t!==null&&(li(t,e,a,n),i0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=In(),a=po(e),i=is(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=uo(e,i,a),t!==null&&(li(t,e,a,n),i0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=In(),n=po(e),a=is(r,n);a.tag=2,t!=null&&(a.callback=t),t=uo(e,a,n),t!==null&&(li(t,e,n,r),i0(t,e,n))}};function lC(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!tp(r,n)||!tp(a,i):!0}function H3(e,t,r){var n=!1,a=wo,i=t.contextType;return typeof i=="object"&&i!==null?i=qa(i):(a=Hn(t)?Cl:xn.current,n=t.contextTypes,i=(n=n!=null)?vu(e,a):wo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function cC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dx.enqueueReplaceState(t,t.state,null)}function K1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},aE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=qa(i):(i=Hn(t)?Cl:xn.current,a.context=vu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(X1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dx.enqueueReplaceState(a,a.state,null),M0(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Su(e,t){try{var r="",n=t;do r+=t9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Vy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Y1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tq=typeof WeakMap=="function"?WeakMap:Map;function W3(e,t,r){r=is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){U0||(U0=!0,sw=n),Y1(e,t)},r}function G3(e,t,r){r=is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Y1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Y1(e,t),typeof n!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function uC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Tq;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Uq.bind(null,e,t,r),t.then(e,e))}function dC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=is(-1,1),t.tag=2,uo(r,t,1))),r.lanes|=1),e)}var jq=_s.ReactCurrentOwner,Un=!1;function _n(e,t,r,n){t.child=e===null?S3(t,null,r,n):bu(t,e.child,r,n)}function pC(e,t,r,n,a){r=r.render;var i=t.ref;return eu(t,a),n=cE(e,t,r,n,i,a),r=uE(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(Yt&&r&&J2(t),t.flags|=1,_n(e,t,n,a),t.child)}function mC(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!bE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,X3(e,t,i,n,a)):(e=d0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:tp,r(s,n)&&e.ref===t.ref)return hs(e,t,a)}return t.flags|=1,e=mo(i,n),e.ref=t.ref,e.return=t,t.child=e}function X3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(tp(i,n)&&e.ref===t.ref)if(Un=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Un=!0);else return t.lanes=e.lanes,hs(e,t,a)}return J1(e,t,r,n,a)}function K3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Vc,aa),aa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lt(Vc,aa),aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Lt(Vc,aa),aa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Lt(Vc,aa),aa|=n;return _n(e,t,a,r),t.child}function Y3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function J1(e,t,r,n,a){var i=Hn(r)?Cl:xn.current;return i=vu(t,i),eu(t,a),r=cE(e,t,r,n,i,a),n=uE(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(Yt&&n&&J2(t),t.flags|=1,_n(e,t,r,a),t.child)}function hC(e,t,r,n,a){if(Hn(r)){var i=!0;P0(t)}else i=!1;if(eu(t,a),t.stateNode===null)l0(e,t),H3(t,r,n),K1(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=qa(u):(u=Hn(r)?Cl:xn.current,u=vu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&cC(t,s,n,u),qs=!1;var p=t.memoizedState;s.state=p,M0(t,n,s,a),c=t.memoizedState,o!==n||p!==c||Vn.current||qs?(typeof d=="function"&&(X1(t,r,d,n),c=t.memoizedState),(o=qs||lC(t,r,o,n,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,_3(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Za(t.type,o),s.props=u,f=t.pendingProps,p=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=qa(c):(c=Hn(r)?Cl:xn.current,c=vu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==c)&&cC(t,s,n,c),qs=!1,p=t.memoizedState,s.state=p,M0(t,n,s,a);var h=t.memoizedState;o!==f||p!==h||Vn.current||qs?(typeof m=="function"&&(X1(t,r,m,n),h=t.memoizedState),(u=qs||lC(t,r,u,n,p,h,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Q1(e,t,r,n,i,a)}function Q1(e,t,r,n,a,i){Y3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&eC(t,r,!1),hs(e,t,i);n=t.stateNode,jq.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=bu(t,e.child,null,i),t.child=bu(t,null,o,i)):_n(e,t,o,i),t.memoizedState=n.state,a&&eC(t,r,!0),t.child}function J3(e){var t=e.stateNode;t.pendingContext?Zk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zk(e,t.context,!1),iE(e,t.containerInfo)}function gC(e,t,r,n,a){return yu(),Z2(a),t.flags|=256,_n(e,t,r,n),t.child}var Z1={dehydrated:null,treeContext:null,retryLane:0};function ew(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q3(e,t,r){var n=t.pendingProps,a=tr.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Lt(tr,a&1),e===null)return W1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Lx(s,n,0,null),e=xl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ew(r),t.memoizedState=Z1,e):pE(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Aq(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=mo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mo(o,i):(i=xl(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?ew(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Z1,n}return i=e.child,e=i.sibling,n=mo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pE(e,t){return t=Lx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xh(e,t,r,n){return n!==null&&Z2(n),bu(t,e.child,null,r),e=pE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Aq(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Vy(Error(Se(422))),xh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Lx({mode:"visible",children:n.children},a,0,null),i=xl(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&bu(t,e.child,null,s),t.child.memoizedState=ew(s),t.memoizedState=Z1,i);if(!(t.mode&1))return xh(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Se(419)),n=Vy(i,n,void 0),xh(e,t,s,n)}if(o=(s&e.childLanes)!==0,Un||o){if(n=zr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ms(e,a),li(n,e,a,-1))}return yE(),n=Vy(Error(Se(421))),xh(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qq.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,pa=co(a.nextSibling),ha=t,Yt=!0,ri=null,e!==null&&(Da[Fa++]=Yi,Da[Fa++]=Ji,Da[Fa++]=Tl,Yi=e.id,Ji=e.overflow,Tl=t),t=pE(t,n.children),t.flags|=4096,t)}function xC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G1(e.return,t,r)}function Hy(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Z3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_n(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xC(e,r,t);else if(e.tag===19)xC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Lt(tr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&L0(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Hy(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&L0(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Hy(t,!0,r,null,i);break;case"together":Hy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Al|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=mo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Iq(e,t,r){switch(t.tag){case 3:J3(t),yu();break;case 5:N3(t);break;case 1:Hn(t.type)&&P0(t);break;case 4:iE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Lt(D0,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Lt(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?Q3(e,t,r):(Lt(tr,tr.current&1),e=hs(e,t,r),e!==null?e.sibling:null);Lt(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Z3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Lt(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,K3(e,t,r)}return hs(e,t,r)}var eD,tw,tD,rD;eD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tw=function(){};tD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,cl(ji.current);var i=null;switch(r){case"input":a=E1(e,a),n=E1(e,n),i=[];break;case"select":a=ir({},a,{value:void 0}),n=ir({},n,{value:void 0}),i=[];break;case"textarea":a=k1(e,a),n=k1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=A0)}T1(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ut("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};rD=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hd(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Pq(e,t,r){var n=t.pendingProps;switch(Q2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Hn(t.type)&&I0(),nn(t),null;case 3:return n=t.stateNode,wu(),Wt(Vn),Wt(xn),oE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ri!==null&&(cw(ri),ri=null))),tw(e,t),nn(t),null;case 5:sE(t);var a=cl(sp.current);if(r=t.type,e!==null&&t.stateNode!=null)tD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return nn(t),null}if(e=cl(ji.current),hh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ni]=t,n[ap]=i,e=(t.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<df.length;a++)Ut(df[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":kk(n,i),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",n);break;case"textarea":Tk(n,i),Ut("invalid",n)}T1(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&mh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&mh(n.textContent,o,e),a=["children",""+o]):Xf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ut("scroll",n)}switch(r){case"input":sh(n),Ck(n,i,!0);break;case"textarea":sh(n),jk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=A0)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ni]=t,e[ap]=n,eD(e,t,!1,!1),t.stateNode=e;e:{switch(s=j1(r,n),r){case"dialog":Ut("cancel",e),Ut("close",e),a=n;break;case"iframe":case"object":case"embed":Ut("load",e),a=n;break;case"video":case"audio":for(a=0;a<df.length;a++)Ut(df[a],e);a=n;break;case"source":Ut("error",e),a=n;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=n;break;case"details":Ut("toggle",e),a=n;break;case"input":kk(e,n),a=E1(e,n),Ut("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ir({},n,{value:void 0}),Ut("invalid",e);break;case"textarea":Tk(e,n),a=k1(e,n),Ut("invalid",e);break;default:a=n}T1(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?OR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kf(e,c):typeof c=="number"&&Kf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ut("scroll",e):c!=null&&M2(e,i,c,s))}switch(r){case"input":sh(e),Ck(e,n,!1);break;case"textarea":sh(e),jk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Yc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Yc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=A0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)rD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=cl(sp.current),cl(ji.current),hh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ni]=t,(i=n.nodeValue!==r)&&(e=ha,e!==null))switch(e.tag){case 3:mh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ni]=t,t.stateNode=n}return nn(t),null;case 13:if(Wt(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&pa!==null&&t.mode&1&&!(t.flags&128))b3(),yu(),t.flags|=98560,i=!1;else if(i=hh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[Ni]=t}else yu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else ri!==null&&(cw(ri),ri=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?Ar===0&&(Ar=3):yE())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return wu(),tw(e,t),e===null&&rp(t.stateNode.containerInfo),nn(t),null;case 10:return rE(t.type._context),nn(t),null;case 17:return Hn(t.type)&&I0(),nn(t),null;case 19:if(Wt(tr),i=t.memoizedState,i===null)return nn(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Hd(i,!1);else{if(Ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=L0(e),s!==null){for(t.flags|=128,Hd(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Lt(tr,tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&pr()>Eu&&(t.flags|=128,n=!0,Hd(i,!1),t.lanes=4194304)}else{if(!n)if(e=L0(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Yt)return nn(t),null}else 2*pr()-i.renderingStartTime>Eu&&r!==1073741824&&(t.flags|=128,n=!0,Hd(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pr(),t.sibling=null,r=tr.current,Lt(tr,n?r&1|2:r&1),t):(nn(t),null);case 22:case 23:return vE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?aa&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function Oq(e,t){switch(Q2(t),t.tag){case 1:return Hn(t.type)&&I0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wu(),Wt(Vn),Wt(xn),oE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sE(t),null;case 13:if(Wt(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));yu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(tr),null;case 4:return wu(),null;case 10:return rE(t.type._context),null;case 22:case 23:return vE(),null;case 24:return null;default:return null}}var vh=!1,cn=!1,Rq=typeof WeakSet=="function"?WeakSet:Set,De=null;function qc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){or(e,t,n)}else r.current=null}function rw(e,t,r){try{r()}catch(n){or(e,t,n)}}var vC=!1;function Dq(e,t){if($1=C0,e=o3(),Y2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===a&&(o=s),p===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(B1={focusedElem:e,selectionRange:r},C0=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,x=h.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Za(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(k){or(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return h=vC,vC=!1,h}function kf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&rw(t,r,i)}a=a.next}while(a!==n)}}function Fx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nD(e){var t=e.alternate;t!==null&&(e.alternate=null,nD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[ap],delete t[q1],delete t[xq],delete t[vq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aD(e){return e.tag===5||e.tag===3||e.tag===4}function yC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=A0));else if(n!==4&&(e=e.child,e!==null))for(aw(e,t,r),e=e.sibling;e!==null;)aw(e,t,r),e=e.sibling}function iw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(iw(e,t,r),e=e.sibling;e!==null;)iw(e,t,r),e=e.sibling}var Wr=null,ei=!1;function Ms(e,t,r){for(r=r.child;r!==null;)iD(e,t,r),r=r.sibling}function iD(e,t,r){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Tx,r)}catch{}switch(r.tag){case 5:cn||qc(r,t);case 6:var n=Wr,a=ei;Wr=null,Ms(e,t,r),Wr=n,ei=a,Wr!==null&&(ei?(e=Wr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wr.removeChild(r.stateNode));break;case 18:Wr!==null&&(ei?(e=Wr,r=r.stateNode,e.nodeType===8?Ly(e.parentNode,r):e.nodeType===1&&Ly(e,r),Zf(e)):Ly(Wr,r.stateNode));break;case 4:n=Wr,a=ei,Wr=r.stateNode.containerInfo,ei=!0,Ms(e,t,r),Wr=n,ei=a;break;case 0:case 11:case 14:case 15:if(!cn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&rw(r,t,s),a=a.next}while(a!==n)}Ms(e,t,r);break;case 1:if(!cn&&(qc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){or(r,t,o)}Ms(e,t,r);break;case 21:Ms(e,t,r);break;case 22:r.mode&1?(cn=(n=cn)||r.memoizedState!==null,Ms(e,t,r),cn=n):Ms(e,t,r);break;default:Ms(e,t,r)}}function bC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rq),t.forEach(function(n){var a=Vq.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ya(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Wr=o.stateNode,ei=!1;break e;case 3:Wr=o.stateNode.containerInfo,ei=!0;break e;case 4:Wr=o.stateNode.containerInfo,ei=!0;break e}o=o.return}if(Wr===null)throw Error(Se(160));iD(i,s,a),Wr=null,ei=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){or(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sD(t,e),t=t.sibling}function sD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ya(t,e),yi(e),n&4){try{kf(3,e,e.return),Fx(3,e)}catch(g){or(e,e.return,g)}try{kf(5,e,e.return)}catch(g){or(e,e.return,g)}}break;case 1:Ya(t,e),yi(e),n&512&&r!==null&&qc(r,r.return);break;case 5:if(Ya(t,e),yi(e),n&512&&r!==null&&qc(r,r.return),e.flags&32){var a=e.stateNode;try{Kf(a,"")}catch(g){or(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&TR(a,i),j1(o,s);var u=j1(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?OR(a,f):d==="dangerouslySetInnerHTML"?IR(a,f):d==="children"?Kf(a,f):M2(a,d,f,u)}switch(o){case"input":_1(a,i);break;case"textarea":jR(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yc(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Yc(a,!!i.multiple,i.defaultValue,!0):Yc(a,!!i.multiple,i.multiple?[]:"",!1))}a[ap]=i}catch(g){or(e,e.return,g)}}break;case 6:if(Ya(t,e),yi(e),n&4){if(e.stateNode===null)throw Error(Se(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){or(e,e.return,g)}}break;case 3:if(Ya(t,e),yi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zf(t.containerInfo)}catch(g){or(e,e.return,g)}break;case 4:Ya(t,e),yi(e);break;case 13:Ya(t,e),yi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(gE=pr())),n&4&&bC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(cn=(u=cn)||d,Ya(t,e),cn=u):Ya(t,e),yi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(p=De,m=p.child,p.tag){case 0:case 11:case 14:case 15:kf(4,p,p.return);break;case 1:qc(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){or(n,r,g)}}break;case 5:qc(p,p.return);break;case 22:if(p.memoizedState!==null){SC(f);continue}}m!==null?(m.return=p,De=m):SC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=PR("display",s))}catch(g){or(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){or(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ya(t,e),yi(e),n&4&&bC(e);break;case 21:break;default:Ya(t,e),yi(e)}}function yi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(aD(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Kf(a,""),n.flags&=-33);var i=yC(e);iw(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=yC(e);aw(e,o,s);break;default:throw Error(Se(161))}}catch(c){or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fq(e,t,r){De=e,oD(e)}function oD(e,t,r){for(var n=(e.mode&1)!==0;De!==null;){var a=De,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||vh;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||cn;o=vh;var u=cn;if(vh=s,(cn=c)&&!u)for(De=a;De!==null;)s=De,c=s.child,s.tag===22&&s.memoizedState!==null?EC(a):c!==null?(c.return=s,De=c):EC(a);for(;i!==null;)De=i,oD(i),i=i.sibling;De=a,vh=o,cn=u}wC(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,De=i):wC(e)}}function wC(e){for(;De!==null;){var t=De;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||Fx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Za(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iC(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iC(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}cn||t.flags&512&&nw(t)}catch(p){or(t,t.return,p)}}if(t===e){De=null;break}if(r=t.sibling,r!==null){r.return=t.return,De=r;break}De=t.return}}function SC(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var r=t.sibling;if(r!==null){r.return=t.return,De=r;break}De=t.return}}function EC(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fx(4,t)}catch(c){or(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){or(t,a,c)}}var i=t.return;try{nw(t)}catch(c){or(t,i,c)}break;case 5:var s=t.return;try{nw(t)}catch(c){or(t,s,c)}}}catch(c){or(t,t.return,c)}if(t===e){De=null;break}var o=t.sibling;if(o!==null){o.return=t.return,De=o;break}De=t.return}}var Mq=Math.ceil,z0=_s.ReactCurrentDispatcher,mE=_s.ReactCurrentOwner,Ba=_s.ReactCurrentBatchConfig,dt=0,zr=null,Er=null,Jr=0,aa=0,Vc=Ao(0),Ar=0,up=null,Al=0,Mx=0,hE=0,Cf=null,Bn=null,gE=0,Eu=1/0,Xi=null,U0=!1,sw=null,fo=null,yh=!1,to=null,q0=0,Tf=0,ow=null,c0=-1,u0=0;function In(){return dt&6?pr():c0!==-1?c0:c0=pr()}function po(e){return e.mode&1?dt&2&&Jr!==0?Jr&-Jr:bq.transition!==null?(u0===0&&(u0=HR()),u0):(e=Et,e!==0||(e=window.event,e=e===void 0?16:QR(e.type)),e):1}function li(e,t,r,n){if(50<Tf)throw Tf=0,ow=null,Error(Se(185));ym(e,r,n),(!(dt&2)||e!==zr)&&(e===zr&&(!(dt&2)&&(Mx|=r),Ar===4&&Ws(e,Jr)),Wn(e,n),r===1&&dt===0&&!(t.mode&1)&&(Eu=pr()+500,Ox&&Io()))}function Wn(e,t){var r=e.callbackNode;b9(e,t);var n=k0(e,e===zr?Jr:0);if(n===0)r!==null&&Pk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pk(r),t===1)e.tag===0?yq(_C.bind(null,e)):x3(_C.bind(null,e)),hq(function(){!(dt&6)&&Io()}),r=null;else{switch(WR(n)){case 1:r=U2;break;case 4:r=qR;break;case 16:r=N0;break;case 536870912:r=VR;break;default:r=N0}r=hD(r,lD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lD(e,t){if(c0=-1,u0=0,dt&6)throw Error(Se(327));var r=e.callbackNode;if(tu()&&e.callbackNode!==r)return null;var n=k0(e,e===zr?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=V0(e,n);else{t=n;var a=dt;dt|=2;var i=uD();(zr!==e||Jr!==t)&&(Xi=null,Eu=pr()+500,gl(e,t));do try{Bq();break}catch(o){cD(e,o)}while(!0);tE(),z0.current=i,dt=a,Er!==null?t=0:(zr=null,Jr=0,t=Ar)}if(t!==0){if(t===2&&(a=R1(e),a!==0&&(n=a,t=lw(e,a))),t===1)throw r=up,gl(e,0),Ws(e,n),Wn(e,pr()),r;if(t===6)Ws(e,n);else{if(a=e.current.alternate,!(n&30)&&!Lq(a)&&(t=V0(e,n),t===2&&(i=R1(e),i!==0&&(n=i,t=lw(e,i))),t===1))throw r=up,gl(e,0),Ws(e,n),Wn(e,pr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:el(e,Bn,Xi);break;case 3:if(Ws(e,n),(n&130023424)===n&&(t=gE+500-pr(),10<t)){if(k0(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){In(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=U1(el.bind(null,e,Bn,Xi),t);break}el(e,Bn,Xi);break;case 4:if(Ws(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-oi(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mq(n/1960))-n,10<n){e.timeoutHandle=U1(el.bind(null,e,Bn,Xi),n);break}el(e,Bn,Xi);break;case 5:el(e,Bn,Xi);break;default:throw Error(Se(329))}}}return Wn(e,pr()),e.callbackNode===r?lD.bind(null,e):null}function lw(e,t){var r=Cf;return e.current.memoizedState.isDehydrated&&(gl(e,t).flags|=256),e=V0(e,t),e!==2&&(t=Bn,Bn=r,t!==null&&cw(t)),e}function cw(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function Lq(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!mi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t){for(t&=~hE,t&=~Mx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oi(t),n=1<<r;e[r]=-1,t&=~n}}function _C(e){if(dt&6)throw Error(Se(327));tu();var t=k0(e,0);if(!(t&1))return Wn(e,pr()),null;var r=V0(e,t);if(e.tag!==0&&r===2){var n=R1(e);n!==0&&(t=n,r=lw(e,n))}if(r===1)throw r=up,gl(e,0),Ws(e,t),Wn(e,pr()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,el(e,Bn,Xi),Wn(e,pr()),null}function xE(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(Eu=pr()+500,Ox&&Io())}}function Il(e){to!==null&&to.tag===0&&!(dt&6)&&tu();var t=dt;dt|=1;var r=Ba.transition,n=Et;try{if(Ba.transition=null,Et=1,e)return e()}finally{Et=n,Ba.transition=r,dt=t,!(dt&6)&&Io()}}function vE(){aa=Vc.current,Wt(Vc)}function gl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mq(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(Q2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&I0();break;case 3:wu(),Wt(Vn),Wt(xn),oE();break;case 5:sE(n);break;case 4:wu();break;case 13:Wt(tr);break;case 19:Wt(tr);break;case 10:rE(n.type._context);break;case 22:case 23:vE()}r=r.return}if(zr=e,Er=e=mo(e.current,null),Jr=aa=t,Ar=0,up=null,hE=Mx=Al=0,Bn=Cf=null,ll!==null){for(t=0;t<ll.length;t++)if(r=ll[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}ll=null}return e}function cD(e,t){do{var r=Er;try{if(tE(),s0.current=B0,$0){for(var n=ar.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$0=!1}if(jl=0,Mr=Tr=ar=null,Nf=!1,op=0,mE.current=null,r===null||r.return===null){Ar=1,up=t,Er=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=Jr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=dC(s);if(m!==null){m.flags&=-257,fC(m,s,o,i,t),m.mode&1&&uC(i,u,t),t=m,c=u;var h=t.updateQueue;if(h===null){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}else{if(!(t&1)){uC(i,u,t),yE();break e}c=Error(Se(426))}}else if(Yt&&o.mode&1){var x=dC(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fC(x,s,o,i,t),Z2(Su(c,o));break e}}i=c=Su(c,o),Ar!==4&&(Ar=2),Cf===null?Cf=[i]:Cf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=W3(i,c,t);aC(i,v);break e;case 1:o=c;var b=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fo===null||!fo.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=G3(i,o,t);aC(i,k);break e}}i=i.return}while(i!==null)}fD(r)}catch(E){t=E,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function uD(){var e=z0.current;return z0.current=B0,e===null?B0:e}function yE(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),zr===null||!(Al&268435455)&&!(Mx&268435455)||Ws(zr,Jr)}function V0(e,t){var r=dt;dt|=2;var n=uD();(zr!==e||Jr!==t)&&(Xi=null,gl(e,t));do try{$q();break}catch(a){cD(e,a)}while(!0);if(tE(),dt=r,z0.current=n,Er!==null)throw Error(Se(261));return zr=null,Jr=0,Ar}function $q(){for(;Er!==null;)dD(Er)}function Bq(){for(;Er!==null&&!d9();)dD(Er)}function dD(e){var t=mD(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?fD(e):Er=t,mE.current=null}function fD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Oq(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ar=6,Er=null;return}}else if(r=Pq(r,t,aa),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Ar===0&&(Ar=5)}function el(e,t,r){var n=Et,a=Ba.transition;try{Ba.transition=null,Et=1,zq(e,t,r,n)}finally{Ba.transition=a,Et=n}return null}function zq(e,t,r,n){do tu();while(to!==null);if(dt&6)throw Error(Se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(w9(e,i),e===zr&&(Er=zr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yh||(yh=!0,hD(N0,function(){return tu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ba.transition,Ba.transition=null;var s=Et;Et=1;var o=dt;dt|=4,mE.current=null,Dq(e,r),sD(r,e),oq(B1),C0=!!$1,B1=$1=null,e.current=r,Fq(r),f9(),dt=o,Et=s,Ba.transition=i}else e.current=r;if(yh&&(yh=!1,to=e,q0=a),i=e.pendingLanes,i===0&&(fo=null),h9(r.stateNode),Wn(e,pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(U0)throw U0=!1,e=sw,sw=null,e;return q0&1&&e.tag!==0&&tu(),i=e.pendingLanes,i&1?e===ow?Tf++:(Tf=0,ow=e):Tf=0,Io(),null}function tu(){if(to!==null){var e=WR(q0),t=Ba.transition,r=Et;try{if(Ba.transition=null,Et=16>e?16:e,to===null)var n=!1;else{if(e=to,to=null,q0=0,dt&6)throw Error(Se(331));var a=dt;for(dt|=4,De=e.current;De!==null;){var i=De,s=i.child;if(De.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:kf(8,d,i)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var p=d.sibling,m=d.return;if(nD(d),d===u){De=null;break}if(p!==null){p.return=m,De=p;break}De=m}}}var h=i.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}De=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,De=s;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,De=v;break e}De=i.return}}var b=e.current;for(De=b;De!==null;){s=De;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,De=y;else e:for(s=b;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fx(9,o)}}catch(E){or(o,o.return,E)}if(o===s){De=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,De=k;break e}De=o.return}}if(dt=a,Io(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Tx,e)}catch{}n=!0}return n}finally{Et=r,Ba.transition=t}}return!1}function NC(e,t,r){t=Su(r,t),t=W3(e,t,1),e=uo(e,t,1),t=In(),e!==null&&(ym(e,1,t),Wn(e,t))}function or(e,t,r){if(e.tag===3)NC(e,e,r);else for(;t!==null;){if(t.tag===3){NC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fo===null||!fo.has(n))){e=Su(r,e),e=G3(t,e,1),t=uo(t,e,1),e=In(),t!==null&&(ym(t,1,e),Wn(t,e));break}}t=t.return}}function Uq(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&r,zr===e&&(Jr&r)===r&&(Ar===4||Ar===3&&(Jr&130023424)===Jr&&500>pr()-gE?gl(e,0):hE|=r),Wn(e,t)}function pD(e,t){t===0&&(e.mode&1?(t=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):t=1);var r=In();e=ms(e,t),e!==null&&(ym(e,t,r),Wn(e,r))}function qq(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pD(e,r)}function Vq(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),pD(e,r)}var mD;mD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Un=!1,Iq(e,t,r);Un=!!(e.flags&131072)}else Un=!1,Yt&&t.flags&1048576&&v3(t,R0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;l0(e,t),e=t.pendingProps;var a=vu(t,xn.current);eu(t,r),a=cE(null,t,n,e,a,r);var i=uE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(n)?(i=!0,P0(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,aE(t),a.updater=Dx,t.stateNode=a,a._reactInternals=t,K1(t,n,e,r),t=Q1(null,t,n,!0,i,r)):(t.tag=0,Yt&&i&&J2(t),_n(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(l0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Wq(n),e=Za(n,e),a){case 0:t=J1(null,t,n,e,r);break e;case 1:t=hC(null,t,n,e,r);break e;case 11:t=pC(null,t,n,e,r);break e;case 14:t=mC(null,t,n,Za(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Za(n,a),J1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Za(n,a),hC(e,t,n,a,r);case 3:e:{if(J3(t),e===null)throw Error(Se(387));n=t.pendingProps,i=t.memoizedState,a=i.element,_3(e,t),M0(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Su(Error(Se(423)),t),t=gC(e,t,n,r,a);break e}else if(n!==a){a=Su(Error(Se(424)),t),t=gC(e,t,n,r,a);break e}else for(pa=co(t.stateNode.containerInfo.firstChild),ha=t,Yt=!0,ri=null,r=S3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yu(),n===a){t=hs(e,t,r);break e}_n(e,t,n,r)}t=t.child}return t;case 5:return N3(t),e===null&&W1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,z1(n,a)?s=null:i!==null&&z1(n,i)&&(t.flags|=32),Y3(e,t),_n(e,t,s,r),t.child;case 6:return e===null&&W1(t),null;case 13:return Q3(e,t,r);case 4:return iE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bu(t,null,n,r):_n(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Za(n,a),pC(e,t,n,a,r);case 7:return _n(e,t,t.pendingProps,r),t.child;case 8:return _n(e,t,t.pendingProps.children,r),t.child;case 12:return _n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Lt(D0,n._currentValue),n._currentValue=s,i!==null)if(mi(i.value,s)){if(i.children===a.children&&!Vn.current){t=hs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=is(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),G1(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Se(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),G1(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}_n(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,eu(t,r),a=qa(a),n=n(a),t.flags|=1,_n(e,t,n,r),t.child;case 14:return n=t.type,a=Za(n,t.pendingProps),a=Za(n.type,a),mC(e,t,n,a,r);case 15:return X3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Za(n,a),l0(e,t),t.tag=1,Hn(n)?(e=!0,P0(t)):e=!1,eu(t,r),H3(t,n,a),K1(t,n,a,r),Q1(null,t,n,!0,e,r);case 19:return Z3(e,t,r);case 22:return K3(e,t,r)}throw Error(Se(156,t.tag))};function hD(e,t){return UR(e,t)}function Hq(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(e,t,r,n){return new Hq(e,t,r,n)}function bE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wq(e){if(typeof e=="function")return bE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$2)return 11;if(e===B2)return 14}return 2}function mo(e,t){var r=e.alternate;return r===null?(r=La(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function d0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")bE(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Rc:return xl(r.children,a,i,t);case L2:s=8,a|=8;break;case y1:return e=La(12,r,t,a|2),e.elementType=y1,e.lanes=i,e;case b1:return e=La(13,r,t,a),e.elementType=b1,e.lanes=i,e;case w1:return e=La(19,r,t,a),e.elementType=w1,e.lanes=i,e;case NR:return Lx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ER:s=10;break e;case _R:s=9;break e;case $2:s=11;break e;case B2:s=14;break e;case Us:s=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=La(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function xl(e,t,r,n){return e=La(7,e,n,t),e.lanes=r,e}function Lx(e,t,r,n){return e=La(22,e,n,t),e.elementType=NR,e.lanes=r,e.stateNode={isHidden:!1},e}function Wy(e,t,r){return e=La(6,e,null,t),e.lanes=r,e}function Gy(e,t,r){return t=La(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gq(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function wE(e,t,r,n,a,i,s,o,c){return e=new Gq(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=La(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},aE(i),e}function Xq(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gD(e){if(!e)return wo;e=e._reactInternals;e:{if(ec(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Hn(r))return g3(e,r,t)}return t}function xD(e,t,r,n,a,i,s,o,c){return e=wE(r,n,!0,e,a,i,s,o,c),e.context=gD(null),r=e.current,n=In(),a=po(r),i=is(n,a),i.callback=t??null,uo(r,i,a),e.current.lanes=a,ym(e,a,n),Wn(e,n),e}function $x(e,t,r,n){var a=t.current,i=In(),s=po(a);return r=gD(r),t.context===null?t.context=r:t.pendingContext=r,t=is(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=uo(a,t,s),e!==null&&(li(e,a,s,i),i0(e,a,s)),s}function H0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function SE(e,t){kC(e,t),(e=e.alternate)&&kC(e,t)}function Kq(){return null}var vD=typeof reportError=="function"?reportError:function(e){console.error(e)};function EE(e){this._internalRoot=e}Bx.prototype.render=EE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));$x(e,t,null,null)};Bx.prototype.unmount=EE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Il(function(){$x(null,e,null,null)}),t[ps]=null}};function Bx(e){this._internalRoot=e}Bx.prototype.unstable_scheduleHydration=function(e){if(e){var t=KR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hs.length&&t!==0&&t<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&JR(e)}};function _E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CC(){}function Yq(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=H0(s);i.call(u)}}var s=xD(t,n,e,0,null,!1,!1,"",CC);return e._reactRootContainer=s,e[ps]=s.current,rp(e.nodeType===8?e.parentNode:e),Il(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=H0(c);o.call(u)}}var c=wE(e,0,!1,null,null,!1,!1,"",CC);return e._reactRootContainer=c,e[ps]=c.current,rp(e.nodeType===8?e.parentNode:e),Il(function(){$x(t,c,r,n)}),c}function Ux(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=H0(s);o.call(c)}}$x(t,s,e,a)}else s=Yq(r,t,e,a,n);return H0(s)}GR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uf(t.pendingLanes);r!==0&&(q2(t,r|1),Wn(t,pr()),!(dt&6)&&(Eu=pr()+500,Io()))}break;case 13:Il(function(){var n=ms(e,1);if(n!==null){var a=In();li(n,e,1,a)}}),SE(e,1)}};V2=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var r=In();li(t,e,134217728,r)}SE(e,134217728)}};XR=function(e){if(e.tag===13){var t=po(e),r=ms(e,t);if(r!==null){var n=In();li(r,e,t,n)}SE(e,t)}};KR=function(){return Et};YR=function(e,t){var r=Et;try{return Et=e,t()}finally{Et=r}};I1=function(e,t,r){switch(t){case"input":if(_1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Px(n);if(!a)throw Error(Se(90));CR(n),_1(n,a)}}}break;case"textarea":jR(e,r);break;case"select":t=r.value,t!=null&&Yc(e,!!r.multiple,t,!1)}};FR=xE;MR=Il;var Jq={usingClientEntryPoint:!1,Events:[wm,Lc,Px,RR,DR,xE]},Wd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qq={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BR(e),e===null?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||Kq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Tx=bh.inject(Qq),Ti=bh}catch{}}ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jq;ba.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_E(t))throw Error(Se(200));return Xq(e,t,null,r)};ba.createRoot=function(e,t){if(!_E(e))throw Error(Se(299));var r=!1,n="",a=vD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=wE(e,1,!1,null,null,r,!1,n,a),e[ps]=t.current,rp(e.nodeType===8?e.parentNode:e),new EE(t)};ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=BR(t),e=e===null?null:e.stateNode,e};ba.flushSync=function(e){return Il(e)};ba.hydrate=function(e,t,r){if(!zx(t))throw Error(Se(200));return Ux(null,e,t,!0,r)};ba.hydrateRoot=function(e,t,r){if(!_E(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=vD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=xD(t,null,e,1,r??null,a,!1,i,s),e[ps]=t.current,rp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bx(t)};ba.render=function(e,t,r){if(!zx(t))throw Error(Se(200));return Ux(null,e,t,!1,r)};ba.unmountComponentAtNode=function(e){if(!zx(e))throw Error(Se(40));return e._reactRootContainer?(Il(function(){Ux(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};ba.unstable_batchedUpdates=xE;ba.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zx(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Ux(e,t,r,!1,n)};ba.version="18.3.1-next-f1338f8080-20240426";function yD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yD)}catch(e){console.error(e)}}yD(),yR.exports=ba;var Zq=yR.exports,bD,TC=Zq;bD=TC.createRoot,TC.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}var ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ro||(ro={}));const jC="popstate";function eV(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return uw("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:SD(a)}return rV(t,r,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tV(){return Math.random().toString(36).substr(2,8)}function AC(e,t){return{usr:e.state,key:e.key,idx:t}}function uw(e,t,r,n){return r===void 0&&(r=null),dp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?id(t):t,{state:r,key:t&&t.key||n||tV()})}function SD(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function id(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function rV(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=ro.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(dp({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=ro.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:g.location,delta:v})}function p(x,v){o=ro.Push;let b=uw(g.location,x,v);u=d()+1;let y=AC(b,u),k=g.createHref(b);try{s.pushState(y,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(k)}i&&c&&c({action:o,location:g.location,delta:1})}function m(x,v){o=ro.Replace;let b=uw(g.location,x,v);u=d();let y=AC(b,u),k=g.createHref(b);s.replaceState(y,"",k),i&&c&&c({action:o,location:g.location,delta:0})}function h(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:SD(x);return b=b.replace(/ $/,"%20"),_r(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(jC,f),c=x,()=>{a.removeEventListener(jC,f),c=null}},createHref(x){return t(a,x)},createURL:h,encodeLocation(x){let v=h(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(x){return s.go(x)}};return g}var IC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IC||(IC={}));function nV(e,t,r){return r===void 0&&(r="/"),aV(e,t,r,!1)}function aV(e,t,r,n){let a=typeof t=="string"?id(t):t,i=ND(a.pathname||"/",r);if(i==null)return null;let s=ED(e);iV(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=gV(i);o=mV(s[c],u,n)}return o}function ED(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(_r(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(_r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ED(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:fV(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of _D(i.path))a(i,s,c)}),t}function _D(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=_D(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function iV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sV=/^:[\w-]+$/,oV=3,lV=2,cV=1,uV=10,dV=-2,PC=e=>e==="*";function fV(e,t){let r=e.split("/"),n=r.length;return r.some(PC)&&(n+=dV),t&&(n+=lV),r.filter(a=>!PC(a)).reduce((a,i)=>a+(sV.test(i)?oV:i===""?cV:uV),n)}function pV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function mV(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=OC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=OC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:vl([i,f.pathname]),pathnameBase:bV(vl([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=vl([i,f.pathnameBase]))}return s}function OC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hV(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=o[f];return m&&!h?u[p]=void 0:u[p]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function hV(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function gV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ND(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xV(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?id(e):e;return{pathname:r?r.startsWith("/")?r:vV(r,t):t,search:wV(n),hash:SV(a)}}function vV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xy(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kD(e,t){let r=yV(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function CD(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=id(e):(a=dp({},e),_r(!a.pathname||!a.pathname.includes("?"),Xy("?","pathname","search",a)),_r(!a.pathname||!a.pathname.includes("#"),Xy("#","pathname","hash",a)),_r(!a.search||!a.search.includes("#"),Xy("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=xV(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vl=e=>e.join("/").replace(/\/\/+/g,"/"),bV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TD=["post","put","patch","delete"];new Set(TD);const _V=["get",...TD];new Set(_V);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}const NE=_.createContext(null),NV=_.createContext(null),Em=_.createContext(null),qx=_.createContext(null),Po=_.createContext({outlet:null,matches:[],isDataRoute:!1}),jD=_.createContext(null);function _m(){return _.useContext(qx)!=null}function kE(){return _m()||_r(!1),_.useContext(qx).location}function AD(e){_.useContext(Em).static||_.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=_.useContext(Po);return e?LV():kV()}function kV(){_m()||_r(!1);let e=_.useContext(NE),{basename:t,future:r,navigator:n}=_.useContext(Em),{matches:a}=_.useContext(Po),{pathname:i}=kE(),s=JSON.stringify(kD(a,r.v7_relativeSplatPath)),o=_.useRef(!1);return AD(()=>{o.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=CD(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function ID(){let{matches:e}=_.useContext(Po),t=e[e.length-1];return t?t.params:{}}function CV(e,t){return TV(e,t)}function TV(e,t,r,n){_m()||_r(!1);let{navigator:a}=_.useContext(Em),{matches:i}=_.useContext(Po),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=kE(),d;if(t){var f;let x=typeof t=="string"?id(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||_r(!1),d=x}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let h=nV(e,{pathname:m}),g=OV(h&&h.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:vl([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:vl([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?_.createElement(qx.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ro.Pop}},g):g}function jV(){let e=MV(),t=EV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const AV=_.createElement(jV,null);class IV extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Po.Provider,{value:this.props.routeContext},_.createElement(jD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PV(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(NE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Po.Provider,{value:t},n)}function OV(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_r(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=r,h=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let m,h=!1,g=null,x=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||AV,c&&(u<0&&p===0?(h=!0,x=null):u===p&&(h=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),b=()=>{let y;return m?y=g:h?y=x:f.route.Component?y=_.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,_.createElement(PV,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(IV,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var PD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PD||{}),W0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(W0||{});function RV(e){let t=_.useContext(NE);return t||_r(!1),t}function DV(e){let t=_.useContext(NV);return t||_r(!1),t}function FV(e){let t=_.useContext(Po);return t||_r(!1),t}function OD(e){let t=FV(),r=t.matches[t.matches.length-1];return r.route.id||_r(!1),r.route.id}function MV(){var e;let t=_.useContext(jD),r=DV(W0.UseRouteError),n=OD(W0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LV(){let{router:e}=RV(PD.UseNavigateStable),t=OD(W0.UseNavigateStable),r=_.useRef(!1);return AD(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,fp({fromRouteId:t},i)))},[e,t])}const RC={};function $V(e,t){RC[t]||(RC[t]=!0,console.warn(t))}const DC=(e,t,r)=>$V(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function BV(e,t){e!=null&&e.v7_startTransition||DC("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&DC("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function jf(e){let{to:t,replace:r,state:n,relative:a}=e;_m()||_r(!1);let{future:i,static:s}=_.useContext(Em),{matches:o}=_.useContext(Po),{pathname:c}=kE(),u=Qt(),d=CD(t,kD(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function sr(e){_r(!1)}function zV(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ro.Pop,navigator:i,static:s=!1,future:o}=e;_m()&&_r(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:s,future:fp({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=id(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:h="default"}=n,g=_.useMemo(()=>{let x=ND(d,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:h},navigationType:a}},[c,d,f,p,m,h,a]);return g==null?null:_.createElement(Em.Provider,{value:u},_.createElement(qx.Provider,{children:r,value:g}))}function UV(e){let{children:t,location:r}=e;return CV(dw(t),r)}new Promise(()=>{});function dw(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let i=[...t,a];if(n.type===_.Fragment){r.push.apply(r,dw(n.props.children,i));return}n.type!==sr&&_r(!1),!n.props.index||!n.props.children||_r(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=dw(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qV="6";try{window.__reactRouterVersion=qV}catch{}const VV="startTransition",FC=U7[VV];function HV(e){let{basename:t,children:r,future:n,window:a}=e,i=_.useRef();i.current==null&&(i.current=eV({window:a,v5Compat:!0}));let s=i.current,[o,c]=_.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&FC?FC(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.useEffect(()=>BV(n),[n]),_.createElement(zV,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}var MC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MC||(MC={}));var LC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(LC||(LC={}));const RD=_.createContext(void 0),WV=({children:e})=>{const[t,r]=_.useState(null);_.useEffect(()=>{const i=sessionStorage.getItem("selectedClient");i&&r(JSON.parse(i))},[]),_.useEffect(()=>{t?sessionStorage.setItem("selectedClient",JSON.stringify(t)):sessionStorage.removeItem("selectedClient")},[t]);const n=i=>{r(s=>s?{...s,...i}:i)},a=()=>r(null);return l.jsx(RD.Provider,{value:{selectedClient:t,selectClient:n,deselectClient:a},children:e})},GV=()=>{};var $C={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},XV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],c=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},FD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,d=i>>2,f=(i&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;c||(m=64,s||(p=64)),n.push(r[d],r[f],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(DD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||u==null||f==null)throw new KV;const p=i<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const h=u<<6&192|f;n.push(h)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YV=function(e){const t=DD(e);return FD.encodeByteArray(t,!0)},MD=function(e){return YV(e).replace(/\./g,"")},LD=function(e){try{return FD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=()=>JV().__FIREBASE_DEFAULTS__,ZV=()=>{if(typeof process>"u"||typeof $C>"u")return;const e=$C.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},eH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LD(e[1]);return t&&JSON.parse(t)},CE=()=>{try{return GV()||QV()||ZV()||eH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tH=e=>{var t,r;return(r=(t=CE())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},$D=()=>{var e;return(e=CE())===null||e===void 0?void 0:e.config},BD=e=>{var t;return(t=CE())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function aH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function sH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oH(){const e=On();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lH(){try{return typeof indexedDB=="object"}catch{return!1}}function cH(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="FirebaseError";class Ns extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=uH,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?dH(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Ns(a,o,n)}}function dH(e,t){return e.replace(fH,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const fH=/\{\$([^}]+)}/g;function pH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _u(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(BC(i)&&BC(s)){if(!_u(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function BC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ff(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function pf(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function mH(e,t){const r=new hH(e,t);return r.subscribe.bind(r)}class hH{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");gH(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=Ky),a.error===void 0&&(a.error=Ky),a.complete===void 0&&(a.complete=Ky);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gH(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Ky(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e){return e&&e._delegate?e._delegate:e}class Pl{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new rH;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yH(t))try{this.getOrInitializeService({instanceIdentifier:tl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=tl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tl){return this.instances.has(t)}getOptions(t=tl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vH(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=tl){return this.component?this.component.multipleInstances?t:tl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vH(e){return e===tl?void 0:e}function yH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new xH(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const wH={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},SH=Pt.INFO,EH={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},_H=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=EH[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TE{constructor(t){this.name=t,this._logLevel=SH,this._logHandler=_H,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const NH=(e,t)=>t.some(r=>e instanceof r);let zC,UC;function kH(){return zC||(zC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CH(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zD=new WeakMap,fw=new WeakMap,UD=new WeakMap,Yy=new WeakMap,jE=new WeakMap;function TH(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(ho(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&zD.set(r,e)}).catch(()=>{}),jE.set(t,e),t}function jH(e){if(fw.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});fw.set(e,t)}let pw={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return fw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UD.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ho(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function AH(e){pw=e(pw)}function IH(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Jy(this),t,...r);return UD.set(n,t.sort?t.sort():[t]),ho(n)}:CH().includes(e)?function(...t){return e.apply(Jy(this),t),ho(zD.get(this))}:function(...t){return ho(e.apply(Jy(this),t))}}function PH(e){return typeof e=="function"?IH(e):(e instanceof IDBTransaction&&jH(e),NH(e,kH())?new Proxy(e,pw):e)}function ho(e){if(e instanceof IDBRequest)return TH(e);if(Yy.has(e))return Yy.get(e);const t=PH(e);return t!==e&&(Yy.set(e,t),jE.set(t,e)),t}const Jy=e=>jE.get(e);function OH(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=ho(s);return n&&s.addEventListener("upgradeneeded",c=>{n(ho(s.result),c.oldVersion,c.newVersion,ho(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const RH=["get","getKey","getAll","getAllKeys","count"],DH=["put","add","delete","clear"],Qy=new Map;function qC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qy.get(t))return Qy.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=DH.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||RH.includes(r)))return;const i=async function(s,...o){const c=this.transaction(s,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&c.done]))[0]};return Qy.set(t,i),i}AH(e=>({...e,get:(t,r,n)=>qC(t,r)||e.get(t,r,n),has:(t,r)=>!!qC(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(MH(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function MH(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mw="@firebase/app",VC="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new TE("@firebase/app"),LH="@firebase/app-compat",$H="@firebase/analytics-compat",BH="@firebase/analytics",zH="@firebase/app-check-compat",UH="@firebase/app-check",qH="@firebase/auth",VH="@firebase/auth-compat",HH="@firebase/database",WH="@firebase/data-connect",GH="@firebase/database-compat",XH="@firebase/functions",KH="@firebase/functions-compat",YH="@firebase/installations",JH="@firebase/installations-compat",QH="@firebase/messaging",ZH="@firebase/messaging-compat",eW="@firebase/performance",tW="@firebase/performance-compat",rW="@firebase/remote-config",nW="@firebase/remote-config-compat",aW="@firebase/storage",iW="@firebase/storage-compat",sW="@firebase/firestore",oW="@firebase/vertexai",lW="@firebase/firestore-compat",cW="firebase",uW="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="[DEFAULT]",dW={[mw]:"fire-core",[LH]:"fire-core-compat",[BH]:"fire-analytics",[$H]:"fire-analytics-compat",[UH]:"fire-app-check",[zH]:"fire-app-check-compat",[qH]:"fire-auth",[VH]:"fire-auth-compat",[HH]:"fire-rtdb",[WH]:"fire-data-connect",[GH]:"fire-rtdb-compat",[XH]:"fire-fn",[KH]:"fire-fn-compat",[YH]:"fire-iid",[JH]:"fire-iid-compat",[QH]:"fire-fcm",[ZH]:"fire-fcm-compat",[eW]:"fire-perf",[tW]:"fire-perf-compat",[rW]:"fire-rc",[nW]:"fire-rc-compat",[aW]:"fire-gcs",[iW]:"fire-gcs-compat",[sW]:"fire-fst",[lW]:"fire-fst-compat",[oW]:"fire-vertex","fire-js":"fire-js",[cW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new Map,fW=new Map,hw=new Map;function HC(e,t){try{e.container.addComponent(t)}catch(r){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Nu(e){const t=e.name;if(hw.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;hw.set(t,e);for(const r of pp.values())HC(r,e);for(const r of fW.values())HC(r,e);return!0}function Vx(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function pW(e,t,r=G0){Vx(e,t).clearInstance(r)}function ca(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new Nm("app","Firebase",mW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=uW;function qD(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:G0,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw go.create("bad-app-name",{appName:String(a)});if(r||(r=$D()),!r)throw go.create("no-options");const i=pp.get(a);if(i){if(_u(r,i.options)&&_u(n,i.config))return i;throw go.create("duplicate-app",{appName:a})}const s=new bH(a);for(const c of hw.values())s.addComponent(c);const o=new hW(r,n,s);return pp.set(a,o),o}function gw(e=G0){const t=pp.get(e);if(!t&&e===G0&&$D())return qD();if(!t)throw go.create("no-app",{appName:e});return t}function WC(){return Array.from(pp.values())}function xo(e,t,r){var n;let a=(n=dW[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(o.join(" "));return}Nu(new Pl(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW="firebase-heartbeat-database",xW=1,mp="firebase-heartbeat-store";let Zy=null;function VD(){return Zy||(Zy=OH(gW,xW,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mp)}catch(r){console.warn(r)}}}}).catch(e=>{throw go.create("idb-open",{originalErrorMessage:e.message})})),Zy}async function vW(e){try{const r=(await VD()).transaction(mp),n=await r.objectStore(mp).get(HD(e));return await r.done,n}catch(t){if(t instanceof Ns)gs.warn(t.message);else{const r=go.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gs.warn(r.message)}}}async function GC(e,t){try{const n=(await VD()).transaction(mp,"readwrite");await n.objectStore(mp).put(t,HD(e)),await n.done}catch(r){if(r instanceof Ns)gs.warn(r.message);else{const n=go.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gs.warn(n.message)}}}function HD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=1024,bW=30;class wW{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EW(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>bW){const s=_W(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){gs.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=XC(),{heartbeatsToSend:n,unsentEntries:a}=SW(this._heartbeatsCache.heartbeats),i=MD(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return gs.warn(r),""}}}function XC(){return new Date().toISOString().substring(0,10)}function SW(e,t=yW){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),KC(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),KC(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class EW{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lH()?cH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vW(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return GC(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return GC(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function KC(e){return MD(JSON.stringify({version:2,heartbeats:e})).length}function _W(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(e){Nu(new Pl("platform-logger",t=>new FH(t),"PRIVATE")),Nu(new Pl("heartbeat",t=>new wW(t),"PRIVATE")),xo(mw,VC,e),xo(mw,VC,"esm2017"),xo("fire-js","")}NW("");function AE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function WD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kW=WD,GD=new Nm("auth","Firebase",WD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new TE("@firebase/auth");function CW(e,...t){X0.logLevel<=Pt.WARN&&X0.warn(`Auth (${sd}): ${e}`,...t)}function f0(e,...t){X0.logLevel<=Pt.ERROR&&X0.error(`Auth (${sd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e,...t){throw IE(e,...t)}function Ai(e,...t){return IE(e,...t)}function XD(e,t,r){const n=Object.assign(Object.assign({},kW()),{[t]:r});return new Nm("auth","Firebase",n).create(t,{appName:e.name})}function Ii(e){return XD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IE(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return GD.create(e,...t)}function He(e,t,...r){if(!e)throw IE(t,...r)}function Qi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f0(t),new Error(t)}function xs(e,t){e||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function TW(){return YC()==="http:"||YC()==="https:"}function YC(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TW()||iH()||"connection"in navigator)?navigator.onLine:!0}function AW(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,r){this.shortDelay=t,this.longDelay=r,xs(r>t,"Short delay should be less than long delay!"),this.isMobile=nH()||sH()}get(){return jW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t){xs(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=new Cm(3e4,6e4);function ks(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Cs(e,t,r,n,a={}){return YD(e,a,async()=>{let i={},s={};n&&(t==="GET"?s=n:i={body:JSON.stringify(n)});const o=km(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},i);return aH()||(u.referrerPolicy="no-referrer"),KD.fetch()(JD(e,e.config.apiHost,r,o),u)})}async function YD(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},IW),t);try{const a=new RW(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw wh(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw wh(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw wh(e,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XD(e,d,u);hi(e,d)}}catch(a){if(a instanceof Ns)throw a;hi(e,"network-request-failed",{message:String(a)})}}async function od(e,t,r,n,a={}){const i=await Cs(e,t,r,n,a);return"mfaPendingCredential"in i&&hi(e,"multi-factor-auth-required",{_serverResponse:i}),i}function JD(e,t,r,n){const a=`${t}${r}?${n}`;return e.config.emulator?PE(e.config,a):`${e.config.apiScheme}://${a}`}function OW(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ai(this.auth,"network-request-failed")),PW.get())})}}function wh(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Ai(e,t,n);return a.customData._tokenResponse=r,a}function JC(e){return e!==void 0&&e.enterprise!==void 0}class DW{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return OW(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FW(e,t){return Cs(e,"GET","/v2/recaptchaConfig",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(e,t){return Cs(e,"POST","/v1/accounts:delete",t)}async function QD(e,t){return Cs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LW(e,t=!1){const r=$i(e),n=await r.getIdToken(t),a=OE(n);He(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:Af(eb(a.auth_time)),issuedAtTime:Af(eb(a.iat)),expirationTime:Af(eb(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function eb(e){return Number(e)*1e3}function OE(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return f0("JWT malformed, contained fewer than 3 sections"),null;try{const a=LD(r);return a?JSON.parse(a):(f0("Failed to decode base64 JWT payload"),null)}catch(a){return f0("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QC(e){const t=OE(e);return He(t,"internal-error"),He(typeof t.exp<"u","internal-error"),He(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Ns&&$W(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function $W({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Af(this.lastLoginAt),this.creationTime=Af(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(e){var t;const r=e.auth,n=await e.getIdToken(),a=await ku(e,QD(r,{idToken:n}));He(a==null?void 0:a.users.length,r,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const s=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?ZD(i.providerUserInfo):[],o=UW(e.providerData,s),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function zW(e){const t=$i(e);await K0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UW(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function ZD(e){return e.map(t=>{var{providerId:r}=t,n=AE(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(e,t){const r=await YD(e,{},async()=>{const n=km({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,s=JD(e,a,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",KD.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VW(e,t){return Cs(e,"POST","/v2/accounts:revokeToken",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){He(t.idToken,"internal-error"),He(typeof t.idToken<"u","internal-error"),He(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):QC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){He(t.length!==0,"internal-error");const r=QC(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await qW(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new ru;return n&&(He(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),a&&(He(typeof a=="string","internal-error",{appName:t}),s.accessToken=a),i&&(He(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ru,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e,t){He(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Zi{constructor(t){var{uid:r,auth:n,stsTokenManager:a}=t,i=AE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await ku(this,this.stsTokenManager.getToken(this.auth,t));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return LW(this,t)}reload(){return zW(this)}_assign(t){this!==t&&(He(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await K0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ca(this.auth.app))return Promise.reject(Ii(this.auth));const t=await this.getIdToken();return await ku(this,MW(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,a,i,s,o,c,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(a=r.email)!==null&&a!==void 0?a:void 0,m=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,h=(s=r.photoURL)!==null&&s!==void 0?s:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,x=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:k,isAnonymous:E,providerData:S,stsTokenManager:w}=r;He(y&&w,t,"internal-error");const j=ru.fromJSON(this.name,w);He(typeof y=="string",t,"internal-error"),Ls(f,t.name),Ls(p,t.name),He(typeof k=="boolean",t,"internal-error"),He(typeof E=="boolean",t,"internal-error"),Ls(m,t.name),Ls(h,t.name),Ls(g,t.name),Ls(x,t.name),Ls(v,t.name),Ls(b,t.name);const T=new Zi({uid:y,auth:t,email:p,emailVerified:k,displayName:f,isAnonymous:E,photoURL:h,phoneNumber:m,tenantId:g,stsTokenManager:j,createdAt:v,lastLoginAt:b});return S&&Array.isArray(S)&&(T.providerData=S.map(C=>Object.assign({},C))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(t,r,n=!1){const a=new ru;a.updateFromServerResponse(r);const i=new Zi({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await K0(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];He(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?ZD(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new ru;o.updateFromIdToken(n);const c=new Zi({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new vw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Map;function es(e){xs(e instanceof Function,"Expected a class definition");let t=ZC.get(e);return t?(xs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ZC.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}e5.type="NONE";const eT=e5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e,t,r){return`firebase:${e}:${t}:${r}`}class nu{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=p0(this.userKey,a.apiKey,i),this.fullPersistenceKey=p0("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new nu(es(eT),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=a[0]||es(eT);const s=p0(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){const f=Zi._fromJSON(t,d);u!==i&&(o=f),i=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new nu(i,t,n):(i=c[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(s)}catch{}})),new nu(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(a5(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t5(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s5(t))return"Blackberry";if(o5(t))return"Webos";if(r5(t))return"Safari";if((t.includes("chrome/")||n5(t))&&!t.includes("edge/"))return"Chrome";if(i5(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function t5(e=On()){return/firefox\//i.test(e)}function r5(e=On()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n5(e=On()){return/crios\//i.test(e)}function a5(e=On()){return/iemobile/i.test(e)}function i5(e=On()){return/android/i.test(e)}function s5(e=On()){return/blackberry/i.test(e)}function o5(e=On()){return/webos/i.test(e)}function RE(e=On()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function HW(e=On()){var t;return RE(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WW(){return oH()&&document.documentMode===10}function l5(e=On()){return RE(e)||i5(e)||o5(e)||s5(e)||/windows phone/i.test(e)||a5(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e,t=[]){let r;switch(e){case"Browser":r=tT(On());break;case"Worker":r=`${tT(On())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${sd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((s,o)=>{try{const c=t(i);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(e,t={}){return Cs(e,"GET","/v2/passwordPolicy",ks(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=6;class YW{constructor(t){var r,n,a,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:KW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,a,i,s,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new GW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=es(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await nu.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await QD(this,{idToken:t}),n=await Zi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(ca(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=a==null?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===o)&&(c!=null&&c.user)&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await K0(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AW()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ca(this.app))return Promise.reject(Ii(this));const r=t?$i(t):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&He(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ca(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ca(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XW(this),r=new YW(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nm("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VW(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&es(t)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[es(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,a);return()=>{s=!0,c()}}else{const c=t.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=c5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var t;if(ca(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&CW(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Oo(e){return $i(e)}class rT{constructor(t){this.auth=t,this.observer=null,this.addObserver=mH(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QW(e){Hx=e}function u5(e){return Hx.loadJS(e)}function ZW(){return Hx.recaptchaEnterpriseScript}function eG(){return Hx.gapiScript}function tG(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class rG{constructor(){this.enterprise=new nG}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class nG{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const aG="recaptcha-enterprise",d5="NO_RECAPTCHA";class iG{constructor(t){this.type=aG,this.auth=Oo(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{FW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new DW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function a(i,s,o){const c=window.grecaptcha;JC(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{s(u)}).catch(()=>{s(d5)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rG().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&JC(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ZW();c.length!==0&&(c+=o),u5(c).then(()=>{a(o,i,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function nT(e,t,r,n=!1,a=!1){const i=new iG(e);let s;if(a)s=d5;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yw(e,t,r,n,a){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nT(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nT(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(e,t){const r=Vx(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(_u(i,t??{}))return a;hi(a,"already-initialized")}return r.initialize({options:t})}function oG(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(es);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function lG(e,t,r){const n=Oo(e);He(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=f5(t),{host:s,port:o}=cG(t),c=o===null?"":`:${o}`,u={url:`${i}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(_u(u,n.config.emulator)&&_u(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,uG()}function f5(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cG(e){const t=f5(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:aT(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:aT(s)}}}function aT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function uG(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,r){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function dG(e,t){return Cs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fG(e,t){return od(e,"POST","/v1/accounts:signInWithPassword",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(e,t){return od(e,"POST","/v1/accounts:signInWithEmailLink",ks(e,t))}async function mG(e,t){return od(e,"POST","/v1/accounts:signInWithEmailLink",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends DE{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new hp(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new hp(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(t,r,"signInWithPassword",fG);case"emailLink":return pG(t,{email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(t,n,"signUpPassword",dG);case"emailLink":return mG(t,{idToken:r,email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(e,t){return od(e,"POST","/v1/accounts:signInWithIdp",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="http://localhost";class Ol extends DE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Ol(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):hi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a}=r,i=AE(r,["providerId","signInMethod"]);if(!n||!a)return null;const s=new Ol(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return au(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,au(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,au(t,r)}buildRequest(){const t={requestUri:hG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=km(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xG(e){const t=ff(pf(e)).link,r=t?ff(pf(t)).deep_link_id:null,n=ff(pf(e)).deep_link_id;return(n?ff(pf(n)).link:null)||n||r||t||e}class FE{constructor(t){var r,n,a,i,s,o;const c=ff(pf(t)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,f=gG((a=c.mode)!==null&&a!==void 0?a:null);He(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const r=xG(t);try{return new FE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.providerId=ld.PROVIDER_ID}static credential(t,r){return hp._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=FE.parseLink(r);return He(n,"argument-error"),hp._fromEmailAndCode(t,n.code,n.tenantId)}}ld.PROVIDER_ID="password";ld.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ld.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends p5{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Tm{constructor(){super("facebook.com")}static credential(t){return Ol._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Tm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ol._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Xs.credential(r,n)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Tm{constructor(){super("github.com")}static credential(t){return Ol._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Tm{constructor(){super("twitter.com")}static credential(t,r){return Ol._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ys.credential(r,n)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(e,t){return od(e,"POST","/v1/accounts:signUp",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await Zi._fromIdTokenResponse(t,n,a),s=iT(n);return new So({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=iT(n);return new So({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function iT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends Ns{constructor(t,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Y0.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new Y0(t,r,n,a)}}function m5(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Y0._fromErrorAndOperation(e,i,t,n):i})}async function yG(e,t,r=!1){const n=await ku(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return So._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(e,t,r=!1){const{auth:n}=e;if(ca(n.app))return Promise.reject(Ii(n));const a="reauthenticate";try{const i=await ku(e,m5(n,a,t,e),r);He(i.idToken,n,"internal-error");const s=OE(i.idToken);He(s,n,"internal-error");const{sub:o}=s;return He(e.uid===o,n,"user-mismatch"),So._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(e,t,r=!1){if(ca(e.app))return Promise.reject(Ii(e));const n="signIn",a=await m5(e,n,t),i=await So._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function wG(e,t){return h5(Oo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(e,t){return od(e,"POST","/v1/accounts:signInWithCustomToken",ks(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(e,t){if(ca(e.app))return Promise.reject(Ii(e));const r=Oo(e),n=await SG(r,{token:t,returnSecureToken:!0}),a=await So._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(e){const t=Oo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _G(e,t,r){if(ca(e.app))return Promise.reject(Ii(e));const n=Oo(e),s=await yw(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&g5(e),c}),o=await So._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function NG(e,t,r){return ca(e.app)?Promise.reject(Ii(e)):wG($i(e),ld.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&g5(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kG(e,t){return Cs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=$i(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await ku(n,kG(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function TG(e,t,r,n){return $i(e).onIdTokenChanged(t,r,n)}function jG(e,t,r){return $i(e).beforeAuthStateChanged(t,r)}function AG(e,t,r,n){return $i(e).onAuthStateChanged(t,r,n)}function IG(e){return $i(e).signOut()}const J0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(J0,"1"),this.storage.removeItem(J0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=1e3,OG=10;class v5 extends x5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);WW()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,OG):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},PG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}v5.type="LOCAL";const RG=v5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5 extends x5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}y5.type="SESSION";const b5=y5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new Wx(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async u=>u(r.origin,i)),c=await DG(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,c)=>{const u=ME("",20);a.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function MG(e){Pi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function LG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $G(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function BG(){return w5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebaseLocalStorageDb",zG=1,Q0="firebaseLocalStorage",E5="fbase_key";class jm{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Gx(e,t){return e.transaction([Q0],t?"readwrite":"readonly").objectStore(Q0)}function UG(){const e=indexedDB.deleteDatabase(S5);return new jm(e).toPromise()}function bw(){const e=indexedDB.open(S5,zG);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Q0,{keyPath:E5})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Q0)?t(n):(n.close(),await UG(),t(await bw()))})})}async function sT(e,t,r){const n=Gx(e,!0).put({[E5]:t,value:r});return new jm(n).toPromise()}async function qG(e,t){const r=Gx(e,!1).get(t),n=await new jm(r).toPromise();return n===void 0?null:n.value}function oT(e,t){const r=Gx(e,!0).delete(t);return new jm(r).toPromise()}const VG=800,HG=3;class _5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bw(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>HG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wx._getInstance(BG()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await LG(),!this.activeServiceWorker)return;this.sender=new FG(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bw();return await sT(t,J0,"1"),await oT(t,J0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>sT(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>qG(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=Gx(a,!1).getAll();return new jm(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_5.type="LOCAL";const WG=_5;new Cm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(e,t){return t?es(t):(He(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends DE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return au(t,this._buildIdpRequest())}_linkToIdToken(t,r){return au(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return au(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function XG(e){return h5(e.auth,new LE(e),e.bypassAuthState)}function KG(e){const{auth:t,user:r}=e;return He(r,t,"internal-error"),bG(r,new LE(e),e.bypassAuthState)}async function YG(e){const{auth:t,user:r}=e;return He(r,t,"internal-error"),yG(r,new LE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=t;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XG;case"linkViaPopup":case"linkViaRedirect":return YG;case"reauthViaPopup":case"reauthViaRedirect":return KG;default:hi(this.auth,"internal-error")}}resolve(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=new Cm(2e3,1e4);class Hc extends N5{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,Hc.currentPopupAction&&Hc.currentPopupAction.cancel(),Hc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return He(t,this.auth,"internal-error"),t}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const t=ME();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JG.get())};t()}}Hc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="pendingRedirect",m0=new Map;class ZG extends N5{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=m0.get(this.auth._key());if(!t){try{const n=await eX(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}m0.set(this.auth._key(),t)}return this.bypassAuthState||m0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eX(e,t){const r=nX(t),n=rX(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function tX(e,t){m0.set(e._key(),t)}function rX(e){return es(e._redirectPersistence)}function nX(e){return p0(QG,e.config.apiKey,e.name)}async function aX(e,t,r=!1){if(ca(e.app))return Promise.reject(Ii(e));const n=Oo(e),a=GG(n,t),s=await new ZG(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=10*60*1e3;class sX{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oX(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!k5(t)){const a=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ai(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iX&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(t))}saveEventToCache(t){this.cachedEventUids.add(lT(t)),this.lastProcessedEventTime=Date.now()}}function lT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function k5({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function oX(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k5(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(e,t={}){return Cs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uX=/^https?/;async function dX(e){if(e.config.emulator)return;const{authorizedDomains:t}=await lX(e);for(const r of t)try{if(fX(r))return}catch{}hi(e,"unauthorized-domain")}function fX(e){const t=xw(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!uX.test(r))return!1;if(cX.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=new Cm(3e4,6e4);function cT(){const e=Pi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function mX(e){return new Promise((t,r)=>{var n,a,i;function s(){cT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cT(),r(Ai(e,"network-request-failed"))},timeout:pX.get()})}if(!((a=(n=Pi().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((i=Pi().gapi)===null||i===void 0)&&i.load)s();else{const o=tG("iframefcb");return Pi()[o]=()=>{gapi.load?s():r(Ai(e,"network-request-failed"))},u5(`${eG()}?onload=${o}`).catch(c=>r(c))}}).catch(t=>{throw h0=null,t})}let h0=null;function hX(e){return h0=h0||mX(e),h0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=new Cm(5e3,15e3),xX="__/auth/iframe",vX="emulator/auth/iframe",yX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wX(e){const t=e.config;He(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?PE(t,vX):`https://${e.config.authDomain}/${xX}`,n={apiKey:t.apiKey,appName:e.name,v:sd},a=bX.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${km(n).slice(1)}`}async function SX(e){const t=await hX(e),r=Pi().gapi;return He(r,e,"internal-error"),t.open({where:document.body,url:wX(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yX,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=Ai(e,"network-request-failed"),o=Pi().setTimeout(()=>{i(s)},gX.get());function c(){Pi().clearTimeout(o),a(n)}n.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_X=500,NX=600,kX="_blank",CX="http://localhost";class uT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TX(e,t,r,n=_X,a=NX){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},EX),{width:n.toString(),height:a.toString(),top:i,left:s}),u=On().toLowerCase();r&&(o=n5(u)?kX:r),t5(u)&&(t=t||CX,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,h])=>`${p}${m}=${h},`,"");if(HW(u)&&o!=="_self")return jX(t||"",o),new uT(null);const f=window.open(t||"",o,d);He(f,e,"popup-blocked");try{f.focus()}catch{}return new uT(f)}function jX(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX="__/auth/handler",IX="emulator/auth/handler",PX=encodeURIComponent("fac");async function dT(e,t,r,n,a,i){He(e.config.authDomain,e,"auth-domain-config-required"),He(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:sd,eventId:a};if(t instanceof p5){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",pH(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(t instanceof Tm){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await e._getAppCheckToken(),u=c?`#${PX}=${encodeURIComponent(c)}`:"";return`${OX(e)}?${km(o).slice(1)}${u}`}function OX({config:e}){return e.emulator?PE(e,IX):`https://${e.authDomain}/${AX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="webStorageSupport";class RX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b5,this._completeRedirectFn=aX,this._overrideRedirectResult=tX}async _openPopup(t,r,n,a){var i;xs((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await dT(t,r,n,xw(),a);return TX(t,s,ME())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await dT(t,r,n,xw(),a);return MG(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(xs(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await SX(t),n=new sX(t);return r.register("authEvent",a=>(He(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(tb,{type:tb},a=>{var i;const s=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[tb];s!==void 0&&r(!!s),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dX(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return l5()||r5()||RE()}}const DX=RX;var fT="@firebase/auth",pT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LX(e){Nu(new Pl("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;He(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c5(e)},u=new JW(n,a,i,c);return oG(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Nu(new Pl("auth-internal",t=>{const r=Oo(t.getProvider("auth").getImmediate());return(n=>new FX(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),xo(fT,pT,MX(e)),xo(fT,pT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=5*60,BX=BD("authIdTokenMaxAge")||$X;let mT=null;const zX=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>BX)return;const a=r==null?void 0:r.token;mT!==a&&(mT=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hT(e=gw()){const t=Vx(e,"auth");if(t.isInitialized())return t.getImmediate();const r=sG(e,{popupRedirectResolver:DX,persistence:[WG,RG,b5]}),n=BD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=zX(i.toString());jG(r,s,()=>s(r.currentUser)),TG(r,o=>s(o))}}const a=tH("auth");return a&&lG(r,`http://${a}`),r}function UX(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}QW({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=Ai("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",UX().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LX("Browser");var qX="firebase",VX="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo(qX,VX,"app");var gT={};const xT="@firebase/data-connect",vT="0.3.2";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xx="";function HX(e){Xx=e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(t,r){this.appCheckProvider=r,ca(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n).catch()}getToken(){return this.serverAppAppCheckToken?Promise.resolve({token:this.serverAppAppCheckToken}):this.appCheck?this.appCheck.getToken():new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken().then(t,r):t(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn={OTHER:"other",ALREADY_INITIALIZED:"already-initialized",NOT_INITIALIZED:"not-initialized",NOT_SUPPORTED:"not-supported",INVALID_ARGUMENT:"invalid-argument",PARTIAL_ERROR:"partial-error",UNAUTHORIZED:"unauthorized"};class zn extends Ns{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new TE("@firebase/data-connect");function ci(e){C5.debug(`DataConnect (${Xx}): ${e}`)}function Cu(e){C5.error(`DataConnect (${Xx}): ${e}`)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(t,r,n){this._appName=t,this._options=r,this._authProvider=n,this._auth=n.getImmediate({optional:!0}),this._auth||n.onInit(a=>this._auth=a)}getToken(t){return this._auth?this._auth.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(ci("Got auth/token-not-initialized error.  Treating as null token."),null):(Cu("Error received when attempting to retrieve token: "+JSON.stringify(r)),Promise.reject(r))):new Promise((r,n)=>{setTimeout(()=>{this._auth?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this._auth)===null||r===void 0||r.addAuthTokenListener(t)}removeTokenChangeListener(t){this._authProvider.get().then(r=>r.removeAuthTokenListener(t)).catch(r=>Cu(r))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="query",XX="mutation",ww="SERVER",rb="CACHE";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0;function KX(e){g0=e}KX(e=>JSON.stringify(e));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(e,t,r){e.has(t)||e.set(t,r)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(e,t,r){return function(){return{data:t,refInfo:{name:e.name,variables:e.variables,connectorConfig:Object.assign({projectId:e.dataConnect.app.options.projectId},e.dataConnect.getSettings())},fetchTime:Date.now().toLocaleString(),source:r}}}class JX{constructor(t){this.transport=t,this._queries=new Map}track(t,r,n){const a={name:t,variables:r,refType:mf},i=g0(a),s={ref:a,subscriptions:[],currentCache:n||null,lastError:null};return YX(this._queries,i,s),this._queries.get(i)}addSubscription(t,r,n,a){const i=g0({name:t.name,variables:t.variables,refType:mf}),s=this._queries.get(i),o={userCallback:r,errCallback:n},c=()=>{const u=this._queries.get(i);u.subscriptions=u.subscriptions.filter(d=>d!==o)};if(a&&s.currentCache!==a&&(ci("Initial cache found. Comparing dates."),(!s.currentCache||s.currentCache&&QX(s.currentCache.fetchTime,a.fetchTime))&&(s.currentCache=a)),s.currentCache!==null){const u=s.currentCache.data;r({data:u,source:rb,ref:t,toJSON:yT(t,s.currentCache.data,rb),fetchTime:s.currentCache.fetchTime}),s.lastError!==null&&n&&n(void 0)}return s.subscriptions.push({userCallback:r,errCallback:n,unsubscribe:c}),s.currentCache||(ci(`No cache available for query ${t.name} with variables ${JSON.stringify(t.variables)}. Calling executeQuery.`),this.executeQuery(t).then(void 0,d=>{})),c}executeQuery(t){if(t.refType!==mf)throw new zn(Cn.INVALID_ARGUMENT,"ExecuteQuery can only execute query operation");const r=g0({name:t.name,variables:t.variables,refType:mf}),n=this._queries.get(r);return this.transport.invokeQuery(t.name,t.variables).then(s=>{const o=new Date().toString(),c=Object.assign(Object.assign({},s),{source:ww,ref:t,toJSON:yT(t,s.data,ww),fetchTime:o});return n.subscriptions.forEach(u=>{u.userCallback(c)}),n.currentCache={data:s.data,source:rb,fetchTime:o},c},s=>{throw n.lastError=s,n.subscriptions.forEach(o=>{o.errCallback&&o.errCallback(s)}),s})}enableEmulator(t,r){this.transport.useEmulator(t,r)}}function QX(e,t){const r=new Date(e),n=new Date(t);return r.getTime()<n.getTime()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If={Base:"Base",Generated:"Generated",TanstackReactCore:"TanstackReactCore",GeneratedReact:"GeneratedReact",TanstackAngularCore:"TanstackAngularCore",GeneratedAngular:"GeneratedAngular"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(e,t){const{connector:r,location:n,projectId:a,service:i}=e,{host:s,sslEnabled:o,port:c}=t;let f=`${o?"https":"http"}://${s||"firebasedataconnect.googleapis.com"}`;if(typeof c=="number")f+=`:${c}`;else if(typeof c<"u")throw Cu("Port type is of an invalid type"),new zn(Cn.INVALID_ARGUMENT,"Incorrect type for port passed in!");return`${f}/v1/projects/${a}/locations/${n}/services/${i}/connectors/${r}`}function bT(e,t){if(!t)return e;const r=new URL(e);return r.searchParams.append("key",t),r.toString()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wT=globalThis.fetch;function eK(e,t){let r="gl-js/ fire/"+Xx;return t!==If.Base&&t!==If.Generated?r+=" js/"+t.toLowerCase():(e||t===If.Generated)&&(r+=" js/gen"),r}function ST(e,t,{signal:r},n,a,i,s,o){if(!wT)throw new zn(Cn.OTHER,"No Fetch Implementation detected!");const c={"Content-Type":"application/json","X-Goog-Api-Client":eK(s,o)};a&&(c["X-Firebase-Auth-Token"]=a),n&&(c["x-firebase-gmpid"]=n),i&&(c["X-Firebase-AppCheck"]=i);const u=JSON.stringify(t);return ci(`Making request out to ${e} with body: ${u}`),wT(e,{body:u,method:"POST",headers:c,signal:r}).catch(d=>{throw new zn(Cn.OTHER,"Failed to fetch: "+JSON.stringify(d))}).then(async d=>{let f=null;try{f=await d.json()}catch(m){throw new zn(Cn.OTHER,JSON.stringify(m))}const p=tK(f);if(d.status>=400)throw Cu("Error while performing request: "+JSON.stringify(f)),d.status===401?new zn(Cn.UNAUTHORIZED,p):new zn(Cn.OTHER,p);return f}).then(d=>{if(d.errors&&d.errors.length){const f=JSON.stringify(d.errors);throw Cu("DataConnect error while performing request: "+f),new zn(Cn.OTHER,f)}return d})}function tK(e){return"message"in e?e.message:JSON.stringify(e)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(t,r,n,a,i,s,o=!1,c=If.Base){var u,d;this.apiKey=r,this.appId=n,this.authProvider=a,this.appCheckProvider=i,this._isUsingGen=o,this._callerSdkType=c,this._host="",this._location="l",this._connectorName="",this._secure=!0,this._project="p",this._accessToken=null,this._appCheckToken=null,this._lastToken=null,this.invokeQuery=(g,x)=>{const v=new AbortController;return this.withRetry(()=>ST(bT(`${this.endpointUrl}:executeQuery`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:g,variables:x},v,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType))},this.invokeMutation=(g,x)=>{const v=new AbortController;return this.withRetry(()=>ST(bT(`${this.endpointUrl}:executeMutation`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:g,variables:x},v,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType))},s&&(typeof s.port=="number"&&(this._port=s.port),typeof s.sslEnabled<"u"&&(this._secure=s.sslEnabled),this._host=s.host);const{location:f,projectId:p,connector:m,service:h}=t;if(f&&(this._location=f),p&&(this._project=p),this._serviceName=h,!m)throw new zn(Cn.INVALID_ARGUMENT,"Connector Name required!");this._connectorName=m,(u=this.authProvider)===null||u===void 0||u.addTokenChangeListener(g=>{ci(`New Token Available: ${g}`),this._accessToken=g}),(d=this.appCheckProvider)===null||d===void 0||d.addTokenChangeListener(g=>{const{token:x}=g;ci(`New App Check Token Available: ${x}`),this._appCheckToken=x})}get endpointUrl(){return ZX({connector:this._connectorName,location:this._location,projectId:this._project,service:this._serviceName},{host:this._host,sslEnabled:this._secure,port:this._port})}useEmulator(t,r,n){this._host=t,typeof r=="number"&&(this._port=r),typeof n<"u"&&(this._secure=n)}onTokenChanged(t){this._accessToken=t}async getWithAuth(t=!1){var r;let n=new Promise(a=>a(this._accessToken));return this.appCheckProvider&&(this._appCheckToken=(r=await this.appCheckProvider.getToken())===null||r===void 0?void 0:r.token),this.authProvider?n=this.authProvider.getToken(t).then(a=>a?(this._accessToken=a.accessToken,this._accessToken):null):n=new Promise(a=>a("")),n}_setLastToken(t){this._lastToken=t}withRetry(t,r=!1){let n=!1;return this.getWithAuth(r).then(a=>(n=this._lastToken!==a,this._lastToken=a,a)).then(t).catch(a=>{if("code"in a&&a.code===Cn.UNAUTHORIZED&&!r&&n)return ci("Retrying due to unauthorized"),this.withRetry(t,!0);throw a})}_setCallerSdkType(t){this._callerSdkType=t}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t,r){return e.setInitialized(),{dataConnect:e,name:t,refType:XX,variables:r}}class nK{constructor(t){this._transport=t,this._inflight=[]}executeMutation(t){const r=this._transport.invokeMutation(t.name,t.variables),n=r.then(i=>Object.assign(Object.assign({},i),{source:ww,ref:t,fetchTime:Date.now().toLocaleString()}));this._inflight.push(r);const a=()=>this._inflight=this._inflight.filter(i=>i!==r);return r.then(a,a),n}}function tt(e){return e.dataConnect._mutationManager.executeMutation(e)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK="FIREBASE_DATA_CONNECT_EMULATOR_HOST";function iK(e){const[t,r]=e.split("://"),n=t==="https",[a,i]=r.split(":"),s=Number(i);return{host:a,port:s,sslEnabled:n}}class sK{constructor(t,r,n,a){if(this.app=t,this.dataConnectOptions=r,this._authProvider=n,this._appCheckProvider=a,this.isEmulator=!1,this._initialized=!1,this._isUsingGeneratedSdk=!1,this._callerSdkType=If.Base,typeof process<"u"&&gT){const i=gT[aK];i&&(ci("Found custom host. Using emulator"),this.isEmulator=!0,this._transportOptions=iK(i))}}_useGeneratedSdk(){this._isUsingGeneratedSdk||(this._isUsingGeneratedSdk=!0)}_setCallerSdkType(t){this._callerSdkType=t,this._initialized&&this._transport._setCallerSdkType(t)}_delete(){return pW(this.app,"data-connect",JSON.stringify(this.getSettings())),Promise.resolve()}getSettings(){const t=JSON.parse(JSON.stringify(this.dataConnectOptions));return delete t.projectId,t}setInitialized(){this._initialized||(this._transportClass===void 0&&(ci("transportClass not provided. Defaulting to RESTTransport."),this._transportClass=rK),this._authProvider&&(this._authTokenProvider=new GX(this.app.name,this.app.options,this._authProvider)),this._appCheckProvider&&(this._appCheckTokenProvider=new WX(this.app,this._appCheckProvider)),this._initialized=!0,this._transport=new this._transportClass(this.dataConnectOptions,this.app.options.apiKey,this.app.options.appId,this._authTokenProvider,this._appCheckTokenProvider,void 0,this._isUsingGeneratedSdk,this._callerSdkType),this._transportOptions&&this._transport.useEmulator(this._transportOptions.host,this._transportOptions.port,this._transportOptions.sslEnabled),this._queryManager=new JX(this._transport),this._mutationManager=new nK(this._transport))}enableEmulator(t){if(this._initialized&&!oK(this._transportOptions,t))throw Cu("enableEmulator called after initialization"),new zn(Cn.ALREADY_INITIALIZED,"DataConnect instance already initialized!");this._transportOptions=t,this.isEmulator=!0}}function oK(e,t){return e.host===t.host&&e.port===t.port&&e.sslEnabled===t.sslEnabled}function Sw(e,t){let r,n;"location"in e?(n=e,r=gw()):(n=t,r=e),(!r||Object.keys(r).length===0)&&(r=gw());const a=Vx(r,"data-connect"),i=JSON.stringify(n);if(a.isInitialized(i)){const s=a.getImmediate({identifier:i}),o=a.getOptions(i);if(Object.keys(o).length>0)return ci("Re-using cached instance"),s}return lK(n),ci("Creating new DataConnect instance"),a.initialize({instanceIdentifier:i,options:n})}function lK(e){const t=["connector","location","service"];if(!e)throw new zn(Cn.INVALID_ARGUMENT,"DC Option Required");return t.forEach(r=>{if(e[r]===null||e[r]===void 0)throw new zn(Cn.INVALID_ARGUMENT,`${r} Required`)}),!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(e){HX(sd),Nu(new Pl("data-connect",(t,{instanceIdentifier:r,options:n})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");let o=n;if(r&&(o=JSON.parse(r)),!a.options.projectId)throw new zn(Cn.INVALID_ARGUMENT,"Project ID must be provided. Did you pass in a proper projectId to initializeApp?");return new sK(a,Object.assign(Object.assign({},o),{projectId:a.options.projectId}),i,s)},"PUBLIC").setMultipleInstances(!0)),xo(xT,vT,e),xo(xT,vT,"esm2017")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e){return e.dataConnect._queryManager.executeQuery(e)}function At(e,t,r,n){return e.setInitialized(),e._queryManager.track(t,r,n),{dataConnect:e,refType:mf,name:t,variables:r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,t,r,n){let a,i;if(t&&"enableEmulator"in t?(a=t,i=r):(a=Sw(e),i=t),!a||!i&&n)throw new zn(Cn.INVALID_ARGUMENT,"Variables required.");return{dc:a,vars:i}}cK();const Ie={connector:"default",service:"data-conect-postgress",location:"us-central1"},T5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertBusinessEntity",n)};T5.operationName="InsertBusinessEntity";function uK(e,t){return tt(T5(e,t))}const j5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertRepresentative",n)};j5.operationName="InsertRepresentative";function dK(e,t){return tt(j5(e,t))}const A5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertAdmin",n)};A5.operationName="InsertAdmin";function fK(e,t){return tt(A5(e,t))}const I5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteAdmin",n)};I5.operationName="DeleteAdmin";function pK(e,t){return tt(I5(e,t))}const P5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertAdminTeam",n)};P5.operationName="InsertAdminTeam";function mK(e,t){return tt(P5(e,t))}const O5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateAdminTeam",n)};O5.operationName="UpdateAdminTeam";function hK(e,t){return tt(O5(e,t))}const R5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteAdminTeam",n)};R5.operationName="DeleteAdminTeam";function gK(e,t){return tt(R5(e,t))}const D5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertAdminTeamMember",n)};D5.operationName="InsertAdminTeamMember";function xK(e,t){return tt(D5(e,t))}const F5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateAdminTeamMember",n)};F5.operationName="UpdateAdminTeamMember";function vK(e,t){return tt(F5(e,t))}const M5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateAdmin",n)};M5.operationName="UpdateAdmin";function yK(e,t){return tt(M5(e,t))}const L5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertUser",n)};L5.operationName="InsertUser";function bK(e,t){return tt(L5(e,t))}const $5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteUser",n)};$5.operationName="DeleteUser";function wK(e,t){return tt($5(e,t))}const B5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertProductRequest",n)};B5.operationName="InsertProductRequest";function SK(e,t){return tt(B5(e,t))}const z5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateProductRequest",n)};z5.operationName="UpdateProductRequest";function EK(e,t){return tt(z5(e,t))}const U5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateUserProductRequest",n)};U5.operationName="UpdateUserProductRequest";function _K(e,t){return tt(U5(e,t))}const q5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteProductRequestCascade",n)};q5.operationName="DeleteProductRequestCascade";function NK(e,t){return tt(q5(e,t))}const V5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteBusinesEntity",n)};V5.operationName="DeleteBusinesEntity";function kK(e,t){return tt(V5(e,t))}const H5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"DeleteRequiredDocument",n)};H5.operationName="DeleteRequiredDocument";function CK(e,t){return tt(H5(e,t))}const W5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertRequiredDocuments",n)};W5.operationName="InsertRequiredDocuments";function TK(e,t){return tt(W5(e,t))}const G5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertUserRequiredDocuments",n)};G5.operationName="InsertUserRequiredDocuments";function jK(e,t){return tt(G5(e,t))}const X5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateRequiredDocStatus",n)};X5.operationName="UpdateRequiredDocStatus";function AK(e,t){return tt(X5(e,t))}const K5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertFinancingForm",n)};K5.operationName="InsertFinancingForm";function IK(e,t){return tt(K5(e,t))}const Y5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateFinancingForm",n)};Y5.operationName="UpdateFinancingForm";function PK(e,t){return tt(Y5(e,t))}const J5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertWarrantyForm",n)};J5.operationName="InsertWarrantyForm";function OK(e,t){return tt(J5(e,t))}const Q5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateWarrantyForm",n)};Q5.operationName="UpdateWarrantyForm";function RK(e,t){return tt(Q5(e,t))}const Z5=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"deleteWarrantyForm",n)};Z5.operationName="deleteWarrantyForm";function DK(e,t){return tt(Z5(e,t))}const eF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertResolutionData",n)};eF.operationName="InsertResolutionData";function FK(e,t){return tt(eF(e,t))}const tF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateResolutionData",n)};tF.operationName="UpdateResolutionData";function MK(e,t){return tt(tF(e,t))}const rF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertEligibilityCard",n)};rF.operationName="InsertEligibilityCard";function LK(e,t){return tt(rF(e,t))}const nF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"UpdateEligibilityCard",n)};nF.operationName="UpdateEligibilityCard";function $K(e,t){return tt(nF(e,t))}const aF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertMessage",n)};aF.operationName="InsertMessage";function BK(e,t){return tt(aF(e,t))}const iF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"updateMessage",n)};iF.operationName="updateMessage";function zK(e,t){return tt(iF(e,t))}const sF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertChat",n)};sF.operationName="InsertChat";function UK(e,t){return tt(sF(e,t))}const oF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertMailbox",n)};oF.operationName="InsertMailbox";function qK(e,t){return tt(oF(e,t))}const lF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"InsertMail",n)};lF.operationName="InsertMail";function VK(e,t){return tt(lF(e,t))}const cF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"deleteDocumentTemplate",n)};cF.operationName="deleteDocumentTemplate";function HK(e,t){return tt(cF(e,t))}const uF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t);return r._useGeneratedSdk(),et(r,"insertDocumentTemplate",n)};uF.operationName="insertDocumentTemplate";function WK(e,t){return tt(uF(e,t))}const dF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"updateDocumentTemplate",n)};dF.operationName="updateDocumentTemplate";function GK(e,t){return tt(dF(e,t))}const fF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"deleteCategoryTemplate",n)};fF.operationName="deleteCategoryTemplate";function XK(e,t){return tt(fF(e,t))}const pF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"insertCategoryTemplate",n)};pF.operationName="insertCategoryTemplate";function KK(e,t){return tt(pF(e,t))}const mF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),et(r,"updateCategoryTemplate",n)};mF.operationName="updateCategoryTemplate";function YK(e,t){return tt(mF(e,t))}const hF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"getRepresentative",n)};hF.operationName="getRepresentative";function JK(e,t){return jt(hF(e,t))}const gF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"getUser",n)};gF.operationName="getUser";function xF(e,t){return jt(gF(e,t))}const vF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"getUserProductRequests",n)};vF.operationName="getUserProductRequests";function QK(e,t){return jt(vF(e,t))}const yF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"listAdmins")};yF.operationName="listAdmins";function ZK(e){return jt(yF(e))}const bF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"verifyAdminCredentials")};bF.operationName="verifyAdminCredentials";function eY(e){return jt(bF(e))}const wF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"ListUserProductRequests")};wF.operationName="ListUserProductRequests";function tY(e){return jt(wF(e))}const SF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"getUserCompanyDetails",n)};SF.operationName="getUserCompanyDetails";function rY(e,t){return jt(SF(e,t))}const EF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"getUserRequiredDocs",n)};EF.operationName="getUserRequiredDocs";function nY(e,t){return jt(EF(e,t))}const _F=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"GetMyAdminTeam")};_F.operationName="GetMyAdminTeam";function aY(e){return jt(_F(e))}const NF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetBusinessEntitiesByAdminTeam",n)};NF.operationName="GetBusinessEntitiesByAdminTeam";function iY(e,t){return jt(NF(e,t))}const kF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"GetAllBusinessEntities")};kF.operationName="GetAllBusinessEntities";function sY(e){return jt(kF(e))}const CF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ListAdminRequiredDocs",n)};CF.operationName="ListAdminRequiredDocs";function oY(e,t){return jt(CF(e,t))}const TF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ListFilteredTemplateDocs",n)};TF.operationName="ListFilteredTemplateDocs";function lY(e,t){return jt(TF(e,t))}const jF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ListProductTemplateDocs",n)};jF.operationName="ListProductTemplateDocs";function cY(e,t){return jt(jF(e,t))}const AF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"ListCategoryTemplateDocs")};AF.operationName="ListCategoryTemplateDocs";function uY(e){return jt(AF(e))}const IF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"ListUserTemplateDocs")};IF.operationName="ListUserTemplateDocs";function dY(e){return jt(IF(e))}const PF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetUserFinancingForm",n)};PF.operationName="GetUserFinancingForm";function fY(e,t){return jt(PF(e,t))}const OF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetUserWarrantyForm",n)};OF.operationName="GetUserWarrantyForm";function pY(e,t){return jt(OF(e,t))}const RF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetAdminFinancingForm",n)};RF.operationName="GetAdminFinancingForm";function mY(e,t){return jt(RF(e,t))}const DF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ListEligibilityCardsPart1",n)};DF.operationName="ListEligibilityCardsPart1";function hY(e,t){return jt(DF(e,t))}const FF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ListEligibilityCardsPart2",n)};FF.operationName="ListEligibilityCardsPart2";function gY(e,t){return jt(FF(e,t))}const MF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetAdminWarrantyForm",n)};MF.operationName="GetAdminWarrantyForm";function xY(e,t){return jt(MF(e,t))}const LF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetUserResolutionData",n)};LF.operationName="GetUserResolutionData";function vY(e,t){return jt(LF(e,t))}const $F=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetChatMessages",n)};$F.operationName="GetChatMessages";function yY(e,t){return jt($F(e,t))}const BF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"GetMails",n)};BF.operationName="GetMails";function bY(e,t){return jt(BF(e,t))}const zF=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),At(t,"ListAdminTeams")};zF.operationName="ListAdminTeams";function wY(e){return jt(zF(e))}const UF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"FlowStatusCount",n)};UF.operationName="FlowStatusCount";function SY(e,t){return jt(UF(e,t))}const qF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),At(r,"ProductNameCount",n)};qF.operationName="ProductNameCount";function EY(e,t){return jt(qF(e,t))}console.log("configurando firebase");const _Y={apiKey:"AIzaSyAxQuDj03p8iXzTpjJb1_XTT_AuamQ_EU0",authDomain:"logintest-441321.firebaseapp.com",projectId:"logintest-441321",storageBucket:"logintest-441321.firebasestorage.app",messagingSenderId:"269526555085",appId:"1:269526555085:web:7e886c2ea8e85ac9530c84"};let Sh,Rl,Bt;WC().length?(Sh=WC()[0],Rl=hT(Sh),Bt=Sw(Ie)):(Sh=qD(_Y),Rl=hT(Sh),Bt=Sw(Ie));class hf extends Error{}hf.prototype.name="InvalidTokenError";function NY(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function kY(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return NY(t)}catch{return atob(t)}}function CY(e,t){if(typeof e!="string")throw new hf("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new hf(`Invalid token specified: missing part #${r+1}`);let a;try{a=kY(n)}catch(i){throw new hf(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new hf(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}const VF=3e5,Z0={save:(e,t)=>{const r="warrantyForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`warrantyForm_${e}`,n=sessionStorage.getItem(r);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>VF?(sessionStorage.removeItem(r),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),[]}},remove:e=>{sessionStorage.removeItem(`warrantyForm_${e}`)},removeAll:()=>{const e="warrantyForm_";Object.keys(sessionStorage).forEach(t=>{t.startsWith(e)&&sessionStorage.removeItem(t)})}},eg={save:(e,t)=>{const r="financingForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`financingForm_${e}`,n=sessionStorage.getItem(r);if(!n)return null;try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>VF?(sessionStorage.removeItem(r),null):Array.isArray(a)?a:null}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),null}},remove:e=>{sessionStorage.removeItem(`financingForm_${e}`)},removeAll:()=>{const e="financingForm_";Object.keys(sessionStorage).forEach(t=>{t.startsWith(e)&&sessionStorage.removeItem(t)})}};class Pf{static save(t){const r="documentTemplatesCache",n={data:t,timestamp:Date.now()};sessionStorage.setItem(r,JSON.stringify(n))}static get(){const t="documentTemplatesCache",n=sessionStorage.getItem(t);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>36e5?(sessionStorage.removeItem(t),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(t),[]}}static remove(){sessionStorage.removeItem("documentTemplatesCache")}static removeAll(){Object.keys(sessionStorage).forEach(t=>{t.startsWith("documentTemplatesCache")&&sessionStorage.removeItem(t)})}}const HF=async e=>{try{const t=await uK(e);return console.log("Inserción exitosa de la empresa"),{success:!0,id:t.data.businessEntity_insert.id}}catch(t){return console.error("Ocurrió un error al registrar la empresa",t),{success:!1,id:""}}},WF=async e=>{try{return await fK(e),console.log("Inserción exitosa de las credenciales de administrador"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar los datos del administrador.",t),{success:!1}}},TY=async e=>{var t;try{const r=await pK(e);return console.log("Se eliminó el administrador correctamente"),(t=r.data.admin_delete)!=null&&t.uid?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar el administrador:",r),{success:!1}}},GF=async e=>{try{return await yK(e),console.log("Actualización exitosa de las credenciales de administrador"),{success:!0}}catch(t){return console.error("Ocurrió un error al actualizar los datos del administrador.",t),{success:!1}}},XF=async()=>{try{const{data:e}=await eY(Bt),t=e==null?void 0:e.admin;return t!=null&&t.email?(console.log(e),{credentials:!0,role:t.role||"No especificado",isInternal:t.isInternal||!1,isEditor:t.isEditor||!1,isViewer:t.isViewer||!1,isSuperAdmin:t.isSuperAdmin||!1,isMasterAdmin:t.isMasterAdmin||!1,isSupportAdmin:t.isSupportAdmin||!1,conectionError:!1}):{credentials:!1,conectionError:!1}}catch(e){return console.error("Error en la verificación de credenciales de administrador:",e),{credentials:!1,conectionError:!0}}},KF=async()=>{try{const{data:e}=await aY(Bt);return{id:e.adminTeamMembers[0].adminTeam.id,name:e.adminTeamMembers[0].adminTeam.name}}catch(e){return console.log("Error al obtener el equipo de administración:",e),{id:"",name:""}}},YF=async e=>{var t,r,n;try{const a={email:e.email};let i="";const s=await JK(Bt,a);return((n=(r=(t=s==null?void 0:s.data)==null?void 0:t.representatives)==null?void 0:r[0])==null?void 0:n.id)!=null?i=s.data.representatives[0].id:i=(await dK(e)).data.representative_insert.id,console.log("se insertó correctamente el representante de la empresa"),{success:!0,representativeId:i}}catch(a){return console.error("Ocurrió un error al insertar los datos del representante de la empresa.",a),{success:!1,representativeId:""}}},JF=async e=>{var t;try{const r=await iY(e);console.log("Se obtuvo la respuesta de empresas correctamente"),console.log(r.data);const n=((t=r==null?void 0:r.data)==null?void 0:t.businessEntities)??[];return n.length>0?n.map(i=>{var s,o,c,u;return{id:i.id,name:i.name??"",userEmail:((s=i.user)==null?void 0:s.email)??"",userName:((o=i.user)==null?void 0:o.name)??"",ownerAdminName:((c=i.ownerAdmin)==null?void 0:c.name)??"",ownerAdminEmail:((u=i.ownerAdmin)==null?void 0:u.email)??"",products:(i.productRequests_on_businessEntity??[]).map(d=>{var f,p;return{id:d.id,flowStatus:d.flowStatus??null,productName:d.productName??null,verticalName:d.verticalName??null,chatId:((f=d.chat_on_productRequest)==null?void 0:f.id)??null,mailboxId:((p=d.mailbox_on_productRequest)==null?void 0:p.id)??null,createdAt:d.createdAt}})}}):null}catch(r){return console.error("Ocurrió un error al obtener la solicitud de crédito:",r),null}},jY=async()=>{var e;try{const t=await sY();console.log("Se obtuvo la respuesta de empresas correctamente"),console.log(t.data);const r=((e=t==null?void 0:t.data)==null?void 0:e.businessEntities)??[];return r.length>0?r.map(a=>{var i,s,o,c;return{id:a.id,name:a.name??"",userEmail:((i=a.user)==null?void 0:i.email)??"",userName:((s=a.user)==null?void 0:s.name)??"",ownerAdminName:((o=a.ownerAdmin)==null?void 0:o.name)??"",ownerAdminEmail:((c=a.ownerAdmin)==null?void 0:c.email)??"",products:(a.productRequests_on_businessEntity??[]).map(u=>{var d,f;return{id:u.id,flowStatus:u.flowStatus??null,productName:u.productName??null,verticalName:u.verticalName??null,chatId:((d=u.chat_on_productRequest)==null?void 0:d.id)??null,mailboxId:((f=u.mailbox_on_productRequest)==null?void 0:f.id)??null,createdAt:u.createdAt}})}}):null}catch(t){return console.error("Ocurrió un error al obtener la solicitud de crédito:",t),null}},Bi=async e=>{var t;try{const r=await oY(e);return console.log("se obtuvo la lista de documentos requeridos desde api"),(t=r==null?void 0:r.data)!=null&&t.requiredDocuments?r.data:null}catch(r){return console.error("Ocurrió un error al obtener la lista de documentos requeridos :",r),null}},Kx=async e=>{var t;try{const r=await CK(e);return console.log("se obtuvo la lista de documentos requeridos"),(t=r==null?void 0:r.data)!=null&&t.requiredDocument_delete?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al obtener la lista de documentos requeridos :",r),{success:!1}}},Am=async e=>{var t;try{console.log("obteniendo id para el usuario",e.email);const r=await xF(e);console.log("se obtuvo el id del usuario correctamente");const n=(t=r==null?void 0:r.data)==null?void 0:t.users[0].uid;return n?{exist:!0,Id:n}:{exist:!1}}catch(r){return console.error("Ocurrió un error al obtener el id del usuario:",r),{exist:!1}}},$E=async e=>{var t;try{const r=await wK(e);return console.log("se eliminó el usuario correctamente"),(t=r.data.user_delete)!=null&&t.uid?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar el usuario:",r),{success:!1}}},BE=async e=>{var t;try{const r=await kK(e);return console.log("se eliminó la compañia correctamente"),(t=r.data.businessEntity_delete)!=null&&t.id?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar la compañia:",r),{success:!1}}},QF=async e=>{try{return await bK(e),console.log("Se registró la credencial de usuario correctamente"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar la credencial del usuario.",t),{success:!1}}},Yx=async e=>{try{return await TK(e),console.log("se agregó el documento requerido con exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar el documento requerido.",t),{success:!1}}},ZF=async e=>{try{const t=await lY(e);return console.log("Se obtuvieron los templates filtrados de forma correcta desde api"),t.data.documentTemplates&&Array.isArray(t.data.documentTemplates)?t.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(t){return console.error("Ocurrió un error obteniendo la lista de templates:",t),[]}},AY=async e=>{try{const t=await cY(e);return console.log("Se obtuvieron los templates filtrados de forma correcta desde api"),t.data.documentTemplates&&Array.isArray(t.data.documentTemplates)?t.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(t){return console.error("Ocurrió un error obteniendo la lista de templates:",t),[]}},IY=async e=>{try{const t=await HK(e);return console.log("Se eliminaron los templates de forma correcta"),t.data.documentTemplate_delete?{success:!0,Id:t.data.documentTemplate_delete.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},PY=async e=>{try{const t=await WK(e);return console.log("Se insertaron los templates de forma correcta"),t.data.documentTemplate_insert?{success:!0,Id:t.data.documentTemplate_insert.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},OY=async e=>{try{const t=await GK(e);return console.log("Se actualizaron los templates de forma correcta"),t.data.documentTemplate_update?{success:!0,Id:t.data.documentTemplate_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},eM=async e=>{try{const t=await SK(e);return console.log("se insertó la solicitud de product correctamente"),{success:!0,Id:t.data.productRequest_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos del producto.",t),{success:!1,Id:""}}},zE=async e=>{var r;const t=eg.get(e.productRequestId);if(t)return console.log("Datos de financiamiento desde caché"),t;try{const n=await mY(Bt,e);return(r=n==null?void 0:n.data)!=null&&r.financingForms?(console.log("Se recuperaron los datos de financiamiento desde api"),eg.save(e.productRequestId,n.data.financingForms),n.data.financingForms):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},RY=async e=>{var t,r;try{const n=await hY(e),a=await gY(e),i=(r=(t=n==null?void 0:n.data)==null?void 0:t.eligibilityCards)==null?void 0:r.map((s,o)=>{var c,u;return{...s,...(u=(c=a==null?void 0:a.data)==null?void 0:c.eligibilityCards)==null?void 0:u[o]}});return i?(console.log("Se recuperaron los datos de financiamiento desde la API"),i):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},Jx=async e=>{var r;const t=Z0.get(e.productRequestId);if(t.length>0)return console.log("Datos de garantia recuperados desde caché"),t;try{const n=await xY(Bt,e),a=(r=n==null?void 0:n.data)==null?void 0:r.warrantyForms;return Array.isArray(a)&&a.length>0?(console.log("Se recuperaron los datos de garantía de manera exitosa desde la API"),Z0.save(e.productRequestId,a),a):(console.warn("No se encontraron datos de garantía para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de garantía",n),null}},DY=async e=>{try{const t=await FK(e);return console.log("se insertó la solicitud de product correctamente"),{success:!0,Id:t.data.resolutionData_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos del producto.",t),{success:!1,Id:""}}},FY=async e=>{var t;try{const r=await MK(e);return console.log("se actualizó la solicitud de product correctamente"),{success:!0,Id:((t=r.data.resolutionData_update)==null?void 0:t.id)??""}}catch(r){return console.error("Ocurrió un error al actualizar los datos del producto.",r),{success:!1,Id:""}}},MY=async e=>{try{const t=await LK(e);return console.log("Se insertó EligibilityCard correctamente"),{success:!0,Id:t.data.eligibilityCard_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos de EligibilityCard.",t),{success:!1,Id:""}}},LY=async e=>{try{const t=await $K(e);return console.log("Se actualizaron los datos de cedula de forma correcta"),t.data.eligibilityCard_update?{success:!0,Id:t.data.eligibilityCard_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},$Y=async e=>{try{const t=await VK(Bt,e);return console.log("Mensaje guardado exitosamente"),t.data.mail_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al guardar el mensaje",t),{success:!1}}},tM=async e=>{try{const t=await qK(Bt,e);console.log("Mailbox creado exitosamente");const r=t.data.mailbox_insert.id;return r?{success:!0,chatId:r}:{success:!1}}catch(t){return console.error("Ocurrió un error al crear el Mailbox",t),{success:!1}}},BY=async e=>{try{const t=await bY(Bt,e);console.log("Correos recuperados exitosamente");const r=t.data.mails;return r.length>0?{messages:r}:{messages:[]}}catch(t){return console.error("Ocurrió un error al obtener el correo",t),{messages:[]}}},rM=async e=>{var t,r;try{const n=await EK(e);return console.log("Se actualizó el status del producto de manera exitosa"),(r=(t=n==null?void 0:n.data)==null?void 0:t.productRequest_update)!=null&&r.id?{success:!0}:{success:!1}}catch(n){return console.error("Ocurrió un error al actualizar el status del producto",n),{success:!1}}},zY=async e=>{try{const t=await KK(e);return console.log("Se insertó category templates de forma correcta"),t.data.categoryTemplate_insert?{success:!0,Id:t.data.categoryTemplate_insert.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},tc=async()=>{try{const e=await uY(Bt);return console.log("Se obtuvieron los templates de forma correcta desde api"),e.data.categoryTemplates&&Array.isArray(e.data.categoryTemplates)?e.data.categoryTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de templates:",e),[]}},UY=async e=>{try{const t=await XK(e);return console.log("Se eliminaron los templates de forma correcta"),t.data.categoryTemplate_delete?{success:!0,Id:t.data.categoryTemplate_delete.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},qY=async e=>{try{const t=await YK(e);return console.log("Se actualizó category templates de forma correcta"),t.data.categoryTemplate_update?{success:!0,Id:t.data.categoryTemplate_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error al actualizar",t),{success:!1,Id:""}}},UE=async e=>{try{const t=await NK(e);return console.log("Producto eliminado exitosamente"),t.data?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al eliminar el producto",t),{success:!1}}},qE=async e=>{var t;try{const r=await xK(e);return console.log("Se insertó el miembro del equipo correctamente"),(t=r.data)!=null&&t.adminTeamMember_insert?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al insertar el miembro del equipo:",r),{success:!1}}},nM=async e=>{var t;try{const r=await vK(e);return console.log("Se actualizó el miembro del equipo correctamente"),(t=r.data)!=null&&t.adminTeamMember_update?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al actualizar el miembro del equipo:",r),{success:!1}}},cd=async()=>{try{const e=await wY(Bt);return console.log("Se obtuvieron los admin teams de forma correcta desde API"),e.data.adminTeams&&Array.isArray(e.data.adminTeams)?e.data.adminTeams:(console.error('La propiedad "adminTeams" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de admin teams:",e),[]}},aM=async e=>{try{const t=await xF(Bt,{email:e});return console.log("Se obtuvo el usuario de forma correcta desde API"),t.data.users&&Array.isArray(t.data.users)&&t.data.users.length>0?{exist:!0,uid:t.data.users[0].uid}:(console.error("No se encontró un usuario con ese correo"),{exist:!1,uid:null})}catch(t){return console.error("Ocurrió un error obteniendo el usuario:",t),{exist:!1,uid:null}}},VE=async e=>{try{const t=await QK(e);if(console.log("Se obtuvo la lista de ProductRequests correctamente desde API"),t.data.productRequests&&Array.isArray(t.data.productRequests)){const r=t.data.productRequests.length;return{exist:r>0,count:r}}else return console.error('La propiedad "productRequests" no es un array'),{exist:!1,count:0}}catch(t){return console.error("Ocurrió un error obteniendo los ProductRequests:",t),{exist:!1,count:0}}},iM=async(e,t)=>{var r,n,a;try{const i=await SY(Bt,{adminTeamId:e,flowStatus:t}),s=(a=(n=(r=i==null?void 0:i.data)==null?void 0:r.productRequests)==null?void 0:n[0])==null?void 0:a.flowStatus_count;return Number.isFinite(s)?(console.log(`✅ Conteo obtenido correctamente: ${s}`),s):(console.warn("⚠️ No se obtuvo un conteo válido"),0)}catch(i){return console.error("❌ Error al obtener el conteo de estados:",i),0}},sM=async(e,t)=>{var r,n,a;try{const i=await EY(Bt,{adminTeamId:e,productName:t}),s=(a=(n=(r=i==null?void 0:i.data)==null?void 0:r.productRequests)==null?void 0:n[0])==null?void 0:a.flowStatus_count;return Number.isFinite(s)?(console.log(`✅ Conteo por nombre de producto obtenido: ${s}`),s):(console.warn("⚠️ No se obtuvo un conteo válido"),0)}catch(i){return console.error("❌ Error al obtener el conteo de productos:",i),0}},oM=async()=>{try{const e=await ZK(Bt);return console.log("Se obtuvieron los admins de forma correcta desde API"),e.data.admins&&Array.isArray(e.data.admins)?e.data.admins:(console.error('La propiedad "admins" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de admins:",e),[]}},VY=async e=>{try{const t=await mK(e);return console.log("Se insertó el equipo de administradores correctamente"),t.data.adminTeam_insert.id?{success:!0,id:t.data.adminTeam_insert.id}:{success:!1,id:""}}catch(t){return console.error("Ocurrió un error al insertar el equipo",t),{success:!1,id:""}}},HY=async e=>{try{const t=await gK({adminTeamId:e});return console.log("Se eliminó el equipo de administradores correctamente"),t.data.adminTeam_delete?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al eliminar el equipo",t),{success:!1}}},WY=async e=>{try{const t=await hK(e);return console.log("Se actualizó el equipo de administradores correctamente"),t.data.adminTeam_update?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar el equipo",t),{success:!1}}},lM=_.createContext(void 0),GY=({children:e})=>{const[t,r]=_.useState(!1),[n,a]=_.useState(!0),[i,s]=_.useState(!0),[o,c]=_.useState(null),u=Qt();_.useEffect(()=>{const f=AG(Rl,async p=>{if(p)try{const m=await p.getIdToken(!1),h=CY(m),g=(h==null?void 0:h.admin)||!1,x=g?await XF():null,v=g?await KF():null,b=await tc(),y=x?x.credentials:!0,k=x?x.role:void 0,E=x?x.isInternal:!1,S=x?x.isSuperAdmin:!1,w=x?x.isMasterAdmin:!1,j=x?x.isSupportAdmin:!1;s((x==null?void 0:x.conectionError)??!1);const T=b.find(A=>A.id===k),C={verticalName:(T==null?void 0:T.type)||"",productName:(T==null?void 0:T.name)||""};c({uid:p.uid,displayName:p.displayName,email:p.email,photoURL:p.photoURL,idToken:m,isAdmin:g,isSuperAdmin:S??!1,isMasterAdmin:w??!1,isSupportAdmin:j??!1,withCredentials:y,adminRole:k??"",adminRoleDetails:C,adminTeam:v,isInternal:E??!1}),r(!0)}catch(m){console.error("Error al obtener el token de acceso para firebase:",m),r(!1),c(null)}else r(!1),c(null);a(!1)});return()=>f()},[]);const d=()=>{IG(Rl),r(!1),c(null),u("/")};return l.jsx(lM.Provider,{value:{isLoggedIn:t,logout:d,isLogging:n,conectionError:i,user:o},children:e})};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cM=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>_.createElement("svg",{ref:c,...KY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:cM("lucide",a),...o},[...s.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(YY,{ref:i,iconNode:t,className:cM(`lucide-${XY(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Be("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Be("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Be("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=Be("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Be("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Be("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Be("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Be("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=Be("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=Be("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Be("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=Be("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nt=()=>{const e=_.useContext(lM);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e},vM=({size:e})=>l.jsx("div",{className:"border-8 border-t-8 border-gray-300 border-t-blue-500 rounded-full animate-spin",style:{width:e,height:e}});function NT(){const{magicToken:e}=ID(),[t,r]=_.useState(""),[n,a]=_.useState(""),[i,s]=_.useState(!1),o=Qt(),{isLoggedIn:c,isLogging:u,user:d}=Nt(),[f,p]=_.useState(!1),m=_.useRef(!1);_.useEffect(()=>{e&&!m.current&&(m.current=!0,h(e))},[e]);const h=async v=>{try{p(!0),console.log("el tokenn",v),await EG(Rl,v)}catch(b){console.error("Error con el token mágico:",b),alert("El enlace de acceso ha expirado."),o("/")}finally{p(!1)}};_.useEffect(()=>{u||c&&(p(!1),d!=null&&d.isAdmin?o("/admin/dashboard"):o("/user/welcome"))},[u,c,d,o]);const g=v=>{if(v.preventDefault(),!t||!n){alert("Por favor, ingrese tanto el correo electrónico como la contraseña.");return}x()},x=async()=>{try{p(!0),await NG(Rl,t,n)}catch(v){console.error("Error al iniciar sesión:",v),alert("Error al iniciar sesión")}finally{p(!1)}};return f?l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx(vM,{size:"50px"})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[l.jsx("div",{className:"flex-grow flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"})}),l.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Inicia sesión"}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"email",placeholder:"Correo electrónico",value:t,onChange:v=>r(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",placeholder:"Contraseña",value:n,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?l.jsx(WE,{className:"h-5 w-5 text-gray-400"}):l.jsx(fd,{className:"h-5 w-5 text-gray-400"})})]}),l.jsx("div",{className:"text-right",children:l.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:underline",children:"No recuerdo mi contraseña"})}),l.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",disabled:!t||!n,children:"Iniciar sesión"})]})]})}),l.jsxs("footer",{className:"bg-white py-4 px-6 flex justify-between items-center text-sm text-gray-600",children:[l.jsxs("div",{className:"space-x-4",children:[l.jsx("a",{href:"#",className:"hover:underline",children:"Términos y condiciones"}),l.jsx("a",{href:"#",className:"hover:underline",children:"Aviso de privacidad"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{children:"Versión 1.02"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-semibold",children:"Español"}),l.jsx("span",{children:"|"}),l.jsx("a",{href:"#",className:"hover:underline",children:"English"})]})]})]})]})}function iJ(){const[e,t]=_.useState(""),[r,n]=_.useState(""),[a,i]=_.useState(""),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(!1),p=Qt(),m=h=>{h.preventDefault(),console.log("Registrarse con:",{name:e,surname:r,email:a,phoneNumber:s,password:c}),_G(Rl,a,c).then(g=>{const x=g.user;CG(x,{displayName:`${e} ${r}`}).then(()=>{console.log("Perfil actualizado con éxito:",x),alert("Usuario registrado y perfil actualizado correctamente."),p("/")}).catch(v=>{console.error("Error al actualizar el perfil:",v),alert("Error al actualizar el perfil.")})}).catch(g=>{const x=g.code,v=g.message;console.error("Error al registrar al usuario:",x,v),alert(`Error al registrarse: ${x} ${v}`)})};return l.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:l.jsx("div",{className:"flex-grow flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"})}),l.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Crear cuenta"}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"text",placeholder:"Apellido",value:r,onChange:h=>n(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"email",placeholder:"Correo electrónico",value:a,onChange:h=>i(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"tel",placeholder:"Número de teléfono",value:s,onChange:h=>o(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:d?"text":"password",placeholder:"Contraseña",value:c,onChange:h=>u(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?l.jsx(WE,{className:"h-5 w-5 text-gray-400"}):l.jsx(fd,{className:"h-5 w-5 text-gray-400"})})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:"Registrarse"})]}),l.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["¿Ya tienes una cuenta?"," ",l.jsx("a",{href:"/",className:"text-blue-500 hover:underline",children:"Inicia sesión aquí"})]})]})})})}const sJ="/mx.png";function oJ(){const{user:e,logout:t}=Nt(),r=Qt(),n=e!=null&&e.displayName?e.displayName.split(" ").map(s=>s[0]).join("").toUpperCase():"U",a=()=>e!=null&&e.isMasterAdmin?"Super Administrador":e!=null&&e.isSupportAdmin?"Soporte":e!=null&&e.isSuperAdmin?"Administrador":"Super usuario",i=async()=>{await t(),sessionStorage.clear(),console.log("exit"),r("/")};return l.jsxs("div",{className:"w-72 bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-500 text-xl font-semibold",children:n})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:(e==null?void 0:e.displayName)||"User"}),l.jsx("p",{className:"text-gray-500 text-sm",children:(e==null?void 0:e.email)||"user@example.com"})]})]})}),l.jsxs("div",{className:"bg-gray-50 p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Idioma"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Español"}),l.jsx("img",{src:sJ,alt:"Language flag",className:"w-5 h-3 object-cover"})]})]}),e!=null&&e.isAdmin?l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Rol"}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:"text-sm font-medium",children:a()})})]}):l.jsx("div",{className:"flex justify-between items-center mb-4"}),l.jsx("button",{onClick:i,className:"w-full text-red-500 text-sm font-medium py-2 hover:bg-red-50 rounded transition duration-150 ease-in-out",children:"Cerrar sesión"})]})]})}function Qn({children:e}){const[t,r]=_.useState(!1),[n,a]=_.useState(null),i=_.useRef(null),s=_.useRef(null),{user:o}=Nt(),c=o!=null&&o.displayName?o.displayName.split(" ").map(d=>d[0]).join("").toUpperCase():"U",u=()=>{r(!t)};return _.useEffect(()=>{const d=()=>{r(!1)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),_.useEffect(()=>{if(t&&i.current){const d=i.current.getBoundingClientRect(),f=d.top+window.scrollY+50,p=window.innerWidth-d.right;a({top:f,right:p})}},[t]),_.useEffect(()=>{const d=f=>{s.current&&!s.current.contains(f.target)&&i.current&&!i.current.contains(f.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 overflow-x-hidden",children:[l.jsx("header",{children:l.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[l.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"}),l.jsx("button",{ref:i,className:"bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium",onClick:u,children:c})]})}),t&&n&&l.jsx("div",{ref:s,className:"fixed bg-white rounded-lg shadow-md z-50 transition-transform duration-200",style:{top:n.top,right:n.right},children:l.jsx(oJ,{})}),l.jsx("main",{className:"flex-grow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:e})}),l.jsx("footer",{children:l.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-wrap justify-between items-center text-xs sm:text-sm text-gray-500",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Términos y condiciones"}),l.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Aviso de privacidad"})]}),l.jsx("div",{className:"mt-2 sm:mt-0",children:"Versión 1.02"}),l.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[l.jsx("span",{className:"font-medium",children:"Español"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("a",{href:"#",className:"hover:text-gray-700",children:"English"})]})]})})]})}const yM=3e5,vp={save:(e,t)=>{const r="warrantyForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`warrantyForm_${e}`,n=sessionStorage.getItem(r);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>yM?(sessionStorage.removeItem(r),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),[]}},remove:e=>{sessionStorage.removeItem(`warrantyForm_${e}`)},removeAll:()=>{const e="warrantyForm_";for(let t=sessionStorage.length-1;t>=0;t--){const r=sessionStorage.key(t);r&&r.startsWith(e)&&sessionStorage.removeItem(r)}}},Ew={save:(e,t)=>{const r="financingForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n)),console.log("Guardando cache de financing")},get:e=>{const r=`financingForm_${e}`,n=sessionStorage.getItem(r);if(!n)return null;try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>yM?(sessionStorage.removeItem(r),null):a}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),null}},remove:e=>{sessionStorage.removeItem(`financingForm_${e}`)},removeAll:()=>{const e="financingForm_";for(let t=sessionStorage.length-1;t>=0;t--){const r=sessionStorage.key(t);r&&r.startsWith(e)&&sessionStorage.removeItem(r)}}},nb="exchangeRate",ab="exchangeRateTimestamp",lJ=24*60*60*1e3,_w={save:e=>{sessionStorage.setItem(nb,e),sessionStorage.setItem(ab,Date.now().toString())},get:()=>{const e=sessionStorage.getItem(nb),t=sessionStorage.getItem(ab);if(e&&t){const r=parseInt(t,10);if(Date.now()-r<lJ)return e;_w.remove(),console.log("tipo decambio desde cache")}return null},remove:()=>{sessionStorage.removeItem(nb),sessionStorage.removeItem(ab)}},cJ=async()=>{var e;try{const t=await tY(Bt);return((e=t==null?void 0:t.data)==null?void 0:e.productRequests.length)>0?(console.log("Se obtuvieron productos en data user",t),t.data.productRequests.map(n=>{var a;return{id:n.id,flowStatus:n.flowStatus,userFlowStatus:n.userFlowStatus,productName:n.productName,verticalName:n.verticalName,createdAt:n.createdAt,chatId:((a=n.chat_on_productRequest)==null?void 0:a.id)??void 0}})):(console.warn("No se encontraron productos"),null)}catch(t){return console.error("Ocurrió un error al obtener los productos",t),null}},bM=async e=>{var t;try{const r=await nY(Bt,e);return(t=r==null?void 0:r.data)!=null&&t.requiredDocuments?(console.log("Se obtuvieron los documentos requeridos",r.data.requiredDocuments),r.data):(console.warn("No se encontraron documentos requeridos."),null)}catch(r){return console.error("Ocurrió un error al obtener los documentos requeridos",r),null}},wM=async e=>{var t,r;try{const n=await rY(e);if((t=n==null?void 0:n.data)!=null&&t.productRequest){console.log("Se obtuvieron los documentos requeridos");const a=(r=n==null?void 0:n.data)==null?void 0:r.productRequest.businessEntity;return{id:a.id,name:a.name,iconUrl:a.iconUrl}}return console.warn("No se encontraron documentos requeridos."),null}catch(n){return console.error("Ocurrió un error al obtener los documentos requeridos",n),null}},uJ=async e=>{try{const t=await IK(e);return console.log("Se insertaron los datos de financiamiento de manera exitosa"),t!=null&&t.data.financingForm_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de financiamiento",t),{success:!1}}},dJ=async e=>{try{const t=await PK(e);return console.log("Se actualizaron los datos de financiamiento de manera exitosa"),t!=null&&t.data.financingForm_update?(Ew.removeAll(),{success:!0}):{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar los datos de financiamiento",t),{success:!1}}},fJ=async e=>{var r;const t=Ew.get(e.productRequestId);if(t)return console.log("Se recuperaron los datos de financiamiento desde cache"),t;try{const n=await fY(Bt,e);return(r=n==null?void 0:n.data)!=null&&r.financingForms?(console.log("Se recuperaron los datos de financiamiento desde la api"),Ew.save(e.productRequestId,n.data.financingForms[0]),n.data.financingForms[0]):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},pJ=async e=>{try{const t=await OK(e);console.log("Se insertaron los datos de la garantía de manera exitosa");const r=t==null?void 0:t.data.warrantyForm_insert.id;return r?(vp.removeAll(),{success:!0,id:r}):{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de la garantía",t),{success:!1}}},mJ=async e=>{try{const t=await RK(e);return console.log("Se insertaron los datos de la garantía de manera exitosa"),t!=null&&t.data.warrantyForm_update?(vp.removeAll(),{success:!0}):{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de la garantía",t),{success:!1}}},hJ=async e=>{var t;try{const r=await DK({warrantyFormId:e});return console.log("Se eliminó la garantía correctamente"),(t=r==null?void 0:r.data)!=null&&t.warrantyForm_delete?(vp.removeAll(),{success:!0}):{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar la garantía",r),{success:!1}}},SM=async e=>{var t,r;try{const n=vp.get(e.productRequestId);if(n.length>0)return console.log("Datos de garantia recuperados desde caché"),n;const a=await pY(Bt,e),i=(t=a==null?void 0:a.data)==null?void 0:t.warrantyForms;return(r=a==null?void 0:a.data)!=null&&r.warrantyForms?(console.log("Se recuperaron los datos de garantía de manera exitosa desde la API"),vp.save(e.productRequestId,i),a.data.warrantyForms):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},GE=async e=>{var t;try{const r=await vY(Bt,e);return(t=r==null?void 0:r.data)!=null&&t.resolutionDataSet[0]?(console.log("Se recuperaron los datos de resolucion de manera exitosa desde la API"),r.data.resolutionDataSet[0]):(console.warn("No se encontraron datos de resolucion para el ID proporcionado"),null)}catch(r){return console.error("Ocurrió un error al recuperar los datos de resolucion",r),null}},Zx=async()=>{try{const e=await dY(Bt);return console.log("Se obtuvieron los templates de forma correcta desde api"),e.data.documentTemplates&&Array.isArray(e.data.documentTemplates)?e.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de templates:",e),[]}},EM=async e=>{try{return await jK(e),console.log("se agregó el documento requerido con exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar el documento requerido.",t),{success:!1}}},gJ=async e=>{try{return await _K(e),console.log("se agregó el flujo exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al actualizar el flujo.",t),{success:!1}}},_M=_.createContext(void 0),Sa=()=>{const e=_.useContext(_M);if(!e)throw new Error("useProduct debe usarse dentro de un ProductProvider");return e};function xJ(){const e=Qt(),{selectProduct:t}=Sa(),[r,n]=_.useState(null),[a,i]=_.useState(!1),{productSelectedId:s}=ID(),o=c=>{if(!r)return;sessionStorage.clear();const u=r.find(d=>d.id===c);u&&(t({id:u.id,flowStatus:u.userFlowStatus||0,productName:u.productName||"",verticalName:u.verticalName||"",chatId:u.chatId??void 0,createdAt:u.createdAt||""}),e("/user/dashboard"))};return _.useEffect(()=>{(async()=>{const u=await cJ();n(u)})()},[]),_.useEffect(()=>{r&&r.length===1&&(i(!0),setTimeout(()=>o(r[0].id),100))},[r]),_.useEffect(()=>{s&&r&&o(s)},[s,r]),a?l.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-500",children:[l.jsx($t,{className:"w-10 h-10 animate-spin mb-2"}),"Redirigiendo al producto..."]}):l.jsx("div",{className:"p-8 font-sans",children:l.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-lg shadow-md p-6",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Selecciona un producto"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Elige uno de los productos disponibles para revisar su estado."}),l.jsx("div",{className:"divide-y divide-gray-200",children:r===null?l.jsx("div",{className:"text-center text-gray-500 py-6",children:"Cargando productos..."}):r.length===0?l.jsx("div",{className:"text-center text-gray-500 py-6",children:"No tienes solicitudes activas."}):r.map(c=>l.jsx("div",{onClick:()=>o(c.id),className:"py-4 px-3 cursor-pointer bg-gray-50 hover:bg-blue-50 rounded-md transition duration-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:c.productName}),l.jsxs("span",{className:"text-s text-gray-400",children:["Fecha de solicitud: ",new Date(c.createdAt).toLocaleDateString()]})]})},c.id))})]})})}function kT(){return l.jsx(Qn,{children:l.jsx(xJ,{})})}const Om=()=>l.jsx("div",{className:"flex justify-center items-center h-screen bg-black bg-opacity-10",children:l.jsx("div",{className:"border-8 border-t-8 border-gray-300 border-t-blue-500 rounded-full w-12 h-12 animate-spin"})}),ib=({children:e})=>{const{isLoggedIn:t,isLogging:r,conectionError:n}=Nt();return r?l.jsx(Om,{}):n?l.jsx(jf,{to:"/Offline"}):t?l.jsx(l.Fragment,{children:e}):l.jsx(jf,{to:"/"})},Yo=({children:e})=>{const{isLoggedIn:t,isLogging:r,conectionError:n,user:a}=Nt();return r?l.jsx(Om,{}):n?l.jsx(jf,{to:"/Offline"}):a&&!(a!=null&&a.withCredentials)?l.jsx(jf,{to:"/admin/credentials"}):t&&(a!=null&&a.isAdmin)?(console.log("acceso autorizado Admin"),l.jsx(l.Fragment,{children:e})):l.jsx(jf,{to:t?"/not-authorized":"/"})};function XE(){const[e,t]=_.useState([]),[r,n]=_.useState(!0),{user:a}=Nt();return _.useEffect(()=>{(async()=>{var s;const i=await JF({adminTeamId:((s=a==null?void 0:a.adminTeam)==null?void 0:s.id)??""});i&&t(i),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}const It=()=>{const e=_.useContext(RD);if(!e)throw new Error("useClient debe usarse dentro de un ClientProvider");return e};function vJ(){const{businessProducts:e,loading:t}=XE(),{selectClient:r}=It(),n=Qt(),[a,i]=_.useState(""),[s,o]=_.useState(1),[c,u]=_.useState(10),[d,f]=_.useState(null),[p,m]=_.useState("asc"),[h,g]=_.useState([null,null]),[x,v]=_.useState(!1),b=_.useRef(null);_.useEffect(()=>{const N=I=>{b.current&&!b.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const y=N=>{i(N.target.value)},k=N=>{const I=e.find(F=>F.userEmail===N.userEmail&&F.products.some(q=>q.id===N.id)),M=I==null?void 0:I.products.find(F=>F.id===N.id);I&&M&&(r({id:M.id,company:I.name,iconUrl:"",email:I.userEmail,name:I.userName,mailboxId:M.mailboxId??void 0,chatId:M.chatId??void 0,flowStatus:M.flowStatus??void 0,producName:M.productName??void 0}),n("/admin/nafin/product/onboarding"))},E=()=>{n("/admin/nafin/product/request")},T=[...e.flatMap(N=>N.products.map(I=>({...I,clientName:N.name,userName:N.userName,userEmail:N.userEmail,ownerAdminEmail:N.ownerAdminEmail,ownerAdminName:N.ownerAdminName}))).filter(N=>{var V,B,R;const I=a.toLowerCase(),M=new Date(N.createdAt),[F,q]=h,W=(!F||M>=new Date(F))&&(!q||M<=new Date(q));return(((V=N.productName)==null?void 0:V.toLowerCase().includes(I))||((B=N.clientName)==null?void 0:B.toLowerCase().includes(I))||((R=N.userEmail)==null?void 0:R.toLowerCase().includes(I)))&&W})].sort((N,I)=>{if(!d)return 0;const M=N[d],F=I[d];if(M===F)return 0;if(M==null)return 1;if(F==null)return-1;if(d==="createdAt"){const V=new Date(M).getTime(),B=new Date(F).getTime();return p==="asc"?V-B:B-V}const q=String(M).toLowerCase(),W=String(F).toLowerCase();return p==="asc"?q.localeCompare(W):W.localeCompare(q)}).slice((s-1)*c,s*c),C=N=>{d===N?m(I=>I==="asc"?"desc":"asc"):(f(N),m("asc"))},A=({column:N})=>d!==N?l.jsx(Qr,{className:"text-gray-300",size:16}):p==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Nafin"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),l.jsx("span",{children:"Nuevo cliente"})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a,onChange:y})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>v(N=>!N),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:h[0]&&h[1]?`${h[0]} - ${h[1]}`:"Seleccionar fecha"})]}),x&&l.jsx("div",{ref:b,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[0]||"",onChange:N=>g([N.target.value,h[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[1]||"",onChange:N=>g([h[0],N.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(A,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(A,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",l.jsx(A,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(A,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(A,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"})]})}),l.jsx("tbody",{children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):T.length>0?T.map((N,I)=>l.jsxs("tr",{onClick:()=>k(N),className:"border-b hover:bg-blue-50 cursor-pointer transition-colors",children:[l.jsx("td",{className:"px-4 py-3",children:N.productName}),l.jsx("td",{className:"px-4 py-3",children:N.clientName}),l.jsx("td",{className:"px-4 py-3",children:N.userName}),l.jsx("td",{className:"px-4 py-3",children:N.userEmail}),l.jsx("td",{className:"px-4 py-3",children:new Date(N.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>k(N),children:N.ownerAdminName??"-"})]},I)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:c,onChange:N=>u(Number(N.target.value)),children:[5,10,20].map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:s===1,onClick:()=>o(N=>Math.max(N-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:s}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>o(N=>N+1),children:l.jsx(ac,{size:18})})]})]})]})]})}function Ea({status:e,onClose:t,reload:r=!1,route:n="/",messages:a}){const i=()=>e==="processing"?{icon:l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-yellow-100",children:l.jsx($t,{className:"h-8 w-8 text-yellow-500 animate-spin"})}),title:"Procesando tu solicitud",message:"Por favor, espera mientras procesamos tu solicitud."}:a?{icon:e==="success"?l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-green-100",children:l.jsx(mr,{className:"h-8 w-8 text-green-500"})}):l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-red-100",children:l.jsx(dd,{className:"h-8 w-8 text-red-500"})}),title:a.title,message:a.message,details:a.details}:(console.error("Los mensajes son obligatorios para estados de éxito o error."),null),s=()=>{e==="success"&&r?window.location.href=n:t()},o=i();return o?l.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 max-w-full text-center shadow-lg relative",children:[o.icon,l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:o.title}),l.jsx("p",{className:"text-base text-gray-600 mb-4",children:o.message}),o.details&&l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:o.details}),l.jsx("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:e==="success"?"Finalizar":"Cerrar"})]})}):null}function NM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=NM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=NM(e))&&(n&&(n+=" "),n+=t);return n}var yJ=Array.isArray,Zn=yJ,bJ=typeof Zs=="object"&&Zs&&Zs.Object===Object&&Zs,kM=bJ,wJ=kM,SJ=typeof self=="object"&&self&&self.Object===Object&&self,EJ=wJ||SJ||Function("return this")(),Ui=EJ,_J=Ui,NJ=_J.Symbol,Rm=NJ,CT=Rm,CM=Object.prototype,kJ=CM.hasOwnProperty,CJ=CM.toString,Gd=CT?CT.toStringTag:void 0;function TJ(e){var t=kJ.call(e,Gd),r=e[Gd];try{e[Gd]=void 0;var n=!0}catch{}var a=CJ.call(e);return n&&(t?e[Gd]=r:delete e[Gd]),a}var jJ=TJ,AJ=Object.prototype,IJ=AJ.toString;function PJ(e){return IJ.call(e)}var OJ=PJ,TT=Rm,RJ=jJ,DJ=OJ,FJ="[object Null]",MJ="[object Undefined]",jT=TT?TT.toStringTag:void 0;function LJ(e){return e==null?e===void 0?MJ:FJ:jT&&jT in Object(e)?RJ(e):DJ(e)}var Ts=LJ;function $J(e){return e!=null&&typeof e=="object"}var js=$J,BJ=Ts,zJ=js,UJ="[object Symbol]";function qJ(e){return typeof e=="symbol"||zJ(e)&&BJ(e)==UJ}var hd=qJ,VJ=Zn,HJ=hd,WJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GJ=/^\w*$/;function XJ(e,t){if(VJ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||HJ(e)?!0:GJ.test(e)||!WJ.test(e)||t!=null&&e in Object(t)}var KE=XJ;function KJ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $o=KJ;const gd=_t($o);var YJ=Ts,JJ=$o,QJ="[object AsyncFunction]",ZJ="[object Function]",eQ="[object GeneratorFunction]",tQ="[object Proxy]";function rQ(e){if(!JJ(e))return!1;var t=YJ(e);return t==ZJ||t==eQ||t==QJ||t==tQ}var YE=rQ;const at=_t(YE);var nQ=Ui,aQ=nQ["__core-js_shared__"],iQ=aQ,sb=iQ,AT=function(){var e=/[^.]+$/.exec(sb&&sb.keys&&sb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sQ(e){return!!AT&&AT in e}var oQ=sQ,lQ=Function.prototype,cQ=lQ.toString;function uQ(e){if(e!=null){try{return cQ.call(e)}catch{}try{return e+""}catch{}}return""}var TM=uQ,dQ=YE,fQ=oQ,pQ=$o,mQ=TM,hQ=/[\\^$.*+?()[\]{}|]/g,gQ=/^\[object .+?Constructor\]$/,xQ=Function.prototype,vQ=Object.prototype,yQ=xQ.toString,bQ=vQ.hasOwnProperty,wQ=RegExp("^"+yQ.call(bQ).replace(hQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SQ(e){if(!pQ(e)||fQ(e))return!1;var t=dQ(e)?wQ:gQ;return t.test(mQ(e))}var EQ=SQ;function _Q(e,t){return e==null?void 0:e[t]}var NQ=_Q,kQ=EQ,CQ=NQ;function TQ(e,t){var r=CQ(e,t);return kQ(r)?r:void 0}var oc=TQ,jQ=oc,AQ=jQ(Object,"create"),ev=AQ,IT=ev;function IQ(){this.__data__=IT?IT(null):{},this.size=0}var PQ=IQ;function OQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var RQ=OQ,DQ=ev,FQ="__lodash_hash_undefined__",MQ=Object.prototype,LQ=MQ.hasOwnProperty;function $Q(e){var t=this.__data__;if(DQ){var r=t[e];return r===FQ?void 0:r}return LQ.call(t,e)?t[e]:void 0}var BQ=$Q,zQ=ev,UQ=Object.prototype,qQ=UQ.hasOwnProperty;function VQ(e){var t=this.__data__;return zQ?t[e]!==void 0:qQ.call(t,e)}var HQ=VQ,WQ=ev,GQ="__lodash_hash_undefined__";function XQ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WQ&&t===void 0?GQ:t,this}var KQ=XQ,YQ=PQ,JQ=RQ,QQ=BQ,ZQ=HQ,eZ=KQ;function xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xd.prototype.clear=YQ;xd.prototype.delete=JQ;xd.prototype.get=QQ;xd.prototype.has=ZQ;xd.prototype.set=eZ;var tZ=xd;function rZ(){this.__data__=[],this.size=0}var nZ=rZ;function aZ(e,t){return e===t||e!==e&&t!==t}var JE=aZ,iZ=JE;function sZ(e,t){for(var r=e.length;r--;)if(iZ(e[r][0],t))return r;return-1}var tv=sZ,oZ=tv,lZ=Array.prototype,cZ=lZ.splice;function uZ(e){var t=this.__data__,r=oZ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():cZ.call(t,r,1),--this.size,!0}var dZ=uZ,fZ=tv;function pZ(e){var t=this.__data__,r=fZ(t,e);return r<0?void 0:t[r][1]}var mZ=pZ,hZ=tv;function gZ(e){return hZ(this.__data__,e)>-1}var xZ=gZ,vZ=tv;function yZ(e,t){var r=this.__data__,n=vZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var bZ=yZ,wZ=nZ,SZ=dZ,EZ=mZ,_Z=xZ,NZ=bZ;function vd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vd.prototype.clear=wZ;vd.prototype.delete=SZ;vd.prototype.get=EZ;vd.prototype.has=_Z;vd.prototype.set=NZ;var rv=vd,kZ=oc,CZ=Ui,TZ=kZ(CZ,"Map"),QE=TZ,PT=tZ,jZ=rv,AZ=QE;function IZ(){this.size=0,this.__data__={hash:new PT,map:new(AZ||jZ),string:new PT}}var PZ=IZ;function OZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var RZ=OZ,DZ=RZ;function FZ(e,t){var r=e.__data__;return DZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var nv=FZ,MZ=nv;function LZ(e){var t=MZ(this,e).delete(e);return this.size-=t?1:0,t}var $Z=LZ,BZ=nv;function zZ(e){return BZ(this,e).get(e)}var UZ=zZ,qZ=nv;function VZ(e){return qZ(this,e).has(e)}var HZ=VZ,WZ=nv;function GZ(e,t){var r=WZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var XZ=GZ,KZ=PZ,YZ=$Z,JZ=UZ,QZ=HZ,ZZ=XZ;function yd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yd.prototype.clear=KZ;yd.prototype.delete=YZ;yd.prototype.get=JZ;yd.prototype.has=QZ;yd.prototype.set=ZZ;var ZE=yd,jM=ZE,eee="Expected a function";function e_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(eee);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(e_.Cache||jM),r}e_.Cache=jM;var AM=e_;const tee=_t(AM);var ree=AM,nee=500;function aee(e){var t=ree(e,function(n){return r.size===nee&&r.clear(),n}),r=t.cache;return t}var iee=aee,see=iee,oee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lee=/\\(\\)?/g,cee=see(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(oee,function(r,n,a,i){t.push(a?i.replace(lee,"$1"):n||r)}),t}),uee=cee;function dee(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var t_=dee,OT=Rm,fee=t_,pee=Zn,mee=hd,hee=1/0,RT=OT?OT.prototype:void 0,DT=RT?RT.toString:void 0;function IM(e){if(typeof e=="string")return e;if(pee(e))return fee(e,IM)+"";if(mee(e))return DT?DT.call(e):"";var t=e+"";return t=="0"&&1/e==-hee?"-0":t}var gee=IM,xee=gee;function vee(e){return e==null?"":xee(e)}var PM=vee,yee=Zn,bee=KE,wee=uee,See=PM;function Eee(e,t){return yee(e)?e:bee(e,t)?[e]:wee(See(e))}var OM=Eee,_ee=hd,Nee=1/0;function kee(e){if(typeof e=="string"||_ee(e))return e;var t=e+"";return t=="0"&&1/e==-Nee?"-0":t}var av=kee,Cee=OM,Tee=av;function jee(e,t){t=Cee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Tee(t[r++])];return r&&r==n?e:void 0}var r_=jee,Aee=r_;function Iee(e,t,r){var n=e==null?void 0:Aee(e,t);return n===void 0?r:n}var RM=Iee;const za=_t(RM);function Pee(e){return e==null}var Oee=Pee;const vt=_t(Oee);var Ree=Ts,Dee=Zn,Fee=js,Mee="[object String]";function Lee(e){return typeof e=="string"||!Dee(e)&&Fee(e)&&Ree(e)==Mee}var $ee=Lee;const Fl=_t($ee);var DM={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=Symbol.for("react.element"),a_=Symbol.for("react.portal"),iv=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),Bee=Symbol.for("react.server_context"),uv=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),pv=Symbol.for("react.memo"),mv=Symbol.for("react.lazy"),zee=Symbol.for("react.offscreen"),FM;FM=Symbol.for("react.module.reference");function Ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case n_:switch(e=e.type,e){case iv:case ov:case sv:case dv:case fv:return e;default:switch(e=e&&e.$$typeof,e){case Bee:case cv:case uv:case mv:case pv:case lv:return e;default:return t}}case a_:return t}}}kt.ContextConsumer=cv;kt.ContextProvider=lv;kt.Element=n_;kt.ForwardRef=uv;kt.Fragment=iv;kt.Lazy=mv;kt.Memo=pv;kt.Portal=a_;kt.Profiler=ov;kt.StrictMode=sv;kt.Suspense=dv;kt.SuspenseList=fv;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return Ga(e)===cv};kt.isContextProvider=function(e){return Ga(e)===lv};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n_};kt.isForwardRef=function(e){return Ga(e)===uv};kt.isFragment=function(e){return Ga(e)===iv};kt.isLazy=function(e){return Ga(e)===mv};kt.isMemo=function(e){return Ga(e)===pv};kt.isPortal=function(e){return Ga(e)===a_};kt.isProfiler=function(e){return Ga(e)===ov};kt.isStrictMode=function(e){return Ga(e)===sv};kt.isSuspense=function(e){return Ga(e)===dv};kt.isSuspenseList=function(e){return Ga(e)===fv};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iv||e===ov||e===sv||e===dv||e===fv||e===zee||typeof e=="object"&&e!==null&&(e.$$typeof===mv||e.$$typeof===pv||e.$$typeof===lv||e.$$typeof===cv||e.$$typeof===uv||e.$$typeof===FM||e.getModuleId!==void 0)};kt.typeOf=Ga;DM.exports=kt;var Uee=DM.exports,qee=Ts,Vee=js,Hee="[object Number]";function Wee(e){return typeof e=="number"||Vee(e)&&qee(e)==Hee}var MM=Wee;const Gee=_t(MM);var Xee=MM;function Kee(e){return Xee(e)&&e!=+e}var Yee=Kee;const Dm=_t(Yee);var ai=function(t){return t===0?0:t>0?1:-1},ul=function(t){return Fl(t)&&t.indexOf("%")===t.length-1},Te=function(t){return Gee(t)&&!Dm(t)},Ir=function(t){return Te(t)||Fl(t)},Jee=0,hv=function(t){var r=++Jee;return"".concat(t||"").concat(r)},Ml=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&!Fl(t))return n;var i;if(ul(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Dm(i)&&(i=n),a&&i>r&&(i=r),i},Js=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Qee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Sc=function(t,r){return Te(t)&&Te(r)?function(n){return t+n*(r-t)}:function(){return r}};function Nw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):za(n,t))===r})}var Zee=function(t,r){return Te(t)&&Te(r)?t-r:Fl(t)&&Fl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function su(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function kw(e){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kw(e)}var ete=["viewBox","children"],tte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FT=["points","pathLength"],ob={svg:ete,polygon:FT,polyline:FT},i_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ng=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!gd(n))return null;var a={};return Object.keys(n).forEach(function(i){i_.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},rte=function(t,r,n){return function(a){return t(r,n,a),null}},ag=function(t,r,n){if(!gd(t)||kw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];i_.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=rte(s,r,n))}),a},nte=["children"],ate=["children"];function MT(e,t){if(e==null)return{};var r=ite(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ss=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},$T=null,lb=null,s_=function e(t){if(t===$T&&Array.isArray(lb))return lb;var r=[];return _.Children.forEach(t,function(n){vt(n)||(Uee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),lb=r,$T=t,r};function ui(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ss(a)}):n=[ss(t)],s_(e).forEach(function(a){var i=za(a,"type.displayName")||za(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ia(e,t){var r=ui(e,t);return r&&r[0]}var BT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Te(n)||n<=0||!Te(a)||a<=0)},ste=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ote=function(t){return t&&t.type&&Fl(t.type)&&ste.indexOf(t.type)>=0},lte=function(t,r,n,a){var i,s=(i=ob==null?void 0:ob[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(a&&s.includes(r)||tte.includes(r))||n&&i_.includes(r)},gt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!gd(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;lte((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},Cw=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!zT(i,s))return!1}return!0},zT=function(t,r){if(vt(t)&&vt(r))return!0;if(!vt(t)&&!vt(r)){var n=t.props||{},a=n.children,i=MT(n,nte),s=r.props||{},o=s.children,c=MT(s,ate);return a&&o?su(i,c)&&Cw(a,o):!a&&!o?su(i,c):!1}return!1},UT=function(t,r){var n=[],a={};return s_(t).forEach(function(i,s){if(ote(i))n.push(i);else if(i){var o=ss(i.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},cte=function(t){var r=t&&t.type;return r&&LT[r]?LT[r]:null},ute=function(t,r){return s_(r).indexOf(t)},dte=["children","width","height","viewBox","className","style","title","desc"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function fte(e,t){if(e==null)return{};var r=pte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jw(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,u=fte(e,dte),d=a||{width:r,height:n,x:0,y:0},f=st("recharts-surface",i);return ae.createElement("svg",Tw({},gt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ae.createElement("title",null,o),ae.createElement("desc",null,c),t)}var mte=["children","className"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(this,arguments)}function hte(e,t){if(e==null)return{};var r=gte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lr=ae.forwardRef(function(e,t){var r=e.children,n=e.className,a=hte(e,mte),i=st("recharts-layer",n);return ae.createElement("g",Aw({className:i},gt(a,!0),{ref:t}),r)}),os=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function xte(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var vte=xte,yte=vte;function bte(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:yte(e,t,r)}var wte=bte,Ste="\\ud800-\\udfff",Ete="\\u0300-\\u036f",_te="\\ufe20-\\ufe2f",Nte="\\u20d0-\\u20ff",kte=Ete+_te+Nte,Cte="\\ufe0e\\ufe0f",Tte="\\u200d",jte=RegExp("["+Tte+Ste+kte+Cte+"]");function Ate(e){return jte.test(e)}var LM=Ate;function Ite(e){return e.split("")}var Pte=Ite,$M="\\ud800-\\udfff",Ote="\\u0300-\\u036f",Rte="\\ufe20-\\ufe2f",Dte="\\u20d0-\\u20ff",Fte=Ote+Rte+Dte,Mte="\\ufe0e\\ufe0f",Lte="["+$M+"]",Iw="["+Fte+"]",Pw="\\ud83c[\\udffb-\\udfff]",$te="(?:"+Iw+"|"+Pw+")",BM="[^"+$M+"]",zM="(?:\\ud83c[\\udde6-\\uddff]){2}",UM="[\\ud800-\\udbff][\\udc00-\\udfff]",Bte="\\u200d",qM=$te+"?",VM="["+Mte+"]?",zte="(?:"+Bte+"(?:"+[BM,zM,UM].join("|")+")"+VM+qM+")*",Ute=VM+qM+zte,qte="(?:"+[BM+Iw+"?",Iw,zM,UM,Lte].join("|")+")",Vte=RegExp(Pw+"(?="+Pw+")|"+qte+Ute,"g");function Hte(e){return e.match(Vte)||[]}var Wte=Hte,Gte=Pte,Xte=LM,Kte=Wte;function Yte(e){return Xte(e)?Kte(e):Gte(e)}var Jte=Yte,Qte=wte,Zte=LM,ere=Jte,tre=PM;function rre(e){return function(t){t=tre(t);var r=Zte(t)?ere(t):void 0,n=r?r[0]:t.charAt(0),a=r?Qte(r,1).join(""):t.slice(1);return n[e]()+a}}var nre=rre,are=nre,ire=are("toUpperCase"),sre=ire;const gv=_t(sre);function Mt(e){return function(){return e}}const HM=Math.cos,ig=Math.sin,xi=Math.sqrt,sg=Math.PI,xv=2*sg,Ow=Math.PI,Rw=2*Ow,rl=1e-6,ore=Rw-rl;function WM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function lre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WM;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class cre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WM:lre(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>rl)if(!(Math.abs(f*c-u*d)>rl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,h=a-o,g=c*c+u*u,x=m*m+h*h,v=Math.sqrt(g),b=Math.sqrt(p),y=i*Math.tan((Ow-Math.acos((g+p-x)/(2*v*b)))/2),k=y/b,E=y/v;Math.abs(k-1)>rl&&this._append`L${t+k*d},${r+k*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+E*c},${this._y1=r+E*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>rl||Math.abs(this._y1-d)>rl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%Rw+Rw),p>ore?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>rl&&this._append`A${n},${n},0,${+(p>=Ow)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function o_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new cre(t)}function l_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GM(e){this._context=e}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vv(e){return new GM(e)}function XM(e){return e[0]}function KM(e){return e[1]}function YM(e,t){var r=Mt(!0),n=null,a=vv,i=null,s=o_(o);e=typeof e=="function"?e:e===void 0?XM:Mt(e),t=typeof t=="function"?t:t===void 0?KM:Mt(t);function o(c){var u,d=(c=l_(c)).length,f,p=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Mt(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Eh(e,t,r){var n=null,a=Mt(!0),i=null,s=vv,o=null,c=o_(u);e=typeof e=="function"?e:e===void 0?XM:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KM:Mt(+r);function u(f){var p,m,h,g=(f=l_(f)).length,x,v=!1,b,y=new Array(g),k=new Array(g);for(i==null&&(o=s(b=c())),p=0;p<=g;++p){if(!(p<g&&a(x=f[p],p,f))===v)if(v=!v)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=p-1;h>=m;--h)o.point(y[h],k[h]);o.lineEnd(),o.areaEnd()}v&&(y[p]=+e(x,p,f),k[p]=+t(x,p,f),o.point(n?+n(x,p,f):y[p],r?+r(x,p,f):k[p]))}if(b)return o=null,b+""||null}function d(){return YM().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Mt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class JM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ure(e){return new JM(e,!0)}function dre(e){return new JM(e,!1)}const c_={draw(e,t){const r=xi(t/sg);e.moveTo(r,0),e.arc(0,0,r,0,xv)}},fre={draw(e,t){const r=xi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},QM=xi(1/3),pre=QM*2,mre={draw(e,t){const r=xi(t/pre),n=r*QM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},hre={draw(e,t){const r=xi(t),n=-r/2;e.rect(n,n,r,r)}},gre=.8908130915292852,ZM=ig(sg/10)/ig(7*sg/10),xre=ig(xv/10)*ZM,vre=-HM(xv/10)*ZM,yre={draw(e,t){const r=xi(t*gre),n=xre*r,a=vre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=xv*i/5,o=HM(s),c=ig(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},cb=xi(3),bre={draw(e,t){const r=-xi(t/(cb*3));e.moveTo(0,r*2),e.lineTo(-cb*r,-r),e.lineTo(cb*r,-r),e.closePath()}},Na=-.5,ka=xi(3)/2,Dw=1/xi(12),wre=(Dw/2+1)*3,Sre={draw(e,t){const r=xi(t/wre),n=r/2,a=r*Dw,i=n,s=r*Dw+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Na*n-ka*a,ka*n+Na*a),e.lineTo(Na*i-ka*s,ka*i+Na*s),e.lineTo(Na*o-ka*c,ka*o+Na*c),e.lineTo(Na*n+ka*a,Na*a-ka*n),e.lineTo(Na*i+ka*s,Na*s-ka*i),e.lineTo(Na*o+ka*c,Na*c-ka*o),e.closePath()}};function Ere(e,t){let r=null,n=o_(a);e=typeof e=="function"?e:Mt(e||c_),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function og(){}function lg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function e6(e){this._context=e}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _re(e){return new e6(e)}function t6(e){this._context=e}t6.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nre(e){return new t6(e)}function r6(e){this._context=e}r6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kre(e){return new r6(e)}function n6(e){this._context=e}n6.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cre(e){return new n6(e)}function qT(e){return e<0?-1:1}function VT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(qT(i)+qT(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function HT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ub(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function cg(e){this._context=e}cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ub(this,this._t0,HT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ub(this,HT(this,r=VT(this,e,t)),r);break;default:ub(this,this._t0,r=VT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function a6(e){this._context=new i6(e)}(a6.prototype=Object.create(cg.prototype)).point=function(e,t){cg.prototype.point.call(this,t,e)};function i6(e){this._context=e}i6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Tre(e){return new cg(e)}function jre(e){return new a6(e)}function s6(e){this._context=e}s6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=WT(e),a=WT(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Are(e){return new s6(e)}function yv(e,t){this._context=e,this._t=t}yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Ire(e){return new yv(e,.5)}function Pre(e){return new yv(e,0)}function Ore(e){return new yv(e,1)}function Tu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Fw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Rre(e,t){return e[t]}function Dre(e){const t=[];return t.key=e,t}function Fre(){var e=Mt([]),t=Fw,r=Tu,n=Rre;function a(i){var s=Array.from(e.apply(this,arguments),Dre),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=l_(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Fw:typeof i=="function"?i:Mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Tu,a):r},a}function Mre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Tu(e,t)}}function Lre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Tu(e,t)}}function $re(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,p=d[n-1][1]||0,m=(f-p)/2,h=0;h<o;++h){var g=e[t[h]],x=g[n][1]||0,v=g[n-1][1]||0;m+=x-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Tu(e,t)}}function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}var Bre=["type","size","sizeType"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zre(e,t,r){return t=Ure(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ure(e){var t=qre(e,"string");return yp(t)=="symbol"?t:t+""}function qre(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e,t){if(e==null)return{};var r=Hre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o6={symbolCircle:c_,symbolCross:fre,symbolDiamond:mre,symbolSquare:hre,symbolStar:yre,symbolTriangle:bre,symbolWye:Sre},Wre=Math.PI/180,Gre=function(t){var r="symbol".concat(gv(t));return o6[r]||c_},Xre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Wre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Kre=function(t,r){o6["symbol".concat(gv(t))]=r},u_=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,c=Vre(t,Bre),u=XT(XT({},c),{},{type:n,size:i,sizeType:o}),d=function(){var x=Gre(n),v=Ere().type(x).size(Xre(i,o,n));return v()},f=u.className,p=u.cx,m=u.cy,h=gt(u,!0);return p===+p&&m===+m&&i===+i?ae.createElement("path",Mw({},h,{className:st("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:d()})):null};u_.registerSymbol=Kre;function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){bp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c6(n.key),n)}}function Zre(e,t,r){return t&&Qre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ene(e,t,r){return t=ug(t),tne(e,l6()?Reflect.construct(t,r||[],ug(e).constructor):t.apply(e,r))}function tne(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rne(e)}function rne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l6=function(){return!!e})()}function ug(e){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(e)}function nne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$w(e,t)}function bp(e,t,r){return t=c6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c6(e){var t=ane(e,"string");return ju(t)=="symbol"?t:t+""}function ane(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca=32,d_=function(e){function t(){return Jre(this,t),ene(this,t,arguments)}return nne(t,e),Zre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ca/2,s=Ca/6,o=Ca/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ca,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ca,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ca/8,"h").concat(Ca,"v").concat(Ca*3/4,"h").concat(-Ca,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(n.legendIcon)){var u=Yre({},n);return delete u.legendIcon,ae.cloneElement(n.legendIcon,u)}return ae.createElement(u_,{fill:c,cx:i,cy:i,size:Ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ca,height:Ca},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,h){var g=m.formatter||c,x=st(bp(bp({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=at(m.value)?null:m.value;os(!at(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ae.createElement("li",Lw({className:x,style:f,key:"legend-item-".concat(h)},ag(n.props,m,h)),ae.createElement(jw,{width:s,height:s,viewBox:d,style:p},n.renderIcon(m)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,m,h):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(_.PureComponent);bp(d_,"displayName","Legend");bp(d_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ine=rv;function sne(){this.__data__=new ine,this.size=0}var one=sne;function lne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var cne=lne;function une(e){return this.__data__.get(e)}var dne=une;function fne(e){return this.__data__.has(e)}var pne=fne,mne=rv,hne=QE,gne=ZE,xne=200;function vne(e,t){var r=this.__data__;if(r instanceof mne){var n=r.__data__;if(!hne||n.length<xne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gne(n)}return r.set(e,t),this.size=r.size,this}var yne=vne,bne=rv,wne=one,Sne=cne,Ene=dne,_ne=pne,Nne=yne;function bd(e){var t=this.__data__=new bne(e);this.size=t.size}bd.prototype.clear=wne;bd.prototype.delete=Sne;bd.prototype.get=Ene;bd.prototype.has=_ne;bd.prototype.set=Nne;var u6=bd,kne="__lodash_hash_undefined__";function Cne(e){return this.__data__.set(e,kne),this}var Tne=Cne;function jne(e){return this.__data__.has(e)}var Ane=jne,Ine=ZE,Pne=Tne,One=Ane;function dg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ine;++t<r;)this.add(e[t])}dg.prototype.add=dg.prototype.push=Pne;dg.prototype.has=One;var d6=dg;function Rne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var f6=Rne;function Dne(e,t){return e.has(t)}var p6=Dne,Fne=d6,Mne=f6,Lne=p6,$ne=1,Bne=2;function zne(e,t,r,n,a,i){var s=r&$ne,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=r&Bne?new Fne:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var h=e[f],g=t[f];if(n)var x=s?n(g,h,f,t,e,i):n(h,g,f,e,t,i);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Mne(t,function(v,b){if(!Lne(m,b)&&(h===v||a(h,v,r,n,i)))return m.push(b)})){p=!1;break}}else if(!(h===g||a(h,g,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var m6=zne,Une=Ui,qne=Une.Uint8Array,Vne=qne;function Hne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Wne=Hne;function Gne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var f_=Gne,YT=Rm,JT=Vne,Xne=JE,Kne=m6,Yne=Wne,Jne=f_,Qne=1,Zne=2,eae="[object Boolean]",tae="[object Date]",rae="[object Error]",nae="[object Map]",aae="[object Number]",iae="[object RegExp]",sae="[object Set]",oae="[object String]",lae="[object Symbol]",cae="[object ArrayBuffer]",uae="[object DataView]",QT=YT?YT.prototype:void 0,db=QT?QT.valueOf:void 0;function dae(e,t,r,n,a,i,s){switch(r){case uae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cae:return!(e.byteLength!=t.byteLength||!i(new JT(e),new JT(t)));case eae:case tae:case aae:return Xne(+e,+t);case rae:return e.name==t.name&&e.message==t.message;case iae:case oae:return e==t+"";case nae:var o=Yne;case sae:var c=n&Qne;if(o||(o=Jne),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Zne,s.set(e,t);var d=Kne(o(e),o(t),n,a,i,s);return s.delete(e),d;case lae:if(db)return db.call(e)==db.call(t)}return!1}var fae=dae;function pae(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var h6=pae,mae=h6,hae=Zn;function gae(e,t,r){var n=t(e);return hae(e)?n:mae(n,r(e))}var xae=gae;function vae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var yae=vae;function bae(){return[]}var wae=bae,Sae=yae,Eae=wae,_ae=Object.prototype,Nae=_ae.propertyIsEnumerable,ZT=Object.getOwnPropertySymbols,kae=ZT?function(e){return e==null?[]:(e=Object(e),Sae(ZT(e),function(t){return Nae.call(e,t)}))}:Eae,Cae=kae;function Tae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jae=Tae,Aae=Ts,Iae=js,Pae="[object Arguments]";function Oae(e){return Iae(e)&&Aae(e)==Pae}var Rae=Oae,ej=Rae,Dae=js,g6=Object.prototype,Fae=g6.hasOwnProperty,Mae=g6.propertyIsEnumerable,Lae=ej(function(){return arguments}())?ej:function(e){return Dae(e)&&Fae.call(e,"callee")&&!Mae.call(e,"callee")},p_=Lae,fg={exports:{}};function $ae(){return!1}var Bae=$ae;fg.exports;(function(e,t){var r=Ui,n=Bae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(fg,fg.exports);var x6=fg.exports,zae=9007199254740991,Uae=/^(?:0|[1-9]\d*)$/;function qae(e,t){var r=typeof e;return t=t??zae,!!t&&(r=="number"||r!="symbol"&&Uae.test(e))&&e>-1&&e%1==0&&e<t}var m_=qae,Vae=9007199254740991;function Hae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vae}var h_=Hae,Wae=Ts,Gae=h_,Xae=js,Kae="[object Arguments]",Yae="[object Array]",Jae="[object Boolean]",Qae="[object Date]",Zae="[object Error]",eie="[object Function]",tie="[object Map]",rie="[object Number]",nie="[object Object]",aie="[object RegExp]",iie="[object Set]",sie="[object String]",oie="[object WeakMap]",lie="[object ArrayBuffer]",cie="[object DataView]",uie="[object Float32Array]",die="[object Float64Array]",fie="[object Int8Array]",pie="[object Int16Array]",mie="[object Int32Array]",hie="[object Uint8Array]",gie="[object Uint8ClampedArray]",xie="[object Uint16Array]",vie="[object Uint32Array]",qt={};qt[uie]=qt[die]=qt[fie]=qt[pie]=qt[mie]=qt[hie]=qt[gie]=qt[xie]=qt[vie]=!0;qt[Kae]=qt[Yae]=qt[lie]=qt[Jae]=qt[cie]=qt[Qae]=qt[Zae]=qt[eie]=qt[tie]=qt[rie]=qt[nie]=qt[aie]=qt[iie]=qt[sie]=qt[oie]=!1;function yie(e){return Xae(e)&&Gae(e.length)&&!!qt[Wae(e)]}var bie=yie;function wie(e){return function(t){return e(t)}}var v6=wie,pg={exports:{}};pg.exports;(function(e,t){var r=kM,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(pg,pg.exports);var Sie=pg.exports,Eie=bie,_ie=v6,tj=Sie,rj=tj&&tj.isTypedArray,Nie=rj?_ie(rj):Eie,y6=Nie,kie=jae,Cie=p_,Tie=Zn,jie=x6,Aie=m_,Iie=y6,Pie=Object.prototype,Oie=Pie.hasOwnProperty;function Rie(e,t){var r=Tie(e),n=!r&&Cie(e),a=!r&&!n&&jie(e),i=!r&&!n&&!a&&Iie(e),s=r||n||a||i,o=s?kie(e.length,String):[],c=o.length;for(var u in e)(t||Oie.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Aie(u,c)))&&o.push(u);return o}var Die=Rie,Fie=Object.prototype;function Mie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Fie;return e===r}var Lie=Mie;function $ie(e,t){return function(r){return e(t(r))}}var b6=$ie,Bie=b6,zie=Bie(Object.keys,Object),Uie=zie,qie=Lie,Vie=Uie,Hie=Object.prototype,Wie=Hie.hasOwnProperty;function Gie(e){if(!qie(e))return Vie(e);var t=[];for(var r in Object(e))Wie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Xie=Gie,Kie=YE,Yie=h_;function Jie(e){return e!=null&&Yie(e.length)&&!Kie(e)}var Fm=Jie,Qie=Die,Zie=Xie,ese=Fm;function tse(e){return ese(e)?Qie(e):Zie(e)}var bv=tse,rse=xae,nse=Cae,ase=bv;function ise(e){return rse(e,ase,nse)}var sse=ise,nj=sse,ose=1,lse=Object.prototype,cse=lse.hasOwnProperty;function use(e,t,r,n,a,i){var s=r&ose,o=nj(e),c=o.length,u=nj(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=o[f];if(!(s?p in t:cse.call(t,p)))return!1}var m=i.get(e),h=i.get(t);if(m&&h)return m==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<c;){p=o[f];var v=e[p],b=t[p];if(n)var y=s?n(b,v,p,t,e,i):n(v,b,p,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){g=!1;break}x||(x=p=="constructor")}if(g&&!x){var k=e.constructor,E=t.constructor;k!=E&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(g=!1)}return i.delete(e),i.delete(t),g}var dse=use,fse=oc,pse=Ui,mse=fse(pse,"DataView"),hse=mse,gse=oc,xse=Ui,vse=gse(xse,"Promise"),yse=vse,bse=oc,wse=Ui,Sse=bse(wse,"Set"),w6=Sse,Ese=oc,_se=Ui,Nse=Ese(_se,"WeakMap"),kse=Nse,Bw=hse,zw=QE,Uw=yse,qw=w6,Vw=kse,S6=Ts,wd=TM,aj="[object Map]",Cse="[object Object]",ij="[object Promise]",sj="[object Set]",oj="[object WeakMap]",lj="[object DataView]",Tse=wd(Bw),jse=wd(zw),Ase=wd(Uw),Ise=wd(qw),Pse=wd(Vw),nl=S6;(Bw&&nl(new Bw(new ArrayBuffer(1)))!=lj||zw&&nl(new zw)!=aj||Uw&&nl(Uw.resolve())!=ij||qw&&nl(new qw)!=sj||Vw&&nl(new Vw)!=oj)&&(nl=function(e){var t=S6(e),r=t==Cse?e.constructor:void 0,n=r?wd(r):"";if(n)switch(n){case Tse:return lj;case jse:return aj;case Ase:return ij;case Ise:return sj;case Pse:return oj}return t});var Ose=nl,fb=u6,Rse=m6,Dse=fae,Fse=dse,cj=Ose,uj=Zn,dj=x6,Mse=y6,Lse=1,fj="[object Arguments]",pj="[object Array]",_h="[object Object]",$se=Object.prototype,mj=$se.hasOwnProperty;function Bse(e,t,r,n,a,i){var s=uj(e),o=uj(t),c=s?pj:cj(e),u=o?pj:cj(t);c=c==fj?_h:c,u=u==fj?_h:u;var d=c==_h,f=u==_h,p=c==u;if(p&&dj(e)){if(!dj(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new fb),s||Mse(e)?Rse(e,t,r,n,a,i):Dse(e,t,c,r,n,a,i);if(!(r&Lse)){var m=d&&mj.call(e,"__wrapped__"),h=f&&mj.call(t,"__wrapped__");if(m||h){var g=m?e.value():e,x=h?t.value():t;return i||(i=new fb),a(g,x,r,n,i)}}return p?(i||(i=new fb),Fse(e,t,r,n,a,i)):!1}var zse=Bse,Use=zse,hj=js;function E6(e,t,r,n,a){return e===t?!0:e==null||t==null||!hj(e)&&!hj(t)?e!==e&&t!==t:Use(e,t,r,n,E6,a)}var g_=E6,qse=u6,Vse=g_,Hse=1,Wse=2;function Gse(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new qse;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?Vse(d,u,Hse|Wse,n,f):p))return!1}}return!0}var Xse=Gse,Kse=$o;function Yse(e){return e===e&&!Kse(e)}var _6=Yse,Jse=_6,Qse=bv;function Zse(e){for(var t=Qse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Jse(a)]}return t}var eoe=Zse;function toe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var N6=toe,roe=Xse,noe=eoe,aoe=N6;function ioe(e){var t=noe(e);return t.length==1&&t[0][2]?aoe(t[0][0],t[0][1]):function(r){return r===e||roe(r,e,t)}}var soe=ioe;function ooe(e,t){return e!=null&&t in Object(e)}var loe=ooe,coe=OM,uoe=p_,doe=Zn,foe=m_,poe=h_,moe=av;function hoe(e,t,r){t=coe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=moe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&poe(a)&&foe(s,a)&&(doe(e)||uoe(e)))}var goe=hoe,xoe=loe,voe=goe;function yoe(e,t){return e!=null&&voe(e,t,xoe)}var boe=yoe,woe=g_,Soe=RM,Eoe=boe,_oe=KE,Noe=_6,koe=N6,Coe=av,Toe=1,joe=2;function Aoe(e,t){return _oe(e)&&Noe(t)?koe(Coe(e),t):function(r){var n=Soe(r,e);return n===void 0&&n===t?Eoe(r,e):woe(t,n,Toe|joe)}}var Ioe=Aoe;function Poe(e){return e}var Sd=Poe;function Ooe(e){return function(t){return t==null?void 0:t[e]}}var Roe=Ooe,Doe=r_;function Foe(e){return function(t){return Doe(t,e)}}var Moe=Foe,Loe=Roe,$oe=Moe,Boe=KE,zoe=av;function Uoe(e){return Boe(e)?Loe(zoe(e)):$oe(e)}var qoe=Uoe,Voe=soe,Hoe=Ioe,Woe=Sd,Goe=Zn,Xoe=qoe;function Koe(e){return typeof e=="function"?e:e==null?Woe:typeof e=="object"?Goe(e)?Hoe(e[0],e[1]):Voe(e):Xoe(e)}var Bo=Koe;function Yoe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var k6=Yoe;function Joe(e){return e!==e}var Qoe=Joe;function Zoe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ele=Zoe,tle=k6,rle=Qoe,nle=ele;function ale(e,t,r){return t===t?nle(e,t,r):tle(e,rle,r)}var ile=ale,sle=ile;function ole(e,t){var r=e==null?0:e.length;return!!r&&sle(e,t,0)>-1}var lle=ole;function cle(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var ule=cle;function dle(){}var fle=dle,pb=w6,ple=fle,mle=f_,hle=1/0,gle=pb&&1/mle(new pb([,-0]))[1]==hle?function(e){return new pb(e)}:ple,xle=gle,vle=d6,yle=lle,ble=ule,wle=p6,Sle=xle,Ele=f_,_le=200;function Nle(e,t,r){var n=-1,a=yle,i=e.length,s=!0,o=[],c=o;if(r)s=!1,a=ble;else if(i>=_le){var u=t?null:Sle(e);if(u)return Ele(u);s=!1,a=wle,c=new vle}else c=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),o.push(d)}else a(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var kle=Nle,Cle=Bo,Tle=kle;function jle(e,t){return e&&e.length?Tle(e,Cle(t)):[]}var Ale=jle;const gj=_t(Ale);function C6(e,t,r){return t===!0?gj(e,r):at(t)?gj(e,t):e}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var Ile=["ref"];function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j6(n.key),n)}}function Ole(e,t,r){return t&&vj(e.prototype,t),r&&vj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rle(e,t,r){return t=mg(t),Dle(e,T6()?Reflect.construct(t,r||[],mg(e).constructor):t.apply(e,r))}function Dle(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(e)}function Fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!e})()}function mg(e){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(e)}function Mle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hw(e,t)}function wv(e,t,r){return t=j6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j6(e){var t=Lle(e,"string");return Au(t)=="symbol"?t:t+""}function Lle(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $le(e,t){if(e==null)return{};var r=Ble(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ble(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zle(e){return e.value}function Ule(e,t){if(ae.isValidElement(e))return ae.cloneElement(e,t);if(typeof e=="function")return ae.createElement(e,t);t.ref;var r=$le(t,Ile);return ae.createElement(d_,r)}var yj=1,ou=function(e){function t(){var r;Ple(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Rle(this,t,[].concat(a)),wv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Mle(t,e),Ole(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yj||Math.abs(a.height-this.lastBoundingBox.height)>yj)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var h=this.getBBoxSnapshot();p={top:((d||0)-h.height)/2}}else p=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gi(Gi({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Gi(Gi({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Ule(i,Gi(Gi({},this.props),{},{payload:C6(d,u,zle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Gi(Gi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Te(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(_.PureComponent);wv(ou,"displayName","Legend");wv(ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bj=Rm,qle=p_,Vle=Zn,wj=bj?bj.isConcatSpreadable:void 0;function Hle(e){return Vle(e)||qle(e)||!!(wj&&e&&e[wj])}var Wle=Hle,Gle=h6,Xle=Wle;function A6(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Xle),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?A6(o,t-1,r,n,a):Gle(a,o):n||(a[a.length]=o)}return a}var I6=A6;function Kle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++a];if(r(i[c],c,i)===!1)break}return t}}var Yle=Kle,Jle=Yle,Qle=Jle(),Zle=Qle,ece=Zle,tce=bv;function rce(e,t){return e&&ece(e,t,tce)}var P6=rce,nce=Fm;function ace(e,t){return function(r,n){if(r==null)return r;if(!nce(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var ice=ace,sce=P6,oce=ice,lce=oce(sce),x_=lce,cce=x_,uce=Fm;function dce(e,t){var r=-1,n=uce(e)?Array(e.length):[];return cce(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var O6=dce;function fce(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pce=fce,Sj=hd;function mce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Sj(e),s=t!==void 0,o=t===null,c=t===t,u=Sj(t);if(!o&&!u&&!i&&e>t||i&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var hce=mce,gce=hce;function xce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var c=gce(a[n],i[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var vce=xce,mb=t_,yce=r_,bce=Bo,wce=O6,Sce=pce,Ece=v6,_ce=vce,Nce=Sd,kce=Zn;function Cce(e,t,r){t.length?t=mb(t,function(i){return kce(i)?function(s){return yce(s,i.length===1?i[0]:i)}:i}):t=[Nce];var n=-1;t=mb(t,Ece(bce));var a=wce(e,function(i,s,o){var c=mb(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Sce(a,function(i,s){return _ce(i,s,r)})}var Tce=Cce;function jce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ace=jce,Ice=Ace,Ej=Math.max;function Pce(e,t,r){return t=Ej(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Ej(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),Ice(e,this,o)}}var Oce=Pce;function Rce(e){return function(){return e}}var Dce=Rce,Fce=oc,Mce=function(){try{var e=Fce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),R6=Mce,Lce=Dce,_j=R6,$ce=Sd,Bce=_j?function(e,t){return _j(e,"toString",{configurable:!0,enumerable:!1,value:Lce(t),writable:!0})}:$ce,zce=Bce,Uce=800,qce=16,Vce=Date.now;function Hce(e){var t=0,r=0;return function(){var n=Vce(),a=qce-(n-r);if(r=n,a>0){if(++t>=Uce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wce=Hce,Gce=zce,Xce=Wce,Kce=Xce(Gce),Yce=Kce,Jce=Sd,Qce=Oce,Zce=Yce;function eue(e,t){return Zce(Qce(e,t,Jce),e+"")}var tue=eue,rue=JE,nue=Fm,aue=m_,iue=$o;function sue(e,t,r){if(!iue(r))return!1;var n=typeof t;return(n=="number"?nue(r)&&aue(t,r.length):n=="string"&&t in r)?rue(r[t],e):!1}var Sv=sue,oue=I6,lue=Tce,cue=tue,Nj=Sv,uue=cue(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Nj(e,t[0],t[1])?t=[]:r>2&&Nj(t[0],t[1],t[2])&&(t=[t[0]]),lue(e,oue(t,1),[])}),due=uue;const v_=_t(due);function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function fue(e,t){return gue(e)||hue(e,t)||mue(e,t)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(e,t){if(e){if(typeof e=="string")return kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(e,t)}}function kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function gue(e){if(Array.isArray(e))return e}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return t=vue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=yue(e,"string");return wp(t)=="symbol"?t:t+""}function yue(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bue(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var wue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,m=t.wrapperClassName,h=t.labelClassName,g=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var N={padding:0,margin:0},I=(p?v_(d,p):d).map(function(M,F){if(M.type==="none")return null;var q=hb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),W=M.formatter||f||bue,V=M.value,B=M.name,R=V,ne=B;if(W&&R!=null&&ne!=null){var z=W(V,B,M,F,d);if(Array.isArray(z)){var P=fue(z,2);R=P[0],ne=P[1]}else R=z}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:q},Ir(ne)?ae.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ir(ne)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},R),ae.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:N},I)}return null},k=hb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=hb({margin:0},u),S=!vt(g),w=S?g:"",j=st("recharts-default-tooltip",m),T=st("recharts-tooltip-label",h);S&&x&&d!==void 0&&d!==null&&(w=x(g,d));var C=b?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",Ww({className:j,style:k},C),ae.createElement("p",{className:T,style:E},ae.isValidElement(w)?w:"".concat(w)),y())};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function Nh(e,t,r){return t=Sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sue(e){var t=Eue(e,"string");return Sp(t)=="symbol"?t:t+""}function Eue(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd="recharts-tooltip-wrapper",_ue={visibility:"hidden"};function Nue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return st(Xd,Nh(Nh(Nh(Nh({},"".concat(Xd,"-right"),Te(r)&&t&&Te(t.x)&&r>=t.x),"".concat(Xd,"-left"),Te(r)&&t&&Te(t.x)&&r<t.x),"".concat(Xd,"-bottom"),Te(n)&&t&&Te(t.y)&&n>=t.y),"".concat(Xd,"-top"),Te(n)&&t&&Te(t.y)&&n<t.y))}function Tj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Te(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var p=d,m=c[n];return p<m?Math.max(f,c[n]):Math.max(d,c[n])}var h=f+o,g=c[n]+u;return h>g?Math.max(d,c[n]):Math.max(f,c[n])}function kue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Cue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=Tj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Tj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=kue({translateX:d,translateY:f,useTranslate3d:o})):u=_ue,{cssProperties:u,cssClasses:Nue({translateX:d,translateY:f,coordinate:r})}}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F6(n.key),n)}}function Aue(e,t,r){return t&&jue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iue(e,t,r){return t=hg(t),Pue(e,D6()?Reflect.construct(t,r||[],hg(e).constructor):t.apply(e,r))}function Pue(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(e)}function Oue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Rue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gw(e,t)}function Xw(e,t,r){return t=F6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F6(e){var t=Due(e,"string");return Iu(t)=="symbol"?t:t+""}function Due(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij=1,Fue=function(e){function t(){var r;Tue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Iue(this,t,[].concat(a)),Xw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Rue(t,e),Aue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Ij||Math.abs(n.height-this.state.lastBoundingBox.height)>Ij)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,m=a.offset,h=a.position,g=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=Cue({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),k=y.cssClasses,E=y.cssProperties,S=Aj(Aj({transition:p&&i?"transform ".concat(o,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ae.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(j){n.wrapperNode=j}},u)}}])}(_.PureComponent),Mue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vo={isSsr:Mue(),get:function(t){return vo[t]},set:function(t,r){if(typeof t=="string")vo[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){vo[a]=t[a]})}}};function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){y_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L6(n.key),n)}}function Bue(e,t,r){return t&&$ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zue(e,t,r){return t=gg(t),Uue(e,M6()?Reflect.construct(t,r||[],gg(e).constructor):t.apply(e,r))}function Uue(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(e)}function que(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(e)}function Vue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kw(e,t)}function y_(e,t,r){return t=L6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6(e){var t=Hue(e,"string");return Pu(t)=="symbol"?t:t+""}function Hue(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e){return e.dataKey}function Gue(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(wue,t)}var sa=function(e){function t(){return Lue(this,t),zue(this,t,arguments)}return Vue(t,e),Bue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,m=a.offset,h=a.payload,g=a.payloadUniqBy,x=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,k=a.wrapperStyle,E=h??[];f&&E.length&&(E=C6(h.filter(function(w){return w.value!=null&&(w.hide!==!0||n.props.includeHidden)}),g,Wue));var S=E.length>0;return ae.createElement(Fue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:k},Gue(u,Oj(Oj({},this.props),{},{payload:E})))}}])}(_.PureComponent);y_(sa,"displayName","Tooltip");y_(sa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xue=Ui,Kue=function(){return Xue.Date.now()},Yue=Kue,Jue=/\s/;function Que(e){for(var t=e.length;t--&&Jue.test(e.charAt(t)););return t}var Zue=Que,ede=Zue,tde=/^\s+/;function rde(e){return e&&e.slice(0,ede(e)+1).replace(tde,"")}var nde=rde,ade=nde,Rj=$o,ide=hd,Dj=NaN,sde=/^[-+]0x[0-9a-f]+$/i,ode=/^0b[01]+$/i,lde=/^0o[0-7]+$/i,cde=parseInt;function ude(e){if(typeof e=="number")return e;if(ide(e))return Dj;if(Rj(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Rj(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ade(e);var r=ode.test(e);return r||lde.test(e)?cde(e.slice(2),r?2:8):sde.test(e)?Dj:+e}var $6=ude,dde=$o,gb=Yue,Fj=$6,fde="Expected a function",pde=Math.max,mde=Math.min;function hde(e,t,r){var n,a,i,s,o,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(fde);t=Fj(t)||0,dde(r)&&(d=!!r.leading,f="maxWait"in r,i=f?pde(Fj(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function m(S){var w=n,j=a;return n=a=void 0,u=S,s=e.apply(j,w),s}function h(S){return u=S,o=setTimeout(v,t),d?m(S):s}function g(S){var w=S-c,j=S-u,T=t-w;return f?mde(T,i-j):T}function x(S){var w=S-c,j=S-u;return c===void 0||w>=t||w<0||f&&j>=i}function v(){var S=gb();if(x(S))return b(S);o=setTimeout(v,g(S))}function b(S){return o=void 0,p&&n?m(S):(n=a=void 0,s)}function y(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function k(){return o===void 0?s:b(gb())}function E(){var S=gb(),w=x(S);if(n=arguments,a=this,c=S,w){if(o===void 0)return h(c);if(f)return clearTimeout(o),o=setTimeout(v,t),m(c)}return o===void 0&&(o=setTimeout(v,t)),s}return E.cancel=y,E.flush=k,E}var gde=hde,xde=gde,vde=$o,yde="Expected a function";function bde(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(yde);return vde(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xde(e,t,{leading:n,maxWait:t,trailing:a})}var wde=bde;const B6=_t(wde);function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){Sde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sde(e,t,r){return t=Ede(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ede(e){var t=_de(e,"string");return Ep(t)=="symbol"?t:t+""}function _de(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nde(e,t){return jde(e)||Tde(e,t)||Cde(e,t)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cde(e,t){if(e){if(typeof e=="string")return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}}function Lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function jde(e){if(Array.isArray(e))return e}var xg=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,m=e.children,h=e.debounce,g=h===void 0?0:h,x=e.id,v=e.className,b=e.onResize,y=e.style,k=y===void 0?{}:y,E=_.useRef(null),S=_.useRef();S.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var w=_.useState({containerWidth:a.width,containerHeight:a.height}),j=Nde(w,2),T=j[0],C=j[1],A=_.useCallback(function(I,M){C(function(F){var q=Math.round(I),W=Math.round(M);return F.containerWidth===q&&F.containerHeight===W?F:{containerWidth:q,containerHeight:W}})},[]);_.useEffect(function(){var I=function(B){var R,ne=B[0].contentRect,z=ne.width,P=ne.height;A(z,P),(R=S.current)===null||R===void 0||R.call(S,z,P)};g>0&&(I=B6(I,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),F=E.current.getBoundingClientRect(),q=F.width,W=F.height;return A(q,W),M.observe(E.current),function(){M.disconnect()}},[A,g]);var N=_.useMemo(function(){var I=T.containerWidth,M=T.containerHeight;if(I<0||M<0)return null;os(ul(s)||ul(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),os(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=ul(s)?I:s,q=ul(c)?M:c;r&&r>0&&(F?q=F/r:q&&(F=q*r),p&&q>p&&(q=p)),os(F>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,q,s,c,d,f,r);var W=!Array.isArray(m)&&ss(m.type).endsWith("Chart");return ae.Children.map(m,function(V){return ae.isValidElement(V)?_.cloneElement(V,kh({width:F,height:q},W?{style:kh({height:"100%",width:"100%",maxHeight:q,maxWidth:F},V.props.style)}:{})):V})},[r,m,c,p,f,d,T,s]);return ae.createElement("div",{id:x?"".concat(x):void 0,className:st("recharts-responsive-container",v),style:kh(kh({},k),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:E},N)}),Ou=function(t){return null};Ou.displayName="Cell";function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ade(e,t,r){return t=Ide(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ide(e){var t=Pde(e,"string");return _p(t)=="symbol"?t:t+""}function Pde(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ec={widthCache:{},cacheCount:0},Ode=2e3,Rde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Bj="recharts_measurement_span";function Dde(e){var t=Yw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Of=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vo.isSsr)return{width:0,height:0};var n=Dde(r),a=JSON.stringify({text:t,copyStyle:n});if(Ec.widthCache[a])return Ec.widthCache[a];try{var i=document.getElementById(Bj);i||(i=document.createElement("span"),i.setAttribute("id",Bj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Yw(Yw({},Rde),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return Ec.widthCache[a]=c,++Ec.cacheCount>Ode&&(Ec.cacheCount=0,Ec.widthCache={}),c}catch{return{width:0,height:0}}},Fde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function vg(e,t){return Bde(e)||$de(e,t)||Lde(e,t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(e,t){if(e){if(typeof e=="string")return zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(e,t)}}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $de(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Bde(e){if(Array.isArray(e))return e}function zde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qde(n.key),n)}}function Ude(e,t,r){return t&&Uj(e.prototype,t),r&&Uj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qde(e){var t=Vde(e,"string");return Np(t)=="symbol"?t:t+""}function Vde(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gde=Object.keys(z6),Wc="NaN";function Xde(e,t){return e*z6[t]}var Ch=function(){function e(t,r){zde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Hde.test(r)&&(this.num=NaN,this.unit=""),Gde.includes(r)&&(this.num=Xde(t,r),this.unit="px")}return Ude(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Wde.exec(r))!==null&&n!==void 0?n:[],i=vg(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function U6(e){if(e.includes(Wc))return Wc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=qj.exec(t))!==null&&r!==void 0?r:[],a=vg(n,4),i=a[1],s=a[2],o=a[3],c=Ch.parse(i??""),u=Ch.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Wc;t=t.replace(qj,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Vj.exec(t))!==null&&f!==void 0?f:[],m=vg(p,4),h=m[1],g=m[2],x=m[3],v=Ch.parse(h??""),b=Ch.parse(x??""),y=g==="+"?v.add(b):v.subtract(b);if(y.isNaN())return Wc;t=t.replace(Vj,y.toString())}return t}var Hj=/\(([^()]*)\)/;function Kde(e){for(var t=e;t.includes("(");){var r=Hj.exec(t),n=vg(r,2),a=n[1];t=t.replace(Hj,U6(a))}return t}function Yde(e){var t=e.replace(/\s+/g,"");return t=Kde(t),t=U6(t),t}function Jde(e){try{return Yde(e)}catch{return Wc}}function xb(e){var t=Jde(e.slice(5,-1));return t===Wc?"":t}var Qde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zde=["dx","dy","angle","className","breakAll"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function Wj(e,t){if(e==null)return{};var r=efe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function efe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gj(e,t){return afe(e)||nfe(e,t)||rfe(e,t)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(e,t){if(e){if(typeof e=="string")return Xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xj(e,t)}}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function afe(e){if(Array.isArray(e))return e}var q6=/[ \f\n\r\t\v\u2028\u2029]+/,V6=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];vt(r)||(n?i=r.toString().split(""):i=r.toString().split(q6));var s=i.map(function(c){return{word:c,width:Of(c,a).width}}),o=n?0:Of(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ife=function(t,r,n,a,i){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=Te(s),f=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(q,W){var V=W.word,B=W.width,R=q[q.length-1];if(R&&(a==null||i||R.width+B+n<Number(a)))R.words.push(V),R.width+=B+n;else{var ne={words:[V],width:B};q.push(ne)}return q},[])},m=p(r),h=function(F){return F.reduce(function(q,W){return q.width>W.width?q:W})};if(!d)return m;for(var g="…",x=function(F){var q=f.slice(0,F),W=V6({breakAll:u,style:c,children:q+g}).wordsWithComputedWidth,V=p(W),B=V.length>s||h(V).width>Number(a);return[B,V]},v=0,b=f.length-1,y=0,k;v<=b&&y<=f.length-1;){var E=Math.floor((v+b)/2),S=E-1,w=x(S),j=Gj(w,2),T=j[0],C=j[1],A=x(E),N=Gj(A,1),I=N[0];if(!T&&!I&&(v=E+1),T&&I&&(b=E-1),!T&&I){k=C;break}y++}return k||m},Kj=function(t){var r=vt(t)?[]:t.toString().split(q6);return[{words:r}]},sfe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!vo.isSsr){var c,u,d=V6({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return Kj(a);return ife({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return Kj(a)},Yj="#808080",yg=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,m=p===void 0?"start":p,h=t.verticalAnchor,g=h===void 0?"end":h,x=t.fill,v=x===void 0?Yj:x,b=Wj(t,Qde),y=_.useMemo(function(){return sfe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),k=b.dx,E=b.dy,S=b.angle,w=b.className,j=b.breakAll,T=Wj(b,Zde);if(!Ir(n)||!Ir(i))return null;var C=n+(Te(k)?k:0),A=i+(Te(E)?E:0),N;switch(g){case"start":N=xb("calc(".concat(u,")"));break;case"middle":N=xb("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:N=xb("calc(".concat(y.length-1," * -").concat(o,")"));break}var I=[];if(f){var M=y[0].width,F=b.width;I.push("scale(".concat((Te(F)?F/M:1)/M,")"))}return S&&I.push("rotate(".concat(S,", ").concat(C,", ").concat(A,")")),I.length&&(T.transform=I.join(" ")),ae.createElement("text",Jw({},gt(T,!0),{x:C,y:A,className:st("recharts-text",w),textAnchor:m,fill:v.includes("url")?Yj:v}),y.map(function(q,W){var V=q.words.join(j?"":" ");return ae.createElement("tspan",{x:C,dy:W===0?N:o,key:"".concat(V,"-").concat(W)},V)}))};function yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ofe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function b_(e){let t,r,n;e.length!==2?(t=yo,r=(o,c)=>yo(e(o),c),n=(o,c)=>e(o)-c):(t=e===yo||e===ofe?e:lfe,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function lfe(){return 0}function H6(e){return e===null?NaN:+e}function*cfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ufe=b_(yo),Mm=ufe.right;b_(H6).center;class Jj extends Map{constructor(t,r=pfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Qj(this,t))}has(t){return super.has(Qj(this,t))}set(t,r){return super.set(dfe(this,t),r)}delete(t){return super.delete(ffe(this,t))}}function Qj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ffe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mfe(e=yo){if(e===yo)return W6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function W6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hfe=Math.sqrt(50),gfe=Math.sqrt(10),xfe=Math.sqrt(2);function bg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=hfe?10:i>=gfe?5:i>=xfe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?bg(e,t,r*2):[o,c,u]}function Qw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?bg(t,e,r):bg(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function Zw(e,t,r){return t=+t,e=+e,r=+r,bg(e,t,r)[2]}function eS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Zw(t,e,r):Zw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Zj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function G6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?W6:mfe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+p)),h=Math.min(n,Math.floor(t+(c-u)*f/c+p));G6(e,t,m,h,a)}const i=e[t];let s=r,o=n;for(Kd(e,r,t),a(e[n],i)>0&&Kd(e,r,n);s<o;){for(Kd(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Kd(e,r,o):(++o,Kd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Kd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vfe(e,t,r){if(e=Float64Array.from(cfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eA(e);if(t>=1)return Zj(e);var n,a=(n-1)*t,i=Math.floor(a),s=Zj(G6(e,i).subarray(0,i+1)),o=eA(e.subarray(i+1));return s+(o-s)*(a-i)}}function yfe(e,t,r=H6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function bfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tS=Symbol("implicit");function w_(){var e=new Jj,t=[],r=[],n=tS;function a(i){let s=e.get(i);if(s===void 0){if(n!==tS)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Jj;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return w_(t,r).unknown(n)},Xa.apply(a,arguments),a}function kp(){var e=w_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<n,h=m?a:n,g=m?n:a;i=(g-h)/Math.max(1,p-c+u*2),o&&(i=Math.floor(i)),h+=(g-h-i*(p-c))*d,s=i*(1-c),o&&(h=Math.round(h),s=Math.round(s));var x=bfe(p).map(function(v){return h+i*v});return r(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return kp(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Xa.apply(f(),arguments)}function X6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X6(t())},e}function Rf(){return X6(kp.apply(null,arguments).paddingInner(1))}function S_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function K6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lm(){}var Cp=.7,wg=1/Cp,lu="\\s*([+-]?\\d+)\\s*",Tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wfe=/^#([0-9a-f]{3,8})$/,Sfe=new RegExp(`^rgb\\(${lu},${lu},${lu}\\)$`),Efe=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),_fe=new RegExp(`^rgba\\(${lu},${lu},${lu},${Tp}\\)$`),Nfe=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Tp}\\)$`),kfe=new RegExp(`^hsl\\(${Tp},${Ri},${Ri}\\)$`),Cfe=new RegExp(`^hsla\\(${Tp},${Ri},${Ri},${Tp}\\)$`),tA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(Lm,jp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rA,formatHex:rA,formatHex8:Tfe,formatHsl:jfe,formatRgb:nA,toString:nA});function rA(){return this.rgb().formatHex()}function Tfe(){return this.rgb().formatHex8()}function jfe(){return Y6(this).formatHsl()}function nA(){return this.rgb().formatRgb()}function jp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aA(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Th(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Th(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sfe.exec(e))?new qn(t[1],t[2],t[3],1):(t=Efe.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_fe.exec(e))?Th(t[1],t[2],t[3],t[4]):(t=Nfe.exec(e))?Th(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kfe.exec(e))?oA(t[1],t[2]/100,t[3]/100,1):(t=Cfe.exec(e))?oA(t[1],t[2]/100,t[3]/100,t[4]):tA.hasOwnProperty(e)?aA(tA[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function aA(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function Th(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function Afe(e){return e instanceof Lm||(e=jp(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function rS(e,t,r,n){return arguments.length===1?Afe(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}S_(qn,rS,K6(Lm,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cp:Math.pow(Cp,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(yl(this.r),yl(this.g),yl(this.b),Sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iA,formatHex:iA,formatHex8:Ife,formatRgb:sA,toString:sA}));function iA(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function Ife(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function sA(){const e=Sg(this.opacity);return`${e===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${e===1?")":`, ${e})`}`}function Sg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dl(e){return e=yl(e),(e<16?"0":"")+e.toString(16)}function oA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,r,n)}function Y6(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof Lm||(e=jp(e)),!e)return new ni;if(e instanceof ni)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new ni(s,o,c,e.opacity)}function Pfe(e,t,r,n){return arguments.length===1?Y6(e):new ni(e,t,r,n??1)}function ni(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}S_(ni,Pfe,K6(Lm,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cp:Math.pow(Cp,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qn(vb(e>=240?e-240:e+120,a,n),vb(e,a,n),vb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ni(lA(this.h),jh(this.s),jh(this.l),Sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sg(this.opacity);return`${e===1?"hsl(":"hsla("}${lA(this.h)}, ${jh(this.s)*100}%, ${jh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lA(e){return e=(e||0)%360,e<0?e+360:e}function jh(e){return Math.max(0,Math.min(1,e||0))}function vb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const E_=e=>()=>e;function Ofe(e,t){return function(r){return e+r*t}}function Rfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Dfe(e){return(e=+e)==1?J6:function(t,r){return r-t?Rfe(t,r,e):E_(isNaN(t)?r:t)}}function J6(e,t){var r=t-e;return r?Ofe(e,r):E_(isNaN(e)?t:e)}const cA=function e(t){var r=Dfe(t);function n(a,i){var s=r((a=rS(a)).r,(i=rS(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=J6(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Ffe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Mfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ed(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function $fe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Eg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Bfe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ed(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var nS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp(nS.source,"g");function zfe(e){return function(){return e}}function Ufe(e){return function(t){return e(t)+""}}function qfe(e,t){var r=nS.lastIndex=yb.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=nS.exec(e))&&(a=yb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Eg(n,a)})),r=yb.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Ufe(c[0].x):zfe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Ed(e,t){var r=typeof t,n;return t==null||r==="boolean"?E_(t):(r==="number"?Eg:r==="string"?(n=jp(t))?(t=n,cA):qfe:t instanceof jp?cA:t instanceof Date?$fe:Mfe(t)?Ffe:Array.isArray(t)?Lfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bfe:Eg)(e,t)}function __(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vfe(e,t){t===void 0&&(t=e,e=Ed);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Hfe(e){return function(){return e}}function _g(e){return+e}var uA=[0,1];function jn(e){return e}function aS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Hfe(isNaN(t)?NaN:.5)}function Wfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Gfe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=aS(a,n),i=r(s,i)):(n=aS(n,a),i=r(i,s)),function(o){return i(n(o))}}function Xfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=aS(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Mm(e,o,1,n)-1;return i[c](a[c](o))}}function $m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ev(){var e=uA,t=uA,r=Ed,n,a,i,s=jn,o,c,u;function d(){var p=Math.min(e.length,t.length);return s!==jn&&(s=Wfe(e[0],e[p-1])),o=p>2?Xfe:Gfe,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=o(t,e.map(n),Eg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,_g),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=__,d()},f.clamp=function(p){return arguments.length?(s=p?!0:jn,d()):s!==jn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return n=p,a=m,d()}}function N_(){return Ev()(jn,jn)}function Kfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ng(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ru(e){return e=Ng(Math.abs(e)),e?e[1]:NaN}function Yfe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Jfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Qfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(e){if(!(t=Qfe.exec(e)))throw new Error("invalid format: "+e);var t;return new k_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ap.prototype=k_.prototype;function k_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}k_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Q6;function epe(e,t){var r=Ng(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Q6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ng(e,Math.max(0,t+i-1))[0]}function dA(e,t){var r=Ng(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dA(e*100,t),r:dA,s:epe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pA(e){return e}var mA=Array.prototype.map,hA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tpe(e){var t=e.grouping===void 0||e.thousands===void 0?pA:Yfe(mA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pA:Jfe(mA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ap(f);var p=f.fill,m=f.align,h=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,k=f.trim,E=f.type;E==="n"?(b=!0,E="g"):fA[E]||(y===void 0&&(y=12),k=!0,E="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",w=g==="$"?n:/[%p]/.test(E)?s:"",j=fA[E],T=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(A){var N=S,I=w,M,F,q;if(E==="c")I=j(A)+I,A="";else{A=+A;var W=A<0||1/A<0;if(A=isNaN(A)?c:j(Math.abs(A),y),k&&(A=Zfe(A)),W&&+A==0&&h!=="+"&&(W=!1),N=(W?h==="("?h:o:h==="-"||h==="("?"":h)+N,I=(E==="s"?hA[8+Q6/3]:"")+I+(W&&h==="("?")":""),T){for(M=-1,F=A.length;++M<F;)if(q=A.charCodeAt(M),48>q||q>57){I=(q===46?a+A.slice(M+1):A.slice(M))+I,A=A.slice(0,M);break}}}b&&!x&&(A=t(A,1/0));var V=N.length+A.length+I.length,B=V<v?new Array(v-V+1).join(p):"";switch(b&&x&&(A=t(B+A,B.length?v-I.length:1/0),B=""),m){case"<":A=N+A+I+B;break;case"=":A=N+B+A+I;break;case"^":A=B.slice(0,V=B.length>>1)+N+A+I+B.slice(V);break;default:A=B+N+A+I;break}return i(A)}return C.toString=function(){return f+""},C}function d(f,p){var m=u((f=Ap(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Ru(p)/3)))*3,g=Math.pow(10,-h),x=hA[8+h/3];return function(v){return m(g*v)+x}}return{format:u,formatPrefix:d}}var Ah,C_,Z6;rpe({thousands:",",grouping:[3],currency:["$",""]});function rpe(e){return Ah=tpe(e),C_=Ah.format,Z6=Ah.formatPrefix,Ah}function npe(e){return Math.max(0,-Ru(Math.abs(e)))}function ape(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ru(t)/3)))*3-Ru(Math.abs(e)))}function ipe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ru(t)-Ru(e))+1}function eL(e,t,r,n){var a=eS(e,t,r),i;switch(n=Ap(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ape(a,s))&&(n.precision=i),Z6(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ipe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=npe(a))&&(n.precision=i-(n.type==="%")*2);break}}return C_(n)}function zo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return eL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Zw(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function kg(){var e=N_();return e.copy=function(){return $m(e,kg())},Xa.apply(e,arguments),zo(e)}function tL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_g),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tL(e).unknown(t)},e=arguments.length?Array.from(e,_g):[0,1],zo(r)}function rL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function gA(e){return Math.log(e)}function xA(e){return Math.exp(e)}function spe(e){return-Math.log(-e)}function ope(e){return-Math.exp(-e)}function lpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cpe(e){return e===10?lpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function upe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vA(e){return(t,r)=>-e(-t,r)}function T_(e){const t=e(gA,xA),r=t.domain;let n=10,a,i;function s(){return a=upe(n),i=cpe(n),r()[0]<0?(a=vA(a),i=vA(i),e(spe,ope)):e(gA,xA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,g;const x=o==null?10:+o;let v=[];if(!(n%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<n;++h)if(g=p<0?h/i(-p):h*i(p),!(g<u)){if(g>d)break;v.push(g)}}else for(;p<=m;++p)for(h=n-1;h>=1;--h)if(g=p>0?h/i(-p):h*i(p),!(g<u)){if(g>d)break;v.push(g)}v.length*2<x&&(v=Qw(u,d,x))}else v=Qw(p,m,Math.min(m-p,x)).map(i);return f?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ap(c)).precision==null&&(c.trim=!0),c=C_(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(rL(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function nL(){const e=T_(Ev()).domain([1,10]);return e.copy=()=>$m(e,nL()).base(e.base()),Xa.apply(e,arguments),e}function yA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j_(e){var t=1,r=e(yA(t),bA(t));return r.constant=function(n){return arguments.length?e(yA(t=+n),bA(t)):t},zo(r)}function aL(){var e=j_(Ev());return e.copy=function(){return $m(e,aL()).constant(e.constant())},Xa.apply(e,arguments)}function wA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dpe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fpe(e){return e<0?-e*e:e*e}function A_(e){var t=e(jn,jn),r=1;function n(){return r===1?e(jn,jn):r===.5?e(dpe,fpe):e(wA(r),wA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},zo(t)}function I_(){var e=A_(Ev());return e.copy=function(){return $m(e,I_()).exponent(e.exponent())},Xa.apply(e,arguments),e}function ppe(){return I_.apply(null,arguments).exponent(.5)}function SA(e){return Math.sign(e)*e*e}function mpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iL(){var e=N_(),t=[0,1],r=!1,n;function a(i){var s=mpe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(SA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_g)).map(SA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xa.apply(a,arguments),zo(a)}function sL(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=yfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Mm(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(yo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sL().domain(e).range(t).unknown(n)},Xa.apply(i,arguments)}function oL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Mm(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return oL().domain([e,t]).range(a).unknown(i)},Xa.apply(zo(s),arguments)}function lL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Mm(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lL().domain(e).range(t).unknown(r)},Xa.apply(a,arguments)}const bb=new Date,wb=new Date;function Or(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Or(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(bb.setTime(+i),wb.setTime(+s),e(bb),e(wb),Math.floor(r(bb,wb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Cg=Or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Or(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cg);Cg.range;const ts=1e3,$a=ts*60,rs=$a*60,vs=rs*24,P_=vs*7,EA=vs*30,Sb=vs*365,fl=Or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ts)},(e,t)=>(t-e)/ts,e=>e.getUTCSeconds());fl.range;const O_=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ts)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getMinutes());O_.range;const R_=Or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCMinutes());R_.range;const D_=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ts-e.getMinutes()*$a)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());D_.range;const F_=Or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());F_.range;const Bm=Or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$a)/vs,e=>e.getDate()-1);Bm.range;const _v=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>e.getUTCDate()-1);_v.range;const cL=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>Math.floor(e/vs));cL.range;function lc(e){return Or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$a)/P_)}const Nv=lc(0),Tg=lc(1),hpe=lc(2),gpe=lc(3),Du=lc(4),xpe=lc(5),vpe=lc(6);Nv.range;Tg.range;hpe.range;gpe.range;Du.range;xpe.range;vpe.range;function cc(e){return Or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/P_)}const kv=cc(0),jg=cc(1),ype=cc(2),bpe=cc(3),Fu=cc(4),wpe=cc(5),Spe=cc(6);kv.range;jg.range;ype.range;bpe.range;Fu.range;wpe.range;Spe.range;const M_=Or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());M_.range;const L_=Or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());L_.range;const ys=Or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ys.range;const bs=Or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bs.range;function uL(e,t,r,n,a,i){const s=[[fl,1,ts],[fl,5,5*ts],[fl,15,15*ts],[fl,30,30*ts],[i,1,$a],[i,5,5*$a],[i,15,15*$a],[i,30,30*$a],[a,1,rs],[a,3,3*rs],[a,6,6*rs],[a,12,12*rs],[n,1,vs],[n,2,2*vs],[r,1,P_],[t,1,EA],[t,3,3*EA],[e,1,Sb]];function o(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function c(u,d,f){const p=Math.abs(d-u)/f,m=b_(([,,x])=>x).right(s,p);if(m===s.length)return e.every(eS(u/Sb,d/Sb,f));if(m===0)return Cg.every(Math.max(eS(u,d,f),1));const[h,g]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return h.every(g)}return[o,c]}const[Epe,_pe]=uL(bs,L_,kv,cL,F_,R_),[Npe,kpe]=uL(ys,M_,Nv,Bm,D_,O_);function Eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Cpe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Jd(a),d=Qd(a),f=Jd(i),p=Qd(i),m=Jd(s),h=Qd(s),g=Jd(o),x=Qd(o),v=Jd(c),b=Qd(c),y={a:W,A:V,b:B,B:R,c:null,d:jA,e:jA,f:Ype,g:sme,G:lme,H:Gpe,I:Xpe,j:Kpe,L:dL,m:Jpe,M:Qpe,p:ne,q:z,Q:PA,s:OA,S:Zpe,u:eme,U:tme,V:rme,w:nme,W:ame,x:null,X:null,y:ime,Y:ome,Z:cme,"%":IA},k={a:P,A:G,b:J,B:te,c:null,d:AA,e:AA,f:pme,g:Eme,G:Nme,H:ume,I:dme,j:fme,L:pL,m:mme,M:hme,p:re,q:D,Q:PA,s:OA,S:gme,u:xme,U:vme,V:yme,w:bme,W:wme,x:null,X:null,y:Sme,Y:_me,Z:kme,"%":IA},E={a:C,A,b:N,B:I,c:M,d:CA,e:CA,f:qpe,g:kA,G:NA,H:TA,I:TA,j:$pe,L:Upe,m:Lpe,M:Bpe,p:T,q:Mpe,Q:Hpe,s:Wpe,S:zpe,u:Ppe,U:Ope,V:Rpe,w:Ipe,W:Dpe,x:F,X:q,y:kA,Y:NA,Z:Fpe,"%":Vpe};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(H,L){return function(K){var O=[],pe=-1,ie=0,de=H.length,ye,me,Le;for(K instanceof Date||(K=new Date(+K));++pe<de;)H.charCodeAt(pe)===37&&(O.push(H.slice(ie,pe)),(me=_A[ye=H.charAt(++pe)])!=null?ye=H.charAt(++pe):me=ye==="e"?" ":"0",(Le=L[ye])&&(ye=Le(K,me)),O.push(ye),ie=pe+1);return O.push(H.slice(ie,pe)),O.join("")}}function w(H,L){return function(K){var O=Yd(1900,void 0,1),pe=j(O,H,K+="",0),ie,de;if(pe!=K.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(L&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ie=_b(Yd(O.y,0,1)),de=ie.getUTCDay(),ie=de>4||de===0?jg.ceil(ie):jg(ie),ie=_v.offset(ie,(O.V-1)*7),O.y=ie.getUTCFullYear(),O.m=ie.getUTCMonth(),O.d=ie.getUTCDate()+(O.w+6)%7):(ie=Eb(Yd(O.y,0,1)),de=ie.getDay(),ie=de>4||de===0?Tg.ceil(ie):Tg(ie),ie=Bm.offset(ie,(O.V-1)*7),O.y=ie.getFullYear(),O.m=ie.getMonth(),O.d=ie.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),de="Z"in O?_b(Yd(O.y,0,1)).getUTCDay():Eb(Yd(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(de+5)%7:O.w+O.U*7-(de+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,_b(O)):Eb(O)}}function j(H,L,K,O){for(var pe=0,ie=L.length,de=K.length,ye,me;pe<ie;){if(O>=de)return-1;if(ye=L.charCodeAt(pe++),ye===37){if(ye=L.charAt(pe++),me=E[ye in _A?L.charAt(pe++):ye],!me||(O=me(H,K,O))<0)return-1}else if(ye!=K.charCodeAt(O++))return-1}return O}function T(H,L,K){var O=u.exec(L.slice(K));return O?(H.p=d.get(O[0].toLowerCase()),K+O[0].length):-1}function C(H,L,K){var O=m.exec(L.slice(K));return O?(H.w=h.get(O[0].toLowerCase()),K+O[0].length):-1}function A(H,L,K){var O=f.exec(L.slice(K));return O?(H.w=p.get(O[0].toLowerCase()),K+O[0].length):-1}function N(H,L,K){var O=v.exec(L.slice(K));return O?(H.m=b.get(O[0].toLowerCase()),K+O[0].length):-1}function I(H,L,K){var O=g.exec(L.slice(K));return O?(H.m=x.get(O[0].toLowerCase()),K+O[0].length):-1}function M(H,L,K){return j(H,t,L,K)}function F(H,L,K){return j(H,r,L,K)}function q(H,L,K){return j(H,n,L,K)}function W(H){return s[H.getDay()]}function V(H){return i[H.getDay()]}function B(H){return c[H.getMonth()]}function R(H){return o[H.getMonth()]}function ne(H){return a[+(H.getHours()>=12)]}function z(H){return 1+~~(H.getMonth()/3)}function P(H){return s[H.getUTCDay()]}function G(H){return i[H.getUTCDay()]}function J(H){return c[H.getUTCMonth()]}function te(H){return o[H.getUTCMonth()]}function re(H){return a[+(H.getUTCHours()>=12)]}function D(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var L=S(H+="",y);return L.toString=function(){return H},L},parse:function(H){var L=w(H+="",!1);return L.toString=function(){return H},L},utcFormat:function(H){var L=S(H+="",k);return L.toString=function(){return H},L},utcParse:function(H){var L=w(H+="",!0);return L.toString=function(){return H},L}}}var _A={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,Tpe=/^%/,jpe=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Ape(e){return e.replace(jpe,"\\$&")}function Jd(e){return new RegExp("^(?:"+e.map(Ape).join("|")+")","i")}function Qd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ipe(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ppe(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ope(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Rpe(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dpe(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function NA(e,t,r){var n=Ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function kA(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Fpe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mpe(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Lpe(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CA(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $pe(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TA(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Bpe(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zpe(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Upe(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qpe(e,t,r){var n=Ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vpe(e,t,r){var n=Tpe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Hpe(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Wpe(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jA(e,t){return ht(e.getDate(),t,2)}function Gpe(e,t){return ht(e.getHours(),t,2)}function Xpe(e,t){return ht(e.getHours()%12||12,t,2)}function Kpe(e,t){return ht(1+Bm.count(ys(e),e),t,3)}function dL(e,t){return ht(e.getMilliseconds(),t,3)}function Ype(e,t){return dL(e,t)+"000"}function Jpe(e,t){return ht(e.getMonth()+1,t,2)}function Qpe(e,t){return ht(e.getMinutes(),t,2)}function Zpe(e,t){return ht(e.getSeconds(),t,2)}function eme(e){var t=e.getDay();return t===0?7:t}function tme(e,t){return ht(Nv.count(ys(e)-1,e),t,2)}function fL(e){var t=e.getDay();return t>=4||t===0?Du(e):Du.ceil(e)}function rme(e,t){return e=fL(e),ht(Du.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function nme(e){return e.getDay()}function ame(e,t){return ht(Tg.count(ys(e)-1,e),t,2)}function ime(e,t){return ht(e.getFullYear()%100,t,2)}function sme(e,t){return e=fL(e),ht(e.getFullYear()%100,t,2)}function ome(e,t){return ht(e.getFullYear()%1e4,t,4)}function lme(e,t){var r=e.getDay();return e=r>=4||r===0?Du(e):Du.ceil(e),ht(e.getFullYear()%1e4,t,4)}function cme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function AA(e,t){return ht(e.getUTCDate(),t,2)}function ume(e,t){return ht(e.getUTCHours(),t,2)}function dme(e,t){return ht(e.getUTCHours()%12||12,t,2)}function fme(e,t){return ht(1+_v.count(bs(e),e),t,3)}function pL(e,t){return ht(e.getUTCMilliseconds(),t,3)}function pme(e,t){return pL(e,t)+"000"}function mme(e,t){return ht(e.getUTCMonth()+1,t,2)}function hme(e,t){return ht(e.getUTCMinutes(),t,2)}function gme(e,t){return ht(e.getUTCSeconds(),t,2)}function xme(e){var t=e.getUTCDay();return t===0?7:t}function vme(e,t){return ht(kv.count(bs(e)-1,e),t,2)}function mL(e){var t=e.getUTCDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function yme(e,t){return e=mL(e),ht(Fu.count(bs(e),e)+(bs(e).getUTCDay()===4),t,2)}function bme(e){return e.getUTCDay()}function wme(e,t){return ht(jg.count(bs(e)-1,e),t,2)}function Sme(e,t){return ht(e.getUTCFullYear()%100,t,2)}function Eme(e,t){return e=mL(e),ht(e.getUTCFullYear()%100,t,2)}function _me(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function Nme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fu(e):Fu.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function kme(){return"+0000"}function IA(){return"%"}function PA(e){return+e}function OA(e){return Math.floor(+e/1e3)}var _c,hL,gL;Cme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cme(e){return _c=Cpe(e),hL=_c.format,_c.parse,gL=_c.utcFormat,_c.utcParse,_c}function Tme(e){return new Date(e)}function jme(e){return e instanceof Date?+e:+new Date(+e)}function $_(e,t,r,n,a,i,s,o,c,u){var d=N_(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),k=u("%Y");function E(S){return(c(S)<S?m:o(S)<S?h:s(S)<S?g:i(S)<S?x:n(S)<S?a(S)<S?v:b:r(S)<S?y:k)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?p(Array.from(S,jme)):p().map(Tme)},d.ticks=function(S){var w=p();return e(w[0],w[w.length-1],S??10)},d.tickFormat=function(S,w){return w==null?E:u(w)},d.nice=function(S){var w=p();return(!S||typeof S.range!="function")&&(S=t(w[0],w[w.length-1],S??10)),S?p(rL(w,S)):d},d.copy=function(){return $m(d,$_(e,t,r,n,a,i,s,o,c,u))},d}function Ame(){return Xa.apply($_(Npe,kpe,ys,M_,Nv,Bm,D_,O_,fl,hL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ime(){return Xa.apply($_(Epe,_pe,bs,L_,kv,_v,F_,R_,fl,gL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cv(){var e=0,t=1,r,n,a,i,s=jn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,s=f(m,h),u):[s(0),s(1)]}}return u.range=d(Ed),u.rangeRound=d(__),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xL(){var e=zo(Cv()(jn));return e.copy=function(){return Uo(e,xL())},As.apply(e,arguments)}function vL(){var e=T_(Cv()).domain([1,10]);return e.copy=function(){return Uo(e,vL()).base(e.base())},As.apply(e,arguments)}function yL(){var e=j_(Cv());return e.copy=function(){return Uo(e,yL()).constant(e.constant())},As.apply(e,arguments)}function B_(){var e=A_(Cv());return e.copy=function(){return Uo(e,B_()).exponent(e.exponent())},As.apply(e,arguments)}function Pme(){return B_.apply(null,arguments).exponent(.5)}function bL(){var e=[],t=jn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(yo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>vfe(e,i/n))},r.copy=function(){return bL(t).domain(e)},As.apply(r,arguments)}function Tv(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=jn,d,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?o:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function h(g){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,u=Vfe(g,[v,b,y]),m):[u(0),u(.5),u(1)]}}return m.range=h(Ed),m.rangeRound=h(__),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return d=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function wL(){var e=zo(Tv()(jn));return e.copy=function(){return Uo(e,wL())},As.apply(e,arguments)}function SL(){var e=T_(Tv()).domain([.1,1,10]);return e.copy=function(){return Uo(e,SL()).base(e.base())},As.apply(e,arguments)}function EL(){var e=j_(Tv());return e.copy=function(){return Uo(e,EL()).constant(e.constant())},As.apply(e,arguments)}function z_(){var e=A_(Tv());return e.copy=function(){return Uo(e,z_()).exponent(e.exponent())},As.apply(e,arguments)}function Ome(){return z_.apply(null,arguments).exponent(.5)}const RA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kp,scaleDiverging:wL,scaleDivergingLog:SL,scaleDivergingPow:z_,scaleDivergingSqrt:Ome,scaleDivergingSymlog:EL,scaleIdentity:tL,scaleImplicit:tS,scaleLinear:kg,scaleLog:nL,scaleOrdinal:w_,scalePoint:Rf,scalePow:I_,scaleQuantile:sL,scaleQuantize:oL,scaleRadial:iL,scaleSequential:xL,scaleSequentialLog:vL,scaleSequentialPow:B_,scaleSequentialQuantile:bL,scaleSequentialSqrt:Pme,scaleSequentialSymlog:yL,scaleSqrt:ppe,scaleSymlog:aL,scaleThreshold:lL,scaleTime:Ame,scaleUtc:Ime,tickFormat:eL},Symbol.toStringTag,{value:"Module"}));var Rme=hd;function Dme(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!Rme(s):r(s,o)))var o=s,c=i}return c}var _L=Dme;function Fme(e,t){return e>t}var Mme=Fme,Lme=_L,$me=Mme,Bme=Sd;function zme(e){return e&&e.length?Lme(e,Bme,$me):void 0}var Ume=zme;const jv=_t(Ume);function qme(e,t){return e<t}var Vme=qme,Hme=_L,Wme=Vme,Gme=Sd;function Xme(e){return e&&e.length?Hme(e,Gme,Wme):void 0}var Kme=Xme;const Av=_t(Kme);var Yme=t_,Jme=Bo,Qme=O6,Zme=Zn;function ehe(e,t){var r=Zme(e)?Yme:Qme;return r(e,Jme(t))}var the=ehe,rhe=I6,nhe=the;function ahe(e,t){return rhe(nhe(e,t),1)}var ihe=ahe;const she=_t(ihe);var ohe=g_;function lhe(e,t){return ohe(e,t)}var che=lhe;const U_=_t(che);var _d=1e9,uhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V_,Jt=!0,Ha="[DecimalError] ",bl=Ha+"Invalid argument: ",q_=Ha+"Exponent out of range: ",Nd=Math.floor,al=Math.pow,dhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,Dr=1e7,Vt=7,NL=9007199254740991,Ag=Nd(NL/Vt),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(e){return ls(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,r=t.constructor;return Ot(ls(t,new r(e),0,1),r.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return Nr(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ua))throw Error(Ha+"NaN");if(r.s<1)throw Error(Ha+(r.s?"NaN":"-Infinity"));return r.eq(ua)?new n(0):(Jt=!1,t=ls(Ip(r,i),Ip(e,i),i),Jt=!0,Ot(t,a))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TL(t,e):kL(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ha+"NaN");return r.s?(Jt=!1,t=ls(r,e,0,1).times(e),Jt=!0,r.minus(t)):Ot(new n(r),a)};Fe.naturalExponential=Fe.exp=function(){return CL(this)};Fe.naturalLogarithm=Fe.ln=function(){return Ip(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kL(t,e):TL(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bl+e);if(t=Nr(a)+1,n=a.d.length-1,r=n*Vt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Fe.squareRoot=Fe.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Ha+"NaN")}for(e=Nr(o),Jt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ki(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ls(o,i,s+2)).times(.5),ki(i.d).slice(0,s)===(t=ki(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ot(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Jt=!0,Ot(n,r)};Fe.times=Fe.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=m.length,c<u&&(i=p,p=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+m[n]*p[a-n-1]+t,i[a--]=o%Dr|0,t=o/Dr|0;i[a]=(i[a]+t)%Dr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jt?Ot(e,f.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fi(e,0,_d),t===void 0?t=n.rounding:Fi(t,0,8),Ot(r,e+Nr(r)+1,t))};Fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ll(n,!0):(Fi(e,0,_d),t===void 0?t=a.rounding:Fi(t,0,8),n=Ot(new a(n),e+1,t),r=Ll(n,!0,e+1)),r};Fe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ll(a):(Fi(e,0,_d),t===void 0?t=i.rounding:Fi(t,0,8),n=Ot(new i(a),e+Nr(a)+1,t),r=Ll(n.abs(),!1,e+Nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),Nr(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ua);if(o=new c(o),!o.s){if(e.s<1)throw Error(Ha+"Infinity");return o}if(o.eq(ua))return o;if(n=c.precision,e.eq(ua))return Ot(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=NL){for(a=new c(ua),t=Math.ceil(n/Vt+4),Jt=!1;r%2&&(a=a.times(o),FA(a.d,t)),r=Nd(r/2),r!==0;)o=o.times(o),FA(o.d,t);return Jt=!0,e.s<0?new c(ua).div(a):Ot(a,n)}}else if(i<0)throw Error(Ha+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Jt=!1,a=e.times(Ip(o,n+u)),Jt=!0,a=CL(a),a.s=i,a};Fe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Nr(a),n=Ll(a,r<=i.toExpNeg||r>=i.toExpPos)):(Fi(e,1,_d),t===void 0?t=i.rounding:Fi(t,0,8),a=Ot(new i(a),e,t),r=Nr(a),n=Ll(a,e<=r||r<=i.toExpNeg,e)),n};Fe.toSignificantDigits=Fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fi(e,1,_d),t===void 0?t=n.rounding:Fi(t,0,8)),Ot(new n(r),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nr(e),r=e.constructor;return Ll(e,t<=r.toExpNeg||t>=r.toExpPos)};function kL(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Jt?Ot(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/Vt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Dr|0,c[i]%=Dr;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Jt?Ot(t,f):t}function Fi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bl+e)}function ki(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Vt-n.length,r&&(i+=Vs(r)),i+=n;s=e[t],n=s+"",r=Vt-n.length,r&&(i+=Vs(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ls=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Dr|0,s=i/Dr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Dr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,p,m,h,g,x,v,b,y,k,E,S,w,j,T=n.constructor,C=n.s==a.s?1:-1,A=n.d,N=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Ha+"Division by zero");for(c=n.e-a.e,w=N.length,E=A.length,m=new T(C),h=m.d=[],u=0;N[u]==(A[u]||0);)++u;if(N[u]>(A[u]||0)&&--c,i==null?b=i=T.precision:s?b=i+(Nr(n)-Nr(a))+1:b=i,b<0)return new T(0);if(b=b/Vt+2|0,u=0,w==1)for(d=0,N=N[0],b++;(u<E||d)&&b--;u++)y=d*Dr+(A[u]||0),h[u]=y/N|0,d=y%N|0;else{for(d=Dr/(N[0]+1)|0,d>1&&(N=e(N,d),A=e(A,d),w=N.length,E=A.length),k=w,g=A.slice(0,w),x=g.length;x<w;)g[x++]=0;j=N.slice(),j.unshift(0),S=N[0],N[1]>=Dr/2&&++S;do d=0,o=t(N,g,w,x),o<0?(v=g[0],w!=x&&(v=v*Dr+(g[1]||0)),d=v/S|0,d>1?(d>=Dr&&(d=Dr-1),f=e(N,d),p=f.length,x=g.length,o=t(f,g,p,x),o==1&&(d--,r(f,w<p?j:N,p))):(d==0&&(o=d=1),f=N.slice()),p=f.length,p<x&&f.unshift(0),r(g,f,x),o==-1&&(x=g.length,o=t(N,g,w,x),o<1&&(d++,r(g,w<x?j:N,x))),x=g.length):o===0&&(d++,g=[0]),h[u++]=d,o&&g[0]?g[x++]=A[k]||0:(g=[A[k]],x=1);while((k++<E||g[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=c,Ot(m,s?i+Nr(m)+1:i)}}();function CL(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Nr(e)>16)throw Error(q_+Nr(e));if(!e.s)return new d(ua);for(t==null?(Jt=!1,o=f):o=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(al(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(ua),d.precision=o;;){if(a=Ot(a.times(e),o),r=r.times(++c),s=i.plus(ls(a,r,o)),ki(s.d).slice(0,o)===ki(i.d).slice(0,o)){for(;u--;)i=Ot(i.times(i),o);return d.precision=f,t==null?(Jt=!0,Ot(i,f)):i}i=s}}function Nr(e){for(var t=e.e*Vt,r=e.d[0];r>=10;r/=10)t++;return t}function Nb(e,t,r){if(t>e.LN10.sd())throw Jt=!0,r&&(e.precision=r),Error(Ha+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function Vs(e){for(var t="";e--;)t+="0";return t}function Ip(e,t){var r,n,a,i,s,o,c,u,d,f=1,p=10,m=e,h=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(Ha+(m.s?"NaN":"-Infinity"));if(m.eq(ua))return new g(0);if(t==null?(Jt=!1,u=x):u=t,m.eq(10))return t==null&&(Jt=!0),Nb(g,u);if(u+=p,g.precision=u,r=ki(h),n=r.charAt(0),i=Nr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ki(m.d),n=r.charAt(0),f++;i=Nr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Nb(g,u+2,x).times(i+""),m=Ip(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=x,t==null?(Jt=!0,Ot(m,x)):m;for(o=s=m=ls(m.minus(ua),m.plus(ua),u),d=Ot(m.times(m),u),a=3;;){if(s=Ot(s.times(d),u),c=o.plus(ls(s,new g(a),u)),ki(c.d).slice(0,u)===ki(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Nb(g,u+2,x).times(i+""))),o=ls(o,new g(f),u),g.precision=x,t==null?(Jt=!0,Ot(o,x)):o;o=c,a+=2}}function DA(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Nd(r/Vt),e.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Vt;n<a;)e.d.push(+t.slice(n,n+=Vt));t=t.slice(n),n=Vt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jt&&(e.e>Ag||e.e<-Ag))throw Error(q_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Vt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Vt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Vt,a=n-Vt+s}if(r!==void 0&&(i=al(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/al(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Nr(e),f.length=1,t=t-i-1,f[0]=al(10,(Vt-t%Vt)%Vt),e.e=Nd(-t/Vt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=al(10,Vt-n),f[d]=a>0?(u/al(10,s-a)%al(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Dr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Dr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Jt&&(e.e>Ag||e.e<-Ag))throw Error(q_+Nr(e));return e}function TL(e,t){var r,n,a,i,s,o,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Jt?Ot(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(m/Vt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Dr-1;--c[i],c[a]+=Dr}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Jt?Ot(t,m):t):new p(0)}function Ll(e,t,r){var n,a=Nr(e),i=ki(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Vs(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Vs(-a-1)+i,r&&(n=r-s)>0&&(i+=Vs(n))):a>=s?(i+=Vs(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Vs(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Vs(n))),e.s<0?"-"+i:i}function FA(e,t){if(e.length>t)return e.length=t,!0}function jL(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return DA(s,i.toString())}else if(typeof i!="string")throw Error(bl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,dhe.test(i))DA(s,i);else throw Error(bl+i)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jL,a.config=a.set=fhe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fhe(e){if(!e||typeof e!="object")throw Error(Ha+"Object expected");var t,r,n,a=["precision",1,_d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Nd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bl+r+": "+n);return this}var V_=jL(uhe);ua=new V_(1);const Ct=V_;function phe(e){return xhe(e)||ghe(e)||hhe(e)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hhe(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function ghe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xhe(e){if(Array.isArray(e))return iS(e)}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vhe=function(t){return t},AL={"@@functional/placeholder":!0},IL=function(t){return t===AL},MA=function(t){return function r(){return arguments.length===0||arguments.length===1&&IL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yhe=function e(t,r){return t===1?r:MA(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==AL}).length;return s>=t?r.apply(void 0,a):e(t-s,MA(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return IL(f)?c.shift():f});return r.apply(void 0,phe(d).concat(c))}))})},Iv=function(t){return yhe(t.length,t)},sS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bhe=Iv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),whe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vhe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},oS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},PL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function She(e){var t;return e===0?t=1:t=Math.floor(new Ct(e).abs().log(10).toNumber())+1,t}function Ehe(e,t,r){for(var n=new Ct(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _he=Iv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Nhe=Iv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),khe=Iv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Pv={rangeStep:Ehe,getDigitCount:She,interpolateNumber:_he,uninterpolateNumber:Nhe,uninterpolateTruncation:khe};function lS(e){return jhe(e)||The(e)||OL(e)||Che()}function Che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jhe(e){if(Array.isArray(e))return cS(e)}function Pp(e,t){return Phe(e)||Ihe(e,t)||OL(e,t)||Ahe()}function Ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OL(e,t){if(e){if(typeof e=="string")return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(e,t)}}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ihe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Phe(e){if(Array.isArray(e))return e}function RL(e){var t=Pp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function DL(e,t,r){if(e.lte(0))return new Ct(0);var n=Pv.getDigitCount(e.toNumber()),a=new Ct(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Ct(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?c:new Ct(Math.ceil(c))}function Ohe(e,t,r){var n=1,a=new Ct(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ct(10).pow(Pv.getDigitCount(e)-1),a=new Ct(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ct(Math.floor(e)))}else e===0?a=new Ct(Math.floor((t-1)/2)):r||(a=new Ct(Math.floor(e)));var s=Math.floor((t-1)/2),o=whe(bhe(function(c){return a.add(new Ct(c-s).mul(n)).toNumber()}),sS);return o(0,t)}function FL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var i=DL(new Ct(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Ct(0):(s=new Ct(e).add(t).div(2),s=s.sub(new Ct(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Ct(t).sub(s).div(i).toNumber()),u=o+c+1;return u>r?FL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new Ct(o).mul(i)),tickMax:s.add(new Ct(c).mul(i))})}function Rhe(e){var t=Pp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=RL([r,n]),c=Pp(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(lS(sS(0,a-1).map(function(){return 1/0}))):[].concat(lS(sS(0,a-1).map(function(){return-1/0})),[d]);return r>n?oS(f):f}if(u===d)return Ohe(u,a,i);var p=FL(u,d,s,i),m=p.step,h=p.tickMin,g=p.tickMax,x=Pv.rangeStep(h,g.add(new Ct(.1).mul(m)),m);return r>n?oS(x):x}function Dhe(e,t){var r=Pp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=RL([n,a]),o=Pp(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=DL(new Ct(u).sub(c).div(d-1),i,0),p=[].concat(lS(Pv.rangeStep(new Ct(c),new Ct(u).sub(new Ct(.99).mul(f)),f)),[u]);return n>a?oS(p):p}var Fhe=PL(Rhe),Mhe=PL(Dhe),Lhe="Invariant failed";function $l(e,t){throw new Error(Lhe)}var $he=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function Bhe(e,t){return Vhe(e)||qhe(e,t)||Uhe(e,t)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uhe(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Vhe(e){if(Array.isArray(e))return e}function Hhe(e,t){if(e==null)return{};var r=Whe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$L(n.key),n)}}function Khe(e,t,r){return t&&Xhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=Pg(t),Jhe(e,ML()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function Jhe(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(e)}function Qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function Zhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function LL(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=e0e(e,"string");return Mu(t)=="symbol"?t:t+""}function e0e(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ov=function(e){function t(){return Ghe(this,t),Yhe(this,t,arguments)}return Zhe(t,e),Khe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Hhe(n,$he),m=gt(p,!1);this.props.direction==="x"&&d.type!=="number"&&$l();var h=c.map(function(g){var x=u(g,o),v=x.x,b=x.y,y=x.value,k=x.errorVal;if(!k)return null;var E=[],S,w;if(Array.isArray(k)){var j=Bhe(k,2);S=j[0],w=j[1]}else S=w=k;if(i==="vertical"){var T=d.scale,C=b+a,A=C+s,N=C-s,I=T(y-S),M=T(y+w);E.push({x1:M,y1:A,x2:M,y2:N}),E.push({x1:I,y1:C,x2:M,y2:C}),E.push({x1:I,y1:A,x2:I,y2:N})}else if(i==="horizontal"){var F=f.scale,q=v+a,W=q-s,V=q+s,B=F(y-S),R=F(y+w);E.push({x1:W,y1:R,x2:V,y2:R}),E.push({x1:q,y1:B,x2:q,y2:R}),E.push({x1:W,y1:B,x2:V,y2:B})}return ae.createElement(Lr,Ig({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),E.map(function(ne){return ae.createElement("line",Ig({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return ae.createElement(Lr,{className:"recharts-errorBars"},h)}}])}(ae.Component);LL(Ov,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LL(Ov,"displayName","ErrorBar");function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){t0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t0e(e,t,r){return t=r0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r0e(e){var t=n0e(e,"string");return Op(t)=="symbol"?t:t+""}function n0e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BL=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ia(r,ou);if(!s)return null;var o=ou.defaultProps,c=o!==void 0?Jo(Jo({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,m=f.props,h=m.sectors||m.data||[];return d.concat(h.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,m=p!==void 0?Jo(Jo({},p),f.props):{},h=m.dataKey,g=m.name,x=m.legendType,v=m.hide;return{inactive:v,dataKey:h,type:c.iconType||x||"square",color:H_(f),value:g||h,payload:m}}),Jo(Jo(Jo({},c),ou.getWithHeight(s,a)),{},{payload:u,item:s})};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function BA(e){return o0e(e)||s0e(e)||i0e(e)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return dS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(e,t)}}function s0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o0e(e){if(Array.isArray(e))return dS(e)}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cu(e,t,r){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return Rp(t)=="symbol"?t:t+""}function c0e(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(e,t,r){return vt(e)||vt(t)?r:Ir(t)?za(e,t,r):at(t)?t(e):r}function Df(e,t,r,n){var a=she(e,function(o){return Mi(o,t)});if(r==="number"){var i=a.filter(function(o){return Te(o)||parseFloat(o)});return i.length?[Av(i),jv(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!vt(o)}):a;return s.map(function(o){return Ir(o)||o instanceof Date?o:""})}var u0e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,p=u>=o-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ai(f-d)!==ai(p-f)){var h=[];if(ai(p-f)===ai(c[1]-c[0])){m=p;var g=f+c[1]-c[0];h[0]=Math.min(g,(g+d)/2),h[1]=Math.max(g,(g+d)/2)}else{m=d;var x=p+c[1]-c[0];h[0]=Math.min(f,(x+f)/2),h[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=h[0]&&t<=h[1]){s=a[u].index;break}}else{var b=Math.min(d,p),y=Math.max(d,p);if(t>(b+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var k=0;k<o;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<o-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===o-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},H_=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},d0e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var d=i[o[c]].stackGroups,f=Object.keys(d),p=0,m=f.length;p<m;p++){var h=d[f[p]],g=h.items,x=h.cateAxisId,v=g.filter(function(w){return ss(w.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?lr(lr({},b),v[0].props):v[0].props,k=y.barSize,E=y[x];s[E]||(s[E]=[]);var S=vt(k)?r:k;s[E].push({item:v[0],stackList:v.slice(1),barSize:vt(S)?void 0:Ml(S,n,0)})}}return s},f0e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=Ml(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,m=a/c,h=s.reduce(function(k,E){return k+E.barSize||0},0);h+=(c-1)*u,h>=a&&(h-=(c-1)*u,u=0),h>=a&&m>0&&(p=!0,m*=.9,h=c*m);var g=(a-h)/2>>0,x={offset:g-u,size:0};d=s.reduce(function(k,E){var S={item:E.item,position:{offset:x.offset+x.size+u,size:p?m:E.barSize}},w=[].concat(BA(k),[S]);return x=w[w.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){w.push({item:j,position:x})}),w},f)}else{var v=Ml(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=o===+o?Math.min(b,o):b;d=s.reduce(function(k,E,S){var w=[].concat(BA(k),[{item:E.item,position:{offset:v+(b+u)*S+(b-y)/2,size:y}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){w.push({item:j,position:w[w.length-1].position})}),w},f)}return d},p0e=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=BL({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,m=u.align,h=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&h==="middle")&&m!=="center"&&Te(t[m]))return lr(lr({},t),{},cu({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&h!=="middle"&&Te(t[h]))return lr(lr({},t),{},cu({},h,t[h]+(p||0)))}return t},m0e=function(t,r,n){return vt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zL=function(t,r,n,a,i){var s=r.props.children,o=ui(s,Ov).filter(function(u){return m0e(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Mi(d,n);if(vt(f))return u;var p=Array.isArray(f)?[Av(f),jv(f)]:[f,f],m=c.reduce(function(h,g){var x=Mi(d,g,0),v=p[0]-Math.abs(Array.isArray(x)?x[0]:x),b=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,h[0]),Math.max(b,h[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},h0e=function(t,r,n,a,i){var s=r.map(function(o){return zL(t,o,n,i,a)}).filter(function(o){return!vt(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},UL=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zL(t,c,u,a)||Df(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},qL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},VL=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},ns=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ai(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Dm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},kb=new WeakMap,Ih=function(t,r){if(typeof r!="function")return t;kb.has(t)||kb.set(t,new WeakMap);var n=kb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},g0e=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:kp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:kg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Rf(),realScaleType:"point"}:i==="category"?{scale:kp(),realScaleType:"band"}:{scale:kg(),realScaleType:"linear"};if(Fl(a)){var c="scale".concat(gv(a));return{scale:(RA[c]||Rf)(),realScaleType:RA[c]?c:"point"}}return at(a)?{scale:a}:{scale:Rf(),realScaleType:"point"}},UA=1e-4,x0e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-UA,s=Math.max(a[0],a[1])+UA,o=t(r[0]),c=t(r[n-1]);(o<i||o>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},v0e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},y0e=function(t,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Te(t[0])||t[0]<n)&&(i[0]=n),(!Te(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},b0e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=Dm(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},w0e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Dm(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},S0e={sign:b0e,expand:Mre,none:Tu,silhouette:Lre,wiggle:$re,positive:w0e},E0e=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=S0e[n],s=Fre().keys(a).value(function(o,c){return+Mi(o,c,0)}).order(Fw).offset(i);return s(t)},_0e=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,p){var m,h=(m=p.type)!==null&&m!==void 0&&m.defaultProps?lr(lr({},p.type.defaultProps),p.props):p.props,g=h.stackId,x=h.hide;if(x)return f;var v=h[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(Ir(g)){var y=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(p),b.hasStack=!0,b.stackGroups[g]=y}else b.stackGroups[hv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return lr(lr({},f),{},cu({},v,b))},c),d={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var h={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var v=m.stackGroups[x];return lr(lr({},g),{},cu({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:E0e(t,v.items,i)}))},h)}return lr(lr({},f),{},cu({},p,m))},d)},N0e=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Fhe(u,i,o);return t.domain([Av(d),jv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=Mhe(f,i,o);return{niceTicks:p}}return null},qA=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=Mi(s,r.dataKey,r.domain[o]);return vt(c)?null:r.scale(c)-i/2+a},k0e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},C0e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ir(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},T0e=function(t){return t.reduce(function(r,n){return[Av(n.concat([r[0]]).filter(Te)),jv(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},HL=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,c=o.reduce(function(u,d){var f=T0e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fS=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Te(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(VA.test(t[0])){var i=+VA.exec(t[0])[1];a[0]=r[0]-i}else at(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Te(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(HA.test(t[1])){var s=+HA.exec(t[1])[1];a[1]=r[1]+s}else at(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Og=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=v_(r,function(f){return f.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},WA=function(t,r,n){return!t||!t.length||U_(t,za(n,"type.defaultProps.domain"))?r:t},WL=function(t,r){var n=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lr(lr({},gt(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:H_(t),value:Mi(r,a),type:c,payload:r,chartType:u,hide:d})};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){j0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0e(e,t,r){return t=A0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0e(e){var t=I0e(e,"string");return Dp(t)=="symbol"?t:t+""}function I0e(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rg=Math.PI/180,P0e=function(t){return t*180/Math.PI},Kr=function(t,r,n,a){return{x:t+Math.cos(-Rg*a)*n,y:r+Math.sin(-Rg*a)*n}},O0e=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},R0e=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=O0e({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:P0e(u),angleInRadian:u}},D0e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},F0e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},KA=function(t,r){var n=t.x,a=t.y,i=R0e({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=D0e(r),f=d.startAngle,p=d.endAngle,m=o,h;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;h=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;h=m>=p&&m<=f}return h?XA(XA({},r),{},{radius:s,angle:F0e(m,r)}):null};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}var M0e=["offset"];function L0e(e){return U0e(e)||z0e(e)||B0e(e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B0e(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function z0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U0e(e){if(Array.isArray(e))return pS(e)}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q0e(e,t){if(e==null)return{};var r=V0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){H0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0e(e,t,r){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W0e(e){var t=G0e(e,"string");return Fp(t)=="symbol"?t:t+""}function G0e(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}var X0e=function(t){var r=t.value,n=t.formatter,a=vt(t.children)?r:t.children;return at(n)?n(a):a},K0e=function(t,r){var n=ai(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Y0e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,m=c.startAngle,h=c.endAngle,g=c.clockWise,x=(f+p)/2,v=K0e(m,h),b=v>=0?1:-1,y,k;a==="insideStart"?(y=m+b*s,k=g):a==="insideEnd"?(y=h-b*s,k=!g):a==="end"&&(y=h+b*s,k=g),k=v<=0?k:!k;var E=Kr(u,d,x,y),S=Kr(u,d,x,y+(k?1:-1)*359),w="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),j=vt(t.id)?hv("recharts-radial-line-"):t.id;return ae.createElement("text",Mp({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",o)}),ae.createElement("defs",null,ae.createElement("path",{id:j,d:w})),ae.createElement("textPath",{xlinkHref:"#".concat(j)},r))},J0e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var m=Kr(s,o,u+n,p),h=m.x,g=m.y;return{x:h,y:g,textAnchor:h>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=Kr(s,o,x,p),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},Q0e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,p=f*a,m=f>0?"end":"start",h=f>0?"start":"end",g=u>=0?1:-1,x=g*a,v=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var y={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Cr(Cr({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var k={x:o+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:h};return Cr(Cr({},k),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var E={x:o-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Cr(Cr({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:o+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Cr(Cr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var w=n?{width:u,height:d}:{};return i==="insideLeft"?Cr({x:o+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},w):i==="insideRight"?Cr({x:o+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},w):i==="insideTop"?Cr({x:o+u/2,y:c+p,textAnchor:"middle",verticalAnchor:h},w):i==="insideBottom"?Cr({x:o+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:m},w):i==="insideTopLeft"?Cr({x:o+x,y:c+p,textAnchor:b,verticalAnchor:h},w):i==="insideTopRight"?Cr({x:o+u-x,y:c+p,textAnchor:v,verticalAnchor:h},w):i==="insideBottomLeft"?Cr({x:o+x,y:c+d-p,textAnchor:b,verticalAnchor:m},w):i==="insideBottomRight"?Cr({x:o+u-x,y:c+d-p,textAnchor:v,verticalAnchor:m},w):gd(i)&&(Te(i.x)||ul(i.x))&&(Te(i.y)||ul(i.y))?Cr({x:o+Ml(i.x,u),y:c+Ml(i.y,d),textAnchor:"end",verticalAnchor:"end"},w):Cr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},w)},Z0e=function(t){return"cx"in t&&Te(t.cx)};function un(e){var t=e.offset,r=t===void 0?5:t,n=q0e(e,M0e),a=Cr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||vt(o)&&vt(c)&&!_.isValidElement(u)&&!at(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var m;if(at(u)){if(m=_.createElement(u,a),_.isValidElement(m))return m}else m=X0e(a);var h=Z0e(i),g=gt(a,!0);if(h&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Y0e(a,m,g);var x=h?J0e(a):Q0e(a);return ae.createElement(yg,Mp({className:st("recharts-label",f)},g,x,{breakAll:p}),m)}un.displayName="Label";var GL=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,m=t.top,h=t.left,g=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Te(g)&&Te(x)){if(Te(f)&&Te(p))return{x:f,y:p,width:g,height:x};if(Te(m)&&Te(h))return{x:m,y:h,width:g,height:x}}return Te(f)&&Te(p)?{x:f,y:p,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},ege=function(t,r){return t?t===!0?ae.createElement(un,{key:"label-implicit",viewBox:r}):Ir(t)?ae.createElement(un,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===un?_.cloneElement(t,{key:"label-implicit",viewBox:r}):ae.createElement(un,{key:"label-implicit",content:t,viewBox:r}):at(t)?ae.createElement(un,{key:"label-implicit",content:t,viewBox:r}):gd(t)?ae.createElement(un,Mp({viewBox:r},t,{key:"label-implicit"})):null:null},tge=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=GL(t),s=ui(a,un).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=ege(t.label,r||i);return[o].concat(L0e(s))};un.parseViewBox=GL;un.renderCallByParent=tge;function rge(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var nge=rge;const age=_t(nge);function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}var ige=["valueAccessor"],sge=["data","dataKey","clockWise","id","textBreakAll"];function oge(e){return dge(e)||uge(e)||cge(e)||lge()}function lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(e,t){if(e){if(typeof e=="string")return mS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(e,t)}}function uge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dge(e){if(Array.isArray(e))return mS(e)}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=mge(e,"string");return Lp(t)=="symbol"?t:t+""}function mge(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZA(e,t){if(e==null)return{};var r=hge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gge=function(t){return Array.isArray(t.value)?age(t.value):t.value};function wl(e){var t=e.valueAccessor,r=t===void 0?gge:t,n=ZA(e,ige),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=ZA(n,sge);return!a||!a.length?null:ae.createElement(Lr,{className:"recharts-label-list"},a.map(function(d,f){var p=vt(i)?r(d,f):Mi(d&&d.payload,i),m=vt(o)?{}:{id:"".concat(o,"-").concat(f)};return ae.createElement(un,Dg({},gt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:un.parseViewBox(vt(s)?d:QA(QA({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}wl.displayName="LabelList";function xge(e,t){return e?e===!0?ae.createElement(wl,{key:"labelList-implicit",data:t}):ae.isValidElement(e)||at(e)?ae.createElement(wl,{key:"labelList-implicit",data:t,content:e}):gd(e)?ae.createElement(wl,Dg({data:t},e,{key:"labelList-implicit"})):null:null}function vge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ui(n,wl).map(function(s,o){return _.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=xge(e.label,t);return[i].concat(oge(a))}wl.renderCallByParent=vge;function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yge(e,t,r){return t=bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=wge(e,"string");return $p(t)=="symbol"?t:t+""}function wge(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sge=function(t,r){var n=ai(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ph=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/Rg,p=u?i:i+s*f,m=Kr(r,n,d,p),h=Kr(r,n,a,p),g=u?i-s*f:i,x=Kr(r,n,d*Math.cos(f*Rg),g);return{center:m,circleTangency:h,lineTangency:x,theta:f}},XL=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,c=Sge(s,o),u=s+c,d=Kr(r,n,i,s),f=Kr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Kr(r,n,a,s),h=Kr(r,n,a,u);p+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Ege=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ai(d-u),p=Ph({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=p.circleTangency,h=p.lineTangency,g=p.theta,x=Ph({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,y=x.theta,k=c?Math.abs(u-d):Math.abs(u-d)-g-y;if(k<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):XL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Ph({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),w=S.circleTangency,j=S.lineTangency,T=S.theta,C=Ph({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=C.circleTangency,N=C.lineTangency,I=C.theta,M=c?Math.abs(u-d):Math.abs(u-d)-T-I;if(M<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},_ge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KL=function(t){var r=tI(tI({},_ge),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var m=st("recharts-sector",p),h=s-i,g=Ml(o,h,0,!0),x;return g>0&&Math.abs(d-f)<360?x=Ege({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=XL({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),ae.createElement("path",hS({},gt(r,!0),{className:m,d:x,role:"img"}))};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){Nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t,r){return t=kge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Cge(e,"string");return Bp(t)=="symbol"?t:t+""}function Cge(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aI={curveBasisClosed:Nre,curveBasisOpen:kre,curveBasis:_re,curveBumpX:ure,curveBumpY:dre,curveLinearClosed:Cre,curveLinear:vv,curveMonotoneX:Tre,curveMonotoneY:jre,curveNatural:Are,curveStep:Ire,curveStepAfter:Ore,curveStepBefore:Pre},Oh=function(t){return t.x===+t.x&&t.y===+t.y},Zd=function(t){return t.x},ef=function(t){return t.y},Tge=function(t,r){if(at(t))return t;var n="curve".concat(gv(t));return(n==="curveMonotone"||n==="curveBump")&&r?aI["".concat(n).concat(r==="vertical"?"Y":"X")]:aI[n]||vv},jge=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Tge(n,o),f=u?i.filter(function(g){return Oh(g)}):i,p;if(Array.isArray(s)){var m=u?s.filter(function(g){return Oh(g)}):s,h=f.map(function(g,x){return nI(nI({},g),{},{base:m[x]})});return o==="vertical"?p=Eh().y(ef).x1(Zd).x0(function(g){return g.base.x}):p=Eh().x(Zd).y1(ef).y0(function(g){return g.base.y}),p.defined(Oh).curve(d),p(h)}return o==="vertical"&&Te(s)?p=Eh().y(ef).x1(Zd).x0(s):Te(s)?p=Eh().x(Zd).y1(ef).y0(s):p=YM().x(Zd).y(ef),p.defined(Oh).curve(d),p(f)},iI=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?jge(t):a;return ae.createElement("path",gS({},gt(t,!1),ng(t),{className:st("recharts-curve",r),d:s,ref:i}))},YL={exports:{}},Age="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ige=Age,Pge=Ige;function JL(){}function QL(){}QL.resetWarningCache=JL;var Oge=function(){function e(n,a,i,s,o,c){if(c!==Pge){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:QL,resetWarningCache:JL};return r.PropTypes=r,r};YL.exports=Oge();var Rge=YL.exports;const xt=_t(Rge);var Dge=Object.getOwnPropertyNames,Fge=Object.getOwnPropertySymbols,Mge=Object.prototype.hasOwnProperty;function sI(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Rh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function oI(e){return Dge(e).concat(Fge(e))}var Lge=Object.hasOwn||function(e,t){return Mge.call(e,t)};function uc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var $ge="__v",Bge="__o",zge="_owner",lI=Object.getOwnPropertyDescriptor,cI=Object.keys;function Uge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function qge(e,t){return uc(e.getTime(),t.getTime())}function Vge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Hge(e,t){return e===t}function uI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var p=s.value,m=o.value;if(r.equals(p[0],m[0],c,f,e,t,r)&&r.equals(p[1],m[1],p[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Wge=uc;function Gge(e,t,r){var n=cI(e),a=n.length;if(cI(t).length!==a)return!1;for(;a-- >0;)if(!ZL(e,t,r,n[a]))return!1;return!0}function tf(e,t,r){var n=oI(e),a=n.length;if(oI(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!ZL(e,t,r,i)||(s=lI(e,i),o=lI(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Xge(e,t){return uc(e.valueOf(),t.valueOf())}function Kge(e,t){return e.source===t.source&&e.flags===t.flags}function dI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Yge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Jge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZL(e,t,r,n){return(n===zge||n===Bge||n===$ge)&&(e.$$typeof||t.$$typeof)?!0:Lge(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Qge="[object Arguments]",Zge="[object Boolean]",exe="[object Date]",txe="[object Error]",rxe="[object Map]",nxe="[object Number]",axe="[object Object]",ixe="[object RegExp]",sxe="[object Set]",oxe="[object String]",lxe="[object URL]",cxe=Array.isArray,fI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pI=Object.assign,uxe=Object.prototype.toString.call.bind(Object.prototype.toString);function dxe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(h,g,x){if(h===g)return!0;if(h==null||g==null)return!1;var v=typeof h;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?s(h,g,x):v==="function"?a(h,g,x):!1;var b=h.constructor;if(b!==g.constructor)return!1;if(b===Object)return o(h,g,x);if(cxe(h))return t(h,g,x);if(fI!=null&&fI(h))return f(h,g,x);if(b===Date)return r(h,g,x);if(b===RegExp)return u(h,g,x);if(b===Map)return i(h,g,x);if(b===Set)return d(h,g,x);var y=uxe(h);return y===exe?r(h,g,x):y===ixe?u(h,g,x):y===rxe?i(h,g,x):y===sxe?d(h,g,x):y===axe?typeof h.then!="function"&&typeof g.then!="function"&&o(h,g,x):y===lxe?p(h,g,x):y===txe?n(h,g,x):y===Qge?o(h,g,x):y===Zge||y===nxe||y===oxe?c(h,g,x):!1}}function fxe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?tf:Uge,areDatesEqual:qge,areErrorsEqual:Vge,areFunctionsEqual:Hge,areMapsEqual:n?sI(uI,tf):uI,areNumbersEqual:Wge,areObjectsEqual:n?tf:Gge,arePrimitiveWrappersEqual:Xge,areRegExpsEqual:Kge,areSetsEqual:n?sI(dI,tf):dI,areTypedArraysEqual:n?tf:Yge,areUrlsEqual:Jge};if(r&&(a=pI({},a,r(a))),t){var i=Rh(a.areArraysEqual),s=Rh(a.areMapsEqual),o=Rh(a.areObjectsEqual),c=Rh(a.areSetsEqual);a=pI({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function pxe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function mxe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:p,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var hxe=qo();qo({strict:!0});qo({circular:!0});qo({circular:!0,strict:!0});qo({createInternalComparator:function(){return uc}});qo({strict:!0,createInternalComparator:function(){return uc}});qo({circular:!0,createInternalComparator:function(){return uc}});qo({circular:!0,createInternalComparator:function(){return uc},strict:!0});function qo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=fxe(e),c=dxe(o),u=n?n(c):pxe(c);return mxe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function gxe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):gxe(a)};requestAnimationFrame(n)}function xS(e){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xS(e)}function xxe(e){return wxe(e)||bxe(e)||yxe(e)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wxe(e){if(Array.isArray(e))return e}function Sxe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=xxe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){mI(a.bind(null,u),c);return}a(c),mI(a.bind(null,u));return}xS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){e8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8(e,t,r){return t=Exe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Exe(e){var t=_xe(e,"string");return zp(t)==="symbol"?t:String(t)}function _xe(e,t){if(zp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nxe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},kxe=function(t){return t},Cxe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ff=function(t,r){return Object.keys(r).reduce(function(n,a){return xI(xI({},n),{},e8({},a,t(a,r[a])))},{})},vI=function(t,r,n){return t.map(function(a){return"".concat(Cxe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Txe(e,t){return Ixe(e)||Axe(e,t)||t8(e,t)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Ixe(e){if(Array.isArray(e))return e}function Pxe(e){return Dxe(e)||Rxe(e)||t8(e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(e,t){if(e){if(typeof e=="string")return vS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(e,t)}}function Rxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dxe(e){if(Array.isArray(e))return vS(e)}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fg=1e-4,r8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},n8=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},yI=function(t,r){return function(n){var a=r8(t,r);return n8(a,n)}},Fxe=function(t,r){return function(n){var a=r8(t,r),i=[].concat(Pxe(a.map(function(s,o){return s*o}).slice(1)),[0]);return n8(i,n)}},bI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Txe(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=yI(a,s),p=yI(i,o),m=Fxe(a,s),h=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,y=b,k=0;k<8;++k){var E=f(y)-b,S=m(y);if(Math.abs(E-b)<Fg||S<Fg)return p(y);y=h(y-E/S)}return p(y)};return g.isStepper=!1,g},Mxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,c=function(d,f,p){var m=-(d-f)*n,h=p*i,g=p+(m-h)*o/1e3,x=p*o/1e3+d;return Math.abs(x-f)<Fg&&Math.abs(g)<Fg?[f,0]:[x,g]};return c.isStepper=!0,c.dt=o,c},Lxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bI(a);case"spring":return Mxe();default:if(a.split("(")[0]==="cubic-bezier")return bI(a)}return typeof a=="function"?a:null};function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function wI(e){return zxe(e)||Bxe(e)||a8(e)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zxe(e){if(Array.isArray(e))return bS(e)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){yS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yS(e,t,r){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=qxe(e,"string");return Up(t)==="symbol"?t:String(t)}function qxe(e,t){if(Up(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vxe(e,t){return Gxe(e)||Wxe(e,t)||a8(e,t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8(e,t){if(e){if(typeof e=="string")return bS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(e,t)}}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Gxe(e){if(Array.isArray(e))return e}var Mg=function(t,r,n){return t+(r-t)*n},wS=function(t){var r=t.from,n=t.to;return r!==n},Xxe=function e(t,r,n){var a=Ff(function(i,s){if(wS(s)){var o=t(s.from,s.to,s.velocity),c=Vxe(o,2),u=c[0],d=c[1];return Hr(Hr({},s),{},{from:u,velocity:d})}return s},r);return n<1?Ff(function(i,s){return wS(s)?Hr(Hr({},s),{},{velocity:Mg(s.velocity,a[i].velocity,n),from:Mg(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Kxe=function(e,t,r,n,a){var i=Nxe(e,t),s=i.reduce(function(x,v){return Hr(Hr({},x),{},yS({},v,[e[v],t[v]]))},{}),o=i.reduce(function(x,v){return Hr(Hr({},x),{},yS({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Ff(function(v,b){return b.from},o)},m=function(){return!Object.values(o).filter(wS).length},h=function(v){u||(u=v);var b=v-u,y=b/r.dt;o=Xxe(r,o,y),a(Hr(Hr(Hr({},e),t),p())),u=v,m()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var b=(v-d)/n,y=Ff(function(E,S){return Mg.apply(void 0,wI(S).concat([r(b)]))},s);if(a(Hr(Hr(Hr({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var k=Ff(function(E,S){return Mg.apply(void 0,wI(S).concat([r(1)]))},s);a(Hr(Hr(Hr({},e),t),k))}};return f=r.isStepper?h:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var Yxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jxe(e,t){if(e==null)return{};var r=Qxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qxe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cb(e){return rve(e)||tve(e)||eve(e)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(e,t){if(e){if(typeof e=="string")return SS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SS(e,t)}}function tve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rve(e){if(Array.isArray(e))return SS(e)}function SS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gf(e,t,r){return t=i8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ave(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i8(n.key),n)}}function ive(e,t,r){return t&&ave(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i8(e){var t=sve(e,"string");return Lu(t)==="symbol"?t:String(t)}function sve(e,t){if(Lu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ove(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ES(e,t)}function lve(e){var t=cve();return function(){var n=Lg(e),a;if(t){var i=Lg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _S(this,a)}}function _S(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NS(e)}function NS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}var Eo=function(e){ove(r,e);var t=lve(r);function r(n,a){var i;nve(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,p=s.children,m=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(NS(i)),i.changeStyle=i.changeStyle.bind(NS(i)),!o||m<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),_S(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},_S(i);i.state={style:c?gf({},c,u):u}}else i.state={style:{}};return i}return ive(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(o){if(!s){var m={style:c?gf({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(m);return}if(!(hxe(a.to,d)&&a.canBegin&&a.isActive)){var h=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||u?f:a.to;if(this.state&&p){var x={style:c?gf({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(x)}this.runAnimation(Ja(Ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,m=Kxe(s,o,Lxe(u),c,this.changeStyle),h=function(){i.stopJSAnimation=m()};this.manager.start([p,d,h,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,p=f===void 0?0:f,m=function(g,x,v){if(v===0)return g;var b=x.duration,y=x.easing,k=y===void 0?"ease":y,E=x.style,S=x.properties,w=x.onAnimationEnd,j=v>0?s[v-1]:x,T=S||Object.keys(E);if(typeof k=="function"||k==="spring")return[].concat(Cb(g),[i.runJSAnimation.bind(i,{from:j.style,to:E,duration:b,easing:k}),b]);var C=vI(T,b,k),A=Ja(Ja(Ja({},j.style),E),{},{transition:C});return[].concat(Cb(g),[A,b,w]).filter(kxe)};return this.manager.start([c].concat(Cb(s.reduce(m,[d,Math.max(p,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Sxe());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,m=a.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=o?gf({},o,c):c,x=vI(Object.keys(g),s,u);h.start([d,i,Ja(Ja({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Jxe(a,Yxe),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(m){var h=m.props,g=h.style,x=g===void 0?{}:g,v=h.className,b=_.cloneElement(m,Ja(Ja({},c),{},{style:Ja(Ja({},x),d),className:v}));return b};return u===1?f(_.Children.only(i)):ae.createElement("div",null,_.Children.map(i,function(p){return f(p)}))}}]),r}(_.PureComponent);Eo.displayName="Animate";Eo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Eo.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function uve(e,t){return mve(e)||pve(e,t)||fve(e,t)||dve()}function dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function mve(e){if(Array.isArray(e))return e}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hve(e,t,r){return t=gve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gve(e){var t=xve(e,"string");return qp(t)=="symbol"?t:t+""}function xve(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CI=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=i[p]>s?s:i[p];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);d="M ".concat(t,",").concat(r+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+c*h,",").concat(r,`
            L `).concat(t+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*h,`
            L `).concat(t+n,",").concat(r+a-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n-c*h,",").concat(r+a,`
            L `).concat(t+c*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*h," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},vve=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+c),p=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},yve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W_=function(t){var r=kI(kI({},yve),t),n=_.useRef(),a=_.useState(-1),i=uve(a,2),s=i[0],o=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&o(k)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,m=r.className,h=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=st("recharts-rectangle",m);return b?ae.createElement(Eo,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:h,isActive:b},function(k){var E=k.width,S=k.height,w=k.x,j=k.y;return ae.createElement(Eo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:h},ae.createElement("path",$g({},gt(r,!0),{className:y,d:CI(w,j,E,S,p),ref:n})))}):ae.createElement("path",$g({},gt(r,!0),{className:y,d:CI(c,u,d,f,p)}))};function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}var s8=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=st("recharts-dot",i);return r===+r&&n===+n&&a===+a?ae.createElement("circle",kS({},gt(t,!1),ng(t),{className:s,cx:r,cy:n,r:a})):null};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}var bve=["x","y","top","left","width","height","className"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(this,arguments)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){Sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sve(e,t,r){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=_ve(e,"string");return Vp(t)=="symbol"?t:t+""}function _ve(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nve(e,t){if(e==null)return{};var r=kve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cve=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Tve=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,m=p===void 0?0:p,h=t.className,g=Nve(t,bve),x=wve({x:n,y:i,top:o,left:u,width:f,height:m},g);return!Te(n)||!Te(i)||!Te(f)||!Te(m)||!Te(o)||!Te(u)?null:ae.createElement("path",CS({},gt(x,!0),{className:st("recharts-cross",h),d:Cve(n,i,f,m,o,u)}))},jve=b6,Ave=jve(Object.getPrototypeOf,Object),Ive=Ave,Pve=Ts,Ove=Ive,Rve=js,Dve="[object Object]",Fve=Function.prototype,Mve=Object.prototype,o8=Fve.toString,Lve=Mve.hasOwnProperty,$ve=o8.call(Object);function Bve(e){if(!Rve(e)||Pve(e)!=Dve)return!1;var t=Ove(e);if(t===null)return!0;var r=Lve.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&o8.call(r)==$ve}var zve=Bve;const Uve=_t(zve);var qve=Ts,Vve=js,Hve="[object Boolean]";function Wve(e){return e===!0||e===!1||Vve(e)&&qve(e)==Hve}var Gve=Wve;const Xve=_t(Gve);function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Kve(e,t){return Zve(e)||Qve(e,t)||Jve(e,t)||Yve()}function Yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(e,t){if(e){if(typeof e=="string")return jI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(e,t)}}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Zve(e){if(Array.isArray(e))return e}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function II(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){eye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eye(e,t,r){return t=tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tye(e){var t=rye(e,"string");return Hp(t)=="symbol"?t:t+""}function rye(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PI=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},nye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aye=function(t){var r=II(II({},nye),t),n=_.useRef(),a=_.useState(-1),i=Kve(a,2),s=i[0],o=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&o(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,m=r.className,h=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var b=st("recharts-trapezoid",m);return v?ae.createElement(Eo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:g,animationEasing:h,isActive:v},function(y){var k=y.upperWidth,E=y.lowerWidth,S=y.height,w=y.x,j=y.y;return ae.createElement(Eo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:h},ae.createElement("path",Bg({},gt(r,!0),{className:b,d:PI(w,j,k,E,S),ref:n})))}):ae.createElement("g",null,ae.createElement("path",Bg({},gt(r,!0),{className:b,d:PI(c,u,d,f,p)})))},iye=["option","shapeType","propTransformer","activeClassName","isActive"];function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function sye(e,t){if(e==null)return{};var r=oye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t,r){return t=cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cye(e){var t=uye(e,"string");return Wp(t)=="symbol"?t:t+""}function uye(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dye(e,t){return zg(zg({},t),e)}function fye(e,t){return e==="symbols"}function RI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ae.createElement(W_,r);case"trapezoid":return ae.createElement(aye,r);case"sector":return ae.createElement(KL,r);case"symbols":if(fye(t))return ae.createElement(u_,r);break;default:return null}}function pye(e){return _.isValidElement(e)?e.props:e}function mye(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?dye:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,c=sye(e,iye),u;if(_.isValidElement(t))u=_.cloneElement(t,zg(zg({},c),pye(t)));else if(at(t))u=t(c);else if(Uve(t)&&!Xve(t)){var d=a(t,c);u=ae.createElement(RI,{shapeType:r,elementProps:d})}else{var f=c;u=ae.createElement(RI,{shapeType:r,elementProps:f})}return o?ae.createElement(Lr,{className:s},u):u}function Rv(e,t){return t!=null&&"trapezoids"in e.props}function Dv(e,t){return t!=null&&"sectors"in e.props}function Gp(e,t){return t!=null&&"points"in e.props}function hye(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function gye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function xye(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vye(e,t){var r;return Rv(e,t)?r=hye:Dv(e,t)?r=gye:Gp(e,t)&&(r=xye),r}function yye(e,t){var r;return Rv(e,t)?r="trapezoids":Dv(e,t)?r="sectors":Gp(e,t)&&(r="points"),r}function bye(e,t){if(Rv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gp(e,t)?t.payload:{}}function wye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=yye(r,t),i=bye(r,t),s=n.filter(function(c,u){var d=U_(i,c),f=r.props[a].filter(function(h){var g=vye(r,t);return g(h,t)}),p=r.props[a].indexOf(f[f.length-1]),m=u===p;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var Sye=Math.ceil,Eye=Math.max;function _ye(e,t,r,n){for(var a=-1,i=Eye(Sye((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var Nye=_ye,kye=$6,DI=1/0,Cye=17976931348623157e292;function Tye(e){if(!e)return e===0?e:0;if(e=kye(e),e===DI||e===-DI){var t=e<0?-1:1;return t*Cye}return e===e?e:0}var l8=Tye,jye=Nye,Aye=Sv,Tb=l8;function Iye(e){return function(t,r,n){return n&&typeof n!="number"&&Aye(t,r,n)&&(r=n=void 0),t=Tb(t),r===void 0?(r=t,t=0):r=Tb(r),n=n===void 0?t<r?1:-1:Tb(n),jye(t,r,n,e)}}var Pye=Iye,Oye=Pye,Rye=Oye(),Dye=Rye;const Ug=_t(Dye);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return t=Fye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fye(e){var t=Mye(e,"string");return Xp(t)=="symbol"?t:t+""}function Mye(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lye=["Webkit","Moz","O","ms"],$ye=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Lye.reduce(function(i,s){return MI(MI({},i),{},c8({},s+n,r))},{});return a[t]=r,a};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d8(n.key),n)}}function zye(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uye(e,t,r){return t=Vg(t),qye(e,u8()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function qye(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vye(e)}function Vye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function Hye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TS(e,t)}function na(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=Wye(e,"string");return $u(t)=="symbol"?t:t+""}function Wye(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gye=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Rf().domain(Ug(0,c)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},BI=function(t){return t.changedTouches&&!!t.changedTouches.length},Bu=function(e){function t(r){var n;return Bye(this,t),n=Uye(this,t,[r]),na(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),na(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),na(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),na(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),na(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),na(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),na(n,"handleSlideDragStart",function(a){var i=BI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Hye(t,e),zye(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),m=t.getIndexInRange(s,f),h=t.getIndexInRange(s,p);return{startIndex:m-m%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=Mi(i[n],o,n);return at(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,m=c.endIndex,h=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var x=this.getIndex({startX:s+g,endX:o+g});(x.startIndex!==p||x.endIndex!==m)&&h&&h(x),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=BI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,p=d.width,m=d.travellerWidth,h=d.onChange,g=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+p-m-u):b<0&&(b=Math.max(b,f-u)),v[s]=u+b;var y=this.getIndex(v),k=y.startIndex,E=y.endIndex,S=function(){var j=x.length-1;return s==="startX"&&(o>c?k%g===0:E%g===0)||o<c&&E===j||s==="endX"&&(o>c?E%g===0:k%g===0)||o>c&&E===j};this.setState(na(na({},s,u+b),"brushMoveStartX",n.pageX),function(){h&&S()&&h(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var m=o[p];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(na({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return ae.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?ae.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,m=c.ariaLabel,h=c.data,g=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),b=jb(jb({},gt(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=m||"Min value: ".concat((i=h[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=h[x])===null||s===void 0?void 0:s.name);return ae.createElement(Lr,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,m=5,h={pointerEvents:"none",fill:u};return ae.createElement(Lr,{className:"recharts-brush-texts"},ae.createElement(yg,qg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:s+o/2},h),this.getTextOfTick(a)),ae.createElement(yg,qg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+m,y:s+o/2},h),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,m=p.startX,h=p.endX,g=p.isTextActive,x=p.isSlideMoving,v=p.isTravellerMoving,b=p.isTravellerFocused;if(!a||!a.length||!Te(o)||!Te(c)||!Te(u)||!Te(d)||u<=0||d<=0)return null;var y=st("recharts-brush",i),k=ae.Children.count(s)===1,E=$ye("userSelect","none");return ae.createElement(Lr,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(m,h),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(h,"endX"),(g||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),ae.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ae.isValidElement(n)?i=ae.cloneElement(n,a):at(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return jb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?Gye({data:i,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var p=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])}(_.PureComponent);na(Bu,"displayName","Brush");na(Bu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Xye=x_;function Kye(e,t){var r;return Xye(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Yye=Kye,Jye=f6,Qye=Bo,Zye=Yye,ebe=Zn,tbe=Sv;function rbe(e,t,r){var n=ebe(e)?Jye:Zye;return r&&tbe(e,t,r)&&(t=void 0),n(e,Qye(t))}var nbe=rbe;const abe=_t(nbe);var Di=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},zI=R6;function ibe(e,t,r){t=="__proto__"&&zI?zI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var sbe=ibe,obe=sbe,lbe=P6,cbe=Bo;function ube(e,t){var r={};return t=cbe(t),lbe(e,function(n,a,i){obe(r,a,t(n,a,i))}),r}var dbe=ube;const fbe=_t(dbe);function pbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var mbe=pbe,hbe=x_;function gbe(e,t){var r=!0;return hbe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var xbe=gbe,vbe=mbe,ybe=xbe,bbe=Bo,wbe=Zn,Sbe=Sv;function Ebe(e,t,r){var n=wbe(e)?vbe:ybe;return r&&Sbe(e,t,r)&&(t=void 0),n(e,bbe(t))}var _be=Ebe;const f8=_t(_be);var Nbe=["x","y"];function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(this,arguments)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){kbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kbe(e,t,r){return t=Cbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cbe(e){var t=Tbe(e,"string");return Kp(t)=="symbol"?t:t+""}function Tbe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jbe(e,t){if(e==null)return{};var r=Abe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Abe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ibe(e,t){var r=e.x,n=e.y,a=jbe(e,Nbe),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return rf(rf(rf(rf(rf({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function qI(e){return ae.createElement(mye,jS({shapeType:"rectangle",propTransformer:Ibe,activeClassName:"recharts-active-bar"},e))}var Pbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||$l(),r)}},Obe=["value","background"],p8;function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Rbe(e,t){if(e==null)return{};var r=Dbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h8(n.key),n)}}function Mbe(e,t,r){return t&&HI(e.prototype,t),r&&HI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lbe(e,t,r){return t=Wg(t),$be(e,m8()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function $be(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bbe(e)}function Bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m8=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function zbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AS(e,t)}function AS(e,t){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AS(e,t)}function no(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=Ube(e,"string");return zu(t)=="symbol"?t:t+""}function Ube(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li=function(e){function t(){var r;Fbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Lbe(this,t,[].concat(a)),no(r,"state",{isAnimationFinished:!1}),no(r,"id",hv("recharts-bar-")),no(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),no(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return zbe(t,e),Mbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,d=gt(this.props,!1);return n&&n.map(function(f,p){var m=p===c,h=m?u:s,g=yr(yr(yr({},d),f),{},{isActive:m,option:h,index:p,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ae.createElement(Lr,Hg({className:"recharts-bar-rectangle"},ag(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ae.createElement(qI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return ae.createElement(Eo,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var h=m.t,g=i.map(function(x,v){var b=p&&p[v];if(b){var y=Sc(b.x,x.x),k=Sc(b.y,x.y),E=Sc(b.width,x.width),S=Sc(b.height,x.height);return yr(yr({},x),{},{x:y(h),y:k(h),width:E(h),height:S(h)})}if(s==="horizontal"){var w=Sc(0,x.height),j=w(h);return yr(yr({},x),{},{y:x.y+x.height-j,height:j})}var T=Sc(0,x.width),C=T(h);return yr(yr({},x),{},{width:C})});return ae.createElement(Lr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!U_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=gt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Rbe(u,Obe);if(!f)return null;var m=yr(yr(yr(yr(yr({},p),{},{fill:"#eee"},f),c),ag(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ae.createElement(qI,Hg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ui(d,Ov);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,m=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Mi(x,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(Lr,h,f.map(function(g){return ae.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,m=n.isAnimationActive,h=n.background,g=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=st("recharts-bar",s),b=o&&o.allowDataOverflow,y=c&&c.allowDataOverflow,k=b||y,E=vt(g)?this.id:g;return ae.createElement(Lr,{className:v},b||y?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(E)},ae.createElement("rect",{x:b?u:u-f/2,y:y?d:d-p/2,width:b?f:f*2,height:y?p:p*2}))):null,ae.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(E,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,E),(!m||x)&&wl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(_.PureComponent);p8=Li;no(Li,"displayName","Bar");no(Li,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});no(Li,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,m=v0e(n,r);if(!m)return null;var h=t.layout,g=r.type.defaultProps,x=g!==void 0?yr(yr({},g),r.props):r.props,v=x.dataKey,b=x.children,y=x.minPointSize,k=h==="horizontal"?s:i,E=u?k.scale.domain():null,S=k0e({numericAxis:k}),w=ui(b,Ou),j=f.map(function(T,C){var A,N,I,M,F,q;u?A=y0e(u[d+C],E):(A=Mi(T,v),Array.isArray(A)||(A=[S,A]));var W=Pbe(y,p8.defaultProps.minPointSize)(A[1],C);if(h==="horizontal"){var V,B=[s.scale(A[0]),s.scale(A[1])],R=B[0],ne=B[1];N=qA({axis:i,ticks:o,bandSize:a,offset:m.offset,entry:T,index:C}),I=(V=ne??R)!==null&&V!==void 0?V:void 0,M=m.size;var z=R-ne;if(F=Number.isNaN(z)?0:z,q={x:N,y:s.y,width:M,height:s.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var P=ai(F||W)*(Math.abs(W)-Math.abs(F));I-=P,F+=P}}else{var G=[i.scale(A[0]),i.scale(A[1])],J=G[0],te=G[1];if(N=J,I=qA({axis:s,ticks:c,bandSize:a,offset:m.offset,entry:T,index:C}),M=te-J,F=m.size,q={x:i.x,y:I,width:i.width,height:F},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var re=ai(M||W)*(Math.abs(W)-Math.abs(M));M+=re}}return yr(yr(yr({},T),{},{x:N,y:I,width:M,height:F,value:u?A:A[1],payload:T,background:q},w&&w[C]&&w[C].props),{},{tooltipPayload:[WL(r,T)],tooltipPosition:{x:N+M/2,y:I+F/2}})});return yr({data:j,layout:h},p)});function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function qbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g8(n.key),n)}}function Vbe(e,t,r){return t&&WI(e.prototype,t),r&&WI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){Fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fv(e,t,r){return t=g8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=Hbe(e,"string");return Yp(t)=="symbol"?t:t+""}function Hbe(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wbe=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!ia(u,Li);return d.reduce(function(m,h){var g=r[h],x=g.orientation,v=g.domain,b=g.padding,y=b===void 0?{}:b,k=g.mirror,E=g.reversed,S="".concat(x).concat(k?"Mirror":""),w,j,T,C,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=v[1]-v[0],I=1/0,M=g.categoricalDomain.sort(Zee);if(M.forEach(function(G,J){J>0&&(I=Math.min((G||0)-(M[J-1]||0),I))}),Number.isFinite(I)){var F=I/N,q=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(w=F*q/2),g.padding==="no-gap"){var W=Ml(t.barCategoryGap,F*q),V=F*q/2;w=V-W-(V-W)/q*W}}}a==="xAxis"?j=[n.left+(y.left||0)+(w||0),n.left+n.width-(y.right||0)-(w||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(w||0),n.top+n.height-(y.bottom||0)-(w||0)]:j=g.range,E&&(j=[j[1],j[0]]);var B=g0e(g,i,p),R=B.scale,ne=B.realScaleType;R.domain(v).range(j),x0e(R);var z=N0e(R,ti(ti({},g),{},{realScaleType:ne}));a==="xAxis"?(A=x==="top"&&!k||x==="bottom"&&k,T=n.left,C=f[S]-A*g.height):a==="yAxis"&&(A=x==="left"&&!k||x==="right"&&k,T=f[S]-A*g.width,C=n.top);var P=ti(ti(ti({},g),z),{},{realScaleType:ne,x:T,y:C,scale:R,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return P.bandSize=Og(P,z),!g.hide&&a==="xAxis"?f[S]+=(A?-1:1)*P.height:g.hide||(f[S]+=(A?-1:1)*P.width),ti(ti({},m),{},Fv({},h,P))},{})},x8=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Gbe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return x8({x:r,y:n},{x:a,y:i})},v8=function(){function e(t){qbe(this,e),this.scale=t}return Vbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Fv(v8,"EPS",1e-4);var G_=function(t){var r=Object.keys(t).reduce(function(n,a){return ti(ti({},n),{},Fv({},a,v8.create(t[a])))},{});return ti(ti({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return fbe(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return f8(a,function(i,s){return r[s].isInRange(i)})}})};function Xbe(e){return(e%180+180)%180}var Kbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xbe(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Ybe=Bo,Jbe=Fm,Qbe=bv;function Zbe(e){return function(t,r,n){var a=Object(t);if(!Jbe(t)){var i=Ybe(r);t=Qbe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var e1e=Zbe,t1e=l8;function r1e(e){var t=t1e(e),r=t%1;return t===t?r?t-r:t:0}var n1e=r1e,a1e=k6,i1e=Bo,s1e=n1e,o1e=Math.max;function l1e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:s1e(r);return a<0&&(a=o1e(n+a,0)),a1e(e,i1e(t),a)}var c1e=l1e,u1e=e1e,d1e=c1e,f1e=u1e(d1e),p1e=f1e;const m1e=_t(p1e);var h1e=tee(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),X_=_.createContext(void 0),K_=_.createContext(void 0),y8=_.createContext(void 0),b8=_.createContext({}),w8=_.createContext(void 0),S8=_.createContext(0),E8=_.createContext(0),XI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=h1e(i);return ae.createElement(X_.Provider,{value:n},ae.createElement(K_.Provider,{value:a},ae.createElement(b8.Provider,{value:i},ae.createElement(y8.Provider,{value:d},ae.createElement(w8.Provider,{value:s},ae.createElement(S8.Provider,{value:u},ae.createElement(E8.Provider,{value:c},o)))))))},g1e=function(){return _.useContext(w8)},_8=function(t){var r=_.useContext(X_);r==null&&$l();var n=r[t];return n==null&&$l(),n},x1e=function(){var t=_.useContext(X_);return Js(t)},v1e=function(){var t=_.useContext(K_),r=m1e(t,function(n){return f8(n.domain,Number.isFinite)});return r||Js(t)},N8=function(t){var r=_.useContext(K_);r==null&&$l();var n=r[t];return n==null&&$l(),n},y1e=function(){var t=_.useContext(y8);return t},b1e=function(){return _.useContext(b8)},Y_=function(){return _.useContext(E8)},J_=function(){return _.useContext(S8)};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function w1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C8(n.key),n)}}function E1e(e,t,r){return t&&S1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _1e(e,t,r){return t=Gg(t),N1e(e,k8()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function N1e(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(e)}function k1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function C1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}function IS(e,t){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IS(e,t)}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){Q_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q_(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=T1e(e,"string");return Uu(t)=="symbol"?t:t+""}function T1e(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j1e(e,t){return O1e(e)||P1e(e,t)||I1e(e,t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(e,t){if(e){if(typeof e=="string")return JI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function O1e(e){if(Array.isArray(e))return e}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(this,arguments)}var R1e=function(t,r){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,r):at(t)?n=t(r):n=ae.createElement("line",PS({},r,{className:"recharts-reference-line-line"})),n},D1e=function(t,r,n,a,i,s,o,c,u){var d=i.x,f=i.y,p=i.width,m=i.height;if(n){var h=u.y,g=t.y.apply(h,{position:s});if(Di(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var v=u.x,b=t.x.apply(v,{position:s});if(Di(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+m},{x:b,y:f}];return o==="top"?y.reverse():y}if(a){var k=u.segment,E=k.map(function(S){return t.apply(S,{position:s})});return Di(u,"discard")&&abe(E,function(S){return!t.isInRange(S)})?null:E}return null};function F1e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=g1e(),d=_8(a),f=N8(i),p=y1e();if(!u||!p)return null;os(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=G_({x:d.scale,y:f.scale}),h=Ir(t),g=Ir(r),x=n&&n.length===2,v=D1e(m,h,g,x,p,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=j1e(v,2),y=b[0],k=y.x,E=y.y,S=b[1],w=S.x,j=S.y,T=Di(e,"hidden")?"url(#".concat(u,")"):void 0,C=YI(YI({clipPath:T},gt(e,!0)),{},{x1:k,y1:E,x2:w,y2:j});return ae.createElement(Lr,{className:st("recharts-reference-line",o)},R1e(s,C),un.renderCallByParent(e,Gbe({x1:k,y1:E,x2:w,y2:j})))}var Z_=function(e){function t(){return w1e(this,t),_1e(this,t,arguments)}return C1e(t,e),E1e(t,[{key:"render",value:function(){return ae.createElement(F1e,this.props)}}])}(ae.Component);Q_(Z_,"displayName","ReferenceLine");Q_(Z_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j8(n.key),n)}}function $1e(e,t,r){return t&&L1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B1e(e,t,r){return t=Xg(t),z1e(e,T8()?Reflect.construct(t,r||[],Xg(e).constructor):t.apply(e,r))}function z1e(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U1e(e)}function U1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!e})()}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(e)}function q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RS(e,t)}function Mv(e,t,r){return t=j8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=V1e(e,"string");return qu(t)=="symbol"?t:t+""}function V1e(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H1e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=G_({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Di(t,"discard")&&!s.isInRange(o)?null:o},Lv=function(e){function t(){return M1e(this,t),B1e(this,t,arguments)}return q1e(t,e),$1e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Ir(a),d=Ir(i);if(os(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=H1e(this.props);if(!f)return null;var p=f.x,m=f.y,h=this.props,g=h.shape,x=h.className,v=Di(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=ZI(ZI({clipPath:v},gt(this.props,!0)),{},{cx:p,cy:m});return ae.createElement(Lr,{className:st("recharts-reference-dot",x)},t.renderDot(g,b),un.renderCallByParent(this.props,{x:p-s,y:m-s,width:2*s,height:2*s}))}}])}(ae.Component);Mv(Lv,"displayName","ReferenceDot");Mv(Lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mv(Lv,"renderDot",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):at(e)?r=e(t):r=ae.createElement(s8,OS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(this,arguments)}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I8(n.key),n)}}function X1e(e,t,r){return t&&G1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1e(e,t,r){return t=Kg(t),Y1e(e,A8()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function Y1e(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1e(e)}function J1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A8=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function Q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FS(e,t)}function FS(e,t){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FS(e,t)}function $v(e,t,r){return t=I8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=Z1e(e,"string");return Vu(t)=="symbol"?t:t+""}function Z1e(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ewe=function(t,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=G_({x:d.scale,y:f.scale}),m={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},h={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Di(i,"discard")&&(!p.isInRange(m)||!p.isInRange(h))?null:x8(m,h)},Bv=function(e){function t(){return W1e(this,t),K1e(this,t,arguments)}return Q1e(t,e),X1e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;os(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(a),p=Ir(i),m=Ir(s),h=Ir(o),g=this.props.shape;if(!f&&!p&&!m&&!h&&!g)return null;var x=ewe(f,p,m,h,this.props);if(!x&&!g)return null;var v=Di(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ae.createElement(Lr,{className:st("recharts-reference-area",c)},t.renderRect(g,tP(tP({clipPath:v},gt(this.props,!0)),x)),un.renderCallByParent(this.props,x))}}])}(ae.Component);$v(Bv,"displayName","ReferenceArea");$v(Bv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$v(Bv,"renderRect",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):at(e)?r=e(t):r=ae.createElement(W_,DS({},t,{className:"recharts-reference-area-rect"})),r});function P8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function twe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Kbe(n,r)}function rwe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Yg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function nwe(e,t){return P8(e,t+1)}function awe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,d=s,f=function(){var h=n==null?void 0:n[c];if(h===void 0)return{v:P8(n,u)};var g=c,x,v=function(){return x===void 0&&(x=r(h,g)),x},b=h.coordinate,y=c===0||Yg(e,b,v,d,o);y||(c=0,d=s,u+=1),y&&(d=b+e*(v()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){iwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iwe(e,t,r){return t=swe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function swe(e){var t=owe(e,"string");return Jp(t)=="symbol"?t:t+""}function owe(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,c=t.end,u=function(p){var m=i[p],h,g=function(){return h===void 0&&(h=r(m,p)),h};if(p===s-1){var x=e*(m.coordinate+e*g()/2-c);i[p]=m=sn(sn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[p]=m=sn(sn({},m),{},{tickCoord:m.coordinate});var v=Yg(e,m.tickCoord,g,o,c);v&&(c=m.tickCoord-e*(g()/2+a),i[p]=sn(sn({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function cwe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(i){var d=n[o-1],f=r(d,o-1),p=e*(d.coordinate+e*f/2-u);s[o-1]=d=sn(sn({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var m=Yg(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),s[o-1]=sn(sn({},d),{},{isShow:!0}))}for(var h=i?o-1:o,g=function(b){var y=s[b],k,E=function(){return k===void 0&&(k=r(y,b)),k};if(b===0){var S=e*(y.coordinate-e*E()/2-c);s[b]=y=sn(sn({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[b]=y=sn(sn({},y),{},{tickCoord:y.coordinate});var w=Yg(e,y.tickCoord,E,c,u);w&&(c=y.tickCoord+e*(E()/2+a),s[b]=sn(sn({},y),{},{isShow:!0}))},x=0;x<h;x++)g(x);return s}function eN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Te(c)||vo.isSsr)return nwe(a,typeof c=="number"&&Te(c)?c:0);var p=[],m=o==="top"||o==="bottom"?"width":"height",h=d&&m==="width"?Of(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(y,k){var E=at(u)?u(y.value,k):y.value;return m==="width"?twe(Of(E,{fontSize:t,letterSpacing:r}),h,f):Of(E,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?ai(a[1].coordinate-a[0].coordinate):1,v=rwe(i,x,m);return c==="equidistantPreserveStart"?awe(x,v,g,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=cwe(x,v,g,a,s,c==="preserveStartEnd"):p=lwe(x,v,g,a,s),p.filter(function(b){return b.isShow}))}var uwe=["viewBox"],dwe=["viewBox"],fwe=["ticks"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){tN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ab(e,t){if(e==null)return{};var r=pwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R8(n.key),n)}}function hwe(e,t,r){return t&&aP(e.prototype,t),r&&aP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gwe(e,t,r){return t=Jg(t),xwe(e,O8()?Reflect.construct(t,r||[],Jg(e).constructor):t.apply(e,r))}function xwe(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(e)}function vwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O8=function(){return!!e})()}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(e)}function ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MS(e,t)}function MS(e,t){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MS(e,t)}function tN(e,t,r){return t=R8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=bwe(e,"string");return Hu(t)=="symbol"?t:t+""}function bwe(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kd=function(e){function t(r){var n;return mwe(this,t),n=gwe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ywe(t,e),hwe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Ab(n,uwe),o=this.props,c=o.viewBox,u=Ab(o,dwe);return!su(i,c)||!su(s,u)||!su(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,m,h,g,x,v,b,y=f?-1:1,k=n.tickSize||d,E=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=h=n.coordinate,x=s+ +!f*c,g=x-y*k,b=g-y*p,v=E;break;case"left":g=x=n.coordinate,h=i+ +!f*o,m=h-y*k,v=m-y*p,b=E;break;case"right":g=x=n.coordinate,h=i+ +f*o,m=h+y*k,v=m+y*p,b=E;break;default:m=h=n.coordinate,x=s+ +f*c,g=x+y*k,b=g+y*p,v=E;break}return{line:{x1:m,y1:g,x2:h,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=En(En(En({},gt(this.props,!1)),gt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=En(En({},f),{},{x1:a,y1:i+p*o,x2:a+s,y2:i+p*o})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=En(En({},f),{},{x1:a+m*s,y1:i,x2:a+m*s,y2:i+o})}return ae.createElement("line",Gc({},f,{className:st("recharts-cartesian-axis-line",za(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,p=o.unit,m=eN(En(En({},this.props),{},{ticks:n}),a,i),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=gt(this.props,!1),v=gt(d,!1),b=En(En({},x),{},{fill:"none"},gt(c,!1)),y=m.map(function(k,E){var S=s.getTickLineCoord(k),w=S.line,j=S.tick,T=En(En(En(En({textAnchor:h,verticalAnchor:g},x),{},{stroke:"none",fill:u},v),j),{},{index:E,payload:k,visibleTicksCount:m.length,tickFormatter:f});return ae.createElement(Lr,Gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},ag(s.props,k,E)),c&&ae.createElement("line",Gc({},b,w,{className:st("recharts-cartesian-axis-tick-line",za(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(at(f)?f(k.value,E):k.value).concat(p||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,m=Ab(f,fwe),h=p;return at(c)&&(h=p&&p.length>0?c(this.props):c(m)),s<=0||o<=0||!h||!h.length?null:ae.createElement(Lr,{className:st("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return ae.isValidElement(n)?s=ae.cloneElement(n,a):at(n)?s=n(a):s=ae.createElement(yg,Gc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(_.Component);tN(kd,"displayName","CartesianAxis");tN(kd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wwe=["x1","y1","x2","y2","key"],Swe=["offset"];function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Ewe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ewe(e,t,r){return t=_we(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _we(e){var t=Nwe(e,"string");return Bl(t)=="symbol"?t:t+""}function Nwe(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function sP(e,t){if(e==null)return{};var r=kwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cwe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,c=t.ry;return ae.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function D8(e,t){var r;if(ae.isValidElement(e))r=ae.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,c=sP(t,wwe),u=gt(c,!1);u.offset;var d=sP(u,Swe);r=ae.createElement("line",pl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function Twe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=dn(dn({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return D8(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function jwe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=dn(dn({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return D8(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Awe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var h=!d[m+1],g=h?a+s-p:d[m+1]-p;if(g<=0)return null;var x=m%t.length;return ae.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Iwe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var h=!d[m+1],g=h?i+o-p:d[m+1]-p;if(g<=0)return null;var x=m%n.length;return ae.createElement("rect",{key:"react-".concat(m),x:p,y:s,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Pwe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return VL(eN(dn(dn(dn({},kd.defaultProps),n),{},{ticks:ns(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Owe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return VL(eN(dn(dn(dn({},kd.defaultProps),n),{},{ticks:ns(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Nc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qp(e){var t,r,n,a,i,s,o=Y_(),c=J_(),u=b1e(),d=dn(dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Nc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Nc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nc.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Nc.verticalFill,x:Te(e.x)?e.x:u.left,y:Te(e.y)?e.y:u.top,width:Te(e.width)?e.width:u.width,height:Te(e.height)?e.height:u.height}),f=d.x,p=d.y,m=d.width,h=d.height,g=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,b=x1e(),y=v1e();if(!Te(m)||m<=0||!Te(h)||h<=0||!Te(f)||f!==+f||!Te(p)||p!==+p)return null;var k=d.verticalCoordinatesGenerator||Pwe,E=d.horizontalCoordinatesGenerator||Owe,S=d.horizontalPoints,w=d.verticalPoints;if((!S||!S.length)&&at(E)){var j=x&&x.length,T=E({yAxis:y?dn(dn({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:c,offset:u},j?!0:g);os(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bl(T),"]")),Array.isArray(T)&&(S=T)}if((!w||!w.length)&&at(k)){var C=v&&v.length,A=k({xAxis:b?dn(dn({},b),{},{ticks:C?v:b.ticks}):void 0,width:o,height:c,offset:u},C?!0:g);os(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bl(A),"]")),Array.isArray(A)&&(w=A)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(Cwe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ae.createElement(Twe,pl({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:y})),ae.createElement(jwe,pl({},d,{offset:u,verticalPoints:w,xAxis:b,yAxis:y})),ae.createElement(Awe,pl({},d,{horizontalPoints:S})),ae.createElement(Iwe,pl({},d,{verticalPoints:w})))}Qp.displayName="CartesianGrid";function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Rwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function Fwe(e,t,r){return t&&Dwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mwe(e,t,r){return t=Qg(t),Lwe(e,F8()?Reflect.construct(t,r||[],Qg(e).constructor):t.apply(e,r))}function Lwe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $we(e)}function $we(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F8=function(){return!!e})()}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(e)}function Bwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LS(e,t)}function M8(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=zwe(e,"string");return Wu(t)=="symbol"?t:t+""}function zwe(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$S.apply(this,arguments)}function Uwe(e){var t=e.xAxisId,r=Y_(),n=J_(),a=_8(t);return a==null?null:ae.createElement(kd,$S({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ns(s,!0)}}))}var zl=function(e){function t(){return Rwe(this,t),Mwe(this,t,arguments)}return Bwe(t,e),Fwe(t,[{key:"render",value:function(){return ae.createElement(Uwe,this.props)}}])}(ae.Component);M8(zl,"displayName","XAxis");M8(zl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function Hwe(e,t,r){return t&&Vwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wwe(e,t,r){return t=Zg(t),Gwe(e,$8()?Reflect.construct(t,r||[],Zg(e).constructor):t.apply(e,r))}function Gwe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(e)}function Xwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!e})()}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(e)}function Kwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BS(e,t)}function B8(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=Ywe(e,"string");return Gu(t)=="symbol"?t:t+""}function Ywe(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}var Jwe=function(t){var r=t.yAxisId,n=Y_(),a=J_(),i=N8(r);return i==null?null:ae.createElement(kd,zS({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return ns(o,!0)}}))},Ul=function(e){function t(){return qwe(this,t),Wwe(this,t,arguments)}return Kwe(t,e),Hwe(t,[{key:"render",value:function(){return ae.createElement(Jwe,this.props)}}])}(ae.Component);B8(Ul,"displayName","YAxis");B8(Ul,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oP(e){return tSe(e)||eSe(e)||Zwe(e)||Qwe()}function Qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zwe(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function eSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tSe(e){if(Array.isArray(e))return US(e)}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qS=function(t,r,n,a,i){var s=ui(t,Z_),o=ui(t,Lv),c=[].concat(oP(s),oP(o)),u=ui(t,Bv),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(g,x){if(x.props[d]===n&&Di(x.props,"extendDomain")&&Te(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},p)),u.length){var m="".concat(f,"1"),h="".concat(f,"2");p=u.reduce(function(g,x){if(x.props[d]===n&&Di(x.props,"extendDomain")&&Te(x.props[m])&&Te(x.props[h])){var v=x.props[m],b=x.props[h];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,x){return Te(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},p)),p},U8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,p),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],m]:c._events[h].push(m):(c._events[h]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,h=new Array(m);p<m;p++)h[p]=f[p].fn;return h},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,p,m,h){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,m),!0;case 6:return x.fn.call(x.context,d,f,p,m,h),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var k=x.length,E;for(y=0;y<k;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,p);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];x[y].fn.apply(x[y].context,b)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var h=this._events[m];if(h.fn)h.fn===d&&(!p||h.once)&&(!f||h.context===f)&&s(this,m);else{for(var g=0,x=[],v=h.length;g<v;g++)(h[g].fn!==d||p&&!h[g].once||f&&h[g].context!==f)&&x.push(h[g]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(U8);var rSe=U8.exports;const nSe=_t(rSe);var Ib=new nSe,Pb="recharts.syncMouseEvents";function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function aSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q8(n.key),n)}}function sSe(e,t,r){return t&&iSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ob(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=oSe(e,"string");return Zp(t)=="symbol"?t:t+""}function oSe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lSe=function(){function e(){aSe(this,e),Ob(this,"activeIndex",0),Ob(this,"coordinateList",[]),Ob(this,"layout","horizontal")}return sSe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function cSe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Te(n)&&Te(a))return!0}return!1}function uSe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function V8(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Kr(t,r,n,a),o=Kr(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function dSe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Kr(o,c,u,f),m=Kr(o,c,d,f);n=p.x,a=p.y,i=m.x,s=m.y}else return V8(t);return[{x:n,y:a},{x:i,y:s}]}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){fSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fSe(e,t,r){return t=pSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pSe(e){var t=mSe(e,"string");return em(t)=="symbol"?t:t+""}function mSe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hSe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var h,g=iI;if(p==="ScatterChart")h=s,g=Tve;else if(p==="BarChart")h=uSe(f,s,c,d),g=W_;else if(f==="radial"){var x=V8(s),v=x.cx,b=x.cy,y=x.radius,k=x.startAngle,E=x.endAngle;h={cx:v,cy:b,startAngle:k,endAngle:E,innerRadius:y,outerRadius:y},g=KL}else h={points:dSe(f,s,c)},g=iI;var S=Dh(Dh(Dh(Dh({stroke:"#ccc",pointerEvents:"none"},c),h),gt(m,!1)),{},{payload:o,payloadIndex:u,className:st("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,S):_.createElement(g,S)}var gSe=["item"],xSe=["children","className","width","height","style","compact","title","desc"];function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(this,arguments)}function cP(e,t){return bSe(e)||ySe(e,t)||W8(e,t)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ySe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function bSe(e){if(Array.isArray(e))return e}function uP(e,t){if(e==null)return{};var r=wSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ESe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G8(n.key),n)}}function _Se(e,t,r){return t&&ESe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NSe(e,t,r){return t=ex(t),kSe(e,H8()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function kSe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CSe(e)}function CSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function TSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VS(e,t)}function VS(e,t){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VS(e,t)}function Ku(e){return ISe(e)||ASe(e)||W8(e)||jSe()}function jSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(e,t){if(e){if(typeof e=="string")return HS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(e,t)}}function ASe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ISe(e){if(Array.isArray(e))return HS(e)}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=PSe(e,"string");return Xu(t)=="symbol"?t:t+""}function PSe(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OSe={xAxis:["bottom","top"],yAxis:["left","right"]},RSe={width:"100%",height:"100%"},X8={x:0,y:0};function Fh(e){return e}var DSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},FSe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return xe(xe(xe({},a),Kr(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return xe(xe(xe({},a),Kr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return X8},zv=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Ku(o),Ku(u)):o},[]);return s.length>0?s:t&&t.length&&Te(a)&&Te(i)?t.slice(a,i+1):[]};function K8(e){return e==="number"?[0,"auto"]:void 0}var WS=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=zv(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;p=Nw(m,s.dataKey,a)}else p=f&&f[n]||o[n];return p?[].concat(Ku(c),[WL(u,p)]):c},[])},fP=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=DSe(i,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=u0e(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=WS(t,r,d,f),m=FSe(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},MSe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,m=qL(d,i);return n.reduce(function(h,g){var x,v=g.type.defaultProps!==void 0?xe(xe({},g.type.defaultProps),g.props):g.props,b=v.type,y=v.dataKey,k=v.allowDataOverflow,E=v.allowDuplicatedCategory,S=v.scale,w=v.ticks,j=v.includeHidden,T=v[s];if(h[T])return h;var C=zv(t.data,{graphicalItems:a.filter(function(z){var P,G=s in z.props?z.props[s]:(P=z.type.defaultProps)===null||P===void 0?void 0:P[s];return G===T}),dataStartIndex:c,dataEndIndex:u}),A=C.length,N,I,M;cSe(v.domain,k,b)&&(N=fS(v.domain,null,k),m&&(b==="number"||S!=="auto")&&(M=Df(C,y,"category")));var F=K8(b);if(!N||N.length===0){var q,W=(q=v.domain)!==null&&q!==void 0?q:F;if(y){if(N=Df(C,y,b),b==="category"&&m){var V=Qee(N);E&&V?(I=N,N=Ug(0,A)):E||(N=WA(W,N,g).reduce(function(z,P){return z.indexOf(P)>=0?z:[].concat(Ku(z),[P])},[]))}else if(b==="category")E?N=N.filter(function(z){return z!==""&&!vt(z)}):N=WA(W,N,g).reduce(function(z,P){return z.indexOf(P)>=0||P===""||vt(P)?z:[].concat(Ku(z),[P])},[]);else if(b==="number"){var B=h0e(C,a.filter(function(z){var P,G,J=s in z.props?z.props[s]:(P=z.type.defaultProps)===null||P===void 0?void 0:P[s],te="hide"in z.props?z.props.hide:(G=z.type.defaultProps)===null||G===void 0?void 0:G.hide;return J===T&&(j||!te)}),y,i,d);B&&(N=B)}m&&(b==="number"||S!=="auto")&&(M=Df(C,y,"category"))}else m?N=Ug(0,A):o&&o[T]&&o[T].hasStack&&b==="number"?N=p==="expand"?[0,1]:HL(o[T].stackGroups,c,u):N=UL(C,a.filter(function(z){var P=s in z.props?z.props[s]:z.type.defaultProps[s],G="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return P===T&&(j||!G)}),b,d,!0);if(b==="number")N=qS(f,N,T,i,w),W&&(N=fS(W,N,k));else if(b==="category"&&W){var R=W,ne=N.every(function(z){return R.indexOf(z)>=0});ne&&(N=R)}}return xe(xe({},h),{},Ue({},T,xe(xe({},v),{},{axisType:i,domain:N,categoricalDomain:M,duplicateDomain:I,originalDomain:(x=v.domain)!==null&&x!==void 0?x:F,isCategorical:m,layout:d})))},{})},LSe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=zv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=p.length,h=qL(d,i),g=-1;return n.reduce(function(x,v){var b=v.type.defaultProps!==void 0?xe(xe({},v.type.defaultProps),v.props):v.props,y=b[s],k=K8("number");if(!x[y]){g++;var E;return h?E=Ug(0,m):o&&o[y]&&o[y].hasStack?(E=HL(o[y].stackGroups,c,u),E=qS(f,E,y,i)):(E=fS(k,UL(p,n.filter(function(S){var w,j,T=s in S.props?S.props[s]:(w=S.type.defaultProps)===null||w===void 0?void 0:w[s],C="hide"in S.props?S.props.hide:(j=S.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!C}),"number",d),a.defaultProps.allowDataOverflow),E=qS(f,E,y,i)),xe(xe({},x),{},Ue({},y,xe(xe({axisType:i},a.defaultProps),{},{hide:!0,orientation:za(OSe,"".concat(i,".").concat(g%2),null),domain:E,originalDomain:k,isCategorical:h,layout:d})))}return x},{})},$Se=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=ui(d,i),m={};return p&&p.length?m=MSe(t,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=LSe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),m},BSe=function(t){var r=Js(t),n=ns(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:v_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Og(r,n)}},pP=function(t){var r=t.children,n=t.defaultShowTooltip,a=ia(r,Bu),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},zSe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ss(r&&r.type);return n&&n.indexOf("Bar")>=0})},mP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},USe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,p=n.margin||{},m=ia(f,Bu),h=ia(f,ou),g=Object.keys(c).reduce(function(E,S){var w=c[S],j=w.orientation;return!w.mirror&&!w.hide?xe(xe({},E),{},Ue({},j,E[j]+w.width)):E},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(E,S){var w=s[S],j=w.orientation;return!w.mirror&&!w.hide?xe(xe({},E),{},Ue({},j,za(E,"".concat(j))+w.height)):E},{top:p.top||0,bottom:p.bottom||0}),v=xe(xe({},x),g),b=v.bottom;m&&(v.bottom+=m.props.height||Bu.defaultProps.height),h&&r&&(v=p0e(v,a,n,r));var y=u-v.left-v.right,k=d-v.top-v.bottom;return xe(xe({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(k,0)})},qSe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},VSe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(v,b){var y=b.graphicalItems,k=b.stackGroups,E=b.offset,S=b.updateId,w=b.dataStartIndex,j=b.dataEndIndex,T=v.barSize,C=v.layout,A=v.barGap,N=v.barCategoryGap,I=v.maxBarSize,M=mP(C),F=M.numericAxisName,q=M.cateAxisName,W=zSe(y),V=[];return y.forEach(function(B,R){var ne=zv(v.data,{graphicalItems:[B],dataStartIndex:w,dataEndIndex:j}),z=B.type.defaultProps!==void 0?xe(xe({},B.type.defaultProps),B.props):B.props,P=z.dataKey,G=z.maxBarSize,J=z["".concat(F,"Id")],te=z["".concat(q,"Id")],re={},D=c.reduce(function(zt,wn){var Fn=b["".concat(wn.axisType,"Map")],Rr=z["".concat(wn.axisType,"Id")];Fn&&Fn[Rr]||wn.axisType==="zAxis"||$l();var Mn=Fn[Rr];return xe(xe({},zt),{},Ue(Ue({},wn.axisType,Mn),"".concat(wn.axisType,"Ticks"),ns(Mn)))},re),H=D[q],L=D["".concat(q,"Ticks")],K=k&&k[J]&&k[J].hasStack&&C0e(B,k[J].stackGroups),O=ss(B.type).indexOf("Bar")>=0,pe=Og(H,L),ie=[],de=W&&d0e({barSize:T,stackGroups:k,totalSize:qSe(D,q)});if(O){var ye,me,Le=vt(G)?I:G,ct=(ye=(me=Og(H,L,!0))!==null&&me!==void 0?me:Le)!==null&&ye!==void 0?ye:0;ie=f0e({barGap:A,barCategoryGap:N,bandSize:ct!==pe?ct:pe,sizeList:de[te],maxBarSize:Le}),ct!==pe&&(ie=ie.map(function(zt){return xe(xe({},zt),{},{position:xe(xe({},zt.position),{},{offset:zt.position.offset-ct/2})})}))}var Kt=B&&B.type&&B.type.getComposedData;Kt&&V.push({props:xe(xe({},Kt(xe(xe({},D),{},{displayedData:ne,props:v,dataKey:P,item:B,bandSize:pe,barPosition:ie,offset:E,stackedData:K,layout:C,dataStartIndex:w,dataEndIndex:j}))),{},Ue(Ue(Ue({key:B.key||"item-".concat(R)},F,D[F]),q,D[q]),"animationId",S)),childIndex:ute(B,v.children),item:B})}),V},m=function(v,b){var y=v.props,k=v.dataStartIndex,E=v.dataEndIndex,S=v.updateId;if(!BT({props:y}))return null;var w=y.children,j=y.layout,T=y.stackOffset,C=y.data,A=y.reverseStackOrder,N=mP(j),I=N.numericAxisName,M=N.cateAxisName,F=ui(w,n),q=_0e(C,F,"".concat(I,"Id"),"".concat(M,"Id"),T,A),W=c.reduce(function(z,P){var G="".concat(P.axisType,"Map");return xe(xe({},z),{},Ue({},G,$Se(y,xe(xe({},P),{},{graphicalItems:F,stackGroups:P.axisType===I&&q,dataStartIndex:k,dataEndIndex:E}))))},{}),V=USe(xe(xe({},W),{},{props:y,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(z){W[z]=d(y,W[z],V,z.replace("Map",""),r)});var B=W["".concat(M,"Map")],R=BSe(B),ne=p(y,xe(xe({},W),{},{dataStartIndex:k,dataEndIndex:E,updateId:S,graphicalItems:F,stackGroups:q,offset:V}));return xe(xe({formattedGraphicalItems:ne,graphicalItems:F,offset:V,stackGroups:q},R),W)},h=function(x){function v(b){var y,k,E;return SSe(this,v),E=NSe(this,v,[b]),Ue(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(E,"accessibilityManager",new lSe),Ue(E,"handleLegendBBoxUpdate",function(S){if(S){var w=E.state,j=w.dataStartIndex,T=w.dataEndIndex,C=w.updateId;E.setState(xe({legendBBox:S},m({props:E.props,dataStartIndex:j,dataEndIndex:T,updateId:C},xe(xe({},E.state),{},{legendBBox:S}))))}}),Ue(E,"handleReceiveSyncEvent",function(S,w,j){if(E.props.syncId===S){if(j===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(w)}}),Ue(E,"handleBrushChange",function(S){var w=S.startIndex,j=S.endIndex;if(w!==E.state.dataStartIndex||j!==E.state.dataEndIndex){var T=E.state.updateId;E.setState(function(){return xe({dataStartIndex:w,dataEndIndex:j},m({props:E.props,dataStartIndex:w,dataEndIndex:j,updateId:T},E.state))}),E.triggerSyncEvent({dataStartIndex:w,dataEndIndex:j})}}),Ue(E,"handleMouseEnter",function(S){var w=E.getMouseInfo(S);if(w){var j=xe(xe({},w),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var T=E.props.onMouseEnter;at(T)&&T(j,S)}}),Ue(E,"triggeredAfterMouseMove",function(S){var w=E.getMouseInfo(S),j=w?xe(xe({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var T=E.props.onMouseMove;at(T)&&T(j,S)}),Ue(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ue(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ue(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),Ue(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};E.setState(w),E.triggerSyncEvent(w);var j=E.props.onMouseLeave;at(j)&&j(w,S)}),Ue(E,"handleOuterEvent",function(S){var w=cte(S),j=za(E.props,"".concat(w));if(w&&at(j)){var T,C;/.*touch.*/i.test(w)?C=E.getMouseInfo(S.changedTouches[0]):C=E.getMouseInfo(S),j((T=C)!==null&&T!==void 0?T:{},S)}}),Ue(E,"handleClick",function(S){var w=E.getMouseInfo(S);if(w){var j=xe(xe({},w),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var T=E.props.onClick;at(T)&&T(j,S)}}),Ue(E,"handleMouseDown",function(S){var w=E.props.onMouseDown;if(at(w)){var j=E.getMouseInfo(S);w(j,S)}}),Ue(E,"handleMouseUp",function(S){var w=E.props.onMouseUp;if(at(w)){var j=E.getMouseInfo(S);w(j,S)}}),Ue(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ue(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),Ue(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),Ue(E,"handleDoubleClick",function(S){var w=E.props.onDoubleClick;if(at(w)){var j=E.getMouseInfo(S);w(j,S)}}),Ue(E,"handleContextMenu",function(S){var w=E.props.onContextMenu;if(at(w)){var j=E.getMouseInfo(S);w(j,S)}}),Ue(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&Ib.emit(Pb,E.props.syncId,S,E.eventEmitterSymbol)}),Ue(E,"applySyncEvent",function(S){var w=E.props,j=w.layout,T=w.syncMethod,C=E.state.updateId,A=S.dataStartIndex,N=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(xe({dataStartIndex:A,dataEndIndex:N},m({props:E.props,dataStartIndex:A,dataEndIndex:N,updateId:C},E.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,M=S.chartY,F=S.activeTooltipIndex,q=E.state,W=q.offset,V=q.tooltipTicks;if(!W)return;if(typeof T=="function")F=T(V,S);else if(T==="value"){F=-1;for(var B=0;B<V.length;B++)if(V[B].value===S.activeLabel){F=B;break}}var R=xe(xe({},W),{},{x:W.left,y:W.top}),ne=Math.min(I,R.x+R.width),z=Math.min(M,R.y+R.height),P=V[F]&&V[F].value,G=WS(E.state,E.props.data,F),J=V[F]?{x:j==="horizontal"?V[F].coordinate:ne,y:j==="horizontal"?z:V[F].coordinate}:X8;E.setState(xe(xe({},S),{},{activeLabel:P,activeCoordinate:J,activePayload:G,activeTooltipIndex:F}))}else E.setState(S)}),Ue(E,"renderCursor",function(S){var w,j=E.state,T=j.isTooltipActive,C=j.activeCoordinate,A=j.activePayload,N=j.offset,I=j.activeTooltipIndex,M=j.tooltipAxisBandSize,F=E.getTooltipEventType(),q=(w=S.props.active)!==null&&w!==void 0?w:T,W=E.props.layout,V=S.key||"_recharts-cursor";return ae.createElement(hSe,{key:V,activeCoordinate:C,activePayload:A,activeTooltipIndex:I,chartName:r,element:S,isActive:q,layout:W,offset:N,tooltipAxisBandSize:M,tooltipEventType:F})}),Ue(E,"renderPolarAxis",function(S,w,j){var T=za(S,"type.axisType"),C=za(E.state,"".concat(T,"Map")),A=S.type.defaultProps,N=A!==void 0?xe(xe({},A),S.props):S.props,I=C&&C[N["".concat(T,"Id")]];return _.cloneElement(S,xe(xe({},I),{},{className:st(T,I.className),key:S.key||"".concat(w,"-").concat(j),ticks:ns(I,!0)}))}),Ue(E,"renderPolarGrid",function(S){var w=S.props,j=w.radialLines,T=w.polarAngles,C=w.polarRadius,A=E.state,N=A.radiusAxisMap,I=A.angleAxisMap,M=Js(N),F=Js(I),q=F.cx,W=F.cy,V=F.innerRadius,B=F.outerRadius;return _.cloneElement(S,{polarAngles:Array.isArray(T)?T:ns(F,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(C)?C:ns(M,!0).map(function(R){return R.coordinate}),cx:q,cy:W,innerRadius:V,outerRadius:B,key:S.key||"polar-grid",radialLines:j})}),Ue(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,w=E.props,j=w.children,T=w.width,C=w.height,A=E.props.margin||{},N=T-(A.left||0)-(A.right||0),I=BL({children:j,formattedGraphicalItems:S,legendWidth:N,legendContent:u});if(!I)return null;var M=I.item,F=uP(I,gSe);return _.cloneElement(M,xe(xe({},F),{},{chartWidth:T,chartHeight:C,margin:A,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ue(E,"renderTooltip",function(){var S,w=E.props,j=w.children,T=w.accessibilityLayer,C=ia(j,sa);if(!C)return null;var A=E.state,N=A.isTooltipActive,I=A.activeCoordinate,M=A.activePayload,F=A.activeLabel,q=A.offset,W=(S=C.props.active)!==null&&S!==void 0?S:N;return _.cloneElement(C,{viewBox:xe(xe({},q),{},{x:q.left,y:q.top}),active:W,label:F,payload:W?M:[],coordinate:I,accessibilityLayer:T})}),Ue(E,"renderBrush",function(S){var w=E.props,j=w.margin,T=w.data,C=E.state,A=C.offset,N=C.dataStartIndex,I=C.dataEndIndex,M=C.updateId;return _.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Ih(E.handleBrushChange,S.props.onChange),data:T,x:Te(S.props.x)?S.props.x:A.left,y:Te(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(j.bottom||0),width:Te(S.props.width)?S.props.width:A.width,startIndex:N,endIndex:I,updateId:"brush-".concat(M)})}),Ue(E,"renderReferenceElement",function(S,w,j){if(!S)return null;var T=E,C=T.clipPathId,A=E.state,N=A.xAxisMap,I=A.yAxisMap,M=A.offset,F=S.type.defaultProps||{},q=S.props,W=q.xAxisId,V=W===void 0?F.xAxisId:W,B=q.yAxisId,R=B===void 0?F.yAxisId:B;return _.cloneElement(S,{key:S.key||"".concat(w,"-").concat(j),xAxis:N[V],yAxis:I[R],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:C})}),Ue(E,"renderActivePoints",function(S){var w=S.item,j=S.activePoint,T=S.basePoint,C=S.childIndex,A=S.isRange,N=[],I=w.props.key,M=w.item.type.defaultProps!==void 0?xe(xe({},w.item.type.defaultProps),w.item.props):w.item.props,F=M.activeDot,q=M.dataKey,W=xe(xe({index:C,dataKey:q,cx:j.x,cy:j.y,r:4,fill:H_(w.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},gt(F,!1)),ng(F));return N.push(v.renderActiveDot(F,W,"".concat(I,"-activePoint-").concat(C))),T?N.push(v.renderActiveDot(F,xe(xe({},W),{},{cx:T.x,cy:T.y}),"".concat(I,"-basePoint-").concat(C))):A&&N.push(null),N}),Ue(E,"renderGraphicChild",function(S,w,j){var T=E.filterFormatItem(S,w,j);if(!T)return null;var C=E.getTooltipEventType(),A=E.state,N=A.isTooltipActive,I=A.tooltipAxis,M=A.activeTooltipIndex,F=A.activeLabel,q=E.props.children,W=ia(q,sa),V=T.props,B=V.points,R=V.isRange,ne=V.baseLine,z=T.item.type.defaultProps!==void 0?xe(xe({},T.item.type.defaultProps),T.item.props):T.item.props,P=z.activeDot,G=z.hide,J=z.activeBar,te=z.activeShape,re=!!(!G&&N&&W&&(P||J||te)),D={};C!=="axis"&&W&&W.props.trigger==="click"?D={onClick:Ih(E.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(D={onMouseLeave:Ih(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Ih(E.handleItemMouseEnter,S.props.onMouseEnter)});var H=_.cloneElement(S,xe(xe({},T.props),D));function L(wn){return typeof I.dataKey=="function"?I.dataKey(wn.payload):null}if(re)if(M>=0){var K,O;if(I.dataKey&&!I.allowDuplicatedCategory){var pe=typeof I.dataKey=="function"?L:"payload.".concat(I.dataKey.toString());K=Nw(B,pe,F),O=R&&ne&&Nw(ne,pe,F)}else K=B==null?void 0:B[M],O=R&&ne&&ne[M];if(te||J){var ie=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[_.cloneElement(S,xe(xe(xe({},T.props),D),{},{activeIndex:ie})),null,null]}if(!vt(K))return[H].concat(Ku(E.renderActivePoints({item:T,activePoint:K,basePoint:O,childIndex:M,isRange:R})))}else{var de,ye=(de=E.getItemByXY(E.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:H},me=ye.graphicalItem,Le=me.item,ct=Le===void 0?S:Le,Kt=me.childIndex,zt=xe(xe(xe({},T.props),D),{},{activeIndex:Kt});return[_.cloneElement(ct,zt),null,null]}return R?[H,null,null]:[H,null]}),Ue(E,"renderCustomized",function(S,w,j){return _.cloneElement(S,xe(xe({key:"recharts-customized-".concat(j)},E.props),E.state))}),Ue(E,"renderMap",{CartesianGrid:{handler:Fh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Fh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Fh},YAxis:{handler:Fh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:hv("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=B6(E.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),E.state={},E}return TSe(v,x),_Se(v,[{key:"componentDidMount",value:function(){var y,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,k=y.children,E=y.data,S=y.height,w=y.layout,j=ia(k,sa);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,A=WS(this.state,E,T,C),N=this.state.tooltipTicks[T].coordinate,I=(this.state.offset.top+S)/2,M=w==="horizontal",F=M?{x:N,y:I}:{y:N,x:I},q=this.state.formattedGraphicalItems.find(function(V){var B=V.item;return B.type.name==="Scatter"});q&&(F=xe(xe({},F),q.props.points[T].tooltipPosition),A=q.props.points[T].tooltipPayload);var W={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:C,activePayload:A,activeCoordinate:F};this.setState(W),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){Cw([ia(y.children,sa)],[ia(this.props.children,sa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=ia(this.props.children,sa);if(y&&typeof y.props.shared=="boolean"){var k=y.props.shared?"axis":"item";return o.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var k=this.container,E=k.getBoundingClientRect(),S=Fde(E),w={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},j=E.width/k.offsetWidth||1,T=this.inRange(w.chartX,w.chartY,j);if(!T)return null;var C=this.state,A=C.xAxisMap,N=C.yAxisMap,I=this.getTooltipEventType(),M=fP(this.state,this.props.data,this.props.layout,T);if(I!=="axis"&&A&&N){var F=Js(A).scale,q=Js(N).scale,W=F&&F.invert?F.invert(w.chartX):null,V=q&&q.invert?q.invert(w.chartY):null;return xe(xe({},w),{},{xValue:W,yValue:V},M)}return M?xe(xe({},w),M):null}},{key:"inRange",value:function(y,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,w=y/E,j=k/E;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,C=w>=T.left&&w<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return C?{x:w,y:j}:null}var A=this.state,N=A.angleAxisMap,I=A.radiusAxisMap;if(N&&I){var M=Js(N);return KA({x:w,y:j},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,k=this.getTooltipEventType(),E=ia(y,sa),S={};E&&k==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=ng(this.props,this.handleOuterEvent);return xe(xe({},w),S)}},{key:"addListener",value:function(){Ib.on(Pb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ib.removeListener(Pb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,k,E){for(var S=this.state.formattedGraphicalItems,w=0,j=S.length;w<j;w++){var T=S[w];if(T.item===y||T.props.key===y.key||k===ss(T.item.type)&&E===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,k=this.state.offset,E=k.left,S=k.top,w=k.height,j=k.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:y},ae.createElement("rect",{x:E,y:S,height:w,width:j})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(k,E){var S=cP(E,2),w=S[0],j=S[1];return xe(xe({},k),{},Ue({},w,j.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(k,E){var S=cP(E,2),w=S[0],j=S[1];return xe(xe({},k),{},Ue({},w,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[y])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(y){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[y])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(y){var k=this.state,E=k.formattedGraphicalItems,S=k.activeItem;if(E&&E.length)for(var w=0,j=E.length;w<j;w++){var T=E[w],C=T.props,A=T.item,N=A.type.defaultProps!==void 0?xe(xe({},A.type.defaultProps),A.props):A.props,I=ss(A.type);if(I==="Bar"){var M=(C.data||[]).find(function(V){return vve(y,V)});if(M)return{graphicalItem:T,payload:M}}else if(I==="RadialBar"){var F=(C.data||[]).find(function(V){return KA(y,V)});if(F)return{graphicalItem:T,payload:F}}else if(Rv(T,S)||Dv(T,S)||Gp(T,S)){var q=wye({graphicalItem:T,activeTooltipItem:S,itemData:N.data}),W=N.activeIndex===void 0?q:N.activeIndex;return{graphicalItem:xe(xe({},T),{},{childIndex:W}),payload:Gp(T,S)?N.data[q]:T.props.data[q]}}}return null}},{key:"render",value:function(){var y=this;if(!BT(this))return null;var k=this.props,E=k.children,S=k.className,w=k.width,j=k.height,T=k.style,C=k.compact,A=k.title,N=k.desc,I=uP(k,xSe),M=gt(I,!1);if(C)return ae.createElement(XI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(jw,Xc({},M,{width:w,height:j,title:A,desc:N}),this.renderClipPath(),UT(E,this.renderMap)));if(this.props.accessibilityLayer){var F,q;M.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,M.role=(q=this.props.role)!==null&&q!==void 0?q:"application",M.onKeyDown=function(V){y.accessibilityManager.keyboardEvent(V)},M.onFocus=function(){y.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ae.createElement(XI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Xc({className:st("recharts-wrapper",S),style:xe({position:"relative",cursor:"default",width:w,height:j},T)},W,{ref:function(B){y.container=B}}),ae.createElement(jw,Xc({},M,{width:w,height:j,title:A,desc:N,style:RSe}),this.renderClipPath(),UT(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Ue(h,"displayName",r),Ue(h,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(h,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,y=x.data,k=x.children,E=x.width,S=x.height,w=x.layout,j=x.stackOffset,T=x.margin,C=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var N=pP(x);return xe(xe(xe({},N),{},{updateId:0},m(xe(xe({props:x},N),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:S,prevLayout:w,prevStackOffset:j,prevMargin:T,prevChildren:k})}if(b!==v.prevDataKey||y!==v.prevData||E!==v.prevWidth||S!==v.prevHeight||w!==v.prevLayout||j!==v.prevStackOffset||!su(T,v.prevMargin)){var I=pP(x),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=xe(xe({},fP(v,y,w)),{},{updateId:v.updateId+1}),q=xe(xe(xe({},I),M),F);return xe(xe(xe({},q),m(xe({props:x},q),v)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:S,prevLayout:w,prevStackOffset:j,prevMargin:T,prevChildren:k})}if(!Cw(k,v.prevChildren)){var W,V,B,R,ne=ia(k,Bu),z=ne&&(W=(V=ne.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:C,P=ne&&(B=(R=ne.props)===null||R===void 0?void 0:R.endIndex)!==null&&B!==void 0?B:A,G=z!==C||P!==A,J=!vt(y),te=J&&!G?v.updateId:v.updateId+1;return xe(xe({updateId:te},m(xe(xe({props:x},v),{},{updateId:te,dataStartIndex:z,dataEndIndex:P}),v)),{},{prevChildren:k,dataStartIndex:z,dataEndIndex:P})}return null}),Ue(h,"renderActiveDot",function(x,v,b){var y;return _.isValidElement(x)?y=_.cloneElement(x,v):at(x)?y=x(v):y=ae.createElement(s8,v),ae.createElement(Lr,{className:"recharts-active-dot",key:b},y)});var g=_.forwardRef(function(v,b){return ae.createElement(h,Xc({},v,{ref:b}))});return g.displayName=h.displayName,g},tx=VSe({chartName:"BarChart",GraphicalChild:Li,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zl},{axisType:"yAxis",AxisComp:Ul}],formatAxisMap:Wbe});const Uv=[{id:"1",name:"Clientes Tengo!",products:[{id:"p1",name:"Tengo Alimentación sustentable"},{id:"p2",name:"Tengo Despensa"},{id:"p3",name:"Tengo Uniforme"},{id:"p4",name:"Tengo Combustible"},{id:"p5",name:"Tengo Lealtad"},{id:"p6",name:"Tengo Viajes"},{id:"p7",name:"Teletrabajo"},{id:"p8",name:"Vales papel"},{id:"p9",name:"Afiliados Tengo!"}]},{id:"2",name:"Infonavit",products:[{id:"p1",name:"Mejoravit"},{id:"p2",name:"Mejora y construye"}]},{id:"3",name:"Boveda Virtual Morales",products:[{id:"p1",name:"Boveda virtual B2B"}]},{id:"4",name:"Adquirencia",products:[{id:"p1",name:"bim sponsor"},{id:"p2",name:"cliente directo"}]},{id:"5",name:"Crédito",products:[{id:"p1",name:"Adelanto subsidio"},{id:"p2",name:"DXN B2G"},{id:"p3",name:"DxN B2B"},{id:"p4",name:"Simple B2C"},{id:"p5",name:"Simple B2C"},{id:"p6",name:"IFC"},{id:"p7",name:"Simple US-MX B2C"},{id:"p8",name:"Revolvente B2C"},{id:"p9",name:"Mars"},{id:"p10",name:"Revolvente B2B"},{id:"p11",name:"Revolvente US-MX B2C"},{id:"p12",name:"Especial"},{id:"p13",name:"Plazo Pago Dispersión"},{id:"p14",name:"Factoraje"},{id:"p15",name:"Adelanto Nómina B2C"},{id:"p16",name:"Adelanto Ventas"}]},{id:"6",name:"Nafin",products:[{id:"p1",name:"Nafin"}]}],HSe="6",WSe=Uv.map(e=>({...e,isSelectable:e.id===HSe})),hP="#3b82f6",GSe=["Solicitud de Producto","Envío de credenciales","Recepción documental","Revisión humana","Generación de cédula","Resolución de solicitud","Términos y condiciones"],gP="dashboard_stats_cache_nafin",Y8=_.forwardRef((e,t)=>{var m,h;const{user:r}=Nt(),n=((m=r==null?void 0:r.adminTeam)==null?void 0:m.id)??"",[a,i]=_.useState([]),[s,o]=_.useState([]),[c,u]=_.useState(!1),d=_.useRef({subprocesos:null,productos:null}),f=((h=WSe.find(g=>g.id==="6"))==null?void 0:h.products.map(g=>g.name))??[];_.useEffect(()=>{const g=localStorage.getItem(gP);if(g)try{const x=JSON.parse(g);x.subprocesos&&x.productos&&(d.current=x,i(x.subprocesos),o(x.productos))}catch{console.warn("⚠️ Error al leer cache local")}},[]);const p=async(g=!1)=>{if(!n)return;const{subprocesos:x,productos:v}=d.current;if(!g&&x&&v){i(x),o(v);return}u(!0);const b=GSe.map(async(w,j)=>{const T=await iM(n,j+1);return{name:w,value:T}}),y=f.map(async w=>{const j=await sM(n,w);return{name:w,value:j}}),[k,E]=await Promise.all([Promise.all(b),Promise.all(y)]),S={subprocesos:k,productos:E};d.current=S,localStorage.setItem(gP,JSON.stringify(S)),i(k),o(E),u(!1)};return _.useImperativeHandle(t,()=>({updateNow:p})),c?l.jsx("div",{className:"flex items-center justify-center h-[500px]",children:l.jsx("p",{className:"text-gray-500 text-lg",children:"Cargando estadísticas..."})}):l.jsxs("div",{className:"pt-8 bg-gray-100",children:[l.jsx("div",{className:"flex justify-end pr-4",children:l.jsxs("button",{onClick:()=>p(!0),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition",title:"Recargar estadísticas",children:[l.jsx(ZY,{className:"w-5 h-5 mr-1"}),"Recargar estadísticas"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-2",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Etapa de Proceso"}),l.jsx(xg,{width:"100%",height:400,children:l.jsxs(tx,{layout:"vertical",data:a,margin:{top:10,right:20,left:40,bottom:10},children:[l.jsx(Qp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(zl,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(Ul,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(sa,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),l.jsx(Li,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:a.map((g,x)=>l.jsx(Ou,{fill:hP},`sub-cell-${x}`))})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Producto"}),l.jsx(xg,{width:"100%",height:400,children:l.jsxs(tx,{layout:"vertical",data:s,margin:{top:10,right:20,left:40,bottom:10},children:[l.jsx(Qp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(zl,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(Ul,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(sa,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),l.jsx(Li,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:s.map((g,x)=>l.jsx(Ou,{fill:hP},`prod-cell-${x}`))})]})})]})]})]})});function J8({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return _.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),l.jsx("p",{className:"text-gray-600 mt-2",children:a}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}function Q8(e,t){return function(){return e.apply(t,arguments)}}const{toString:XSe}=Object.prototype,{getPrototypeOf:rN}=Object,qv=(e=>t=>{const r=XSe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vi=e=>(e=e.toLowerCase(),t=>qv(t)===e),Vv=e=>t=>typeof t===e,{isArray:Cd}=Array,tm=Vv("undefined");function KSe(e){return e!==null&&!tm(e)&&e.constructor!==null&&!tm(e.constructor)&&ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z8=vi("ArrayBuffer");function YSe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z8(e.buffer),t}const JSe=Vv("string"),ga=Vv("function"),e$=Vv("number"),Hv=e=>e!==null&&typeof e=="object",QSe=e=>e===!0||e===!1,v0=e=>{if(qv(e)!=="object")return!1;const t=rN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZSe=vi("Date"),e2e=vi("File"),t2e=vi("Blob"),r2e=vi("FileList"),n2e=e=>Hv(e)&&ga(e.pipe),a2e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ga(e.append)&&((t=qv(e))==="formdata"||t==="object"&&ga(e.toString)&&e.toString()==="[object FormData]"))},i2e=vi("URLSearchParams"),[s2e,o2e,l2e,c2e]=["ReadableStream","Request","Response","Headers"].map(vi),u2e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Cd(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(n=0;n<s;n++)o=i[n],t.call(null,e[o],o,e)}}function t$(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r$=e=>!tm(e)&&e!==ml;function GS(){const{caseless:e}=r$(this)&&this||{},t={},r=(n,a)=>{const i=e&&t$(t,a)||a;v0(t[i])&&v0(n)?t[i]=GS(t[i],n):v0(n)?t[i]=GS({},n):Cd(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&zm(arguments[n],r);return t}const d2e=(e,t,r,{allOwnKeys:n}={})=>(zm(t,(a,i)=>{r&&ga(a)?e[i]=Q8(a,r):e[i]=a},{allOwnKeys:n}),e),f2e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),p2e=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},m2e=(e,t,r,n)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&rN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},h2e=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},g2e=e=>{if(!e)return null;if(Cd(e))return e;let t=e.length;if(!e$(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},x2e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rN(Uint8Array)),v2e=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},y2e=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},b2e=vi("HTMLFormElement"),w2e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),xP=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),S2e=vi("RegExp"),n$=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};zm(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},E2e=e=>{n$(e,(t,r)=>{if(ga(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ga(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_2e=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Cd(e)?n(e):n(String(e).split(t)),r},N2e=()=>{},k2e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Rb="abcdefghijklmnopqrstuvwxyz",vP="0123456789",a$={DIGIT:vP,ALPHA:Rb,ALPHA_DIGIT:Rb+Rb.toUpperCase()+vP},C2e=(e=16,t=a$.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function T2e(e){return!!(e&&ga(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const j2e=e=>{const t=new Array(10),r=(n,a)=>{if(Hv(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Cd(n)?[]:{};return zm(n,(s,o)=>{const c=r(s,a+1);!tm(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},A2e=vi("AsyncFunction"),I2e=e=>e&&(Hv(e)||ga(e))&&ga(e.then)&&ga(e.catch),i$=((e,t)=>e?setImmediate:t?((r,n)=>(ml.addEventListener("message",({source:a,data:i})=>{a===ml&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ml.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ga(ml.postMessage)),P2e=typeof queueMicrotask<"u"?queueMicrotask.bind(ml):typeof process<"u"&&process.nextTick||i$,fe={isArray:Cd,isArrayBuffer:Z8,isBuffer:KSe,isFormData:a2e,isArrayBufferView:YSe,isString:JSe,isNumber:e$,isBoolean:QSe,isObject:Hv,isPlainObject:v0,isReadableStream:s2e,isRequest:o2e,isResponse:l2e,isHeaders:c2e,isUndefined:tm,isDate:ZSe,isFile:e2e,isBlob:t2e,isRegExp:S2e,isFunction:ga,isStream:n2e,isURLSearchParams:i2e,isTypedArray:x2e,isFileList:r2e,forEach:zm,merge:GS,extend:d2e,trim:u2e,stripBOM:f2e,inherits:p2e,toFlatObject:m2e,kindOf:qv,kindOfTest:vi,endsWith:h2e,toArray:g2e,forEachEntry:v2e,matchAll:y2e,isHTMLForm:b2e,hasOwnProperty:xP,hasOwnProp:xP,reduceDescriptors:n$,freezeMethods:E2e,toObjectSet:_2e,toCamelCase:w2e,noop:N2e,toFiniteNumber:k2e,findKey:t$,global:ml,isContextDefined:r$,ALPHABET:a$,generateString:C2e,isSpecCompliantForm:T2e,toJSONObject:j2e,isAsyncFn:A2e,isThenable:I2e,setImmediate:i$,asap:P2e};function Ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}fe.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const s$=Ye.prototype,o$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o$[e]={value:e}});Object.defineProperties(Ye,o$);Object.defineProperty(s$,"isAxiosError",{value:!0});Ye.from=(e,t,r,n,a,i)=>{const s=Object.create(s$);return fe.toFlatObject(e,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ye.call(s,e.message,t,r,n,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const O2e=null;function XS(e){return fe.isPlainObject(e)||fe.isArray(e)}function l$(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function yP(e,t,r){return e?e.concat(t).map(function(a,i){return a=l$(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function R2e(e){return fe.isArray(e)&&!e.some(XS)}const D2e=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function Wv(e,t,r){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=fe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!fe.isUndefined(x[g])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(fe.isDate(h))return h.toISOString();if(!c&&fe.isBlob(h))throw new Ye("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(h)||fe.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,x){let v=h;if(h&&!x&&typeof h=="object"){if(fe.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(fe.isArray(h)&&R2e(h)||(fe.isFileList(h)||fe.endsWith(g,"[]"))&&(v=fe.toArray(h)))return g=l$(g),v.forEach(function(y,k){!(fe.isUndefined(y)||y===null)&&t.append(s===!0?yP([g],k,i):s===null?g:g+"[]",u(y))}),!1}return XS(h)?!0:(t.append(yP(x,g,i),u(h)),!1)}const f=[],p=Object.assign(D2e,{defaultVisitor:d,convertValue:u,isVisitable:XS});function m(h,g){if(!fe.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),fe.forEach(h,function(v,b){(!(fe.isUndefined(v)||v===null)&&a.call(t,v,fe.isString(b)?b.trim():b,g,p))===!0&&m(v,g?g.concat(b):[b])}),f.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return m(e),t}function bP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function nN(e,t){this._pairs=[],e&&Wv(e,this,t)}const c$=nN.prototype;c$.append=function(t,r){this._pairs.push([t,r])};c$.toString=function(t){const r=t?function(n){return t.call(this,n,bP)}:bP;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function F2e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u$(e,t,r){if(!t)return e;const n=r&&r.encode||F2e,a=r&&r.serialize;let i;if(a?i=a(t,r):i=fe.isURLSearchParams(t)?t.toString():new nN(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class wP{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const d$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M2e=typeof URLSearchParams<"u"?URLSearchParams:nN,L2e=typeof FormData<"u"?FormData:null,$2e=typeof Blob<"u"?Blob:null,B2e={isBrowser:!0,classes:{URLSearchParams:M2e,FormData:L2e,Blob:$2e},protocols:["http","https","file","blob","url","data"]},aN=typeof window<"u"&&typeof document<"u",KS=typeof navigator=="object"&&navigator||void 0,z2e=aN&&(!KS||["ReactNative","NativeScript","NS"].indexOf(KS.product)<0),U2e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",q2e=aN&&window.location.href||"http://localhost",V2e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aN,hasStandardBrowserEnv:z2e,hasStandardBrowserWebWorkerEnv:U2e,navigator:KS,origin:q2e},Symbol.toStringTag,{value:"Module"})),Gn={...V2e,...B2e};function H2e(e,t){return Wv(e,new Gn.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Gn.isNode&&fe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function W2e(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function G2e(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function f$(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=r.length;return s=!s&&fe.isArray(a)?a.length:s,c?(fe.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!fe.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&fe.isArray(a[s])&&(a[s]=G2e(a[s])),!o)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const r={};return fe.forEachEntry(e,(n,a)=>{t(W2e(n),a,r,0)}),r}return null}function X2e(e,t,r){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Um={transitional:d$,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=fe.isObject(t);if(i&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return a?JSON.stringify(f$(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return H2e(t,this.formSerializer).toString();if((o=fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wv(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),X2e(t)):t}],transformResponse:[function(t){const r=this.transitional||Um.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Ye.from(o,Ye.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{Um.headers[e]={}});const K2e=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Y2e=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&K2e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},SP=Symbol("internals");function nf(e){return e&&String(e).trim().toLowerCase()}function y0(e){return e===!1||e==null?e:fe.isArray(e)?e.map(y0):String(e)}function J2e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Q2e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Db(e,t,r,n,a){if(fe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!fe.isString(t)){if(fe.isString(n))return t.indexOf(n)!==-1;if(fe.isRegExp(n))return n.test(t)}}function Z2e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function eEe(e,t){const r=fe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}class Xn{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,u){const d=nf(c);if(!d)throw new Error("header name must be a non-empty string");const f=fe.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=y0(o))}const s=(o,c)=>fe.forEach(o,(u,d)=>i(u,d,c));if(fe.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(fe.isString(t)&&(t=t.trim())&&!Q2e(t))s(Y2e(t),r);else if(fe.isHeaders(t))for(const[o,c]of t.entries())i(c,o,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=nf(t),t){const n=fe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return J2e(a);if(fe.isFunction(r))return r.call(this,a,n);if(fe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=nf(t),t){const n=fe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Db(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=nf(s),s){const o=fe.findKey(n,s);o&&(!r||Db(n,n[o],o,r))&&(delete n[o],a=!0)}}return fe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Db(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return fe.forEach(this,(a,i)=>{const s=fe.findKey(n,i);if(s){r[s]=y0(a),delete r[i];return}const o=t?Z2e(i):String(i).trim();o!==i&&delete r[i],r[o]=y0(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return fe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&fe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[SP]=this[SP]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=nf(s);n[o]||(eEe(a,s),n[o]=!0)}return fe.isArray(t)?t.forEach(i):i(t),this}}Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Xn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});fe.freezeMethods(Xn);function Fb(e,t){const r=this||Um,n=t||r,a=Xn.from(n.headers);let i=n.data;return fe.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function p$(e){return!!(e&&e.__CANCEL__)}function Td(e,t,r){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,r),this.name="CanceledError"}fe.inherits(Td,Ye,{__CANCEL__:!0});function m$(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ye("Request failed with status code "+r.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tEe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rEe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),r[a]=c,n[a]=u;let f=i,p=0;for(;f!==a;)p+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function nEe(e,t){let r=0,n=1e3/t,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const rx=(e,t,r=3)=>{let n=0;const a=rEe(50,250);return nEe(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},EP=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_P=e=>(...t)=>fe.asap(()=>e(...t)),aEe=Gn.hasStandardBrowserEnv?function(){const t=Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent),r=document.createElement("a");let n;function a(i){let s=i;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){const o=fe.isString(s)?a(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),iEe=Gn.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const s=[e+"="+encodeURIComponent(t)];fe.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),fe.isString(n)&&s.push("path="+n),fe.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sEe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oEe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function h$(e,t){return e&&!sEe(t)?oEe(e,t):t}const NP=e=>e instanceof Xn?{...e}:e;function ql(e,t){t=t||{};const r={};function n(u,d,f){return fe.isPlainObject(u)&&fe.isPlainObject(d)?fe.merge.call({caseless:f},u,d):fe.isPlainObject(d)?fe.merge({},d):fe.isArray(d)?d.slice():d}function a(u,d,f){if(fe.isUndefined(d)){if(!fe.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function i(u,d){if(!fe.isUndefined(d))return n(void 0,d)}function s(u,d){if(fe.isUndefined(d)){if(!fe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d)=>a(NP(u),NP(d),!0)};return fe.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||a,p=f(e[d],t[d],d);fe.isUndefined(p)&&f!==o||(r[d]=p)}),r}const g$=e=>{const t=ql({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;t.headers=s=Xn.from(s),t.url=u$(h$(t.baseURL,t.url),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(fe.isFormData(r)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Gn.hasStandardBrowserEnv&&(n&&fe.isFunction(n)&&(n=n(t)),n||n!==!1&&aEe(t.url))){const u=a&&i&&iEe.read(i);u&&s.set(a,u)}return t},lEe=typeof XMLHttpRequest<"u",cEe=lEe&&function(e){return new Promise(function(r,n){const a=g$(e);let i=a.data;const s=Xn.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,p,m,h;function g(){m&&m(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function v(){if(!x)return;const y=Xn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:e,request:x};m$(function(w){r(w),g()},function(w){n(w),g()},E),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new Ye("Request aborted",Ye.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new Ye("Network Error",Ye.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||d$;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new Ye(k,E.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&fe.forEach(s.toJSON(),function(k,E){x.setRequestHeader(E,k)}),fe.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),o&&o!=="json"&&(x.responseType=a.responseType),u&&([p,h]=rx(u,!0),x.addEventListener("progress",p)),c&&x.upload&&([f,m]=rx(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=y=>{x&&(n(!y||y.type?new Td(null,e,x):y),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=tEe(a.url);if(b&&Gn.protocols.indexOf(b)===-1){n(new Ye("Unsupported protocol "+b+":",Ye.ERR_BAD_REQUEST,e));return}x.send(i||null)})},uEe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ye?d:new Td(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>fe.asap(o),c}},dEe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},fEe=async function*(e,t){for await(const r of pEe(e))yield*dEe(r,t)},pEe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},kP=(e,t,r,n)=>{const a=fEe(e,t);let i=0,s,o=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let p=i+=f;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Gv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x$=Gv&&typeof ReadableStream=="function",mEe=Gv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),v$=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hEe=x$&&v$(()=>{let e=!1;const t=new Request(Gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),CP=64*1024,YS=x$&&v$(()=>fe.isReadableStream(new Response("").body)),nx={stream:YS&&(e=>e.body)};Gv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!nx[t]&&(nx[t]=fe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ye(`Response type '${t}' is not supported`,Ye.ERR_NOT_SUPPORT,n)})})})(new Response);const gEe=async e=>{if(e==null)return 0;if(fe.isBlob(e))return e.size;if(fe.isSpecCompliantForm(e))return(await new Request(Gn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e))return e.byteLength;if(fe.isURLSearchParams(e)&&(e=e+""),fe.isString(e))return(await mEe(e)).byteLength},xEe=async(e,t)=>{const r=fe.toFiniteNumber(e.getContentLength());return r??gEe(t)},vEe=Gv&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:p}=g$(e);u=u?(u+"").toLowerCase():"text";let m=uEe([a,i&&i.toAbortSignal()],s),h;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(c&&hEe&&r!=="get"&&r!=="head"&&(x=await xEe(d,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(fe.isFormData(n)&&(S=E.headers.get("content-type"))&&d.setContentType(S),E.body){const[w,j]=EP(x,rx(_P(c)));n=kP(E.body,CP,w,j)}}fe.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;h=new Request(t,{...p,signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let b=await fetch(h);const y=YS&&(u==="stream"||u==="response");if(YS&&(o||y&&g)){const E={};["status","statusText","headers"].forEach(T=>{E[T]=b[T]});const S=fe.toFiniteNumber(b.headers.get("content-length")),[w,j]=o&&EP(S,rx(_P(o),!0))||[];b=new Response(kP(b.body,CP,w,()=>{j&&j(),g&&g()}),E)}u=u||"text";let k=await nx[fe.findKey(nx,u)||"text"](b,e);return!y&&g&&g(),await new Promise((E,S)=>{m$(E,S,{data:k,headers:Xn.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:h})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,h),{cause:v.cause||v}):Ye.from(v,v&&v.code,e,h)}}),JS={http:O2e,xhr:cEe,fetch:vEe};fe.forEach(JS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const TP=e=>`- ${e}`,yEe=e=>fe.isFunction(e)||e===null||e===!1,y$={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let s;if(n=r,!yEe(r)&&(n=JS[(s=String(r)).toLowerCase()],n===void 0))throw new Ye(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(TP).join(`
`):" "+TP(i[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:JS};function Mb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Td(null,e)}function jP(e){return Mb(e),e.headers=Xn.from(e.headers),e.data=Fb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),y$.getAdapter(e.adapter||Um.adapter)(e).then(function(n){return Mb(e),n.data=Fb.call(e,e.transformResponse,n),n.headers=Xn.from(n.headers),n},function(n){return p$(n)||(Mb(e),n&&n.response&&(n.response.data=Fb.call(e,e.transformResponse,n.response),n.response.headers=Xn.from(n.response.headers))),Promise.reject(n)})}const b$="1.7.7",iN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{iN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const AP={};iN.transitional=function(t,r,n){function a(i,s){return"[Axios v"+b$+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(t===!1)throw new Ye(a(s," has been removed"+(r?" in "+r:"")),Ye.ERR_DEPRECATED);return r&&!AP[s]&&(AP[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,o):!0}};function bEe(e,t,r){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new Ye("option "+i+" must be "+c,Ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ye("Unknown option "+i,Ye.ERR_BAD_OPTION)}}const QS={assertOptions:bEe,validators:iN},$s=QS.validators;class Sl{constructor(t){this.defaults=t,this.interceptors={request:new wP,response:new wP}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ql(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&QS.assertOptions(n,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1),a!=null&&(fe.isFunction(a)?r.paramsSerializer={serialize:a}:QS.assertOptions(a,{encode:$s.function,serialize:$s.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&fe.merge(i.common,i[r.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=Xn.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,p;if(!c){const h=[jP.bind(this),void 0];for(h.unshift.apply(h,o),h.push.apply(h,u),p=h.length,d=Promise.resolve(r);f<p;)d=d.then(h[f++],h[f++]);return d}p=o.length;let m=r;for(f=0;f<p;){const h=o[f++],g=o[f++];try{m=h(m)}catch(x){g.call(this,x);break}}try{d=jP.call(this,m)}catch(h){return Promise.reject(h)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ql(this.defaults,t);const r=h$(t.baseURL,t.url);return u$(r,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){Sl.prototype[t]=function(r,n){return this.request(ql(n||{},{method:t,url:r,data:(n||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,o){return this.request(ql(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Sl.prototype[t]=r(),Sl.prototype[t+"Form"]=r(!0)});class sN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,o){n.reason||(n.reason=new Td(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new sN(function(a){t=a}),cancel:t}}}function wEe(e){return function(r){return e.apply(null,r)}}function SEe(e){return fe.isObject(e)&&e.isAxiosError===!0}const ZS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZS).forEach(([e,t])=>{ZS[t]=e});function w$(e){const t=new Sl(e),r=Q8(Sl.prototype.request,t);return fe.extend(r,Sl.prototype,t,{allOwnKeys:!0}),fe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return w$(ql(e,a))},r}const Qe=w$(Um);Qe.Axios=Sl;Qe.CanceledError=Td;Qe.CancelToken=sN;Qe.isCancel=p$;Qe.VERSION=b$;Qe.toFormData=Wv;Qe.AxiosError=Ye;Qe.Cancel=Qe.CanceledError;Qe.all=function(t){return Promise.all(t)};Qe.spread=wEe;Qe.isAxiosError=SEe;Qe.mergeConfig=ql;Qe.AxiosHeaders=Xn;Qe.formToJSON=e=>f$(fe.isHTMLForm(e)?new FormData(e):e);Qe.getAdapter=y$.getAdapter;Qe.HttpStatusCode=ZS;Qe.default=Qe;const Lb={"auth/claims-too-large":"La información adicional del usuario es demasiado grande.","auth/email-already-exists":"El correo electrónico ya está registrado.","auth/id-token-expired":"La sesión ha expirado. Por favor, vuelva a iniciar sesión.","auth/id-token-revoked":"La sesión ha sido revocada.","auth/insufficient-permission":"No tienes permisos para realizar esta acción.","auth/internal-error":"Ocurrió un error interno. Inténtalo de nuevo más tarde.","auth/invalid-argument":"Se proporcionó un argumento inválido.","auth/invalid-claims":"La información adicional del usuario es inválida.","auth/invalid-continue-uri":"La URL de continuación no es válida.","auth/invalid-creation-time":"La hora de creación no es válida.","auth/invalid-credential":"Las credenciales son inválidas.","auth/invalid-disabled-field":"El valor del campo 'deshabilitado' no es válido.","auth/invalid-display-name":"El nombre para mostrar no es válido.","auth/invalid-dynamic-link-domain":"El dominio del enlace dinámico no es válido.","auth/invalid-email":"El correo electrónico no es válido.","auth/invalid-email-verified":"El valor de 'correo electrónico verificado' no es válido.","auth/invalid-hash-algorithm":"El algoritmo de hash no es válido.","auth/invalid-hash-block-size":"El tamaño del bloque de hash no es válido.","auth/invalid-hash-derived-key-length":"La longitud de la clave derivada del hash no es válida.","auth/invalid-hash-key":"La clave de hash no es válida.","auth/invalid-hash-memory-cost":"El costo de memoria del hash no es válido.","auth/invalid-hash-parallelization":"La paralelización del hash no es válida.","auth/invalid-hash-rounds":"El número de rondas del hash no es válido.","auth/invalid-hash-salt-separator":"El separador de sal del hash no es válido.","auth/invalid-id-token":"El token de ID no es válido.","auth/invalid-last-sign-in-time":"La hora del último inicio de sesión no es válida.","auth/invalid-page-token":"El token de página no es válido.","auth/invalid-password":"La contraseña debe tener al menos 6 caracteres.","auth/invalid-password-hash":"El hash de la contraseña no es válido.","auth/invalid-password-salt":"La sal de la contraseña no es válida.","auth/invalid-phone-number":"El número de teléfono no es válido.","auth/invalid-photo-url":"La URL de la foto no es válida.","auth/invalid-provider-data":"Los datos del proveedor no son válidos.","auth/invalid-provider-id":"El ID del proveedor no es válido.","auth/invalid-oauth-responsetype":"El tipo de respuesta OAuth no es válido.","auth/invalid-session-cookie-duration":"La duración de la cookie de sesión no es válida.","auth/invalid-uid":"El UID no es válido.","auth/invalid-user-import":"La importación de usuario no es válida.","auth/maximum-user-count-exceeded":"Se ha excedido el número máximo de usuarios.","auth/missing-android-pkg-name":"Falta el nombre del paquete de Android.","auth/missing-continue-uri":"Falta la URL de continuación.","auth/missing-hash-algorithm":"Falta el algoritmo de hash.","auth/missing-ios-bundle-id":"Falta el ID del paquete de iOS.","auth/missing-uid":"Falta el UID.","auth/missing-oauth-client-secret":"Falta el secreto del cliente OAuth.","auth/operation-not-allowed":"La operación no está permitida.","auth/phone-number-already-exists":"El número de teléfono ya está registrado.","auth/project-not-found":"No se encontró el proyecto.","auth/reserved-claims":"Se están utilizando reclamaciones reservadas.","auth/session-cookie-expired":"La cookie de sesión ha expirado.","auth/session-cookie-revoked":"La cookie de sesión ha sido revocada.","auth/too-many-requests":"Demasiadas solicitudes. Inténtalo de nuevo más tarde.","auth/uid-already-exists":"El UID ya está registrado.","auth/unauthorized-continue-uri":"La URL de continuación no está autorizada.","auth/user-not-found":"El usuario no existe.",default:"Ocurrió un error desconocido. Inténtalo de nuevo más tarde."},EEe=e=>e?Lb[e]||Lb.default:(console.log("no se recibio nada"),Lb.default),Xv=e=>{var t;if(Qe.isAxiosError(e)&&e.response){const r=((t=e.response.data)==null?void 0:t.message)||"Error desconocido desde el servidor";return{success:!1,message:EEe(r)}}else return e instanceof Error?{success:!1,message:e.message}:{success:!1,message:"Error desconocido"}},_o={base:"https://documentaibackend-269526555085.us-central1.run.app",routes:{registerUser:"/api/user/register",deleteUser:"/api/user/delete",generateToken:"/api/auth/token",setAdminRole:"/api/admin/set/admin-role"}},uu={base:"https://sendtwiliomails-269526555085.us-central1.run.app",token:"tokendemailer",routes:{sendEmail:"/send-email/nafin",sendEmailTengo:"/send-email/tengo"}},du={base:"https://documentaiservices-269526555085.us-central1.run.app",token:"codigodeacceso",routes:{analyzeInfo:"/analyze_info",analyzeUrlPdf:"/analyze_url_pdf/"}},Yu={base:"https://bucketdocs-269526555085.us-central1.run.app",token:"tokendebucket",routes:{upload:"/upload/"}},$b={base:"https://pdfformatgenerator-269526555085.us-central1.run.app",token:"tokenpdfgenerator",routes:{generateLink:"/generate-pdf-link"}},IP={base:"https://www.banxico.org.mx",routes:{exchangeRate:"/SieAPIRest/service/v1/series/SF43718/datos/oportuno"}},oN=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Qe.post(`${_o.base}${_o.routes.registerUser}`,e,r);return console.log("Se registró el usuario en Firebase correctamente"),{success:!0,uid:n.data.uid,message:n.data.message}}catch(r){return console.log("Error al registrar el usuario en Firebase",r),Xv(r)}},Kv=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`},data:e},n=await Qe.delete(`${_o.base}${_o.routes.deleteUser}`,r);return console.log("Usuario eliminado correctamente de Firebase"),{success:!0,message:n.data.message}}catch(r){return console.log("Error al eliminar el usuario en Firebase",r),Xv(r)}},_Ee=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Qe.post(`${_o.base}${_o.routes.setAdminRole}`,{email:e},r);return console.log("Rol de administrador asignado correctamente"),{success:!0,message:n.data.message}}catch(r){return console.log("Error al asignar rol de administrador",r),{success:!1,message:Xv(r).message}}},S$=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Qe.post(`${_o.base}${_o.routes.generateToken}`,e,r);return console.log("Se generó el token correctamente "),{success:!0,token:n.data.token}}catch(r){return console.log("Error al generar el token",r),Xv(r)}},Ju=async(e,t,r,n,a,i)=>{try{const s=new FormData;return s.append("to_email",e),s.append("cc_emails",JSON.stringify(t?t.split(",").map(o=>o.trim()):[])),s.append("subject",r),s.append("content",n),await Qe.post(`${uu.base}${uu.routes.sendEmail}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${uu.token}`}}),!0}catch(s){return console.error("Error al enviar el correo:",s),!1}},ax=async(e,t,r,n,a,i)=>{try{const s=new FormData;return s.append("to_email",e),s.append("cc_emails",JSON.stringify(t?t.split(",").map(o=>o.trim()):[])),s.append("subject",r),s.append("content",n),await Qe.post(`${uu.base}${uu.routes.sendEmailTengo}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${uu.token}`}}),!0}catch(s){return console.error("Error al enviar el correo (Tengo):",s),!1}},E$=async(e,t)=>{const r={prompt:e,contexto:t};return(await Qe.post(`${du.base}${du.routes.analyzeInfo}`,r,{headers:{Authorization:`Bearer ${du.token}`,"Content-Type":"application/json"}})).data},_$=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await Bi({productRequestId:e});return!t||!t.requiredDocuments?[]:t.requiredDocuments.filter(n=>n.isUploaded===!0).map(n=>{const a=n.fileName??"",i=a.includes(".")&&a.split(".").pop()||"pdf";return`${n.id}.${i}`})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},kr={base:"https://bucketdocs-269526555085.us-central1.run.app",token:"tokendebucket",routes:{downloadDocumentsZip:"/download/documents/zip",uploadOneDriveAll:"/upload/onedrive/all",extractEntities:"/extract_entities/",questions:"/questions/",extractFinancial:"/extract_financial/",delete:"/delete/",deleteMany:"/deleteMany"}},gi=async(e,t="root/",r,n,a,i)=>{if(!r||!n)return console.error("El ID del archivo y el token son obligatorios."),{success:!1};const s=o=>({pdf:"application/pdf",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",csv:"text/csv"})[o.toLowerCase()]||"application/octet-stream";try{const o=`${r}.${a}`,c=await Qe.get(`${kr.base}/generate-download-url`,{params:{file_name:o,folder:t},headers:{Authorization:`Bearer ${kr.token}`}}),{downloadUrl:u}=c.data,d=s(a);if(e==="view")return{success:!0,data:u,mimeType:d};if(e==="download"){const f=await Qe.get(u,{responseType:"blob"}),p=new Blob([f.data]),m=window.URL.createObjectURL(p),h=document.createElement("a");return h.href=m,h.setAttribute("download",i||o),document.body.appendChild(h),h.click(),document.body.removeChild(h),{success:!0}}return{success:!1}}catch(o){return console.error("Error al manejar la solicitud del archivo:",o),{success:!1}}},NEe=async(e="documentos",t,r)=>{try{const n={folder:e,file_ids:t,file_names:r},a=await Qe.post(`${kr.base}${kr.routes.downloadDocumentsZip}`,n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${kr.token}`},responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i,s.setAttribute("download","documentos.zip"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){console.error("Error al descargar documentos:",n)}},N$=async(e,t="documentos",r)=>{try{return(await Qe.get(`${kr.base}${kr.routes.extractEntities}${e}`,{params:{folder:t,tipo_doc:r},headers:{"Content-Type":"application/json",Authorization:`Bearer ${kr.token}`}})).data}catch(n){return console.error("Error al extraer entidades:",n),null}},k$=async(e,t="documentos",r,n)=>{try{return(await Qe.get(`${kr.base}${kr.routes.questions}${e}`,{params:{folder:t,tipo_doc:r,question:n},headers:{"Content-Type":"application/json",Authorization:`Bearer ${kr.token}`}})).data}catch(a){return console.error("Error al consultar preguntas AI:",a),null}},C$=async(e,t="documentos",r)=>{try{return(await Qe.get(`${kr.base}${kr.routes.extractFinancial}${e}`,{params:{folder:t,tipo_doc:r},headers:{"Content-Type":"application/json",Authorization:`Bearer ${kr.token}`}})).data}catch(n){return console.error("Error al extraer entidades financieras:",n),null}},Yv=async(e,t)=>{const r=new FormData;r.append("file_name",e),r.append("folder",t);try{return(await Qe.delete(`${kr.base}${kr.routes.delete}`,{data:r,headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${kr.token}`}})).status===200}catch(n){return console.error("Error al eliminar documento:",n),!1}},lN=async(e,t)=>{const r={folder:e,file_names:t};try{return(await Qe.delete(`${kr.base}${kr.routes.deleteMany}`,{data:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${kr.token}`}})).status===200}catch(n){return console.error("Error al eliminar documentos:",n),!1}},T$=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await Am({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const o=await VE({userUid:s});if(!o.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await _$(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await lN("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await UE({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(o.count===1){if(!(await $E({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await Kv({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await BE({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}};function kEe(){const{businessProducts:e,setBusinessProducts:t,loading:r}=XE(),{selectClient:n}=It(),a=Qt(),{user:i}=Nt(),[s,o]=_.useState(""),[c,u]=_.useState(1),[d,f]=_.useState(10),[p,m]=_.useState(null),[h,g]=_.useState("asc"),[x,v]=_.useState([null,null]),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState({title:"",message:"",details:void 0}),[j,T]=_.useState("processing"),[C,A]=_.useState(!1),[N,I]=_.useState(null),M=_.useRef(null),F=_.useRef(null);_.useEffect(()=>{const D=H=>{M.current&&!M.current.contains(H.target)&&y(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),_.useEffect(()=>{var D;if(!r){const H=Number(localStorage.getItem("dashboard_product_count_nafin")),L=e.reduce((K,O)=>K+O.products.length,0);H!==L&&((D=F.current)==null||D.updateNow(!0),localStorage.setItem("dashboard_product_count_nafin",String(L)))}},[r,e]);const q=D=>{o(D.target.value)},W=D=>{const H=e.find(K=>K.userEmail===D.userEmail&&K.products.some(O=>O.id===D.id)),L=H==null?void 0:H.products.find(K=>K.id===D.id);H&&L&&(n({id:L.id,company:H.name,iconUrl:"",email:H.userEmail,name:H.userName,mailboxId:L.mailboxId??void 0,chatId:L.chatId??void 0,flowStatus:L.flowStatus??void 0,producName:L.productName??void 0}),a("/admin/nafin/product/onboarding"))},V=()=>{a("/admin/nafin/product/request")},B=D=>{I(D),A(!0)},R=async()=>{if(N&&(i!=null&&i.idToken)){E(!0),T("processing");const D=await T$({adminToken:i.idToken,companyId:N.clientId,productId:N.id,userEmail:N.userEmail,simulation:!1});if(A(!1),D.success){const H=e.map(L=>L.id!==N.clientId?L:{...L,products:L.products.filter(K=>K.id!==N.id)}).filter(L=>L.products.length>0);t(H),I(null),w({title:"Eliminado con éxito",message:""}),T("success")}else I(null),w({title:"Error",message:D.message,details:D.details}),T("error")}},ne=()=>{E(!1)},J=[...e.flatMap(D=>D.products.map(H=>({...H,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminEmail:D.ownerAdminEmail,ownerAdminName:D.ownerAdminName,clientId:D.id}))).filter(D=>{var ie,de,ye;const H=s.toLowerCase(),L=new Date(D.createdAt),[K,O]=x,pe=(!K||L>=new Date(K))&&(!O||L<=new Date(O));return(((ie=D.productName)==null?void 0:ie.toLowerCase().includes(H))||((de=D.clientName)==null?void 0:de.toLowerCase().includes(H))||((ye=D.userEmail)==null?void 0:ye.toLowerCase().includes(H)))&&pe})].sort((D,H)=>{if(!p)return 0;const L=D[p],K=H[p];if(L===K)return 0;if(L==null)return 1;if(K==null)return-1;if(p==="createdAt"){const ie=new Date(L).getTime(),de=new Date(K).getTime();return h==="asc"?ie-de:de-ie}const O=String(L).toLowerCase(),pe=String(K).toLowerCase();return h==="asc"?O.localeCompare(pe):pe.localeCompare(O)}).slice((c-1)*d,c*d),te=D=>{p===D?g(H=>H==="asc"?"desc":"asc"):(m(D),g("asc"))},re=({column:D})=>p!==D?l.jsx(Qr,{className:"text-gray-300",size:16}):h==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Administrador Nafin"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("button",{onClick:V,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),l.jsx("span",{children:"Nuevo cliente"})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:q})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(D=>!D),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&l.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:D=>v([D.target.value,x[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:D=>v([x[0],D.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(re,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(re,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",l.jsx(re,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(re,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(re,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((D,H)=>l.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.productName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.clientName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userEmail}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:new Date(D.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.ownerAdminName??"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(D),children:l.jsx(Mo,{size:16})})})]},H)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:D=>f(Number(D.target.value)),children:[5,10,20].map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(D=>Math.max(D-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(D=>D+1),children:l.jsx(ac,{size:18})})]})]})]}),l.jsx(Y8,{ref:F}),l.jsx(J8,{open:C,onClose:()=>A(!1),onConfirm:R}),k&&l.jsx(Ea,{onClose:ne,status:j,messages:S})]})}function CEe(){const{businessProducts:e,setBusinessProducts:t,loading:r}=XE(),{selectClient:n}=It(),a=Qt(),{user:i}=Nt(),[s,o]=_.useState(""),[c,u]=_.useState(1),[d,f]=_.useState(10),[p,m]=_.useState(null),[h,g]=_.useState("asc"),[x,v]=_.useState([null,null]),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState({title:"",message:"",details:void 0}),[j,T]=_.useState("processing"),[C,A]=_.useState(!1),[N,I]=_.useState(null),M=_.useRef(null),F=_.useRef(null);_.useEffect(()=>{const D=H=>{M.current&&!M.current.contains(H.target)&&y(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),_.useEffect(()=>{var D;if(!r){const H=Number(localStorage.getItem("dashboard_product_count_nafin")),L=e.reduce((K,O)=>K+O.products.length,0);H!==L&&((D=F.current)==null||D.updateNow(!0),localStorage.setItem("dashboard_product_count_nafin",String(L)))}},[r,e]);const q=D=>{o(D.target.value)},W=D=>{const H=e.find(K=>K.userEmail===D.userEmail&&K.products.some(O=>O.id===D.id)),L=H==null?void 0:H.products.find(K=>K.id===D.id);H&&L&&(n({id:L.id,company:H.name,iconUrl:"",email:H.userEmail,name:H.userName,mailboxId:L.mailboxId??void 0,chatId:L.chatId??void 0,flowStatus:L.flowStatus??void 0,producName:L.productName??void 0}),a("/admin/nafin/product/onboarding"))},V=()=>{a("/admin/nafin/product/request")},B=D=>{I(D),A(!0)},R=async()=>{if(N&&(i!=null&&i.idToken)){E(!0),T("processing");const D=await T$({adminToken:i.idToken,companyId:N.clientId,productId:N.id,userEmail:N.userEmail,simulation:!1});if(A(!1),D.success){const H=e.map(L=>L.id!==N.clientId?L:{...L,products:L.products.filter(K=>K.id!==N.id)}).filter(L=>L.products.length>0);t(H),I(null),w({title:"Eliminado con éxito",message:""}),T("success")}else I(null),w({title:"Error",message:D.message,details:D.details}),T("error")}},ne=()=>{E(!1)},J=[...e.flatMap(D=>D.products.map(H=>({...H,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminEmail:D.ownerAdminEmail,ownerAdminName:D.ownerAdminName,clientId:D.id}))).filter(D=>{var ie,de,ye;const H=s.toLowerCase(),L=new Date(D.createdAt),[K,O]=x,pe=(!K||L>=new Date(K))&&(!O||L<=new Date(O));return(((ie=D.productName)==null?void 0:ie.toLowerCase().includes(H))||((de=D.clientName)==null?void 0:de.toLowerCase().includes(H))||((ye=D.userEmail)==null?void 0:ye.toLowerCase().includes(H)))&&pe})].sort((D,H)=>{if(!p)return 0;const L=D[p],K=H[p];if(L===K)return 0;if(L==null)return 1;if(K==null)return-1;if(p==="createdAt"){const ie=new Date(L).getTime(),de=new Date(K).getTime();return h==="asc"?ie-de:de-ie}const O=String(L).toLowerCase(),pe=String(K).toLowerCase();return h==="asc"?O.localeCompare(pe):pe.localeCompare(O)}).slice((c-1)*d,c*d),te=D=>{p===D?g(H=>H==="asc"?"desc":"asc"):(m(D),g("asc"))},re=({column:D})=>p!==D?l.jsx(Qr,{className:"text-gray-300",size:16}):h==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador Nafin"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(Fo,{size:16}),"Documentos"]}),l.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(md,{size:16}),"Equipos"]}),l.jsxs("button",{onClick:V,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),"Nuevo cliente"]})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:q})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(D=>!D),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&l.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:D=>v([D.target.value,x[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:D=>v([x[0],D.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(re,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(re,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",l.jsx(re,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(re,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(re,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((D,H)=>l.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.productName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.clientName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userEmail}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:new Date(D.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.ownerAdminName??"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(D),children:l.jsx(Mo,{size:16})})})]},H)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:D=>f(Number(D.target.value)),children:[5,10,20].map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(D=>Math.max(D-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(D=>D+1),children:l.jsx(ac,{size:18})})]})]})]}),l.jsx(Y8,{ref:F}),l.jsx(J8,{open:C,onClose:()=>A(!1),onConfirm:R}),k&&l.jsx(Ea,{onClose:ne,status:j,messages:S})]})}function TEe(){const{user:e}=Nt(),t=(e==null?void 0:e.isSuperAdmin)||!1,r=(e==null?void 0:e.isMasterAdmin)||!1;return l.jsx(Qn,{children:r?l.jsx(CEe,{}):t?l.jsx(kEe,{}):l.jsx(vJ,{})})}function cN(){const[e,t]=_.useState([]),[r,n]=_.useState(!0),{user:a}=Nt();return _.useEffect(()=>{(async()=>{var s;const i=await JF({adminTeamId:((s=a==null?void 0:a.adminTeam)==null?void 0:s.id)??""});i&&t(i),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}function jEe(){const{businessProducts:e,loading:t}=cN(),{selectClient:r}=It(),n=Qt(),[a,i]=_.useState(""),[s,o]=_.useState(1),[c,u]=_.useState(10),[d,f]=_.useState(null),[p,m]=_.useState("asc"),[h,g]=_.useState([null,null]),[x,v]=_.useState(!1),b=_.useRef(null);_.useEffect(()=>{const N=I=>{b.current&&!b.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const y=N=>{i(N.target.value)},k=N=>{const I=e.find(F=>F.userEmail===N.userEmail&&F.products.some(q=>q.id===N.id)),M=I==null?void 0:I.products.find(F=>F.id===N.id);I&&M&&(r({id:M.id,company:I.name,iconUrl:"",email:I.userEmail,name:I.userName,mailboxId:M.mailboxId??void 0,chatId:M.chatId??void 0,flowStatus:M.flowStatus??void 0,producName:M.productName??void 0}),n("/admin/tengo/product/onboarding"))},E=()=>{n("/admin/tengo/product/request")},T=[...e.flatMap(N=>N.products.map(I=>({...I,clientName:N.name,userName:N.userName,userEmail:N.userEmail,ownerAdminEmail:N.ownerAdminEmail,ownerAdminName:N.ownerAdminName}))).filter(N=>{var V,B,R;const I=a.toLowerCase(),M=new Date(N.createdAt),[F,q]=h,W=(!F||M>=new Date(F))&&(!q||M<=new Date(q));return(((V=N.productName)==null?void 0:V.toLowerCase().includes(I))||((B=N.clientName)==null?void 0:B.toLowerCase().includes(I))||((R=N.userEmail)==null?void 0:R.toLowerCase().includes(I)))&&W})].sort((N,I)=>{if(!d)return 0;const M=N[d],F=I[d];if(M===F)return 0;if(M==null)return 1;if(F==null)return-1;if(d==="createdAt"){const V=new Date(M).getTime(),B=new Date(F).getTime();return p==="asc"?V-B:B-V}const q=String(M).toLowerCase(),W=String(F).toLowerCase();return p==="asc"?q.localeCompare(W):W.localeCompare(q)}).slice((s-1)*c,s*c),C=N=>{d===N?m(I=>I==="asc"?"desc":"asc"):(f(N),m("asc"))},A=({column:N})=>d!==N?l.jsx(Qr,{className:"text-gray-300",size:16}):p==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Tengo!"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),l.jsx("span",{children:"Nuevo cliente"})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a,onChange:y})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>v(N=>!N),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:h[0]&&h[1]?`${h[0]} - ${h[1]}`:"Seleccionar fecha"})]}),x&&l.jsx("div",{ref:b,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[0]||"",onChange:N=>g([N.target.value,h[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[1]||"",onChange:N=>g([h[0],N.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(A,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(A,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",l.jsx(A,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(A,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>C("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(A,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"})]})}),l.jsx("tbody",{children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):T.length>0?T.map((N,I)=>l.jsxs("tr",{onClick:()=>k(N),className:"border-b hover:bg-blue-50 cursor-pointer transition-colors",children:[l.jsx("td",{className:"px-4 py-3",children:N.productName}),l.jsx("td",{className:"px-4 py-3",children:N.clientName}),l.jsx("td",{className:"px-4 py-3",children:N.userName}),l.jsx("td",{className:"px-4 py-3",children:N.userEmail}),l.jsx("td",{className:"px-4 py-3",children:new Date(N.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>k(N),children:N.ownerAdminName??"-"})]},I)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:c,onChange:N=>u(Number(N.target.value)),children:[5,10,20].map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:s===1,onClick:()=>o(N=>Math.max(N-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:s}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>o(N=>N+1),children:l.jsx(ac,{size:18})})]})]})]})]})}function j$({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return _.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),l.jsx("p",{className:"text-gray-600 mt-2",children:a}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}const A$=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await Am({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const o=await VE({userUid:s});if(!o.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await _$(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await lN("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await UE({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(o.count===1){if(!(await $E({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await Kv({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await BE({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}},AEe="1",I$=Uv.map(e=>({...e,isSelectable:e.id===AEe})),PP="#3b82f6",IEe=["Solicitud Producto","Carga Documental","Mesa de Control"],OP="dashboard_stats_cache",P$=_.forwardRef((e,t)=>{var m,h;const{user:r}=Nt(),n=((m=r==null?void 0:r.adminTeam)==null?void 0:m.id)??"",[a,i]=_.useState([]),[s,o]=_.useState([]),[c,u]=_.useState(!1),d=_.useRef({subprocesos:null,productos:null}),f=((h=I$.find(g=>g.id==="1"))==null?void 0:h.products.map(g=>g.name))??[];_.useEffect(()=>{const g=localStorage.getItem(OP);if(g)try{const x=JSON.parse(g);x.subprocesos&&x.productos&&(d.current=x,i(x.subprocesos),o(x.productos))}catch{console.warn("⚠️ Error al leer cache local")}},[]);const p=async(g=!1)=>{if(!n)return;const{subprocesos:x,productos:v}=d.current;if(!g&&x&&v){i(x),o(v);return}u(!0);const b=IEe.map(async(w,j)=>{const T=await iM(n,j+1);return{name:w,value:T}}),y=f.map(async w=>{const j=await sM(n,w);return{name:w,value:j}}),[k,E]=await Promise.all([Promise.all(b),Promise.all(y)]),S={subprocesos:k,productos:E};d.current=S,localStorage.setItem(OP,JSON.stringify(S)),i(k),o(E),u(!1)};return _.useImperativeHandle(t,()=>({updateNow:p})),c?l.jsx("div",{className:"flex items-center justify-center h-[500px]",children:l.jsx("p",{className:"text-gray-500 text-lg",children:"Cargando estadísticas..."})}):l.jsx("div",{className:"pt-8 bg-gray-100",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Etapa de Proceso"}),l.jsx(xg,{width:"100%",height:400,children:l.jsxs(tx,{layout:"vertical",data:a,margin:{top:10,right:20,left:40,bottom:10},children:[l.jsx(Qp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(zl,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(Ul,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(sa,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),l.jsx(Li,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:a.map((g,x)=>l.jsx(Ou,{fill:PP},`sub-cell-${x}`))})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Producto"}),l.jsx(xg,{width:"100%",height:400,children:l.jsxs(tx,{layout:"vertical",data:s,margin:{top:10,right:20,left:40,bottom:10},children:[l.jsx(Qp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(zl,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(Ul,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(sa,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),l.jsx(Li,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:s.map((g,x)=>l.jsx(Ou,{fill:PP},`prod-cell-${x}`))})]})})]})]})})});function PEe(){const{businessProducts:e,loading:t,setBusinessProducts:r}=cN(),{selectClient:n}=It(),a=Qt(),{user:i}=Nt(),[s,o]=_.useState(""),[c,u]=_.useState(1),[d,f]=_.useState(10),[p,m]=_.useState(null),[h,g]=_.useState("asc"),[x,v]=_.useState([null,null]),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState({title:"",message:"",details:void 0}),[j,T]=_.useState("processing"),[C,A]=_.useState(!1),[N,I]=_.useState(null),M=_.useRef(null),F=_.useRef(null);_.useEffect(()=>{const D=H=>{M.current&&!M.current.contains(H.target)&&y(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const q=D=>{o(D.target.value)},W=D=>{const H=e.find(K=>K.userEmail===D.userEmail&&K.products.some(O=>O.id===D.id)),L=H==null?void 0:H.products.find(K=>K.id===D.id);H&&L&&(n({id:L.id,company:H.name,iconUrl:"",email:H.userEmail,name:H.userName,mailboxId:L.mailboxId??void 0,chatId:L.chatId??void 0,flowStatus:L.flowStatus??void 0,producName:L.productName??void 0}),a("/admin/tengo/product/onboarding"))};_.useEffect(()=>{var D;if(!t){const H=Number(localStorage.getItem("dashboard_product_count")),L=e.reduce((K,O)=>K+O.products.length,0);H!==L&&((D=F.current)==null||D.updateNow(!0),localStorage.setItem("dashboard_product_count",String(L)))}},[t,e]);const V=()=>{a("/admin/tengo/product/request")},B=D=>{I(D),A(!0)},R=async()=>{if(N&&(i!=null&&i.idToken)){E(!0),T("processing");const D=await A$({adminToken:i==null?void 0:i.idToken,companyId:N.clientId,productId:N.id,userEmail:N.userEmail,simulation:!1});if(A(!1),D.success){const H=e.map(L=>L.id!==N.clientId?L:{...L,products:L.products.filter(K=>K.id!==N.id)}).filter(L=>L.products.length>0);r(H),I(null),w({title:"Eliminado con éxito",message:""}),T("success")}else I(null),w({title:"Error",message:D.message,details:D.details}),T("error")}},ne=()=>{E(!1)},J=[...e.flatMap(D=>D.products.map(H=>({...H,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminEmail:D.ownerAdminEmail,ownerAdminName:D.ownerAdminName,clientId:D.id}))).filter(D=>{var ie,de,ye;const H=s.toLowerCase(),L=new Date(D.createdAt),[K,O]=x,pe=(!K||L>=new Date(K))&&(!O||L<=new Date(O));return(((ie=D.productName)==null?void 0:ie.toLowerCase().includes(H))||((de=D.clientName)==null?void 0:de.toLowerCase().includes(H))||((ye=D.userEmail)==null?void 0:ye.toLowerCase().includes(H)))&&pe})].sort((D,H)=>{if(!p)return 0;const L=D[p],K=H[p];if(L===K)return 0;if(L==null)return 1;if(K==null)return-1;if(p==="createdAt"){const ie=new Date(L).getTime(),de=new Date(K).getTime();return h==="asc"?ie-de:de-ie}const O=String(L).toLowerCase(),pe=String(K).toLowerCase();return h==="asc"?O.localeCompare(pe):pe.localeCompare(O)}).slice((c-1)*d,c*d),te=D=>{p===D?g(H=>H==="asc"?"desc":"asc"):(m(D),g("asc"))},re=({column:D})=>p!==D?l.jsx(Qr,{className:"text-gray-300",size:16}):h==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador Tengo!"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(Fo,{size:16}),"Documentos"]}),l.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(md,{size:16}),"Equipos"]}),l.jsxs("button",{onClick:V,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),"Nuevo cliente"]})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:q})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(D=>!D),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&l.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:D=>v([D.target.value,x[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:D=>v([x[0],D.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(re,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(re,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",l.jsx(re,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(re,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(re,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),l.jsx("tbody",{children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((D,H)=>l.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.productName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.clientName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userEmail}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:new Date(D.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.ownerAdminName??"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(D),children:l.jsx(Mo,{size:16})})})]},H)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:D=>f(Number(D.target.value)),children:[5,10,20].map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(D=>Math.max(D-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(D=>D+1),children:l.jsx(ac,{size:18})})]})]})]}),l.jsx(j$,{open:C,onClose:()=>A(!1),onConfirm:R}),k&&l.jsx(Ea,{onClose:ne,status:j,messages:S}),l.jsx(P$,{ref:F})]})}function OEe(){const{businessProducts:e,loading:t,setBusinessProducts:r}=cN(),{selectClient:n}=It(),a=Qt(),{user:i}=Nt(),[s,o]=_.useState(""),[c,u]=_.useState(1),[d,f]=_.useState(10),[p,m]=_.useState(null),[h,g]=_.useState("asc"),[x,v]=_.useState([null,null]),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState({title:"",message:"",details:void 0}),[j,T]=_.useState("processing"),[C,A]=_.useState(!1),[N,I]=_.useState(null),M=_.useRef(null),F=_.useRef(null);_.useEffect(()=>{const D=H=>{M.current&&!M.current.contains(H.target)&&y(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const q=D=>{o(D.target.value)},W=D=>{const H=e.find(K=>K.userEmail===D.userEmail&&K.products.some(O=>O.id===D.id)),L=H==null?void 0:H.products.find(K=>K.id===D.id);H&&L&&(n({id:L.id,company:H.name,iconUrl:"",email:H.userEmail,name:H.userName,mailboxId:L.mailboxId??void 0,chatId:L.chatId??void 0,flowStatus:L.flowStatus??void 0,producName:L.productName??void 0}),a("/admin/tengo/product/onboarding"))};_.useEffect(()=>{var D;if(!t){const H=Number(localStorage.getItem("dashboard_product_count")),L=e.reduce((K,O)=>K+O.products.length,0);H!==L&&((D=F.current)==null||D.updateNow(!0),localStorage.setItem("dashboard_product_count",String(L)))}},[t,e]);const V=()=>{a("/admin/tengo/product/request")},B=D=>{I(D),A(!0)},R=async()=>{if(N&&(i!=null&&i.idToken)){E(!0),T("processing");const D=await A$({adminToken:i==null?void 0:i.idToken,companyId:N.clientId,productId:N.id,userEmail:N.userEmail,simulation:!1});if(A(!1),D.success){const H=e.map(L=>L.id!==N.clientId?L:{...L,products:L.products.filter(K=>K.id!==N.id)}).filter(L=>L.products.length>0);r(H),I(null),w({title:"Eliminado con éxito",message:""}),T("success")}else I(null),w({title:"Error",message:D.message,details:D.details}),T("error")}},ne=()=>{E(!1)},J=[...e.flatMap(D=>D.products.map(H=>({...H,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminEmail:D.ownerAdminEmail,ownerAdminName:D.ownerAdminName,clientId:D.id}))).filter(D=>{var ie,de,ye;const H=s.toLowerCase(),L=new Date(D.createdAt),[K,O]=x,pe=(!K||L>=new Date(K))&&(!O||L<=new Date(O));return(((ie=D.productName)==null?void 0:ie.toLowerCase().includes(H))||((de=D.clientName)==null?void 0:de.toLowerCase().includes(H))||((ye=D.userEmail)==null?void 0:ye.toLowerCase().includes(H)))&&pe})].sort((D,H)=>{if(!p)return 0;const L=D[p],K=H[p];if(L===K)return 0;if(L==null)return 1;if(K==null)return-1;if(p==="createdAt"){const ie=new Date(L).getTime(),de=new Date(K).getTime();return h==="asc"?ie-de:de-ie}const O=String(L).toLowerCase(),pe=String(K).toLowerCase();return h==="asc"?O.localeCompare(pe):pe.localeCompare(O)}).slice((c-1)*d,c*d),te=D=>{p===D?g(H=>H==="asc"?"desc":"asc"):(m(D),g("asc"))},re=({column:D})=>p!==D?l.jsx(Qr,{className:"text-gray-300",size:16}):h==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Administrador Tengo!"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("button",{onClick:V,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[l.jsx(Jn,{size:16}),l.jsx("span",{children:"Nuevo cliente"})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:q})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(D=>!D),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&l.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:D=>v([D.target.value,x[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:D=>v([x[0],D.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(re,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(re,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",l.jsx(re,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(re,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(re,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),l.jsx("tbody",{children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((D,H)=>l.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.productName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.clientName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.userEmail}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:new Date(D.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>W(D),children:D.ownerAdminName??"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(D),children:l.jsx(Mo,{size:16})})})]},H)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:D=>f(Number(D.target.value)),children:[5,10,20].map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(D=>Math.max(D-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(D=>D+1),children:l.jsx(ac,{size:18})})]})]})]}),l.jsx(j$,{open:C,onClose:()=>A(!1),onConfirm:R}),k&&l.jsx(Ea,{onClose:ne,status:j,messages:S}),l.jsx(P$,{ref:F})]})}function REe(){const{user:e}=Nt(),t=(e==null?void 0:e.isSuperAdmin)||!1,r=(e==null?void 0:e.isMasterAdmin)||!1;return l.jsx(Qn,{children:r?l.jsx(PEe,{}):t?l.jsx(OEe,{}):l.jsx(jEe,{})})}function DEe(){const e=Qt();return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Soporte"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-100",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Administración"}),l.jsxs("div",{className:"flex justify-around flex-wrap gap-x-6 gap-y-4",children:[l.jsxs("button",{onClick:()=>e("/admin/management"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[l.jsx(aJ,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:"Administradores"})]}),l.jsxs("button",{onClick:()=>e("/admin/templates/management"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[l.jsx(Fo,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:"Documentos"})]}),l.jsxs("button",{onClick:()=>e("/admin/teams/overview"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[l.jsx(md,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:"Equipos"})]})]})]})]})}function FEe(){return l.jsx(Qn,{children:l.jsx(DEe,{})})}function MEe(){const[e,t]=_.useState([]),[r,n]=_.useState(!0);return _.useEffect(()=>{(async()=>{const a=await jY();a&&t(a),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}const LEe=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await Bi({productRequestId:e});return!t||!t.requiredDocuments?[]:t.requiredDocuments.filter(n=>n.isUploaded===!0).map(n=>{const a=n.fileName??"",i=a.includes(".")&&a.split(".").pop()||"pdf";return`${n.id}.${i}`})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},$Ee=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await Am({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const o=await VE({userUid:s});if(!o.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await LEe(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await lN("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await UE({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(o.count===1){if(!(await $E({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await Kv({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await BE({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}};function BEe({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return _.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),l.jsx("p",{className:"text-gray-600 mt-2",children:a}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}function zEe(){const{businessProducts:e,loading:t,setBusinessProducts:r}=MEe(),{selectClient:n}=It(),a=Qt(),{user:i}=Nt(),[s,o]=_.useState(""),[c,u]=_.useState(1),[d,f]=_.useState(10),[p,m]=_.useState(null),[h,g]=_.useState("asc"),[x,v]=_.useState([null,null]),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState({title:"",message:"",details:void 0}),[j,T]=_.useState("processing"),[C,A]=_.useState(!1),[N,I]=_.useState(null),M=_.useRef(null),[F,q]=_.useState(!1);_.useEffect(()=>{const L=K=>{M.current&&!M.current.contains(K.target)&&y(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]);const W=L=>{o(L.target.value)},V=L=>{var pe;const K=e.find(ie=>ie.userEmail===L.userEmail&&ie.products.some(de=>de.id===L.id)),O=K==null?void 0:K.products.find(ie=>ie.id===L.id);K&&O&&(n({id:O.id,company:K.name,iconUrl:"",email:K.userEmail,name:K.userName,mailboxId:O.mailboxId??void 0,chatId:O.chatId??void 0,flowStatus:O.flowStatus??void 0,producName:O.productName??void 0}),(pe=O.productName)!=null&&pe.toLowerCase().includes("nafin")?a("/admin/nafin/product/onboarding"):a("/admin/tengo/product/onboarding"))};_.useEffect(()=>{if(!t){const L=Number(localStorage.getItem("dashboard_product_count")),K=e.reduce((O,pe)=>O+pe.products.length,0);L!==K&&localStorage.setItem("dashboard_product_count",String(K))}},[t,e]);const B=()=>{a("/admin/tengo/product/request")},R=()=>{a("/admin/nafin/product/request")},ne=L=>{I(L),A(!0)},z=async()=>{if(N&&(i!=null&&i.idToken)){E(!0),T("processing");const L=await $Ee({adminToken:i==null?void 0:i.idToken,companyId:N.clientId,productId:N.id,userEmail:N.userEmail,simulation:!1});if(A(!1),L.success){const K=e.map(O=>O.id!==N.clientId?O:{...O,products:O.products.filter(pe=>pe.id!==N.id)}).filter(O=>O.products.length>0);r(K),I(null),w({title:"Eliminado con éxito",message:""}),T("success")}else I(null),w({title:"Error",message:L.message,details:L.details}),T("error")}},P=()=>{E(!1)},re=[...e.flatMap(L=>L.products.map(K=>({...K,clientName:L.name,userName:L.userName,userEmail:L.userEmail,ownerAdminEmail:L.ownerAdminEmail,ownerAdminName:L.ownerAdminName,clientId:L.id}))).filter(L=>{var ye,me,Le;const K=s.toLowerCase(),O=new Date(L.createdAt),[pe,ie]=x,de=(!pe||O>=new Date(pe))&&(!ie||O<=new Date(ie));return(((ye=L.productName)==null?void 0:ye.toLowerCase().includes(K))||((me=L.clientName)==null?void 0:me.toLowerCase().includes(K))||((Le=L.userEmail)==null?void 0:Le.toLowerCase().includes(K)))&&de})].sort((L,K)=>{if(!p)return 0;const O=L[p],pe=K[p];if(O===pe)return 0;if(O==null)return 1;if(pe==null)return-1;if(p==="createdAt"){const ye=new Date(O).getTime(),me=new Date(pe).getTime();return h==="asc"?ye-me:me-ye}const ie=String(O).toLowerCase(),de=String(pe).toLowerCase();return h==="asc"?ie.localeCompare(de):de.localeCompare(ie)}).slice((c-1)*d,c*d),D=L=>{p===L?g(K=>K==="asc"?"desc":"asc"):(m(L),g("asc"))},H=({column:L})=>p!==L?l.jsx(Qr,{className:"text-gray-300",size:16}):h==="asc"?l.jsx(Oi,{size:16,className:"text-blue-500"}):l.jsx(Qr,{size:16,className:"text-blue-500"});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(Fo,{size:16}),"Documentos"]}),l.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[l.jsx(md,{size:16}),"Equipos"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",onClick:()=>q(!F),children:[l.jsx(Jn,{size:16}),"Nuevo cliente"]}),F&&l.jsxs("div",{className:"absolute left-0 mt-2 bg-white border rounded-md shadow-lg w-48 z-10",children:[l.jsx("button",{onClick:B,className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-100",children:"Nuevo cliente - Tengo"}),l.jsx("button",{onClick:R,className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-100",children:"Nuevo cliente - Nafin"})]})]})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:l.jsx(sc,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(L=>!L),children:[l.jsx(rc,{size:16,className:"text-blue-500"}),l.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&l.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),l.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:L=>v([L.target.value,x[1]])})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),l.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:L=>v([x[0],L.target.value])})]})]})}),l.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:l.jsx(ic,{size:16,className:"text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-md",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>D("productName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",l.jsx(H,{column:"productName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>D("clientName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",l.jsx(H,{column:"clientName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>D("userName"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",l.jsx(H,{column:"userName"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>D("userEmail"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Email ",l.jsx(H,{column:"userEmail"})]})}),l.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>D("createdAt"),children:l.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",l.jsx(H,{column:"createdAt"})]})}),l.jsx("th",{className:"px-4 py-3",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),l.jsx("tbody",{children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):re.length>0?re.map((L,K)=>l.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:L.productName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:L.clientName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:L.userName}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:L.userEmail}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:new Date(L.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>V(L),children:L.ownerAdminName??"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>ne(L),children:l.jsx(Mo,{size:16})})})]},K)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),l.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:L=>f(Number(L.target.value)),children:[5,10,20].map(L=>l.jsx("option",{value:L,children:L},L))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(L=>Math.max(L-1,1)),children:l.jsx(nc,{size:18})}),l.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),l.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(L=>L+1),children:l.jsx(ac,{size:18})})]})]})]}),l.jsx(BEe,{open:C,onClose:()=>A(!1),onConfirm:z}),k&&l.jsx(Ea,{onClose:P,status:j,messages:S})]})}function UEe(){return l.jsx(Qn,{children:l.jsx(zEe,{})})}function qEe(){var s,o,c,u;const{user:e}=Nt(),t=((o=(s=e==null?void 0:e.adminRoleDetails)==null?void 0:s.verticalName)==null?void 0:o.toLowerCase())||"",r=((u=(c=e==null?void 0:e.adminRoleDetails)==null?void 0:c.productName)==null?void 0:u.toLowerCase())||"",n=(e==null?void 0:e.isSupportAdmin)||!1,a=(e==null?void 0:e.isMasterAdmin)||!1,i=()=>n?l.jsx(FEe,{}):a?l.jsx(UEe,{}):t.includes("nafin")||r.includes("nafin")?l.jsx(TEe,{}):t.includes("tengo")||r.includes("tengo")?l.jsx(REe,{}):l.jsxs("p",{className:"text-red-500",children:["No se encontró un flujo para el producto: ",r," / vertical: ",t]});return l.jsx(l.Fragment,{children:i()})}const VEe=()=>{const e=Qt(),t=()=>{e("/")};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 text-center",children:[l.jsx("h1",{className:"text-6xl font-bold text-red-500",children:"403"}),l.jsx("h2",{className:"mt-4 text-2xl font-semibold",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"You do not have permission to view this page."}),l.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Go to Home"})]})})},O$=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=_.useState(!0),[i,s]=_.useState(""),o=f=>{t(p=>p.some(h=>h.id===f)?p.filter(h=>h.id!==f):[...p,{id:f,isRequired:!1}])},c=f=>{t(p=>p.map(m=>m.id===f?{...m,isRequired:!m.isRequired}:m))},u=()=>{a(f=>!f)};_.useEffect(()=>{t(f=>{const p=r.filter(m=>m.isRequired===!0).filter(m=>!f.some(h=>h.id===m.id)).map(m=>({id:m.id,isRequired:!0}));return p.length===0?f:[...f,...p]})},[r,t]);const d=[...r].sort((f,p)=>{const m=f.position??Number.MAX_SAFE_INTEGER,h=p.position??Number.MAX_SAFE_INTEGER;return m-h});return l.jsxs("div",{className:"mb-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),l.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:l.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(p=>p.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const p=e.find(h=>h.id===f.id),m=(p==null?void 0:p.isRequired)??!1;return l.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${m?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",checked:!!p,onChange:()=>o(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("div",{children:l.jsx("span",{className:`font-medium ${m?"text-green-800":"text-gray-800"}`,children:f.name})})]}),p&&l.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${m?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:m?"Hacer opcional":"Hacer obligatorio",children:m?"Obligatorio":"Opcional"})]},f.id)})})}),l.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})},HEe=({handleSubmit:e})=>l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-bold text-white bg-blue-500 rounded",onClick:e,children:"Registrar cliente y documentos"})}),_x=class _x{static getText(t){return _x.mappings[t]||"Texto no asignado"}};nh(_x,"mappings",{1:"Registro Prospecto",2:"Generación credenciales",3:"Recepción documental",4:"Filtro M.C.",5:"Validación Tesorería",6:"Validación M.C.",7:"Firma Documentos"});let e2=_x;const Nx=class Nx{static getText(t){return Nx.mappings[t]||"Texto no asignado"}};nh(Nx,"mappings",{1:"Registro de producto",2:"Envio de credenciales",3:"Recepción documental",4:"Filtro revisión humana",5:"Generación Cédula de eligibilidad",6:"Resolución de solicitud",7:"Términos y condiciones"});let t2=Nx;function WEe({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return l.jsxs("div",{className:"w-full mx-auto p-4",children:[l.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>l.jsxs("div",{className:"flex items-center w-full",children:[l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),l.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):l.jsx("span",{className:"font-bold",children:n})}),a<t&&l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),l.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>l.jsx("div",{className:"flex flex-col text-center w-full",children:e2.getText(n).split(" ").map((a,i)=>l.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:a},i))},n))})]})}const GEe=({companyName:e,setCompanyName:t,rfc:r,setRfc:n,razonSocial:a,setRazonSocial:i,telefono:s,setTelefono:o,userName:c,setUserName:u,userEmail:d,setUserEmail:f,setFilledStatus:p})=>{const[m,h]=_.useState({}),[g,x]=_.useState({}),v=w=>/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(w.trim()),b=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),y=w=>/^\d{10}$/.test(w),k=()=>{const w={};e.trim()||(w.companyName="El nombre de la empresa es obligatorio."),r.trim()?v(r)||(w.rfc="El RFC no es válido."):w.rfc="El RFC es obligatorio.",s.trim()?y(s)||(w.telefono="El teléfono debe tener 10 dígitos."):w.telefono="El teléfono es obligatorio.",c.trim()||(w.userName="El nombre del usuario es obligatorio."),d.trim()?b(d)||(w.userEmail="El correo electrónico no es válido."):w.userEmail="El correo electrónico es obligatorio.",h(w),p(Object.keys(w).length===0)};_.useEffect(()=>{k()},[e,r,s,c,d]);const E=w=>{x(j=>({...j,[w]:!0}))},S="w-full p-2 text-sm bg-gray-100 rounded border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400";return l.jsxs("div",{children:[l.jsxs("div",{className:"relative group mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información General"}),l.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Ingresa los datos básicos de tu empresa como el nombre y el logo (opcional)."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Nombre de la Empresa ",l.jsx("span",{className:"text-red-500",children:"*"}),g.companyName&&m.companyName&&l.jsx("span",{className:"text-red-500 text-xs",children:m.companyName})]}),l.jsx("input",{type:"text",value:e,onChange:w=>t(w.target.value),onBlur:()=>E("companyName"),className:S})]}),l.jsxs("div",{className:"relative group mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información Legal de la empresa"}),l.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Proporciona los datos legales como la fecha de constitución, RFC y el teléfono."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["RFC ",l.jsx("span",{className:"text-red-500",children:"*"}),g.rfc&&m.rfc&&l.jsx("span",{className:"text-red-500 text-xs",children:m.rfc})]}),l.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),onBlur:()=>E("rfc"),className:S})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm mb-1",children:"Razón Social"}),l.jsx("input",{type:"text",placeholder:"Opcional",value:a,onChange:w=>i(w.target.value),className:S})]}),l.jsxs("div",{className:"relative group mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-2",children:"Datos de contacto"}),l.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Detalla el contacto principal que accederá a la plataforma."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Nombre ",l.jsx("span",{className:"text-red-500",children:"*"}),g.userName&&m.userName&&l.jsx("span",{className:"text-red-500 text-xs",children:m.userName})]}),l.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),onBlur:()=>E("userName"),className:S})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Correo Electrónico ",l.jsx("span",{className:"text-red-500",children:"*"}),g.userEmail&&m.userEmail&&l.jsx("span",{className:"text-red-500 text-xs",children:m.userEmail})]}),l.jsx("input",{type:"email",value:d,onChange:w=>f(w.target.value),onBlur:()=>E("userEmail"),className:S})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Teléfono ",l.jsx("span",{className:"text-red-500",children:"*"}),g.telefono&&m.telefono&&l.jsx("span",{className:"text-red-500 text-xs",children:m.telefono})]}),l.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),onBlur:()=>E("telefono"),className:S})]})]})},Yr=async e=>{var t,r;try{const n=await AK(e);return console.log("Se actualizó el status del documento de manera exitosa"),(r=(t=n==null?void 0:n.data)==null?void 0:t.requiredDocument_update)!=null&&r.id?{success:!0}:{success:!1}}catch(n){return console.error("Ocurrió un error al actualizar el status del required document",n),{success:!1}}},R$=async e=>{try{const t=await UK(Bt,e);console.log("Chat creado exitosamente");const r=t.data.chat_insert.id;return r?{success:!0,chatId:r}:{success:!1}}catch(t){return console.error("Ocurrió un error al crear el chat",t),{success:!1}}},dc=async e=>{try{const t=await BK(Bt,e);return console.log("Mensaje guardado exitosamente"),t.data.message_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al guardar el mensaje",t),{success:!1}}},Jv=async e=>{try{const t=await yY(Bt,e);console.log("Mensaje recuperado exitosamente");const r=t.data.messages;return r.length>0?{messages:r}:{messages:[]}}catch(t){return console.error("Ocurrió un error al recuperar el mensaje",t),{messages:[]}}},Qv=async e=>{try{const t=await zK(Bt,e);return console.log("Mensaje actualizado exitosamente"),t.data.message_update?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar el mensaje",t),{success:!1}}};async function D$(e,t,r=12){const a=`${e.split("@")[0]}:${t}`,s=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(o));return btoa(String.fromCharCode(...c)).replace(/[^a-zA-Z0-9]/g,"").slice(0,r)}const XEe=async(e,t,r,n,a,i,s=!1)=>{if(s)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const o=await aM(r.email);let c,u=!1;if(o.exist&&o.uid)console.log("Usuario ya existe, no se registra en Firebase."),c=o.uid;else{console.log("Usuario no existe, se procede a registrarlo."),r.password=await D$(r.email,n.adminTeamId,12);const g=await oN(r,n.id);if(!g.success)return{success:!1,message:"Falló el registro del usuario",details:g.message};if(c=g.uid||"",!(await QF({name:r.displayName,email:r.email,userAuthId:c})).success)return{success:!1,message:"Falló el registro de credenciales del usuario"};u=!0}const d=await YF(e);if(!d.success)return{success:!1,message:"Falló el registro del representante legal"};t.representativeId=d.representativeId,t.userUid=c;const f=await HF(t);if(!f.success)return{success:!1,message:"Falló el registro de la empresa"};a.businessEntityId=f.id,a.userAuthId=c;const p=await eM(a);if(!p.success)return{success:!1,message:"Falló el registro de la solicitud de crédito"};const m=i.map(g=>({productRequestId:p.Id,documentTemplateId:g.id,isRequired:g.isRequired}));return await Promise.all(m.map(g=>Yx(g)))?(await tM({productRequestId:p.Id}),await R$({productRequestId:p.Id}),{success:!0,message:"El registro se realizó correctamente",details:u?"Usuario creado nuevo":"Usuario ya existente"}):{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(o){return console.error("Error en submitClientAndDocuments:",o),{success:!1,message:"Ha ocurrido un error inesperado"}}},KEe=()=>{const{user:e}=Nt(),t=Qt(),r=(e==null?void 0:e.adminRole)||"",[n,a]=_.useState(""),[i,s]=_.useState(""),[o,c]=_.useState(""),[u,d]=_.useState(""),[f,p]=_.useState(""),[m,h]=_.useState(""),[g,x]=_.useState(!1),[v,b]=_.useState([]),[y,k]=_.useState([]),[E,S]=_.useState("processing"),[w,j]=_.useState({title:"",message:"",details:void 0}),[T,C]=_.useState(!1),A=async()=>{const F=await ZF({CategoryId:r});k(F)};_.useEffect(()=>{A()},[]);const N=async F=>{var G,J;if(F.preventDefault(),C(!0),S("processing"),!g){j({title:"Datos incompletos",message:"Rellena todos los datos solicitados."}),S("error");return}const q=Uv.find(te=>te.id==="6"),W=q==null?void 0:q.products.find(te=>te.id==="p1"),V={flowStatus:2,productName:(W==null?void 0:W.name)??"",verticalName:(q==null?void 0:q.name)??"",businessEntityId:"",userAuthId:""},B={name:f,email:m},R={address:void 0,businessName:o,economicSector:void 0,employeeCount:void 0,incorporationDate:void 0,name:n,phone:void 0,rfc:i,yearsActive:void 0,representativeId:"",userUid:"",iconUrl:void 0,adminTeamId:((G=e==null?void 0:e.adminTeam)==null?void 0:G.id)??"",ownerAdminUid:(e==null?void 0:e.uid)??""},ne={displayName:f,email:m,password:""},z={id:(e==null?void 0:e.idToken)||"",adminTeamId:((J=e==null?void 0:e.adminTeam)==null?void 0:J.id)||"",userAdminId:(e==null?void 0:e.uid)||""},P=await XEe(B,R,ne,z,V,v,!1);P.success?(j({title:"Solicitud completada",message:"Has registrado correctamente un producto. Para continuar, regresa a la pantalla principal y selecciona 'Revisar producto'."}),S("success")):(j({title:"Error",message:P.message,details:P.details}),S("error"))},I=()=>{t(-1)},M=()=>{C(!1),E!=="error"&&t(-1)};return l.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center ",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 w-[950px]",children:l.jsx(WEe,{})}),l.jsx("div",{className:"w-[950px] bg-white rounded-lg shadow-md p-6 font-sans",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-medium mb-4",children:"Solicitud de producto Nafin"}),l.jsx("div",{className:"flex space-x-4",children:l.jsx("button",{type:"button",className:"border border-red-500 text-red-500 bg-transparent px-4 py-2 rounded shadow hover:bg-red-500 hover:text-white transition-colors duration-300",onClick:I,children:"Cancelar registro"})})]}),l.jsxs("form",{onSubmit:N,children:[l.jsx(GEe,{companyName:n,setCompanyName:a,rfc:i,setRfc:s,razonSocial:o,setRazonSocial:c,telefono:u,setTelefono:d,userName:f,setUserName:p,userEmail:m,setUserEmail:h,filledStatus:g,setFilledStatus:x}),l.jsx("h2",{className:"text-lg font-bold mb-2 mt-4",children:"Selección de documentos"}),l.jsx(O$,{documents:v,setDocuments:b,docTemplates:y}),l.jsx(HEe,{handleSubmit:N})]})]})}),T&&l.jsx(Ea,{onClose:M,status:E,messages:w})]})};function YEe(){return l.jsx(Qn,{children:l.jsx(KEe,{})})}function JEe({currentStep:e=1,totalSteps:t=7,onStepChange:r}){const n=Array.from({length:t},(a,i)=>i+1);return l.jsxs("div",{className:"w-full mx-auto p-4",children:[l.jsx("div",{className:"relative flex items-center w-full",children:n.map((a,i)=>l.jsxs("div",{className:"flex items-center w-full",children:[l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=a?"bg-blue-500":"bg-gray-300"}
                                `}),l.jsx("div",{onClick:()=>r==null?void 0:r(a),className:`w-10 h-10 rounded-full border-2 flex items-center justify-center cursor-pointer transition-colors
                                ${e>=a?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>a?l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):l.jsx("span",{className:"font-bold",children:a})}),i<t&&l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=a?"bg-blue-500":"bg-gray-300"}
                                `})]},a))}),l.jsx("div",{className:"flex justify-between mt-4",children:n.map(a=>l.jsx("div",{className:"flex flex-col text-center w-full",children:t2.getText(a).split(" ").map((i,s)=>l.jsx("span",{className:e===a?"text-blue-500 font-bold":"",children:i},s))},a))})]})}function QEe({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=_.useState(""),{selectedClient:s}=It(),o=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!0,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await dc({chatId:s.chatId,content:a,isAdmin:!0});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return l.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Usuario"}),l.jsx("button",{onClick:e,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>l.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[l.jsx("div",{children:u.content}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!0&&l.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),l.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[l.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),l.jsx("button",{onClick:o,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:l.jsx(pd,{size:20})})]})]})}function ZEe({notifications:e,onClose:t}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),l.jsx("button",{onClick:t,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>l.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:l.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?l.jsx(zi,{size:20,className:"text-blue-500"}):l.jsx(mr,{size:20,className:"text-green-500"}),l.jsx("span",{children:r.content})]})},r.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const e_e=({content:e,type:t="info",duration:r,onClose:n})=>{const[a,i]=_.useState(!0);return _.useEffect(()=>{const s=setTimeout(()=>{i(!1),n()},r);return()=>clearTimeout(s)},[r,n]),a?l.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg flex items-center gap-4 border-l-4 border-blue-500 max-w-lg w-full",children:[t==="info"?l.jsx(zi,{size:24,className:"text-blue-500"}):l.jsx(mr,{size:24,className:"text-green-500"}),l.jsx("span",{className:"text-lg",children:e}),l.jsx("button",{onClick:()=>{i(!1),n()},className:"absolute right-4 top-4 text-gray-500",children:l.jsx(Dt,{size:20})})]}):null};function t_e(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}t_e(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qm=e=>typeof e=="number"&&!isNaN(e),Vl=e=>typeof e=="string",ws=e=>typeof e=="function",r_e=e=>Vl(e)||qm(e),r2=e=>Vl(e)||ws(e)?e:null,n_e=(e,t)=>e===!1||qm(e)&&e>0?e:t,n2=e=>_.isValidElement(e)||Vl(e)||ws(e)||qm(e);function a_e(e,t,r=300){let{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function i_e({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:i,position:s,preventExitTransition:o,done:c,nodeRef:u,isIn:d,playToast:f}){let p=r?`${e}--${s}`:e,m=r?`${t}--${s}`:t,h=_.useRef(0);return _.useLayoutEffect(()=>{let g=u.current,x=p.split(" "),v=b=>{b.target===u.current&&(f(),g.removeEventListener("animationend",v),g.removeEventListener("animationcancel",v),h.current===0&&b.type!=="animationcancel"&&g.classList.remove(...x))};g.classList.add(...x),g.addEventListener("animationend",v),g.addEventListener("animationcancel",v)},[]),_.useEffect(()=>{let g=u.current,x=()=>{g.removeEventListener("animationend",x),n?a_e(g,c,a):c()};d||(o?x():(h.current=1,g.className+=` ${m}`,g.addEventListener("animationend",x)))},[d]),ae.createElement(ae.Fragment,null,i)}}function RP(e,t){return{content:F$(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function F$(e,t,r=!1){return _.isValidElement(e)&&!Vl(e.type)?_.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):ws(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function s_e({closeToast:e,theme:t,ariaLabel:r="close"}){return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function o_e({delay:e,isRunning:t,closeToast:r,type:n="default",hide:a,className:i,controlledProgress:s,progress:o,rtl:c,isIn:u,theme:d}){let f=a||s&&o===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(p.transform=`scaleX(${o})`);let m=st("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),h=ws(i)?i({rtl:c,type:n,defaultClassName:m}):st(m,i),g={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{u&&r()}};return ae.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ae.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),ae.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:h,style:p,...g}))}var l_e=1,M$=()=>`${l_e++}`;function c_e(e,t,r){let n=1,a=0,i=[],s=[],o=t,c=new Map,u=new Set,d=b=>(u.add(b),()=>u.delete(b)),f=()=>{s=Array.from(c.values()),u.forEach(b=>b())},p=({containerId:b,toastId:y,updateId:k})=>{let E=b?b!==e:e!==1,S=c.has(y)&&k==null;return E||S},m=(b,y)=>{c.forEach(k=>{var E;(y==null||y===k.props.toastId)&&((E=k.toggle)==null||E.call(k,b))})},h=b=>{var y,k;(k=(y=b.props)==null?void 0:y.onClose)==null||k.call(y,b.removalReason),b.isActive=!1},g=b=>{if(b==null)c.forEach(h);else{let y=c.get(b);y&&h(y)}f()},x=()=>{a-=i.length,i=[]},v=b=>{var y,k;let{toastId:E,updateId:S}=b.props,w=S==null;b.staleId&&c.delete(b.staleId),b.isActive=!0,c.set(E,b),f(),r(RP(b,w?"added":"updated")),w&&((k=(y=b.props).onOpen)==null||k.call(y))};return{id:e,props:o,observe:d,toggle:m,removeToast:g,toasts:c,clearQueue:x,buildToast:(b,y)=>{if(p(y))return;let{toastId:k,updateId:E,data:S,staleId:w,delay:j}=y,T=E==null;T&&a++;let C={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(y).filter(([N,I])=>I!=null)),toastId:k,updateId:E,data:S,isIn:!1,className:r2(y.className||o.toastClassName),progressClassName:r2(y.progressClassName||o.progressClassName),autoClose:y.isLoading?!1:n_e(y.autoClose,o.autoClose),closeToast(N){c.get(k).removalReason=N,g(k)},deleteToast(){let N=c.get(k);if(N!=null){if(r(RP(N,"removed")),c.delete(k),a--,a<0&&(a=0),i.length>0){v(i.shift());return}f()}}};C.closeButton=o.closeButton,y.closeButton===!1||n2(y.closeButton)?C.closeButton=y.closeButton:y.closeButton===!0&&(C.closeButton=n2(o.closeButton)?o.closeButton:!0);let A={content:b,props:C,staleId:w};o.limit&&o.limit>0&&a>o.limit&&T?i.push(A):qm(j)?setTimeout(()=>{v(A)},j):v(A)},setProps(b){o=b},setToggle:(b,y)=>{let k=c.get(b);k&&(k.toggle=y)},isToastActive:b=>{var y;return(y=c.get(b))==null?void 0:y.isActive},getSnapshot:()=>s}}var An=new Map,rm=[],a2=new Set,u_e=e=>a2.forEach(t=>t(e)),L$=()=>An.size>0;function d_e(){rm.forEach(e=>B$(e.content,e.options)),rm=[]}var f_e=(e,{containerId:t})=>{var r;return(r=An.get(t||1))==null?void 0:r.toasts.get(e)};function $$(e,t){var r;if(t)return!!((r=An.get(t))!=null&&r.isToastActive(e));let n=!1;return An.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function p_e(e){if(!L$()){rm=rm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||r_e(e))An.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=An.get(e.containerId);t?t.removeToast(e.id):An.forEach(r=>{r.removeToast(e.id)})}}var m_e=(e={})=>{An.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function B$(e,t){n2(e)&&(L$()||rm.push({content:e,options:t}),An.forEach(r=>{r.buildToast(e,t)}))}function h_e(e){var t;(t=An.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function z$(e,t){An.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function g_e(e){let t=e.containerId||1;return{subscribe(r){let n=c_e(t,e,u_e);An.set(t,n);let a=n.observe(r);return d_e(),()=>{a(),An.delete(t)}},setProps(r){var n;(n=An.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=An.get(t))==null?void 0:r.getSnapshot()}}}function x_e(e){return a2.add(e),()=>{a2.delete(e)}}function v_e(e){return e&&(Vl(e.toastId)||qm(e.toastId))?e.toastId:M$()}function Vm(e,t){return B$(e,t),t.toastId}function Zv(e,t){return{...t,type:t&&t.type||e,toastId:v_e(t)}}function ey(e){return(t,r)=>Vm(t,Zv(e,r))}function ce(e,t){return Vm(e,Zv("default",t))}ce.loading=(e,t)=>Vm(e,Zv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function y_e(e,{pending:t,error:r,success:n},a){let i;t&&(i=Vl(t)?ce.loading(t,a):ce.loading(t.render,{...a,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,d,f)=>{if(d==null){ce.dismiss(i);return}let p={type:u,...s,...a,data:f},m=Vl(d)?{render:d}:d;return i?ce.update(i,{...p,...m}):ce(m.render,{...p,...m}),f},c=ws(e)?e():e;return c.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),c}ce.promise=y_e;ce.success=ey("success");ce.info=ey("info");ce.error=ey("error");ce.warning=ey("warning");ce.warn=ce.warning;ce.dark=(e,t)=>Vm(e,Zv("default",{theme:"dark",...t}));function b_e(e){p_e(e)}ce.dismiss=b_e;ce.clearWaitingQueue=m_e;ce.isActive=$$;ce.update=(e,t={})=>{let r=f_e(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:M$()};i.toastId!==e&&(i.staleId=e);let s=i.render||a;delete i.render,Vm(s,i)}};ce.done=e=>{ce.update(e,{progress:1})};ce.onChange=x_e;ce.play=e=>z$(!0,e);ce.pause=e=>z$(!1,e);function w_e(e){var t;let{subscribe:r,getSnapshot:n,setProps:a}=_.useRef(g_e(e)).current;a(e);let i=(t=_.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function s(o){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>o(u[0],u[1]))}return{getToastToRender:s,isToastActive:$$,count:i==null?void 0:i.length}}function S_e(e){let[t,r]=_.useState(!1),[n,a]=_.useState(!1),i=_.useRef(null),s=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;h_e({id:e.toastId,containerId:e.containerId,fn:r}),_.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||v(),window.addEventListener("focus",x),window.addEventListener("blur",v)}function m(){window.removeEventListener("focus",x),window.removeEventListener("blur",v)}function h(w){if(e.draggable===!0||e.draggable===w.pointerType){b();let j=i.current;s.canCloseOnClick=!0,s.canDrag=!0,j.style.transition="none",e.draggableDirection==="x"?(s.start=w.clientX,s.removalDistance=j.offsetWidth*(e.draggablePercent/100)):(s.start=w.clientY,s.removalDistance=j.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(w){let{top:j,bottom:T,left:C,right:A}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&w.clientX>=C&&w.clientX<=A&&w.clientY>=j&&w.clientY<=T?v():x()}function x(){r(!0)}function v(){r(!1)}function b(){s.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",E)}function y(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",E)}function k(w){let j=i.current;if(s.canDrag&&j){s.didMove=!0,t&&v(),e.draggableDirection==="x"?s.delta=w.clientX-s.start:s.delta=w.clientY-s.start,s.start!==w.clientX&&(s.canCloseOnClick=!1);let T=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;j.style.transform=`translate3d(${T},0)`,j.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function E(){y();let w=i.current;if(s.canDrag&&s.didMove&&w){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let S={onPointerDown:h,onPointerUp:g};return o&&c&&(S.onMouseEnter=v,e.stacked||(S.onMouseLeave=x)),f&&(S.onClick=w=>{d&&d(w),s.canCloseOnClick&&u(!0)}),{playToast:x,pauseToast:v,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:S}}var E_e=typeof window<"u"?_.useLayoutEffect:_.useEffect,ty=({theme:e,type:t,isLoading:r,...n})=>ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function __e(e){return ae.createElement(ty,{...e},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function N_e(e){return ae.createElement(ty,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function k_e(e){return ae.createElement(ty,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function C_e(e){return ae.createElement(ty,{...e},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function T_e(){return ae.createElement("div",{className:"Toastify__spinner"})}var i2={info:N_e,warning:__e,success:k_e,error:C_e,spinner:T_e},j_e=e=>e in i2;function A_e({theme:e,type:t,isLoading:r,icon:n}){let a=null,i={theme:e,type:t};return n===!1||(ws(n)?a=n({...i,isLoading:r}):_.isValidElement(n)?a=_.cloneElement(n,i):r?a=i2.spinner():j_e(t)&&(a=i2[t](i))),a}var I_e=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:i}=S_e(e),{closeButton:s,children:o,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:m,position:h,className:g,style:x,progressClassName:v,updateId:b,role:y,progress:k,rtl:E,toastId:S,deleteToast:w,isIn:j,isLoading:T,closeOnClick:C,theme:A,ariaLabel:N}=e,I=st("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":C}),M=ws(g)?g({rtl:E,position:h,type:d,defaultClassName:I}):st(I,g),F=A_e(e),q=!!k||!c,W={closeToast:p,type:d,theme:A},V=null;return s===!1||(ws(s)?V=s(W):_.isValidElement(s)?V=_.cloneElement(s,W):V=s_e(W)),ae.createElement(m,{isIn:j,done:w,position:h,preventExitTransition:r,nodeRef:n,playToast:i},ae.createElement("div",{id:S,tabIndex:0,onClick:u,"data-in":j,className:M,...a,style:x,ref:n,...j&&{role:y,"aria-label":N}},F!=null&&ae.createElement("div",{className:st("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},F),F$(o,e,!t),V,!e.customProgressBar&&ae.createElement(o_e,{...b&&!q?{key:`p-${b}`}:{},rtl:E,theme:A,delay:c,isRunning:t,isIn:j,closeToast:p,hide:f,type:d,className:v,controlledProgress:q,progress:k||0})))},P_e=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),O_e=i_e(P_e("bounce",!0)),R_e={position:"top-right",transition:O_e,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function qr(e){let t={...R_e,...e},r=e.stacked,[n,a]=_.useState(!0),i=_.useRef(null),{getToastToRender:s,isToastActive:o,count:c}=w_e(t),{className:u,style:d,rtl:f,containerId:p,hotKeys:m}=t;function h(x){let v=st("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":f});return ws(u)?u({position:x,rtl:f,defaultClassName:v}):st(v,r2(u))}function g(){r&&(a(!0),ce.play())}return E_e(()=>{var x;if(r){let v=i.current.querySelectorAll('[data-in="true"]'),b=12,y=(x=t.position)==null?void 0:x.includes("top"),k=0,E=0;Array.from(v).reverse().forEach((S,w)=>{let j=S;j.classList.add("Toastify__toast--stacked"),w>0&&(j.dataset.collapsed=`${n}`),j.dataset.pos||(j.dataset.pos=y?"top":"bot");let T=k*(n?.2:1)+(n?0:b*w);j.style.setProperty("--y",`${y?T:T*-1}px`),j.style.setProperty("--g",`${b}`),j.style.setProperty("--s",`${1-(n?E:0)}`),k+=j.offsetHeight,E+=.025})}},[n,c,r]),_.useEffect(()=>{function x(v){var b;let y=i.current;m(v)&&((b=y.querySelector('[tabIndex="0"]'))==null||b.focus(),a(!1),ce.pause()),v.key==="Escape"&&(document.activeElement===y||y!=null&&y.contains(document.activeElement))&&(a(!0),ce.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[m]),ae.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{r&&(a(!1),ce.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((x,v)=>{let b=v.length?{...d}:{...d,pointerEvents:"none"};return ae.createElement("div",{tabIndex:-1,className:h(x),"data-stacked":r,style:b,key:`c-${x}`},v.map(({content:y,props:k})=>ae.createElement(I_e,{...k,stacked:r,collapseAll:g,isIn:o(k.toastId,k.containerId),key:`t-${k.key}`},y)))}))}const D_e=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await Bi({productRequestId:e});return t?t.requiredDocuments.map(n=>({documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??""})):[]}catch(t){return console.error("Error al obtener los documentos:",t),[]}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ix={};ix.version="0.18.5";var U$=1252,F_e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dN=function(e){F_e.indexOf(e)!=-1&&(U$=uN[0]=e)};function M_e(){dN(1252)}var ii=function(e){dN(e)};function fN(){ii(1200),M_e()}function DP(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function L_e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function q$(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var xf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?L_e(e.slice(2)):t==254&&r==255?q$(e.slice(2)):t==65279?e.slice(1):e},Mh=function(t){return String.fromCharCode(t)},FP=function(t){return String.fromCharCode(t)},Qs,ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function nm(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=ao.charAt(i)+ao.charAt(s)+ao.charAt(o)+ao.charAt(c);return t}function ya(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=ao.indexOf(e.charAt(u++)),s=ao.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=ao.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=ao.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var rt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Is=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function No(e){return rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function MP(e){return rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var da=function(t){return rt?Is(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function ry(e){if(typeof ArrayBuffer>"u")return da(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Vo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $_e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function pN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return pN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var $r=rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Is(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function B_e(e){for(var t=[],r=0,n=e.length+250,a=No(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=No(65535),n=65530)}return t.push(a.slice(0,r)),$r(t)}var Pn=/\u0000/g,vf=/[\u0001-\u0006]/g;function fu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function si(e,t){var r=""+e;return r.length>=t?r:cr("0",t-r.length)+r}function mN(e,t){var r=""+e;return r.length>=t?r:cr(" ",t-r.length)+r}function sx(e,t){var r=""+e;return r.length>=t?r:r+cr(" ",t-r.length)}function z_e(e,t){var r=""+Math.round(e);return r.length>=t?r:cr("0",t-r.length)+r}function U_e(e,t){var r=""+e;return r.length>=t?r:cr("0",t-r.length)+r}var LP=Math.pow(2,32);function kc(e,t){if(e>LP||e<-LP)return z_e(e,t);var r=Math.round(e);return U_e(r,t)}function ox(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var $P=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function q_e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var qe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},BP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},V_e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function lx(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=s)),!r)return[0,n*o,d];var p=Math.floor(n*o/d);return[p,n*o-p*d,d]}function hl(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Y_e(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var V$=new Date(1899,11,31,0,0,0),H_e=V$.getTime(),W_e=new Date(1900,2,1,0,0,0);function H$(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=W_e&&(r+=24*60*60*1e3),(r-(H_e+(e.getTimezoneOffset()-V$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function hN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function G_e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function X_e(e){var t=e<0?12:11,r=hN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function K_e(e){var t=hN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function am(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=X_e(e):t===10?r=e.toFixed(10).substr(0,12):r=K_e(e),hN(G_e(r.toUpperCase()))}function Hl(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):am(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wa(14,H$(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Y_e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function J_e(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Bb[r.m-1][1];case 5:return Bb[r.m-1][0];default:return Bb[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return $P[r.q][0];default:return $P[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?si(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=si(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?si(c,u):"";return d}function io(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var W$=/%/g;function Q_e(e,t,r){var n=t.replace(W$,""),a=t.length-n.length;return cs(e,n,r*Math.pow(10,2*a))+cr("%",a)}function Z_e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function G$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+G$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var X$=/# (\?+)( ?)\/( ?)(\d+)/;function eNe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?cr(" ",e[1].length+1+e[4].length):mN(s,e[1].length)+e[2]+"/"+e[3]+si(o,e[4].length))}function tNe(e,t,r){return r+(t===0?"":""+t)+cr(" ",e[1].length+2+e[4].length)}var K$=/^#*0*\.([0#]+)/,Y$=/\).*[0#]/,J$=/\(###\) ###\\?-####/;function Nn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function UP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rNe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nNe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Aa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Y$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Aa("n",n,r):"("+Aa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Z_e(e,t,r);if(t.indexOf("%")!==-1)return Q_e(e,t,r);if(t.indexOf("E")!==-1)return G$(t,r);if(t.charCodeAt(0)===36)return"$"+Aa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+kc(c,t.length);if(t.match(/^[#?]+$/))return a=kc(r,0),a==="0"&&(a=""),a.length>t.length?a:Nn(t.substr(0,t.length-a.length))+a;if(i=t.match(X$))return eNe(i,c,u);if(t.match(/^#+0+$/))return u+kc(c,t.length-t.indexOf("0"));if(i=t.match(K$))return a=zP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Nn(i[1])).replace(/\.$/,"."+Nn(i[1])).replace(/\.(\d*)$/,function(h,g){return"."+g+cr("0",Nn(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+zP(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+io(kc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Aa(e,t,-r):io(""+(Math.floor(r)+rNe(r,i[1].length)))+"."+si(UP(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Aa(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fu(Aa(e,t.replace(/[\\-]/g,""),r)),s=0,fu(fu(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<a.length?a.charAt(s++):h==="0"?"0":""}));if(t.match(J$))return a=Aa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=lx(c,Math.pow(10,s)-1,!1),a=""+u,d=cs("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=sx(o[2],s),d.length<i[4].length&&(d=Nn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=lx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mN(o[1],s)+i[2]+"/"+i[3]+sx(o[2],s):cr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=kc(r,0),t.length<=a.length?a:Nn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,p=t.length-a.length-f;return Nn(t.substr(0,f)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=UP(r,i[1].length),r<0?"-"+Aa(e,t,-r):io(nNe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?si(0,3-h.length):"")+h})+"."+si(s,i[1].length);switch(t){case"###,##0.00":return Aa(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=io(kc(c,0));return m!=="0"?u+m:"";case"###,###.00":return Aa(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Aa(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function aNe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function iNe(e,t,r){var n=t.replace(W$,""),a=t.length-n.length;return cs(e,n,r*Math.pow(10,2*a))+cr("%",a)}function Q$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Q$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function wi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Y$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?wi("n",n,r):"("+wi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return aNe(e,t,r);if(t.indexOf("%")!==-1)return iNe(e,t,r);if(t.indexOf("E")!==-1)return Q$(t,r);if(t.charCodeAt(0)===36)return"$"+wi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+si(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Nn(t.substr(0,t.length-a.length))+a;if(i=t.match(X$))return tNe(i,c,u);if(t.match(/^#+0+$/))return u+si(c,t.length-t.indexOf("0"));if(i=t.match(K$))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Nn(i[1])).replace(/\.$/,"."+Nn(i[1])),a=a.replace(/\.(\d*)$/,function(h,g){return"."+g+cr("0",Nn(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+io(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+wi(e,t,-r):io(""+r)+"."+cr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return wi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fu(wi(e,t.replace(/[\\-]/g,""),r)),s=0,fu(fu(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<a.length?a.charAt(s++):h==="0"?"0":""}));if(t.match(J$))return a=wi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=lx(c,Math.pow(10,s)-1,!1),a=""+u,d=cs("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=sx(o[2],s),d.length<i[4].length&&(d=Nn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=lx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mN(o[1],s)+i[2]+"/"+i[3]+sx(o[2],s):cr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Nn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,p=t.length-a.length-f;return Nn(t.substr(0,f)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+wi(e,t,-r):io(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?si(0,3-h.length):"")+h})+"."+si(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=io(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return wi(e,t.slice(0,t.lastIndexOf(".")),r)+Nn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function cs(e,t,r){return(r|0)===r?wi(e,t,r):Aa(e,t,r)}function sNe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Z$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jd(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ox(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Z$))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function oNe(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,d,f,p="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ox(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),h=m==="("||m===")"?m:"t";a[a.length]={t:h,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=hl(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=hl(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(u==null&&(u=hl(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",p="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,p="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",s+=5,p="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Z$)){if(u==null&&(u=hl(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",jd(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,v=0,b;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=p,c="h",x<1&&(x=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",k;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=J_e(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(k=s+1;a[k]!=null&&((o=a[k].t)==="?"||o==="D"||(o===" "||o==="t")&&a[k+1]!=null&&(a[k+1].t==="?"||a[k+1].t==="t"&&a[k+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[k].v==="/"||a[k].v===" "&&a[k+1]!=null&&a[k+1].t=="?"));)a[s].v+=a[k].v,a[k]={v:"",t:";"},++k;y+=a[s].v,s=k-1;break;case"G":a[s].t="t",a[s].v=Hl(t,r);break}var E="",S,w;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,w=cs("n",y,S)):(S=t<0&&n>1?-t:t,w=cs("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(w=w.substr(1),a[0].v="-"+a[0].v)),k=w.length-1;var j=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){j=s;break}var T=a.length;if(j===a.length&&w.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(k>=a[s].v.length-1?(k-=a[s].v.length,a[s].v=w.substr(k+1,a[s].v.length)):k<0?a[s].v="":(a[s].v=w.substr(0,k+1),k=-1),a[s].t="t",T=s);k>=0&&T<a.length&&(a[T].v=w.substr(0,k+1)+a[T].v)}else if(j!==a.length&&w.indexOf("E")===-1){for(k=w.indexOf(".")-1,s=j;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")-1:a[s].v.length-1,E=a[s].v.substr(d+1);d>=0;--d)k>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(E=w.charAt(k--)+E);a[s].v=E,a[s].t="t",T=s}for(k>=0&&T<a.length&&(a[T].v=w.substr(0,k+1)+a[T].v),k=w.indexOf(".")+1,s=j;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==j)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")+1:0,E=a[s].v.substr(0,d);d<a[s].v.length;++d)k<w.length&&(E+=w.charAt(k++));a[s].v=E,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=cs(a[s].t,a[s].v,S),a[s].t="t");var C="";for(s=0;s!==a.length;++s)a[s]!=null&&(C+=a[s].v);return C}var qP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function lNe(e,t){var r=sNe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(qP),o=r[1].match(qP);return VP(t,s)?[n,r[0]]:VP(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Wa(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qe)[e],n==null&&(n=r.table&&r.table[BP[e]]||qe[BP[e]]),n==null&&(n=V_e[e]||"General");break}if(ox(n,0))return Hl(t,r);t instanceof Date&&(t=H$(t,r.date1904));var a=lNe(n,t);if(ox(a[1]))return Hl(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return oNe(a[1],t,r,a[0])}function us(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(qe[r]==null){t<0&&(t=r);continue}if(qe[r]==e){t=r;break}}t<0&&(t=391)}return qe[t]=e,t}function ny(e){for(var t=0;t!=392;++t)e[t]!==void 0&&us(e[t],t)}function Ad(){qe=q_e()}var cNe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},eB=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uNe(e){var t=typeof e=="number"?qe[e]:e;return t=t.replace(eB,"(\\d+)"),new RegExp("^"+t+"$")}function dNe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(eB)||[]).forEach(function(f,p){var m=parseInt(r[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":c=m;break;case"m":s>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var fNe=function(){var e={};e.version="1.2.0";function t(){for(var w=0,j=new Array(256),T=0;T!=256;++T)w=T,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,j[T]=w;return typeof Int32Array<"u"?new Int32Array(j):j}var r=t();function n(w){var j=0,T=0,C=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)A[C]=w[C];for(C=0;C!=256;++C)for(T=w[C],j=256+C;j<4096;j+=256)T=A[j]=T>>>8^w[T&255];var N=[];for(C=1;C!=16;++C)N[C-1]=typeof Int32Array<"u"?A.subarray(C*256,C*256+256):A.slice(C*256,C*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],p=a[7],m=a[8],h=a[9],g=a[10],x=a[11],v=a[12],b=a[13],y=a[14];function k(w,j){for(var T=j^-1,C=0,A=w.length;C<A;)T=T>>>8^r[(T^w.charCodeAt(C++))&255];return~T}function E(w,j){for(var T=j^-1,C=w.length-15,A=0;A<C;)T=y[w[A++]^T&255]^b[w[A++]^T>>8&255]^v[w[A++]^T>>16&255]^x[w[A++]^T>>>24]^g[w[A++]]^h[w[A++]]^m[w[A++]]^p[w[A++]]^f[w[A++]]^d[w[A++]]^u[w[A++]]^c[w[A++]]^o[w[A++]]^s[w[A++]]^i[w[A++]]^r[w[A++]];for(C+=15;A<C;)T=T>>>8^r[(T^w[A++])&255];return~T}function S(w,j){for(var T=j^-1,C=0,A=w.length,N=0,I=0;C<A;)N=w.charCodeAt(C++),N<128?T=T>>>8^r[(T^N)&255]:N<2048?(T=T>>>8^r[(T^(192|N>>6&31))&255],T=T>>>8^r[(T^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,I=w.charCodeAt(C++)&1023,T=T>>>8^r[(T^(240|N>>8&7))&255],T=T>>>8^r[(T^(128|N>>2&63))&255],T=T>>>8^r[(T^(128|I>>6&15|(N&3)<<4))&255],T=T>>>8^r[(T^(128|I&63))&255]):(T=T>>>8^r[(T^(224|N>>12&15))&255],T=T>>>8^r[(T^(128|N>>6&63))&255],T=T>>>8^r[(T^(128|N&63))&255]);return~T}return e.table=r,e.bstr=k,e.buf=E,e.str=S,e}(),$e=function(){var t={};t.version="1.2.1";function r(U,Q){for(var X=U.split("/"),Y=Q.split("/"),Z=0,ee=0,oe=Math.min(X.length,Y.length);Z<oe;++Z){if(ee=X[Z].length-Y[Z].length)return ee;if(X[Z]!=Y[Z])return X[Z]<Y[Z]?-1:1}return X.length-Y.length}function n(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:n(U.slice(0,-1));var Q=U.lastIndexOf("/");return Q===-1?U:U.slice(0,Q+1)}function a(U){if(U.charAt(U.length-1)=="/")return a(U.slice(0,-1));var Q=U.lastIndexOf("/");return Q===-1?U:U.slice(Q+1)}function i(U,Q){typeof Q=="string"&&(Q=new Date(Q));var X=Q.getHours();X=X<<6|Q.getMinutes(),X=X<<5|Q.getSeconds()>>>1,U.write_shift(2,X);var Y=Q.getFullYear()-1980;Y=Y<<4|Q.getMonth()+1,Y=Y<<5|Q.getDate(),U.write_shift(2,Y)}function s(U){var Q=U.read_shift(2)&65535,X=U.read_shift(2)&65535,Y=new Date,Z=X&31;X>>>=5;var ee=X&15;X>>>=4,Y.setMilliseconds(0),Y.setFullYear(X+1980),Y.setMonth(ee-1),Y.setDate(Z);var oe=Q&31;Q>>>=5;var ve=Q&63;return Q>>>=6,Y.setHours(Q),Y.setMinutes(ve),Y.setSeconds(oe<<1),Y}function o(U){Gr(U,0);for(var Q={},X=0;U.l<=U.length-4;){var Y=U.read_shift(2),Z=U.read_shift(2),ee=U.l+Z,oe={};switch(Y){case 21589:X=U.read_shift(1),X&1&&(oe.mtime=U.read_shift(4)),Z>5&&(X&2&&(oe.atime=U.read_shift(4)),X&4&&(oe.ctime=U.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}U.l=ee,Q[Y]=oe}return Q}var c;function u(){return c||(c={})}function d(U,Q){if(U[0]==80&&U[1]==75)return yk(U,Q);if((U[0]|32)==109&&(U[1]|32)==105)return v7(U,Q);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var X=3,Y=512,Z=0,ee=0,oe=0,ve=0,se=0,le=[],ue=U.slice(0,512);Gr(ue,0);var we=f(ue);switch(X=we[0],X){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(we[1]==0)return yk(U,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Y!==512&&(ue=U.slice(0,Y),Gr(ue,28));var je=U.slice(0,Y);p(ue,X);var Oe=ue.read_shift(4,"i");if(X===3&&Oe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Oe);ue.l+=4,oe=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),ve=ue.read_shift(4,"i"),Z=ue.read_shift(4,"i"),se=ue.read_shift(4,"i"),ee=ue.read_shift(4,"i");for(var _e=-1,Ae=0;Ae<109&&(_e=ue.read_shift(4,"i"),!(_e<0));++Ae)le[Ae]=_e;var Xe=m(U,Y);x(se,ee,Xe,Y,le);var Zt=b(Xe,oe,le,Y);Zt[oe].name="!Directory",Z>0&&ve!==I&&(Zt[ve].name="!MiniFAT"),Zt[le[0]].name="!FAT",Zt.fat_addrs=le,Zt.ssz=Y;var er={},tn=[],Fd=[],Md=[];y(oe,Zt,Xe,tn,Z,er,Fd,ve),h(Fd,Md,tn),tn.shift();var Ld={FileIndex:Fd,FullPaths:Md};return Q&&Q.raw&&(Ld.raw={header:je,sectors:Xe}),Ld}function f(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(M,"Header Signature: "),U.l+=16;var Q=U.read_shift(2,"u");return[U.read_shift(2,"u"),Q]}function p(U,Q){var X=9;switch(U.l+=2,X=U.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function m(U,Q){for(var X=Math.ceil(U.length/Q)-1,Y=[],Z=1;Z<X;++Z)Y[Z-1]=U.slice(Z*Q,(Z+1)*Q);return Y[X-1]=U.slice(X*Q),Y}function h(U,Q,X){for(var Y=0,Z=0,ee=0,oe=0,ve=0,se=X.length,le=[],ue=[];Y<se;++Y)le[Y]=ue[Y]=Y,Q[Y]=X[Y];for(;ve<ue.length;++ve)Y=ue[ve],Z=U[Y].L,ee=U[Y].R,oe=U[Y].C,le[Y]===Y&&(Z!==-1&&le[Z]!==Z&&(le[Y]=le[Z]),ee!==-1&&le[ee]!==ee&&(le[Y]=le[ee])),oe!==-1&&(le[oe]=Y),Z!==-1&&Y!=le[Y]&&(le[Z]=le[Y],ue.lastIndexOf(Z)<ve&&ue.push(Z)),ee!==-1&&Y!=le[Y]&&(le[ee]=le[Y],ue.lastIndexOf(ee)<ve&&ue.push(ee));for(Y=1;Y<se;++Y)le[Y]===Y&&(ee!==-1&&le[ee]!==ee?le[Y]=le[ee]:Z!==-1&&le[Z]!==Z&&(le[Y]=le[Z]));for(Y=1;Y<se;++Y)if(U[Y].type!==0){if(ve=Y,ve!=le[ve])do ve=le[ve],Q[Y]=Q[ve]+"/"+Q[Y];while(ve!==0&&le[ve]!==-1&&ve!=le[ve]);le[Y]=-1}for(Q[0]+="/",Y=1;Y<se;++Y)U[Y].type!==2&&(Q[Y]+="/")}function g(U,Q,X){for(var Y=U.start,Z=U.size,ee=[],oe=Y;X&&Z>0&&oe>=0;)ee.push(Q.slice(oe*N,oe*N+N)),Z-=N,oe=il(X,oe*4);return ee.length===0?he(0):$r(ee).slice(0,U.size)}function x(U,Q,X,Y,Z){var ee=I;if(U===I){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var oe=X[U],ve=(Y>>>2)-1;if(!oe)return;for(var se=0;se<ve&&(ee=il(oe,se*4))!==I;++se)Z.push(ee);x(il(oe,Y-4),Q-1,X,Y,Z)}}function v(U,Q,X,Y,Z){var ee=[],oe=[];Z||(Z=[]);var ve=Y-1,se=0,le=0;for(se=Q;se>=0;){Z[se]=!0,ee[ee.length]=se,oe.push(U[se]);var ue=X[Math.floor(se*4/Y)];if(le=se*4&ve,Y<4+le)throw new Error("FAT boundary crossed: "+se+" 4 "+Y);if(!U[ue])break;se=il(U[ue],le)}return{nodes:ee,data:r4([oe])}}function b(U,Q,X,Y){var Z=U.length,ee=[],oe=[],ve=[],se=[],le=Y-1,ue=0,we=0,je=0,Oe=0;for(ue=0;ue<Z;++ue)if(ve=[],je=ue+Q,je>=Z&&(je-=Z),!oe[je]){se=[];var _e=[];for(we=je;we>=0;){_e[we]=!0,oe[we]=!0,ve[ve.length]=we,se.push(U[we]);var Ae=X[Math.floor(we*4/Y)];if(Oe=we*4&le,Y<4+Oe)throw new Error("FAT boundary crossed: "+we+" 4 "+Y);if(!U[Ae]||(we=il(U[Ae],Oe),_e[we]))break}ee[je]={nodes:ve,data:r4([se])}}return ee}function y(U,Q,X,Y,Z,ee,oe,ve){for(var se=0,le=Y.length?2:0,ue=Q[U].data,we=0,je=0,Oe;we<ue.length;we+=128){var _e=ue.slice(we,we+128);Gr(_e,64),je=_e.read_shift(2),Oe=SN(_e,0,je-le),Y.push(Oe);var Ae={name:Oe,type:_e.read_shift(1),color:_e.read_shift(1),L:_e.read_shift(4,"i"),R:_e.read_shift(4,"i"),C:_e.read_shift(4,"i"),clsid:_e.read_shift(16),state:_e.read_shift(4,"i"),start:0,size:0},Xe=_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2);Xe!==0&&(Ae.ct=k(_e,_e.l-8));var Zt=_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2);Zt!==0&&(Ae.mt=k(_e,_e.l-8)),Ae.start=_e.read_shift(4,"i"),Ae.size=_e.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=I,Ae.name=""),Ae.type===5?(se=Ae.start,Z>0&&se!==I&&(Q[se].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",Q[Ae.start]===void 0&&(Q[Ae.start]=v(X,Ae.start,Q.fat_addrs,Q.ssz)),Q[Ae.start].name=Ae.name,Ae.content=Q[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:se!==I&&Ae.start!==I&&Q[se]&&(Ae.content=g(Ae,Q[se].data,(Q[ve]||{}).data))),Ae.content&&Gr(Ae.content,0),ee[Oe]=Ae,oe.push(Ae)}}function k(U,Q){return new Date((la(U,Q+4)/1e7*Math.pow(2,32)+la(U,Q)/1e7-11644473600)*1e3)}function E(U,Q){return u(),d(c.readFileSync(U),Q)}function S(U,Q){var X=Q&&Q.type;switch(X||rt&&Buffer.isBuffer(U)&&(X="buffer"),X||"base64"){case"file":return E(U,Q);case"base64":return d(da(ya(U)),Q);case"binary":return d(da(U),Q)}return d(U,Q)}function w(U,Q){var X=Q||{},Y=X.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=Y+"/",U.FileIndex[0]={name:Y,type:5}),X.CLSID&&(U.FileIndex[0].clsid=X.CLSID),j(U)}function j(U){var Q="Sh33tJ5";if(!$e.find(U,"/"+Q)){var X=he(4);X[0]=55,X[1]=X[3]=50,X[2]=54,U.FileIndex.push({name:Q,type:2,content:X,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+Q),T(U)}}function T(U,Q){w(U);for(var X=!1,Y=!1,Z=U.FullPaths.length-1;Z>=0;--Z){var ee=U.FileIndex[Z];switch(ee.type){case 0:Y?X=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(ee.R*ee.L*ee.C)&&(X=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!Q)){var oe=new Date(1987,1,19),ve=0,se=Object.create?Object.create(null):{},le=[];for(Z=0;Z<U.FullPaths.length;++Z)se[U.FullPaths[Z]]=!0,U.FileIndex[Z].type!==0&&le.push([U.FullPaths[Z],U.FileIndex[Z]]);for(Z=0;Z<le.length;++Z){var ue=n(le[Z][0]);Y=se[ue],Y||(le.push([ue,{name:a(ue).replace("/",""),type:1,clsid:q,ct:oe,mt:oe,content:null}]),se[ue]=!0)}for(le.sort(function(Oe,_e){return r(Oe[0],_e[0])}),U.FullPaths=[],U.FileIndex=[],Z=0;Z<le.length;++Z)U.FullPaths[Z]=le[Z][0],U.FileIndex[Z]=le[Z][1];for(Z=0;Z<le.length;++Z){var we=U.FileIndex[Z],je=U.FullPaths[Z];if(we.name=a(je).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||q,Z===0)we.C=le.length>1?1:-1,we.size=0,we.type=5;else if(je.slice(-1)=="/"){for(ve=Z+1;ve<le.length&&n(U.FullPaths[ve])!=je;++ve);for(we.C=ve>=le.length?-1:ve,ve=Z+1;ve<le.length&&n(U.FullPaths[ve])!=n(je);++ve);we.R=ve>=le.length?-1:ve,we.type=1}else n(U.FullPaths[Z+1]||"")==n(je)&&(we.R=Z+1),we.type=2}}}function C(U,Q){var X=Q||{};if(X.fileType=="mad")return y7(U,X);switch(T(U),X.fileType){case"zip":return f7(U,X)}var Y=function(Oe){for(var _e=0,Ae=0,Xe=0;Xe<Oe.FileIndex.length;++Xe){var Zt=Oe.FileIndex[Xe];if(Zt.content){var er=Zt.content.length;er>0&&(er<4096?_e+=er+63>>6:Ae+=er+511>>9)}}for(var tn=Oe.FullPaths.length+3>>2,Fd=_e+7>>3,Md=_e+127>>7,Ld=Fd+Ae+tn+Md,Ko=Ld+127>>7,wy=Ko<=109?0:Math.ceil((Ko-109)/127);Ld+Ko+wy+127>>7>Ko;)wy=++Ko<=109?0:Math.ceil((Ko-109)/127);var Wi=[1,wy,Ko,Md,tn,Ae,_e,0];return Oe.FileIndex[0].size=_e<<6,Wi[7]=(Oe.FileIndex[0].start=Wi[0]+Wi[1]+Wi[2]+Wi[3]+Wi[4]+Wi[5])+(Wi[6]+7>>3),Wi}(U),Z=he(Y[7]<<9),ee=0,oe=0;{for(ee=0;ee<8;++ee)Z.write_shift(1,F[ee]);for(ee=0;ee<8;++ee)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),ee=0;ee<3;++ee)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,Y[2]),Z.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:I),Z.write_shift(4,Y[3]),Z.write_shift(-4,Y[1]?Y[0]-1:I),Z.write_shift(4,Y[1]),ee=0;ee<109;++ee)Z.write_shift(-4,ee<Y[2]?Y[1]+ee:-1)}if(Y[1])for(oe=0;oe<Y[1];++oe){for(;ee<236+oe*127;++ee)Z.write_shift(-4,ee<Y[2]?Y[1]+ee:-1);Z.write_shift(-4,oe===Y[1]-1?I:oe+1)}var ve=function(Oe){for(oe+=Oe;ee<oe-1;++ee)Z.write_shift(-4,ee+1);Oe&&(++ee,Z.write_shift(-4,I))};for(oe=ee=0,oe+=Y[1];ee<oe;++ee)Z.write_shift(-4,W.DIFSECT);for(oe+=Y[2];ee<oe;++ee)Z.write_shift(-4,W.FATSECT);ve(Y[3]),ve(Y[4]);for(var se=0,le=0,ue=U.FileIndex[0];se<U.FileIndex.length;++se)ue=U.FileIndex[se],ue.content&&(le=ue.content.length,!(le<4096)&&(ue.start=oe,ve(le+511>>9)));for(ve(Y[6]+7>>3);Z.l&511;)Z.write_shift(-4,W.ENDOFCHAIN);for(oe=ee=0,se=0;se<U.FileIndex.length;++se)ue=U.FileIndex[se],ue.content&&(le=ue.content.length,!(!le||le>=4096)&&(ue.start=oe,ve(le+63>>6)));for(;Z.l&511;)Z.write_shift(-4,W.ENDOFCHAIN);for(ee=0;ee<Y[4]<<2;++ee){var we=U.FullPaths[ee];if(!we||we.length===0){for(se=0;se<17;++se)Z.write_shift(4,0);for(se=0;se<3;++se)Z.write_shift(4,-1);for(se=0;se<12;++se)Z.write_shift(4,0);continue}ue=U.FileIndex[ee],ee===0&&(ue.start=ue.size?ue.start-1:I);var je=ee===0&&X.root||ue.name;if(le=2*(je.length+1),Z.write_shift(64,je,"utf16le"),Z.write_shift(2,le),Z.write_shift(1,ue.type),Z.write_shift(1,ue.color),Z.write_shift(-4,ue.L),Z.write_shift(-4,ue.R),Z.write_shift(-4,ue.C),ue.clsid)Z.write_shift(16,ue.clsid,"hex");else for(se=0;se<4;++se)Z.write_shift(4,0);Z.write_shift(4,ue.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,ue.start),Z.write_shift(4,ue.size),Z.write_shift(4,0)}for(ee=1;ee<U.FileIndex.length;++ee)if(ue=U.FileIndex[ee],ue.size>=4096)if(Z.l=ue.start+1<<9,rt&&Buffer.isBuffer(ue.content))ue.content.copy(Z,Z.l,0,ue.size),Z.l+=ue.size+511&-512;else{for(se=0;se<ue.size;++se)Z.write_shift(1,ue.content[se]);for(;se&511;++se)Z.write_shift(1,0)}for(ee=1;ee<U.FileIndex.length;++ee)if(ue=U.FileIndex[ee],ue.size>0&&ue.size<4096)if(rt&&Buffer.isBuffer(ue.content))ue.content.copy(Z,Z.l,0,ue.size),Z.l+=ue.size+63&-64;else{for(se=0;se<ue.size;++se)Z.write_shift(1,ue.content[se]);for(;se&63;++se)Z.write_shift(1,0)}if(rt)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function A(U,Q){var X=U.FullPaths.map(function(se){return se.toUpperCase()}),Y=X.map(function(se){var le=se.split("/");return le[le.length-(se.slice(-1)=="/"?2:1)]}),Z=!1;Q.charCodeAt(0)===47?(Z=!0,Q=X[0].slice(0,-1)+Q):Z=Q.indexOf("/")!==-1;var ee=Q.toUpperCase(),oe=Z===!0?X.indexOf(ee):Y.indexOf(ee);if(oe!==-1)return U.FileIndex[oe];var ve=!ee.match(vf);for(ee=ee.replace(Pn,""),ve&&(ee=ee.replace(vf,"!")),oe=0;oe<X.length;++oe)if((ve?X[oe].replace(vf,"!"):X[oe]).replace(Pn,"")==ee||(ve?Y[oe].replace(vf,"!"):Y[oe]).replace(Pn,"")==ee)return U.FileIndex[oe];return null}var N=64,I=-2,M="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(U,Q,X){u();var Y=C(U,X);c.writeFileSync(Q,Y)}function B(U){for(var Q=new Array(U.length),X=0;X<U.length;++X)Q[X]=String.fromCharCode(U[X]);return Q.join("")}function R(U,Q){var X=C(U,Q);switch(Q&&Q.type||"buffer"){case"file":return u(),c.writeFileSync(Q.filename,X),X;case"binary":return typeof X=="string"?X:B(X);case"base64":return nm(typeof X=="string"?X:B(X));case"buffer":if(rt)return Buffer.isBuffer(X)?X:Is(X);case"array":return typeof X=="string"?da(X):X}return X}var ne;function z(U){try{var Q=U.InflateRaw,X=new Q;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)ne=U;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function P(U,Q){if(!ne)return _a(U,Q);var X=ne.InflateRaw,Y=new X,Z=Y._processChunk(U.slice(U.l),Y._finishFlushFlag);return U.l+=Y.bytesRead,Z}function G(U){return ne?ne.deflateRawSync(U):Re(U)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function D(U){var Q=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var H=typeof Uint8Array<"u",L=H?new Uint8Array(256):[],K=0;K<256;++K)L[K]=D(K);function O(U,Q){var X=L[U&255];return Q<=8?X>>>8-Q:(X=X<<8|L[U>>8&255],Q<=16?X>>>16-Q:(X=X<<8|L[U>>16&255],X>>>24-Q))}function pe(U,Q){var X=Q&7,Y=Q>>>3;return(U[Y]|(X<=6?0:U[Y+1]<<8))>>>X&3}function ie(U,Q){var X=Q&7,Y=Q>>>3;return(U[Y]|(X<=5?0:U[Y+1]<<8))>>>X&7}function de(U,Q){var X=Q&7,Y=Q>>>3;return(U[Y]|(X<=4?0:U[Y+1]<<8))>>>X&15}function ye(U,Q){var X=Q&7,Y=Q>>>3;return(U[Y]|(X<=3?0:U[Y+1]<<8))>>>X&31}function me(U,Q){var X=Q&7,Y=Q>>>3;return(U[Y]|(X<=1?0:U[Y+1]<<8))>>>X&127}function Le(U,Q,X){var Y=Q&7,Z=Q>>>3,ee=(1<<X)-1,oe=U[Z]>>>Y;return X<8-Y||(oe|=U[Z+1]<<8-Y,X<16-Y)||(oe|=U[Z+2]<<16-Y,X<24-Y)||(oe|=U[Z+3]<<24-Y),oe&ee}function ct(U,Q,X){var Y=Q&7,Z=Q>>>3;return Y<=5?U[Z]|=(X&7)<<Y:(U[Z]|=X<<Y&255,U[Z+1]=(X&7)>>8-Y),Q+3}function Kt(U,Q,X){var Y=Q&7,Z=Q>>>3;return X=(X&1)<<Y,U[Z]|=X,Q+1}function zt(U,Q,X){var Y=Q&7,Z=Q>>>3;return X<<=Y,U[Z]|=X&255,X>>>=8,U[Z+1]=X,Q+8}function wn(U,Q,X){var Y=Q&7,Z=Q>>>3;return X<<=Y,U[Z]|=X&255,X>>>=8,U[Z+1]=X&255,U[Z+2]=X>>>8,Q+16}function Fn(U,Q){var X=U.length,Y=2*X>Q?2*X:Q+5,Z=0;if(X>=Q)return U;if(rt){var ee=MP(Y);if(U.copy)U.copy(ee);else for(;Z<U.length;++Z)ee[Z]=U[Z];return ee}else if(H){var oe=new Uint8Array(Y);if(oe.set)oe.set(U);else for(;Z<X;++Z)oe[Z]=U[Z];return oe}return U.length=Y,U}function Rr(U){for(var Q=new Array(U),X=0;X<U;++X)Q[X]=0;return Q}function Mn(U,Q,X){var Y=1,Z=0,ee=0,oe=0,ve=0,se=U.length,le=H?new Uint16Array(32):Rr(32);for(ee=0;ee<32;++ee)le[ee]=0;for(ee=se;ee<X;++ee)U[ee]=0;se=U.length;var ue=H?new Uint16Array(se):Rr(se);for(ee=0;ee<se;++ee)le[Z=U[ee]]++,Y<Z&&(Y=Z),ue[ee]=0;for(le[0]=0,ee=1;ee<=Y;++ee)le[ee+16]=ve=ve+le[ee-1]<<1;for(ee=0;ee<se;++ee)ve=U[ee],ve!=0&&(ue[ee]=le[ve+16]++);var we=0;for(ee=0;ee<se;++ee)if(we=U[ee],we!=0)for(ve=O(ue[ee],Y)>>Y-we,oe=(1<<Y+4-we)-1;oe>=0;--oe)Q[ve|oe<<we]=we&15|ee<<4;return Y}var ge=H?new Uint16Array(512):Rr(512),Ne=H?new Uint16Array(32):Rr(32);if(!H){for(var Me=0;Me<512;++Me)ge[Me]=0;for(Me=0;Me<32;++Me)Ne[Me]=0}(function(){for(var U=[],Q=0;Q<32;Q++)U.push(5);Mn(U,Ne,32);var X=[];for(Q=0;Q<=143;Q++)X.push(8);for(;Q<=255;Q++)X.push(9);for(;Q<=279;Q++)X.push(7);for(;Q<=287;Q++)X.push(8);Mn(X,ge,288)})();var Ge=function(){for(var Q=H?new Uint8Array(32768):[],X=0,Y=0;X<re.length-1;++X)for(;Y<re[X+1];++Y)Q[Y]=X;for(;Y<32768;++Y)Q[Y]=29;var Z=H?new Uint8Array(259):[];for(X=0,Y=0;X<te.length-1;++X)for(;Y<te[X+1];++Y)Z[Y]=X;function ee(ve,se){for(var le=0;le<ve.length;){var ue=Math.min(65535,ve.length-le),we=le+ue==ve.length;for(se.write_shift(1,+we),se.write_shift(2,ue),se.write_shift(2,~ue&65535);ue-- >0;)se[se.l++]=ve[le++]}return se.l}function oe(ve,se){for(var le=0,ue=0,we=H?new Uint16Array(32768):[];ue<ve.length;){var je=Math.min(65535,ve.length-ue);if(je<10){for(le=ct(se,le,+(ue+je==ve.length)),le&7&&(le+=8-(le&7)),se.l=le/8|0,se.write_shift(2,je),se.write_shift(2,~je&65535);je-- >0;)se[se.l++]=ve[ue++];le=se.l*8;continue}le=ct(se,le,+(ue+je==ve.length)+2);for(var Oe=0;je-- >0;){var _e=ve[ue];Oe=(Oe<<5^_e)&32767;var Ae=-1,Xe=0;if((Ae=we[Oe])&&(Ae|=ue&-32768,Ae>ue&&(Ae-=32768),Ae<ue))for(;ve[Ae+Xe]==ve[ue+Xe]&&Xe<250;)++Xe;if(Xe>2){_e=Z[Xe],_e<=22?le=zt(se,le,L[_e+1]>>1)-1:(zt(se,le,3),le+=5,zt(se,le,L[_e-23]>>5),le+=3);var Zt=_e<8?0:_e-4>>2;Zt>0&&(wn(se,le,Xe-te[_e]),le+=Zt),_e=Q[ue-Ae],le=zt(se,le,L[_e]>>3),le-=3;var er=_e<4?0:_e-2>>1;er>0&&(wn(se,le,ue-Ae-re[_e]),le+=er);for(var tn=0;tn<Xe;++tn)we[Oe]=ue&32767,Oe=(Oe<<5^ve[ue])&32767,++ue;je-=Xe-1}else _e<=143?_e=_e+48:le=Kt(se,le,1),le=zt(se,le,L[_e]),we[Oe]=ue&32767,++ue}le=zt(se,le,0)-1}return se.l=(le+7)/8|0,se.l}return function(se,le){return se.length<8?ee(se,le):oe(se,le)}}();function Re(U){var Q=he(50+Math.floor(U.length*1.1)),X=Ge(U,Q);return Q.slice(0,X)}var ut=H?new Uint16Array(32768):Rr(32768),xr=H?new Uint16Array(32768):Rr(32768),yt=H?new Uint16Array(128):Rr(128),ta=1,Ds=1;function Sn(U,Q){var X=ye(U,Q)+257;Q+=5;var Y=ye(U,Q)+1;Q+=5;var Z=de(U,Q)+4;Q+=4;for(var ee=0,oe=H?new Uint8Array(19):Rr(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,le=H?new Uint8Array(8):Rr(8),ue=H?new Uint8Array(8):Rr(8),we=oe.length,je=0;je<Z;++je)oe[J[je]]=ee=ie(U,Q),se<ee&&(se=ee),le[ee]++,Q+=3;var Oe=0;for(le[0]=0,je=1;je<=se;++je)ue[je]=Oe=Oe+le[je-1]<<1;for(je=0;je<we;++je)(Oe=oe[je])!=0&&(ve[je]=ue[Oe]++);var _e=0;for(je=0;je<we;++je)if(_e=oe[je],_e!=0){Oe=L[ve[je]]>>8-_e;for(var Ae=(1<<7-_e)-1;Ae>=0;--Ae)yt[Oe|Ae<<_e]=_e&7|je<<3}var Xe=[];for(se=1;Xe.length<X+Y;)switch(Oe=yt[me(U,Q)],Q+=Oe&7,Oe>>>=3){case 16:for(ee=3+pe(U,Q),Q+=2,Oe=Xe[Xe.length-1];ee-- >0;)Xe.push(Oe);break;case 17:for(ee=3+ie(U,Q),Q+=3;ee-- >0;)Xe.push(0);break;case 18:for(ee=11+me(U,Q),Q+=7;ee-- >0;)Xe.push(0);break;default:Xe.push(Oe),se<Oe&&(se=Oe);break}var Zt=Xe.slice(0,X),er=Xe.slice(X);for(je=X;je<286;++je)Zt[je]=0;for(je=Y;je<30;++je)er[je]=0;return ta=Mn(Zt,ut,286),Ds=Mn(er,xr,30),Q}function Fs(U,Q){if(U[0]==3&&!(U[1]&3))return[No(Q),2];for(var X=0,Y=0,Z=MP(Q||1<<18),ee=0,oe=Z.length>>>0,ve=0,se=0;!(Y&1);){if(Y=ie(U,X),X+=3,Y>>>1)Y>>1==1?(ve=9,se=5):(X=Sn(U,X),ve=ta,se=Ds);else{X&7&&(X+=8-(X&7));var le=U[X>>>3]|U[(X>>>3)+1]<<8;if(X+=32,le>0)for(!Q&&oe<ee+le&&(Z=Fn(Z,ee+le),oe=Z.length);le-- >0;)Z[ee++]=U[X>>>3],X+=8;continue}for(;;){!Q&&oe<ee+32767&&(Z=Fn(Z,ee+32767),oe=Z.length);var ue=Le(U,X,ve),we=Y>>>1==1?ge[ue]:ut[ue];if(X+=we&15,we>>>=4,!(we>>>8&255))Z[ee++]=we;else{if(we==256)break;we-=257;var je=we<8?0:we-4>>2;je>5&&(je=0);var Oe=ee+te[we];je>0&&(Oe+=Le(U,X,je),X+=je),ue=Le(U,X,se),we=Y>>>1==1?Ne[ue]:xr[ue],X+=we&15,we>>>=4;var _e=we<4?0:we-2>>1,Ae=re[we];for(_e>0&&(Ae+=Le(U,X,_e),X+=_e),!Q&&oe<Oe&&(Z=Fn(Z,Oe+100),oe=Z.length);ee<Oe;)Z[ee]=Z[ee-Ae],++ee}}}return Q?[Z,X+7>>>3]:[Z.slice(0,ee),X+7>>>3]}function _a(U,Q){var X=U.slice(U.l||0),Y=Fs(X,Q);return U.l+=Y[1],Y[0]}function vk(U,Q){if(U)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function yk(U,Q){var X=U;Gr(X,0);var Y=[],Z=[],ee={FileIndex:Y,FullPaths:Z};w(ee,{root:Q.root});for(var oe=X.length-4;(X[oe]!=80||X[oe+1]!=75||X[oe+2]!=5||X[oe+3]!=6)&&oe>=0;)--oe;X.l=oe+4,X.l+=4;var ve=X.read_shift(2);X.l+=6;var se=X.read_shift(4);for(X.l=se,oe=0;oe<ve;++oe){X.l+=20;var le=X.read_shift(4),ue=X.read_shift(4),we=X.read_shift(2),je=X.read_shift(2),Oe=X.read_shift(2);X.l+=8;var _e=X.read_shift(4),Ae=o(X.slice(X.l+we,X.l+we+je));X.l+=we+je+Oe;var Xe=X.l;X.l=_e+4,d7(X,le,ue,ee,Ae),X.l=Xe}return ee}function d7(U,Q,X,Y,Z){U.l+=2;var ee=U.read_shift(2),oe=U.read_shift(2),ve=s(U);if(ee&8257)throw new Error("Unsupported ZIP encryption");for(var se=U.read_shift(4),le=U.read_shift(4),ue=U.read_shift(4),we=U.read_shift(2),je=U.read_shift(2),Oe="",_e=0;_e<we;++_e)Oe+=String.fromCharCode(U[U.l++]);if(je){var Ae=o(U.slice(U.l,U.l+je));(Ae[21589]||{}).mt&&(ve=Ae[21589].mt),((Z||{})[21589]||{}).mt&&(ve=Z[21589].mt)}U.l+=je;var Xe=U.slice(U.l,U.l+le);switch(oe){case 8:Xe=P(U,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var Zt=!1;ee&8&&(se=U.read_shift(4),se==134695760&&(se=U.read_shift(4),Zt=!0),le=U.read_shift(4),ue=U.read_shift(4)),le!=Q&&vk(Zt,"Bad compressed size: "+Q+" != "+le),ue!=X&&vk(Zt,"Bad uncompressed size: "+X+" != "+ue),by(Y,Oe,Xe,{unsafe:!0,mt:ve})}function f7(U,Q){var X=Q||{},Y=[],Z=[],ee=he(1),oe=X.compression?8:0,ve=0,se=0,le=0,ue=0,we=0,je=U.FullPaths[0],Oe=je,_e=U.FileIndex[0],Ae=[],Xe=0;for(se=1;se<U.FullPaths.length;++se)if(Oe=U.FullPaths[se].slice(je.length),_e=U.FileIndex[se],!(!_e.size||!_e.content||Oe=="Sh33tJ5")){var Zt=ue,er=he(Oe.length);for(le=0;le<Oe.length;++le)er.write_shift(1,Oe.charCodeAt(le)&127);er=er.slice(0,er.l),Ae[we]=fNe.buf(_e.content,0);var tn=_e.content;oe==8&&(tn=G(tn)),ee=he(30),ee.write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,oe),_e.mt?i(ee,_e.mt):ee.write_shift(4,0),ee.write_shift(-4,Ae[we]),ee.write_shift(4,tn.length),ee.write_shift(4,_e.content.length),ee.write_shift(2,er.length),ee.write_shift(2,0),ue+=ee.length,Y.push(ee),ue+=er.length,Y.push(er),ue+=tn.length,Y.push(tn),ee=he(46),ee.write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,oe),ee.write_shift(4,0),ee.write_shift(-4,Ae[we]),ee.write_shift(4,tn.length),ee.write_shift(4,_e.content.length),ee.write_shift(2,er.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,Zt),Xe+=ee.l,Z.push(ee),Xe+=er.length,Z.push(er),++we}return ee=he(22),ee.write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,we),ee.write_shift(2,we),ee.write_shift(4,Xe),ee.write_shift(4,ue),ee.write_shift(2,0),$r([$r(Y),$r(Z),ee])}var rh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function p7(U,Q){if(U.ctype)return U.ctype;var X=U.name||"",Y=X.match(/\.([^\.]+)$/);return Y&&rh[Y[1]]||Q&&(Y=(X=Q).match(/[\.\\]([^\.\\])+$/),Y&&rh[Y[1]])?rh[Y[1]]:"application/octet-stream"}function m7(U){for(var Q=nm(U),X=[],Y=0;Y<Q.length;Y+=76)X.push(Q.slice(Y,Y+76));return X.join(`\r
`)+`\r
`}function h7(U){var Q=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(le){var ue=le.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Y=Q.split(`\r
`),Z=0;Z<Y.length;++Z){var ee=Y[Z];if(ee.length==0){X.push("");continue}for(var oe=0;oe<ee.length;){var ve=76,se=ee.slice(oe,oe+ve);se.charAt(ve-1)=="="?ve--:se.charAt(ve-2)=="="?ve-=2:se.charAt(ve-3)=="="&&(ve-=3),se=ee.slice(oe,oe+ve),oe+=ve,oe<ee.length&&(se+="="),X.push(se)}}return X.join(`\r
`)}function g7(U){for(var Q=[],X=0;X<U.length;++X){for(var Y=U[X];X<=U.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+U[++X];Q.push(Y)}for(var Z=0;Z<Q.length;++Z)Q[Z]=Q[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return da(Q.join(`\r
`))}function x7(U,Q,X){for(var Y="",Z="",ee="",oe,ve=0;ve<10;++ve){var se=Q[ve];if(!se||se.match(/^\s*$/))break;var le=se.match(/^(.*?):\s*([^\s].*)$/);if(le)switch(le[1].toLowerCase()){case"content-location":Y=le[2].trim();break;case"content-type":ee=le[2].trim();break;case"content-transfer-encoding":Z=le[2].trim();break}}switch(++ve,Z.toLowerCase()){case"base64":oe=da(ya(Q.slice(ve).join("")));break;case"quoted-printable":oe=g7(Q.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var ue=by(U,Y.slice(X.length),oe,{unsafe:!0});ee&&(ue.ctype=ee)}function v7(U,Q){if(B(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=Q&&Q.root||"",Y=(rt&&Buffer.isBuffer(U)?U.toString("binary"):B(U)).split(`\r
`),Z=0,ee="";for(Z=0;Z<Y.length;++Z)if(ee=Y[Z],!!/^Content-Location:/i.test(ee)&&(ee=ee.slice(ee.indexOf("file")),X||(X=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ee.slice(0,X.length)!=X););var oe=(Y[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var ve="--"+(oe[1]||""),se=[],le=[],ue={FileIndex:se,FullPaths:le};w(ue);var we,je=0;for(Z=0;Z<Y.length;++Z){var Oe=Y[Z];Oe!==ve&&Oe!==ve+"--"||(je++&&x7(ue,Y.slice(we,Z),X),we=Z)}return ue}function y7(U,Q){var X=Q||{},Y=X.boundary||"SheetJS";Y="------="+Y;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],ee=U.FullPaths[0],oe=ee,ve=U.FileIndex[0],se=1;se<U.FullPaths.length;++se)if(oe=U.FullPaths[se].slice(ee.length),ve=U.FileIndex[se],!(!ve.size||!ve.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xe){return"_x"+Xe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xe){return"_u"+Xe.charCodeAt(0).toString(16)+"_"});for(var le=ve.content,ue=rt&&Buffer.isBuffer(le)?le.toString("binary"):B(le),we=0,je=Math.min(1024,ue.length),Oe=0,_e=0;_e<=je;++_e)(Oe=ue.charCodeAt(_e))>=32&&Oe<128&&++we;var Ae=we>=je*4/5;Z.push(Y),Z.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+oe),Z.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),Z.push("Content-Type: "+p7(ve,oe)),Z.push(""),Z.push(Ae?h7(ue):m7(ue))}return Z.push(Y+`--\r
`),Z.join(`\r
`)}function b7(U){var Q={};return w(Q,U),Q}function by(U,Q,X,Y){var Z=Y&&Y.unsafe;Z||w(U);var ee=!Z&&$e.find(U,Q);if(!ee){var oe=U.FullPaths[0];Q.slice(0,oe.length)==oe?oe=Q:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+Q).replace("//","/")),ee={name:a(Q),type:2},U.FileIndex.push(ee),U.FullPaths.push(oe),Z||$e.utils.cfb_gc(U)}return ee.content=X,ee.size=X?X.length:0,Y&&(Y.CLSID&&(ee.clsid=Y.CLSID),Y.mt&&(ee.mt=Y.mt),Y.ct&&(ee.ct=Y.ct)),ee}function w7(U,Q){w(U);var X=$e.find(U,Q);if(X){for(var Y=0;Y<U.FileIndex.length;++Y)if(U.FileIndex[Y]==X)return U.FileIndex.splice(Y,1),U.FullPaths.splice(Y,1),!0}return!1}function S7(U,Q,X){w(U);var Y=$e.find(U,Q);if(Y){for(var Z=0;Z<U.FileIndex.length;++Z)if(U.FileIndex[Z]==Y)return U.FileIndex[Z].name=a(X),U.FullPaths[Z]=X,!0}return!1}function E7(U){T(U,!0)}return t.find=A,t.read=S,t.parse=d,t.write=R,t.writeFile=V,t.utils={cfb_new:b7,cfb_add:by,cfb_del:w7,cfb_mov:S7,cfb_gc:E7,ReadShift:Mf,CheckField:SB,prep_blob:Gr,bconcat:$r,use_zlib:z,_deflateRaw:Re,_inflateRaw:_a,consts:W},t}();function pNe(e){return typeof e=="string"?ry(e):Array.isArray(e)?$_e(e):e}function Hm(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=ry(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Ci(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([pNe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Vo(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function mNe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function dr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HP(e,t){for(var r=[],n=dr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function ay(e){for(var t=[],r=dr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function iy(e){for(var t=[],r=dr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function hNe(e){for(var t=[],r=dr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var cx=new Date(1899,11,30,0,0,0);function Pr(e,t){var r=e.getTime(),n=cx.getTime()+(e.getTimezoneOffset()-cx.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tB=new Date,gNe=cx.getTime()+(tB.getTimezoneOffset()-cx.getTimezoneOffset())*6e4,WP=tB.getTimezoneOffset();function sy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+gNe),t.getTimezoneOffset()!==WP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-WP)*6e4),t}function xNe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var GP=new Date("2017-02-19T19:06:09.000Z"),rB=isNaN(GP.getFullYear())?new Date("2/19/17"):GP,vNe=rB.getFullYear()==2017;function Gt(e,t){var r=new Date(e);if(vNe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rB.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Wl(e,t){if(rt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Ci(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ci(q$(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Ci(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ci(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Xt(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xt(e[r]));return t}function cr(e,t){for(var r="";r.length<t;)r+=e;return r}function di(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var yNe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qu(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&yNe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var bNe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function nB(e){return e?e.content&&e.type?Wl(e.content,!0):e.data?xf(e.data):e.asNodeBuffer&&rt?xf(e.asNodeBuffer().toString("binary")):e.asBinary?xf(e.asBinary()):e._data&&e._data.getContent?xf(Wl(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function aB(e){if(!e)return null;if(e.data)return DP(e.data);if(e.asNodeBuffer&&rt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?DP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function wNe(e){return e&&e.name.slice(-4)===".bin"?aB(e):nB(e)}function Oa(e,t){for(var r=e.FullPaths||dr(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function gN(e,t){var r=Oa(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function br(e,t,r){if(!r)return wNe(gN(e,t));if(!t)return null;try{return br(e,t)}catch{return null}}function fa(e,t,r){if(!r)return nB(gN(e,t));if(!t)return null;try{return fa(e,t)}catch{return null}}function SNe(e,t,r){return aB(gN(e,t))}function XP(e){for(var t=e.FullPaths||dr(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Ze(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return rt?n=Is(r):n=B_e(r),$e.utils.cfb_add(e,t,n)}$e.utils.cfb_add(e,t,r)}else e.file(t,r)}function xN(){return $e.utils.cfb_new()}function iB(e,t){switch(t.type){case"base64":return $e.read(e,{type:"base64"});case"binary":return $e.read(e,{type:"binary"});case"buffer":case"array":return $e.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function yf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ENe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,KP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,_Ne=/<[^>]*>/g,yn=gr.match(KP)?KP:_Ne,NNe=/<\w*:/,kNe=/<(\/?)\w+:/;function We(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(ENe),o=0,c="",u=0,d="",f="",p=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(p=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+p,f.length-p),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function qi(e){return e.replace(kNe,"<$1")}var sB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vN=ay(sB),ft=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return sB[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),yN=/[&<>'"]/g,CNe=/[\u0000-\u0008\u000b-\u001f]/g;function St(e){var t=e+"";return t.replace(yN,function(r){return vN[r]}).replace(CNe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YP(e){return St(e).replace(/ /g,"_x0020_")}var oB=/[\u0000-\u001f]/g;function bN(e){var t=e+"";return t.replace(yN,function(r){return vN[r]}).replace(/\n/g,"<br/>").replace(oB,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function TNe(e){var t=e+"";return t.replace(yN,function(r){return vN[r]}).replace(oB,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var JP=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function jNe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ht(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zb(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function QP(e){var t=No(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function ZP(e){return Is(e,"binary").toString("utf8")}var Lh="foo bar bazâð£",Tt=rt&&(ZP(Lh)==zb(Lh)&&ZP||QP(Lh)==zb(Lh)&&QP)||zb,Ci=rt?function(e){return Is(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},im=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),lB=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),ANe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),INe=/<\/?(?:vt:)?variant>/g,PNe=/<(?:vt:)([^>]*)>([\s\S]*)</;function e4(e,t){var r=We(e),n=e.match(ANe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(INe,"").match(PNe);s&&a.push({v:Tt(s[2]),t:s[1]})}),a}var cB=/(^\s|\s$|\n)/;function Xr(e,t){return"<"+e+(t.match(cB)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function sm(e){return dr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ke(e,t,r){return"<"+e+(r!=null?sm(r):"")+(t!=null?(t.match(cB)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function s2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function ONe(e,t){switch(typeof e){case"string":var r=ke("vt:lpwstr",St(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ke((e|0)==e?"vt:i4":"vt:r8",St(String(e)));case"boolean":return ke("vt:bool",e?"true":"false")}if(e instanceof Date)return ke("vt:filetime",s2(e));throw new Error("Unable to serialize "+e)}function wN(e){if(rt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Tt(Vo(pN(e)));throw new Error("Bad input format: expected Buffer or string")}var om=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,jr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},fc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],oa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function RNe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function DNe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var t4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},r4=rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Is(t)})):t4(e)}:t4,n4=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(as(e,a)));return n.join("").replace(Pn,"")},SN=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Pn,""):n4(e,t,r)}:n4,a4=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},uB=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):a4(e,t,r)}:a4,i4=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Ic(e,a)));return n.join("")},Wm=rt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):i4(t,r,n)}:i4,dB=function(e,t){var r=la(e,t);return r>0?Wm(e,t+4,t+4+r-1):""},fB=dB,pB=function(e,t){var r=la(e,t);return r>0?Wm(e,t+4,t+4+r-1):""},mB=pB,hB=function(e,t){var r=2*la(e,t);return r>0?Wm(e,t+4,t+4+r-1):""},gB=hB,xB=function(t,r){var n=la(t,r);return n>0?SN(t,r+4,r+4+n):""},vB=xB,yB=function(e,t){var r=la(e,t);return r>0?Wm(e,t+4,t+4+r):""},bB=yB,wB=function(e,t){return RNe(e,t)},ux=wB,EN=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rt&&(fB=function(t,r){if(!Buffer.isBuffer(t))return dB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},mB=function(t,r){if(!Buffer.isBuffer(t))return pB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},gB=function(t,r){if(!Buffer.isBuffer(t))return hB(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},vB=function(t,r){if(!Buffer.isBuffer(t))return xB(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},bB=function(t,r){if(!Buffer.isBuffer(t))return yB(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ux=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):wB(t,r)},EN=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ic=function(e,t){return e[t]},as=function(e,t){return e[t+1]*256+e[t]},FNe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},la=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},il=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},MNe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Mf(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,rt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(as(this,u)),u+=2;e*=2;break;case"utf8":r=Wm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=SN(this,this.l,this.l+e);break;case"wstr":return Mf.call(this,e,"dbcs");case"lpstr-ansi":r=fB(this,this.l),e=4+la(this,this.l);break;case"lpstr-cp":r=mB(this,this.l),e=4+la(this,this.l);break;case"lpwstr":r=gB(this,this.l),e=4+2*la(this,this.l);break;case"lpp4":e=4+la(this,this.l),r=vB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+la(this,this.l),r=bB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Ic(this,this.l+e++))!==0;)i.push(Mh(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=as(this,this.l+e))!==0;)i.push(Mh(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ic(this,u),this.l=u+1,o=Mf.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Mh(as(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ic(this,u),this.l=u+1,o=Mf.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Mh(Ic(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Ic(this,this.l),this.l++,n;case 2:return n=(t==="i"?FNe:as)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?il:MNe)(this,this.l),this.l+=4,n):(a=la(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ux(this,this.l):a=ux([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=uB(this,this.l,e);break}}return this.l+=e,r}var LNe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},$Ne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},BNe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function zNe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)BNe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,LNe(this,t,this.l);break;case 8:if(n=8,r==="f"){DNe(this,t,this.l);break}case 16:break;case-4:n=4,$Ne(this,t,this.l);break}return this.l+=n,this}function SB(e,t){var r=uB(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Gr(e,t){e.l=t,e.read_shift=Mf,e.chk=SB,e.write_shift=zNe}function vn(e,t){e.l+=t}function he(e){var t=No(e);return Gr(t,0),t}function Ps(e,t,r){if(e){var n,a,i;Gr(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=pm[o]||pm[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,o))return}}}function Kn(){var e=[],t=rt?256:2048,r=function(u){var d=he(u);return Gr(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),$r(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function be(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=pm[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&EN(r)&&e.push(r)}}function Lf(e,t,r){var n=Xt(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function s4(e,t,r){var n=Xt(e);return n.s=Lf(n.s,t.s,r),n.e=Lf(n.e,t.s,r),n}function $f(e,t){if(e.cRel&&e.c<0)for(e=Xt(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xt(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ve(e);return!e.cRel&&e.cRel!=null&&(r=VNe(r)),!e.rRel&&e.rRel!=null&&(r=UNe(r)),r}function Ub(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+rr(e.s.c)+":"+(e.e.cRel?"":"$")+rr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+hr(e.s.r)+":"+(e.e.rRel?"":"$")+hr(e.e.r):$f(e.s,t.biff)+":"+$f(e.e,t.biff)}function _N(e){return parseInt(qNe(e),10)-1}function hr(e){return""+(e+1)}function UNe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function qNe(e){return e.replace(/\$(\d+)$/,"$1")}function NN(e){for(var t=HNe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function rr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function VNe(e){return e.replace(/^([A-Z])/,"$$$1")}function HNe(e){return e.replace(/^\$([A-Z])/,"$1")}function WNe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ve(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Yn(e){var t=e.indexOf(":");return t==-1?{s:nr(e),e:nr(e)}:{s:nr(e.slice(0,t)),e:nr(e.slice(t+1))}}function Je(e,t){return typeof t>"u"||typeof t=="number"?Je(e.s,e.e):(typeof e!="string"&&(e=Ve(e)),typeof t!="string"&&(t=Ve(t)),e==t?e:e+":"+t)}function pt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function o4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wa(e.z,r?Pr(t):t)}catch{}try{return e.w=Wa((e.XF||{}).numFmtId||(r?14:0),r?Pr(t):t)}catch{return""+t}}function Ss(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Os[e.v]||e.v:t==null?o4(e,e.v):o4(e,t))}function Ho(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function EB(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?nr(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=pt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},h=s+f,g=o+p;if(u.s.r>h&&(u.s.r=h),u.s.c>g&&(u.s.c=g),u.e.r<h&&(u.e.r=h),u.e.c<g&&(u.e.c=g),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||qe[14],n.cellDates?(m.t="d",m.w=Wa(m.z,Pr(m.v))):(m.t="n",m.v=Pr(m.v),m.w=Wa(m.z,m.v))):m.t="s";if(a)i[h]||(i[h]=[]),i[h][g]&&i[h][g].z&&(m.z=i[h][g].z),i[h][g]=m;else{var x=Ve({c:g,r:h});i[x]&&i[x].z&&(m.z=i[x].z),i[x]=m}}}return u.s.c<1e7&&(i["!ref"]=Je(u)),i}function Id(e,t){return EB(null,e,t)}function GNe(e){return e.read_shift(4,"i")}function fi(e,t){return t||(t=he(4)),t.write_shift(4,e),t}function gn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Br(e,t){var r=!1;return t==null&&(r=!0,t=he(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function XNe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function KNe(e,t){return t||(t=he(4)),t.write_shift(2,0),t.write_shift(2,0),t}function kN(e,t){var r=e.l,n=e.read_shift(1),a=gn(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(XNe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function YNe(e,t){var r=!1;return t==null&&(r=!0,t=he(15+4*e.t.length)),t.write_shift(1,0),Br(e.t,t),r?t.slice(0,t.l):t}var JNe=kN;function QNe(e,t){var r=!1;return t==null&&(r=!0,t=he(23+4*e.t.length)),t.write_shift(1,1),Br(e.t,t),t.write_shift(4,1),KNe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Ka(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pc(e,t){return t==null&&(t=he(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function hc(e,t){return t==null&&(t=he(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var ZNe=gn,_B=Br;function CN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function dx(e,t){var r=!1;return t==null&&(r=!0,t=he(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var eke=gn,o2=CN,TN=dx;function jN(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ux([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):il(t,0)>>2;return r?a/100:a}function NB(e,t){t==null&&(t=he(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function kB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tke(e,t){return t||(t=he(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var gc=kB,Pd=tke;function mn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Gl(e,t){return(t||he(8)).write_shift(8,e,"f")}function rke(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=El[a];u&&(t.rgb=cm(u));break;case 2:t.rgb=cm([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function fx(e,t){if(t||(t=he(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function nke(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ake(e,t){t||(t=he(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function CB(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function ike(e){return CB(e,1)}function ske(e){return CB(e,2)}var AN=2,$n=3,$h=11,l4=12,px=19,Bh=64,oke=65,lke=71,cke=4108,uke=4126,Fr=80,TB=81,dke=[Fr,TB],l2={1:{n:"CodePage",t:AN},2:{n:"Category",t:Fr},3:{n:"PresentationFormat",t:Fr},4:{n:"ByteCount",t:$n},5:{n:"LineCount",t:$n},6:{n:"ParagraphCount",t:$n},7:{n:"SlideCount",t:$n},8:{n:"NoteCount",t:$n},9:{n:"HiddenCount",t:$n},10:{n:"MultimediaClipCount",t:$n},11:{n:"ScaleCrop",t:$h},12:{n:"HeadingPairs",t:cke},13:{n:"TitlesOfParts",t:uke},14:{n:"Manager",t:Fr},15:{n:"Company",t:Fr},16:{n:"LinksUpToDate",t:$h},17:{n:"CharacterCount",t:$n},19:{n:"SharedDoc",t:$h},22:{n:"HyperlinksChanged",t:$h},23:{n:"AppVersion",t:$n,p:"version"},24:{n:"DigSig",t:oke},26:{n:"ContentType",t:Fr},27:{n:"ContentStatus",t:Fr},28:{n:"Language",t:Fr},29:{n:"Version",t:Fr},255:{},2147483648:{n:"Locale",t:px},2147483651:{n:"Behavior",t:px},1919054434:{}},c2={1:{n:"CodePage",t:AN},2:{n:"Title",t:Fr},3:{n:"Subject",t:Fr},4:{n:"Author",t:Fr},5:{n:"Keywords",t:Fr},6:{n:"Comments",t:Fr},7:{n:"Template",t:Fr},8:{n:"LastAuthor",t:Fr},9:{n:"RevNumber",t:Fr},10:{n:"EditTime",t:Bh},11:{n:"LastPrinted",t:Bh},12:{n:"CreatedDate",t:Bh},13:{n:"ModifiedDate",t:Bh},14:{n:"PageCount",t:$n},15:{n:"WordCount",t:$n},16:{n:"CharCount",t:$n},17:{n:"Thumbnail",t:lke},18:{n:"Application",t:Fr},19:{n:"DocSecurity",t:$n},255:{},2147483648:{n:"Locale",t:px},2147483651:{n:"Behavior",t:px},1919054434:{}},c4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},fke=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function pke(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var mke=pke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),El=Xt(mke),Os={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jB={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},u2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},zh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function IN(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hke(e){var t=IN();if(!e||!e.match)return t;var r={};if((e.match(yn)||[]).forEach(function(n){var a=We(n);switch(a[0].replace(NNe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[u2[a.ContentType]]!==void 0&&t[u2[a.ContentType]].push(a.PartName);break}}),t.xmlns!==jr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function AB(e,t){var r=hNe(u2),n=[],a;n[n.length]=gr,n[n.length]=ke("Types",null,{xmlns:jr.CT,"xmlns:xsd":jr.xsd,"xmlns:xsi":jr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ke("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ke("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:zh[c][t.bookType]||zh[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:zh[c][t.bookType]||zh[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var nt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lm(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bf(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(yn)||[]).forEach(function(a){var i=We(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:yf(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function pu(e){var t=[gr,ke("Relationships",null,{xmlns:jr.RELS})];return dr(e["!id"]).forEach(function(r){t[t.length]=ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[nt.HLINK,nt.XPATH,nt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var gke="application/vnd.oasis.opendocument.spreadsheet";function xke(e,t){for(var r=wN(e),n,a;n=om.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=We(n[0],!1),a.path=="/"&&a.type!==gke)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function vke(e){var t=[gr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function u4(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function yke(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function bke(e){var t=[gr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(u4(e[r][0],e[r][1])),t.push(yke("",e[r][0]));return t.push(u4("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function IB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ix.version+"</meta:generator></office:meta></office:document-meta>"}var Ua=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wke=function(){for(var e=new Array(Ua.length),t=0;t<Ua.length;++t){var r=Ua[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function PB(e){var t={};e=Tt(e);for(var r=0;r<Ua.length;++r){var n=Ua[r],a=e.match(wke[r]);a!=null&&a.length>0&&(t[n[1]]=ft(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Gt(t[n[1]]))}return t}function qb(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=St(t),n[n.length]=r?ke(e,t,r):Xr(e,t))}function OB(e,t){var r=t||{},n=[gr,ke("cp:coreProperties",null,{"xmlns:cp":jr.CORE_PROPS,"xmlns:dc":jr.dc,"xmlns:dcterms":jr.dcterms,"xmlns:dcmitype":jr.dcmitype,"xmlns:xsi":jr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&qb("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:s2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&qb("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:s2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ua.length;++i){var s=Ua[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&qb(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var _l=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],RB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function DB(e,t,r,n){var a=[];if(typeof e=="string")a=e4(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?e4(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function Ske(e,t,r){var n={};return t||(t={}),e=Tt(e),_l.forEach(function(a){var i=(e.match(im(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=ft(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&DB(n.HeadingPairs,n.TitlesOfParts,t,r),t}function FB(e){var t=[],r=ke;return e||(e={}),e.Application="SheetJS",t[t.length]=gr,t[t.length]=ke("Properties",null,{xmlns:jr.EXT_PROPS,"xmlns:vt":jr.vt}),_l.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=St(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+St(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Eke=/<[^>]+>[^<]*/g;function _ke(e,t){var r={},n="",a=e.match(Eke);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=We(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=ft(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=ft(d);break;case"bool":r[n]=Ht(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Gt(d);break;case"cy":case"error":r[n]=ft(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function MB(e){var t=[gr,ke("Properties",null,{xmlns:jr.CUST_PROPS,"xmlns:vt":jr.vt})];if(!e)return t.join("");var r=1;return dr(e).forEach(function(a){++r,t[t.length]=ke("property",ONe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:St(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var d2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Vb;function Nke(e,t,r){Vb||(Vb=ay(d2)),t=Vb[t]||t,e[t]=r}function kke(e,t){var r=[];return dr(d2).map(function(n){for(var a=0;a<Ua.length;++a)if(Ua[a][1]==n)return Ua[a];for(a=0;a<_l.length;++a)if(_l[a][1]==n)return _l[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Xr(d2[n[1]]||n[1],a))}}),ke("DocumentProperties",r.join(""),{xmlns:oa.o})}function Cke(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&dr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Ua.length;++s)if(i==Ua[s][1])return;for(s=0;s<_l.length;++s)if(i==_l[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(ke(YP(i),o,{"dt:dt":c}))}}),t&&dr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ke(YP(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+oa.o+'">'+a.join("")+"</"+n+">"}function PN(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Tke(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=he(8);return s.write_shift(4,n),s.write_shift(4,a),s}function LB(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function $B(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function BB(e,t,r){return t===31?$B(e):LB(e,t,r)}function f2(e,t,r){return BB(e,t,r===!1?0:4)}function jke(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return BB(e,t,0)}function Ake(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Pn,""),e.l-a&2&&(e.l+=2)}return r}function Ike(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Pn,"");return r}function Pke(e){var t=e.l,r=mx(e,TB);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=mx(e,$n);return[r,n]}function Oke(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Pke(e));return r}function d4(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Pn,"").replace(vf,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function zB(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Rke(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function mx(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==l4&&n!==t&&dke.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===l4?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return LB(e,n,4).replace(Pn,"");case 31:return $B(e);case 64:return PN(e);case 65:return zB(e);case 71:return Rke(e);case 80:return f2(e,n,!i.raw).replace(Pn,"");case 81:return jke(e,n).replace(Pn,"");case 4108:return Oke(e);case 4126:case 4127:return n==4127?Ake(e):Ike(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function f4(e,t){var r=he(4),n=he(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=he(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Tke(t);break;case 31:case 80:for(n=he(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return $r([r,n])}function p4(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,c=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(b,y){return b[1]-y[1]});var p={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var m=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(m=!1,e.l=i[s][1]),m)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var h=t[i[s][0]];if(p[h.n]=mx(e,h.t,{raw:!0}),h.p==="version"&&(p[h.n]=String(p[h.n]>>16)+"."+("0000"+String(p[h.n]&65535)).slice(-4)),h.n=="CodePage")switch(p[h.n]){case 0:p[h.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ii(o=p[h.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[h.n])}}else if(i[s][0]===1){if(o=p.CodePage=mx(e,AN),ii(o),c!==-1){var g=e.l;e.l=i[c][1],u=d4(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}u=d4(e,o)}else{var x=u[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=zB(e);break;case 30:e.l+=4,v=f2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=f2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=fr(e,4);break;case 64:e.l+=4,v=Gt(PN(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[x]=v}}return e.l=r+n,p}var UB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Dke(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function m4(e,t,r){var n=he(8),a=[],i=[],s=8,o=0,c=he(8),u=he(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=he(8),u.write_shift(4,0),a.unshift(u);var d=[he(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=he(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=$r(d),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(UB.indexOf(e[o][0])>-1||RB.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],m=0;if(t){m=+t[e[o][0]];var h=r[m];if(h.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=f4(h.t,p)}else{var x=Dke(p);x==-1&&(x=31,p=String(p)),c=f4(x,p)}i.push(c),u=he(8),u.write_shift(4,t?m:2+o),a.push(u),s+=8+c.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),$r([n].concat(a).concat(i))}function h4(e,t,r){var n=e.content;if(!n)return{};Gr(n,0);var a,i,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==$e.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=p4(n,t),p={SystemIdentifier:u};for(var m in f)p[m]=f[m];if(p.FMTID=i,a===1)return p;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var h;try{h=p4(n,null)}catch{}for(m in h)p[m]=h[m];return p.FMTID=[i,s],p}function g4(e,t,r,n,a,i){var s=he(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,$e.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=m4(e,r,n);if(o.push(c),a){var u=m4(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return $r(o)}function Bs(e,t){return e.read_shift(t),null}function Fke(e,t){t||(t=he(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Mke(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function fr(e,t){return e.read_shift(t)===1}function kn(e,t){return t||(t=he(2)),t.write_shift(2,+!!e),t}function wr(e){return e.read_shift(2,"u")}function Ra(e,t){return t||(t=he(2)),t.write_shift(2,e),t}function qB(e,t){return Mke(e,t,wr)}function Lke(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function VB(e,t,r){return r||(r=he(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Gm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function $ke(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,c={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Bke(e){var t=e.t||"",r=he(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=he(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return $r(a)}function Xl(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Xm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Xl(e,n,r)}function xc(e,t,r){if(r.biff>5)return Xm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function HB(e,t,r){return r||(r=he(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function zke(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Uke(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Pn,"");return n&&(e.l+=24),a}function qke(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Pn,"");return r+s}function Vke(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Uke(e);case"0303000000000000c000000000000046":return qke(e);default:throw new Error("Unsupported Moniker "+r)}}function Uh(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Pn,""):"";return r}function x4(e,t){t||(t=he(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Hke(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,c,u="",d,f;a&16&&(i=Uh(e,r-e.l)),a&128&&(s=Uh(e,r-e.l)),(a&257)===257&&(o=Uh(e,r-e.l)),(a&257)===1&&(c=Vke(e,r-e.l)),a&8&&(u=Uh(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=PN(e)),e.l=r;var p=s||o||c||"";p&&u&&(p+="#"+u),p||(p="#"+u),a&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function Wke(e){var t=he(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),x4(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&x4(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function WB(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function GB(e,t){var r=WB(e);return r[3]=0,r}function Vi(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Kl(e,t,r,n){return n||(n=he(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Gke(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Xke(e,t,r){return t===0?"":xc(e,t,r)}function Kke(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function XB(e){var t=e.read_shift(2),r=jN(e);return[t,r]}function Yke(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Gm(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function oy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function KB(e,t){return t||(t=he(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function YB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Jke=YB;function JB(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Qke(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Zke(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function an(e){e.l+=2,e.l+=e.read_shift(2)}var eCe={0:an,4:an,5:an,6:an,7:Zke,8:an,9:an,10:an,11:an,12:an,13:Qke,14:an,15:an,16:an,17:an,18:an,19:an,20:an,21:JB};function tCe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(eCe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function qh(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function ON(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=he(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function rCe(e,t){return t===0||e.read_shift(2),1200}function nCe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xc(e,0,r);return e.read_shift(t+n-e.l),a}function aCe(e,t){var r=!t||t.biff==8,n=he(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function iCe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function sCe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Gm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function oCe(e,t){var r=!t||t.biff>=8?2:1,n=he(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function lCe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push($ke(e));return i.Count=n,i.Unique=a,i}function cCe(e,t){var r=he(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Bke(e[a]);var i=$r([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function uCe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function dCe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function fCe(e){var t=Gke(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function pCe(e){return e.read_shift(2),e.read_shift(4)}function v4(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function mCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function hCe(){var e=he(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function gCe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function xCe(e){var t=he(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function vCe(){}function yCe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Gm(e,0,r),n}function bCe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=he(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function wCe(e){var t=Vi(e);return t.isst=e.read_shift(4),t}function SCe(e,t,r,n){var a=he(10);return Kl(e,t,n,a),a.write_shift(4,r),a}function ECe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Vi(e);r.biff==2&&e.l++;var i=Xm(e,n-e.l,r);return a.val=i,a}function _Ce(e,t,r,n,a){var i=!a||a.biff==8,s=he(8+ +i+(1+i)*r.length);return Kl(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function NCe(e,t,r){var n=e.read_shift(2),a=xc(e,0,r);return[n,a]}function kCe(e,t,r,n){var a=r&&r.biff==5;n||(n=he(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var CCe=xc;function y4(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c}}}function TCe(e,t){var r=t.biff==8||!t.biff?4:2,n=he(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function jCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=XB(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function ACe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(XB(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function ICe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function PCe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=fke[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function OCe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=PCe(e,t,n.fStyle,r),n}function b4(e,t,r,n){var a=r&&r.biff==5;n||(n=he(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function RCe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function DCe(e){var t=he(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function w4(e,t,r){var n=Vi(e);(r.biff==2||t==9)&&++e.l;var a=Lke(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function FCe(e,t,r,n,a,i){var s=he(8);return Kl(e,t,n,s),VB(r,i,s),s}function MCe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vi(e),a=mn(e);return n.val=a,n}function LCe(e,t,r,n){var a=he(14);return Kl(e,t,n,a),Gl(r,a),a}var S4=Xke;function $Ce(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Xl(e,i),o=[];n>e.l;)o.push(Xm(e));return[i,a,s,o]}function E4(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Yke(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var BCe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _4(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Xl(e,s,r);a&32&&(u=BCe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:tPe(e,d,r,o);return{chKey:i,Name:u,itab:c,rgce:f}}function QB(e,t,r){if(r.biff<8)return zCe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Kke(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function zCe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Gm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function UCe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Xl(e,n,r),s=Xl(e,a,r);return[i,s]}function qCe(e,t,r){var n=YB(e);e.l++;var a=e.read_shift(1);return t-=8,[rPe(e,t,r),a,n]}function N4(e,t,r){var n=Jke(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,ZIe(e,t,r)]}function VCe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function HCe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=xc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function WCe(e,t,r){return HCe(e,t,r)}function GCe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(oy(e));return r}function XCe(e){var t=he(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)KB(e[r],t);return t}function KCe(e,t,r){if(r&&r.biff<8)return JCe(e,t,r);var n=JB(e),a=tCe(e,t-22,n[1]);return{cmo:n,ft:a}}var YCe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function JCe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((YCe[n]||vn)(e,t,r)),{cmo:[a,n,i],ft:s}}function QCe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=zke(e,6,r);var o=e.read_shift(2);e.read_shift(2),wr(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Xl(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function ZCe(e,t){var r=oy(e);e.l+=16;var n=Hke(e,t-24);return[r,n]}function eTe(e){var t=he(24),r=nr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return $r([t,Wke(e[1])])}function tTe(e,t){e.read_shift(2);var r=oy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Pn,""),[r,n]}function rTe(e){var t=e[1].Tooltip,r=he(10+2*(t.length+1));r.write_shift(2,2048);var n=nr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function nTe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=c4[r]||r,r=e.read_shift(2),t[1]=c4[r]||r,t}function aTe(e){return e||(e=he(4)),e.write_shift(2,1),e.write_shift(2,1),e}function iTe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(GB(e));return r}function sTe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(GB(e));return r}function oTe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function ZB(e,t,r){if(!r.cellStyles)return vn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function lTe(e,t){var r=he(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function cTe(e,t){var r={};return t<32||(e.l+=16,r.header=mn(e),r.footer=mn(e),e.l+=2),r}function uTe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function dTe(e){for(var t=he(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var fTe=Vi,pTe=qB,mTe=Xm;function hTe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function gTe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vi(e);++e.l;var a=xc(e,t-7,r);return n.t="str",n.val=a,n}function xTe(e){var t=Vi(e);++e.l;var r=mn(e);return t.t="n",t.val=r,t}function vTe(e,t,r){var n=he(15);return Qm(n,e,t),n.write_shift(8,r,"f"),n}function yTe(e){var t=Vi(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function bTe(e,t,r){var n=he(9);return Qm(n,e,t),n.write_shift(2,r),n}function wTe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function STe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function ETe(e,t,r){var n=e.l+t,a=Vi(e),i=e.read_shift(2),s=Xl(e,i,r);return e.l=n,a.t="str",a.val=s,a}var _Te=[2,3,48,49,131,139,140,245],p2=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ay({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=No(1);switch(c.type){case"base64":d=da(ya(o));break;case"binary":d=da(o);break;case"buffer":case"array":d=o;break}Gr(d,0);var f=d.read_shift(1),p=!!(f&136),m=!1,h=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:h=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),h&&(d.l+=36);for(var y=[],k={},E=Math.min(d.length,f==2?521:x-10-(m?264:0)),S=h?32:11;d.l<E&&d[d.l]!=13;)switch(k={},k.name=Qs.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,k.type=String.fromCharCode(d.read_shift(1)),f!=2&&!h&&(k.offset=d.read_shift(4)),k.len=d.read_shift(1),f==2&&(k.offset=d.read_shift(2)),k.dec=d.read_shift(1),k.name.length&&y.push(k),f!=2&&(d.l+=h?13:14),k.type){case"B":(!m||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var w=0,j=0;for(u[0]=[],j=0;j!=y.length;++j)u[0][j]=y[j].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++w]=[],j=0,j=0;j!=y.length;++j){var T=d.slice(d.l,d.l+y[j].len);d.l+=y[j].len,Gr(T,0);var C=Qs.utils.decode(b,T);switch(y[j].type){case"C":C.trim().length&&(u[w][j]=C.replace(/\s+$/,""));break;case"D":C.length===8?u[w][j]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):u[w][j]=C;break;case"F":u[w][j]=parseFloat(C.trim());break;case"+":case"I":u[w][j]=h?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":u[w][j]=!0;break;case"N":case"F":u[w][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[w][j]="##MEMO##"+(h?parseInt(C.trim(),10):T.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(u[w][j]=+C||0);break;case"@":u[w][j]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[w][j]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[w][j]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[w][j]=-T.read_shift(-8,"f");break;case"B":if(m&&y[j].len==8){u[w][j]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[j].len;break;case"0":if(y[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[j].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Id(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return Ho(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&ii(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Kn(),f=xx(o,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),h=o["!cols"]||[],g=0,x=0,v=0,b=1;for(g=0;g<p.length;++g){if(((h[g]||{}).DBF||{}).name){p[g]=h[g].DBF.name,++v;continue}if(p[g]!=null){if(++v,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(x=0;x<1024;++x)if(p.indexOf(p[g]+"_"+x)==-1){p[g]+="_"+x;break}}}}var y=pt(o["!ref"]),k=[],E=[],S=[];for(g=0;g<=y.e.c-y.s.c;++g){var w="",j="",T=0,C=[];for(x=0;x<m.length;++x)m[x][g]!=null&&C.push(m[x][g]);if(C.length==0||p[g]==null){k[g]="?";continue}for(x=0;x<C.length;++x){switch(typeof C[x]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=C[x]instanceof Date?"D":"C";break;default:j="C"}T=Math.max(T,String(C[x]).length),w=w&&w!=j?"C":j}T>250&&(T=250),j=((h[g]||{}).DBF||{}).type,j=="C"&&h[g].DBF.len>T&&(T=h[g].DBF.len),w=="B"&&j=="N"&&(w="N",S[g]=h[g].DBF.dec,T=h[g].DBF.len),E[g]=w=="C"||j=="N"?T:i[w]||0,b+=E[g],k[g]=w}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,m.length),A.write_shift(2,296+32*v),A.write_shift(2,b),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[U$]||3)<<8),g=0,x=0;g<p.length;++g)if(p[g]!=null){var N=d.next(32),I=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,I,"sbcs"),N.write_shift(1,k[g]=="?"?"C":k[g],"sbcs"),N.write_shift(4,x),N.write_shift(1,E[g]||i[k[g]]||0),N.write_shift(1,S[g]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),x+=E[g]||i[k[g]]||0}var M=d.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<m.length;++g){var F=d.next(b);for(F.write_shift(1,0),x=0;x<p.length;++x)if(p[x]!=null)switch(k[x]){case"L":F.write_shift(1,m[g][x]==null?63:m[g][x]?84:70);break;case"B":F.write_shift(8,m[g][x]||0,"f");break;case"N":var q="0";for(typeof m[g][x]=="number"&&(q=m[g][x].toFixed(S[x]||0)),v=0;v<E[x]-q.length;++v)F.write_shift(1,32);F.write_shift(1,q,"sbcs");break;case"D":m[g][x]?(F.write_shift(4,("0000"+m[g][x].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(m[g][x].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+m[g][x].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[g][x]!=null?m[g][x]:"").slice(0,E[x]);for(F.write_shift(1,W,"sbcs"),v=0;v<E[x]-W.length;++v)F.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),ez=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+dr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,m){var h=e[m];return typeof h=="number"?FP(h):h},n=function(p,m,h){var g=m.charCodeAt(0)-32<<4|h.charCodeAt(0)-48;return g==59?p:FP(g)};e["|"]=254;function a(p,m){switch(m.type){case"base64":return i(ya(p),m);case"binary":return i(p,m);case"buffer":return i(rt&&Buffer.isBuffer(p)?p.toString("binary"):Vo(p),m);case"array":return i(Wl(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var h=p.split(/[\n\r]+/),g=-1,x=-1,v=0,b=0,y=[],k=[],E=null,S={},w=[],j=[],T=[],C=0,A;for(+m.codepage>=0&&ii(+m.codepage);v!==h.length;++v){C=0;var N=h[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=N.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),M=I[0],F;if(N.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&k.push(N.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,W=!1,V=!1,B=!1,R=-1,ne=-1;for(b=1;b<I.length;++b)switch(I[b].charAt(0)){case"A":break;case"X":x=parseInt(I[b].slice(1))-1,W=!0;break;case"Y":for(g=parseInt(I[b].slice(1))-1,W||(x=0),A=y.length;A<=g;++A)y[A]=[];break;case"K":F=I[b].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(di(F))?isNaN(Qu(F).getDate())||(F=Gt(F)):(F=di(F),E!==null&&jd(E)&&(F=sy(F))),q=!0;break;case"E":B=!0;var z=mu(I[b].slice(1),{r:g,c:x});y[g][x]=[y[g][x],z];break;case"S":V=!0,y[g][x]=[y[g][x],"S5S"];break;case"G":break;case"R":R=parseInt(I[b].slice(1))-1;break;case"C":ne=parseInt(I[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}if(q&&(y[g][x]&&y[g][x].length==2?y[g][x][0]=F:y[g][x]=F,E=null),V){if(B)throw new Error("SYLK shared formula cannot have own formula");var P=R>-1&&y[R][ne];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");y[g][x][1]=vz(P[1],{r:g-R,c:x-ne})}break;case"F":var G=0;for(b=1;b<I.length;++b)switch(I[b].charAt(0)){case"X":x=parseInt(I[b].slice(1))-1,++G;break;case"Y":for(g=parseInt(I[b].slice(1))-1,A=y.length;A<=g;++A)y[A]=[];break;case"M":C=parseInt(I[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=k[parseInt(I[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=I[b].slice(1).split(" "),A=parseInt(T[0],10);A<=parseInt(T[1],10);++A)C=parseInt(T[2],10),j[A-1]=C===0?{hidden:!0}:{wch:C},ko(j[A-1]);break;case"C":x=parseInt(I[b].slice(1))-1,j[x]||(j[x]={});break;case"R":g=parseInt(I[b].slice(1))-1,w[g]||(w[g]={}),C>0?(w[g].hpt=C,w[g].hpx=ed(C)):C===0&&(w[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}G<1&&(E=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}}return w.length>0&&(S["!rows"]=w),j.length>0&&(S["!cols"]=j),m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),[y,S]}function s(p,m){var h=a(p,m),g=h[0],x=h[1],v=Id(g,m);return dr(x).forEach(function(b){v[b]=x[b]}),v}function o(p,m){return Ho(s(p,m),m)}function c(p,m,h,g){var x="C;Y"+(h+1)+";X"+(g+1)+";K";switch(p.t){case"n":x+=p.v||0,p.f&&!p.F&&(x+=";E"+$N(p.f,{r:h,c:g}));break;case"b":x+=p.v?"TRUE":"FALSE";break;case"e":x+=p.w||p.v;break;case"d":x+='"'+(p.w||p.v)+'"';break;case"s":x+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(p,m){m.forEach(function(h,g){var x="F;W"+(g+1)+" "+(g+1)+" ";h.hidden?x+="0":(typeof h.width=="number"&&!h.wpx&&(h.wpx=um(h.width)),typeof h.wpx=="number"&&!h.wch&&(h.wch=dm(h.wpx)),typeof h.wch=="number"&&(x+=Math.round(h.wch))),x.charAt(x.length-1)!=" "&&p.push(x)})}function d(p,m){m.forEach(function(h,g){var x="F;";h.hidden?x+="M0;":h.hpt?x+="M"+20*h.hpt+";":h.hpx&&(x+="M"+20*fm(h.hpx)+";"),x.length>2&&p.push(x+"R"+(g+1))})}function f(p,m){var h=["ID;PWXL;N;E"],g=[],x=pt(p["!ref"]),v,b=Array.isArray(p),y=`\r
`;h.push("P;PGeneral"),h.push("F;P0;DG0G8;M255"),p["!cols"]&&u(h,p["!cols"]),p["!rows"]&&d(h,p["!rows"]),h.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var k=x.s.r;k<=x.e.r;++k)for(var E=x.s.c;E<=x.e.c;++E){var S=Ve({r:k,c:E});v=b?(p[k]||[])[E]:p[S],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,p,k,E))}return h.join(y)+y+g.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),tz=function(){function e(i,s){switch(s.type){case"base64":return t(ya(i),s);case"binary":return t(i,s);case"buffer":return t(rt&&Buffer.isBuffer(i)?i.toString("binary"):Vo(i),s);case"array":return t(Wl(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var p=o[d].trim().split(","),m=p[0],h=p[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(di(h))?isNaN(Qu(h).getDate())?f[c][u]=h:f[c][u]=Gt(h):f[c][u]=di(h),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Id(e(i,s),s)}function n(i,s){return Ho(r(i,s),s)}var a=function(){var i=function(c,u,d,f,p){c.push(u),c.push(d+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=pt(c["!ref"]),f,p=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){s(u,-1,0,"BOT");for(var h=d.s.c;h<=d.e.c;++h){var g=Ve({r:m,c:h});if(f=p?(c[m]||[])[h]:c[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Wa(f.z||qe[14],Pr(Gt(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),rz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,p){for(var m=f.split(`
`),h=-1,g=-1,x=0,v=[];x!==m.length;++x){var b=m[x].trim().split(":");if(b[0]==="cell"){var y=nr(b[1]);if(v.length<=y.r)for(h=v.length;h<=y.r;++h)v[h]||(v[h]=[]);switch(h=y.r,g=y.c,b[2]){case"t":v[h][g]=e(b[3]);break;case"v":v[h][g]=+b[3];break;case"vtf":var k=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[h][g]=!!+b[4];break;default:v[h][g]=+b[4];break}b[2]=="vtf"&&(v[h][g]=[v[h][g],k])}}}return p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),v}function n(f,p){return Id(r(f,p),p)}function a(f,p){return Ho(n(f,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],h,g="",x=Yn(f["!ref"]),v=Array.isArray(f),b=x.s.r;b<=x.e.r;++b)for(var y=x.s.c;y<=x.e.c;++y)if(g=Ve({r:b,c:y}),h=v?(f[b]||[])[y]:f[g],!(!h||h.v==null||h.t==="z")){switch(m=["cell",g,"t"],h.t){case"s":case"str":m.push(t(h.v));break;case"n":h.f?(m[2]="vtf",m[3]="n",m[4]=h.v,m[5]=t(h.f)):(m[2]="v",m[3]=h.v);break;case"b":m[2]="vt"+(h.f?"f":"c"),m[3]="nl",m[4]=h.v?"1":"0",m[5]=t(h.f||(h.v?"TRUE":"FALSE"));break;case"d":var k=Pr(Gt(h.v));m[2]="vtc",m[3]="nd",m[4]=""+k,m[5]=h.w||Wa(h.z||qe[14],k);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[i,s,o,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Zu=function(){function e(d,f,p,m,h){h.raw?f[p][m]=d:d===""||(d==="TRUE"?f[p][m]=!0:d==="FALSE"?f[p][m]=!1:isNaN(di(d))?isNaN(Qu(d).getDate())?f[p][m]=d:f[p][m]=Gt(d):f[p][m]=di(d))}function t(d,f){var p=f||{},m=[];if(!d||d.length===0)return m;for(var h=d.split(/[\r\n]/),g=h.length-1;g>=0&&h[g].length===0;)--g;for(var x=10,v=0,b=0;b<=g;++b)v=h[b].indexOf(" "),v==-1?v=h[b].length:v++,x=Math.max(x,v);for(b=0;b<=g;++b){m[b]=[];var y=0;for(e(h[b].slice(0,x).trim(),m,b,y,p),y=1;y<=(h[b].length-x)/10+1;++y)e(h[b].slice(x+(y-1)*10,x+y*10).trim(),m,b,y,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},p=!1,m=0,h=0;m<d.length;++m)(h=d.charCodeAt(m))==34?p=!p:!p&&h in r&&(f[h]=(f[h]||0)+1);h=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&h.push([f[m],m]);if(!h.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&h.push([f[m],m])}return h.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[h.pop()[1]]||44}function i(d,f){var p=f||{},m="",h=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):p&&p.FS?m=p.FS:m=a(d.slice(0,1024));var x=0,v=0,b=0,y=0,k=0,E=m.charCodeAt(0),S=!1,w=0,j=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=p.dateNF!=null?uNe(p.dateNF):null;function C(){var A=d.slice(y,k),N={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)N.t="z";else if(p.raw)N.t="s",N.v=A;else if(A.trim().length===0)N.t="s",N.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(N.t="s",N.v=A.slice(2,-1).replace(/""/g,'"')):$Ae(A)?(N.t="n",N.f=A.slice(1)):(N.t="s",N.v=A);else if(A=="TRUE")N.t="b",N.v=!0;else if(A=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=di(A)))N.t="n",p.cellText!==!1&&(N.w=A),N.v=b;else if(!isNaN(Qu(A).getDate())||T&&A.match(T)){N.z=p.dateNF||qe[14];var I=0;T&&A.match(T)&&(A=dNe(A,p.dateNF,A.match(T)||[]),I=1),p.cellDates?(N.t="d",N.v=Gt(A,I)):(N.t="n",N.v=Pr(Gt(A,I))),p.cellText!==!1&&(N.w=Wa(N.z,N.v instanceof Date?Pr(N.v):N.v)),p.cellNF||delete N.z}else N.t="s",N.v=A;if(N.t=="z"||(p.dense?(h[x]||(h[x]=[]),h[x][v]=N):h[Ve({c:v,r:x})]=N),y=k+1,j=d.charCodeAt(y),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),w==E)++v;else if(v=0,++x,p.sheetRows&&p.sheetRows<=x)return!0}e:for(;k<d.length;++k)switch(w=d.charCodeAt(k)){case 34:j===34&&(S=!S);break;case E:case 10:case 13:if(!S&&C())break e;break}return k-y>0&&C(),h["!ref"]=Je(g),h}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Id(t(d,f),f)}function o(d,f){var p="",m=f.type=="string"?[0,0,0,0]:GN(d,f);switch(f.type){case"base64":p=ya(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof Qs<"u"?p=Qs.utils.decode(f.codepage,d):p=rt&&Buffer.isBuffer(d)?d.toString("binary"):Vo(d);break;case"array":p=Wl(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Tt(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=Tt(p):f.type=="binary"&&typeof Qs<"u"&&f.codepage&&(p=Qs.utils.decode(f.codepage,Qs.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?rz.to_sheet(f.type=="string"?p:Tt(p),f):s(p,f)}function c(d,f){return Ho(o(d,f),f)}function u(d){for(var f=[],p=pt(d["!ref"]),m,h=Array.isArray(d),g=p.s.r;g<=p.e.r;++g){for(var x=[],v=p.s.c;v<=p.e.c;++v){var b=Ve({r:g,c:v});if(m=h?(d[g]||[])[v]:d[b],!m||m.v==null){x.push("          ");continue}for(var y=(m.w||(Ss(m),m.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function NTe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=ez.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Zu.to_workbook(e,t)}}var Nl=function(){function e(z,P,G){if(z){Gr(z,z.l||0);for(var J=G.Enum||R;z.l<z.length;){var te=z.read_shift(2),re=J[te]||J[65535],D=z.read_shift(2),H=z.l+D,L=re.f&&re.f(z,D,G);if(z.l=H,P(L,re,te))return}}}function t(z,P){switch(P.type){case"base64":return r(da(ya(z)),P);case"binary":return r(da(z),P);case"buffer":case"array":return r(z,P)}throw"Unsupported type "+P.type}function r(z,P){if(!z)return z;var G=P||{},J=G.dense?[]:{},te="Sheet1",re="",D=0,H={},L=[],K=[],O={s:{r:0,c:0},e:{r:0,c:0}},pe=G.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)G.Enum=R,e(z,function(me,Le,ct){switch(ct){case 0:G.vers=me,me>=4096&&(G.qpro=!0);break;case 6:O=me;break;case 204:me&&(re=me);break;case 222:re=me;break;case 15:case 51:G.qpro||(me[1].v=me[1].v.slice(1));case 13:case 14:case 16:ct==14&&(me[2]&112)==112&&(me[2]&15)>1&&(me[2]&15)<15&&(me[1].z=G.dateNF||qe[14],G.cellDates&&(me[1].t="d",me[1].v=sy(me[1].v))),G.qpro&&me[3]>D&&(J["!ref"]=Je(O),H[te]=J,L.push(te),J=G.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},D=me[3],te=re||"Sheet"+(D+1),re="");var Kt=G.dense?(J[me[0].r]||[])[me[0].c]:J[Ve(me[0])];if(Kt){Kt.t=me[1].t,Kt.v=me[1].v,me[1].z!=null&&(Kt.z=me[1].z),me[1].f!=null&&(Kt.f=me[1].f);break}G.dense?(J[me[0].r]||(J[me[0].r]=[]),J[me[0].r][me[0].c]=me[1]):J[Ve(me[0])]=me[1];break}},G);else if(z[2]==26||z[2]==14)G.Enum=ne,z[2]==14&&(G.qpro=!0,z.l=0),e(z,function(me,Le,ct){switch(ct){case 204:te=me;break;case 22:me[1].v=me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(me[3]>D&&(J["!ref"]=Je(O),H[te]=J,L.push(te),J=G.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},D=me[3],te="Sheet"+(D+1)),pe>0&&me[0].r>=pe)break;G.dense?(J[me[0].r]||(J[me[0].r]=[]),J[me[0].r][me[0].c]=me[1]):J[Ve(me[0])]=me[1],O.e.c<me[0].c&&(O.e.c=me[0].c),O.e.r<me[0].r&&(O.e.r=me[0].r);break;case 27:me[14e3]&&(K[me[14e3][0]]=me[14e3][1]);break;case 1537:K[me[0]]=me[1],me[0]==D&&(te=me[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(J["!ref"]=Je(O),H[re||te]=J,L.push(re||te),!K.length)return{SheetNames:L,Sheets:H};for(var ie={},de=[],ye=0;ye<K.length;++ye)H[L[ye]]?(de.push(K[ye]||L[ye]),ie[K[ye]]=H[K[ye]]||H[L[ye]]):(de.push(K[ye]),ie[K[ye]]={"!ref":"A1"});return{SheetNames:de,Sheets:ie}}function n(z,P){var G=P||{};if(+G.codepage>=0&&ii(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Kn(),te=pt(z["!ref"]),re=Array.isArray(z),D=[];Ce(J,0,i(1030)),Ce(J,6,c(te));for(var H=Math.min(te.e.r,8191),L=te.s.r;L<=H;++L)for(var K=hr(L),O=te.s.c;O<=te.e.c;++O){L===te.s.r&&(D[O]=rr(O));var pe=D[O]+K,ie=re?(z[L]||[])[O]:z[pe];if(!(!ie||ie.t=="z"))if(ie.t=="n")(ie.v|0)==ie.v&&ie.v>=-32768&&ie.v<=32767?Ce(J,13,m(L,O,ie.v)):Ce(J,14,g(L,O,ie.v));else{var de=Ss(ie);Ce(J,15,f(L,O,de.slice(0,239)))}}return Ce(J,1),J.end()}function a(z,P){var G=P||{};if(+G.codepage>=0&&ii(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Kn();Ce(J,0,s(z));for(var te=0,re=0;te<z.SheetNames.length;++te)(z.Sheets[z.SheetNames[te]]||{})["!ref"]&&Ce(J,27,B(z.SheetNames[te],re++));var D=0;for(te=0;te<z.SheetNames.length;++te){var H=z.Sheets[z.SheetNames[te]];if(!(!H||!H["!ref"])){for(var L=pt(H["!ref"]),K=Array.isArray(H),O=[],pe=Math.min(L.e.r,8191),ie=L.s.r;ie<=pe;++ie)for(var de=hr(ie),ye=L.s.c;ye<=L.e.c;++ye){ie===L.s.r&&(O[ye]=rr(ye));var me=O[ye]+de,Le=K?(H[ie]||[])[ye]:H[me];if(!(!Le||Le.t=="z"))if(Le.t=="n")Ce(J,23,C(ie,ye,D,Le.v));else{var ct=Ss(Le);Ce(J,22,w(ie,ye,D,ct.slice(0,239)))}}++D}}return Ce(J,1),J.end()}function i(z){var P=he(2);return P.write_shift(2,z),P}function s(z){var P=he(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var G=0,J=0,te=0,re=0;re<z.SheetNames.length;++re){var D=z.SheetNames[re],H=z.Sheets[D];if(!(!H||!H["!ref"])){++te;var L=Yn(H["!ref"]);G<L.e.r&&(G=L.e.r),J<L.e.c&&(J=L.e.c)}}return G>8191&&(G=8191),P.write_shift(2,G),P.write_shift(1,te),P.write_shift(1,J),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function o(z,P,G){var J={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&G.qpro?(J.s.c=z.read_shift(1),z.l++,J.s.r=z.read_shift(2),J.e.c=z.read_shift(1),z.l++,J.e.r=z.read_shift(2),J):(J.s.c=z.read_shift(2),J.s.r=z.read_shift(2),P==12&&G.qpro&&(z.l+=2),J.e.c=z.read_shift(2),J.e.r=z.read_shift(2),P==12&&G.qpro&&(z.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function c(z){var P=he(8);return P.write_shift(2,z.s.c),P.write_shift(2,z.s.r),P.write_shift(2,z.e.c),P.write_shift(2,z.e.r),P}function u(z,P,G){var J=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(J[0].c=z.read_shift(1),J[3]=z.read_shift(1),J[0].r=z.read_shift(2),z.l+=2):(J[2]=z.read_shift(1),J[0].c=z.read_shift(2),J[0].r=z.read_shift(2)),J}function d(z,P,G){var J=z.l+P,te=u(z,P,G);if(te[1].t="s",G.vers==20768){z.l++;var re=z.read_shift(1);return te[1].v=z.read_shift(re,"utf8"),te}return G.qpro&&z.l++,te[1].v=z.read_shift(J-z.l,"cstr"),te}function f(z,P,G){var J=he(7+G.length);J.write_shift(1,255),J.write_shift(2,P),J.write_shift(2,z),J.write_shift(1,39);for(var te=0;te<J.length;++te){var re=G.charCodeAt(te);J.write_shift(1,re>=128?95:re)}return J.write_shift(1,0),J}function p(z,P,G){var J=u(z,P,G);return J[1].v=z.read_shift(2,"i"),J}function m(z,P,G){var J=he(7);return J.write_shift(1,255),J.write_shift(2,P),J.write_shift(2,z),J.write_shift(2,G,"i"),J}function h(z,P,G){var J=u(z,P,G);return J[1].v=z.read_shift(8,"f"),J}function g(z,P,G){var J=he(13);return J.write_shift(1,255),J.write_shift(2,P),J.write_shift(2,z),J.write_shift(8,G,"f"),J}function x(z,P,G){var J=z.l+P,te=u(z,P,G);if(te[1].v=z.read_shift(8,"f"),G.qpro)z.l=J;else{var re=z.read_shift(2);k(z.slice(z.l,z.l+re),te),z.l+=re}return te}function v(z,P,G){var J=P&32768;return P&=-32769,P=(J?z:0)+(P>=8192?P-16384:P),(J?"":"$")+(G?rr(P):hr(P))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(z,P){Gr(z,0);for(var G=[],J=0,te="",re="",D="",H="";z.l<z.length;){var L=z[z.l++];switch(L){case 0:G.push(z.read_shift(8,"f"));break;case 1:re=v(P[0].c,z.read_shift(2),!0),te=v(P[0].r,z.read_shift(2),!1),G.push(re+te);break;case 2:{var K=v(P[0].c,z.read_shift(2),!0),O=v(P[0].r,z.read_shift(2),!1);re=v(P[0].c,z.read_shift(2),!0),te=v(P[0].r,z.read_shift(2),!1),G.push(K+O+":"+re+te)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(z.read_shift(2));break;case 6:{for(var pe="";L=z[z.l++];)pe+=String.fromCharCode(L);G.push('"'+pe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:H=G.pop(),D=G.pop(),G.push(["AND","OR"][L-20]+"("+D+","+H+")");break;default:if(L<32&&y[L])H=G.pop(),D=G.pop(),G.push(D+y[L]+H);else if(b[L]){if(J=b[L][1],J==69&&(J=z[z.l++]),J>G.length){console.error("WK1 bad formula parse 0x"+L.toString(16)+":|"+G.join("|")+"|");return}var ie=G.slice(-J);G.length-=J,G.push(b[L][0]+"("+ie.join(",")+")")}else return L<=7?console.error("WK1 invalid opcode "+L.toString(16)):L<=24?console.error("WK1 unsupported op "+L.toString(16)):L<=30?console.error("WK1 invalid opcode "+L.toString(16)):L<=115?console.error("WK1 unsupported function opcode "+L.toString(16)):console.error("WK1 unrecognized opcode "+L.toString(16))}}G.length==1?P[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function E(z){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=z.read_shift(2),P[3]=z[z.l++],P[0].c=z[z.l++],P}function S(z,P){var G=E(z);return G[1].t="s",G[1].v=z.read_shift(P-4,"cstr"),G}function w(z,P,G,J){var te=he(6+J.length);te.write_shift(2,z),te.write_shift(1,G),te.write_shift(1,P),te.write_shift(1,39);for(var re=0;re<J.length;++re){var D=J.charCodeAt(re);te.write_shift(1,D>=128?95:D)}return te.write_shift(1,0),te}function j(z,P){var G=E(z);G[1].v=z.read_shift(2);var J=G[1].v>>1;if(G[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return G[1].v=J,G}function T(z,P){var G=E(z),J=z.read_shift(4),te=z.read_shift(4),re=z.read_shift(2);if(re==65535)return J===0&&te===3221225472?(G[1].t="e",G[1].v=15):J===0&&te===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var D=re&32768;return re=(re&32767)-16446,G[1].v=(1-D*2)*(te*Math.pow(2,re+32)+J*Math.pow(2,re)),G}function C(z,P,G,J){var te=he(14);if(te.write_shift(2,z),te.write_shift(1,G),te.write_shift(1,P),J==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var re=0,D=0,H=0,L=0;return J<0&&(re=1,J=-J),D=Math.log2(J)|0,J/=Math.pow(2,D-31),L=J>>>0,L&2147483648||(J/=2,++D,L=J>>>0),J-=L,L|=2147483648,L>>>=0,J*=Math.pow(2,32),H=J>>>0,te.write_shift(4,H),te.write_shift(4,L),D+=16383+(re?32768:0),te.write_shift(2,D),te}function A(z,P){var G=T(z);return z.l+=P-14,G}function N(z,P){var G=E(z),J=z.read_shift(4);return G[1].v=J>>6,G}function I(z,P){var G=E(z),J=z.read_shift(8,"f");return G[1].v=J,G}function M(z,P){var G=I(z);return z.l+=P-10,G}function F(z,P){return z[z.l+P-1]==0?z.read_shift(P,"cstr"):""}function q(z,P){var G=z[z.l++];G>P-1&&(G=P-1);for(var J="";J.length<G;)J+=String.fromCharCode(z[z.l++]);return J}function W(z,P,G){if(!(!G.qpro||P<21)){var J=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var te=z.read_shift(P-21,"cstr");return[J,te]}}function V(z,P){for(var G={},J=z.l+P;z.l<J;){var te=z.read_shift(2);if(te==14e3){for(G[te]=[0,""],G[te][0]=z.read_shift(2);z[z.l];)G[te][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return G}function B(z,P){var G=he(5+z.length);G.write_shift(2,14e3),G.write_shift(2,P);for(var J=0;J<z.length;++J){var te=z.charCodeAt(J);G[G.l++]=te>127?95:te}return G[G.l++]=0,G}var R={0:{n:"BOF",f:wr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:h},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function kTe(e){var t={},r=e.match(yn),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=We(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=uN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var CTe=function(){var e=im("t"),t=im("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:ft(s[1])},c=i.match(t);return c&&(o.s=kTe(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),TTe=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),jTe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ATe=/<(?:\w+:)?r>/,ITe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function RN(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=ft(Tt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Tt(e),r&&(n.h=bN(n.t))):e.match(ATe)&&(n.r=Tt(e),n.t=ft(Tt((e.replace(ITe,"").match(jTe)||[]).join("").replace(yn,""))),r&&(n.h=TTe(CTe(n.r)))),n):{t:""}}var PTe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,OTe=/<(?:\w+:)?(?:si|sstItem)>/g,RTe=/<\/(?:\w+:)?(?:si|sstItem)>/;function DTe(e,t){var r=[],n="";if(!e)return r;var a=e.match(PTe);if(a){n=a[2].replace(OTe,"").split(RTe);for(var i=0;i!=n.length;++i){var s=RN(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=We(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var FTe=/^\s|\s$|[\t\n\r]/;function nz(e,t){if(!t.bookSST)return"";var r=[gr];r[r.length]=ke("sst",null,{xmlns:fc[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(FTe)&&(i+=' xml:space="preserve"'),i+=">"+St(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function MTe(e){return[e.read_shift(4),e.read_shift(4)]}function LTe(e,t){var r=[],n=!1;return Ps(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function $Te(e,t){return t||(t=he(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var BTe=YNe;function zTe(e){var t=Kn();be(t,159,$Te(e));for(var r=0;r<e.length;++r)be(t,19,BTe(e[r]));return be(t,160),t.end()}function az(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ds(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function UTe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ds(e,4),t.U=ds(e,4),t.W=ds(e,4),t}function qTe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function VTe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(qTe(e));return t}function HTe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function WTe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ds(e,4),t.U=ds(e,4),t.W=ds(e,4),t}function GTe(e){var t=WTe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function iz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function sz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function XTe(e){var t=ds(e);switch(t.Minor){case 2:return[t.Minor,KTe(e)];case 3:return[t.Minor,YTe()];case 4:return[t.Minor,JTe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function KTe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=iz(e,r),a=sz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function YTe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function JTe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(yn,function(i){var s=We(i);switch(qi(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function QTe(e,t){var r={},n=r.EncryptionVersionInfo=ds(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=iz(e,a),t-=a,r.EncryptionVerifier=sz(e,t),r}function ZTe(e){var t={},r=t.EncryptionVersionInfo=ds(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function DN(e){var t=0,r,n=az(e),a=n.length+1,i,s,o,c,u;for(r=No(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var oz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=az(s),c=i(o),u=o.length,d=No(16),f=0;f!=16;++f)d[f]=0;var p,m,h;for((u&1)===1&&(p=c>>8,d[u]=a(e[0],p),--u,p=c&255,m=o[o.length-1],d[u]=a(m,p));u>0;)--u,p=c>>8,d[u]=a(o[u],p),--u,p=c&255,d[u]=a(o[u],p);for(u=15,h=15-o.length;h>0;)p=c>>8,d[u]=a(e[h],p),--u,--h,p=c&255,d[u]=a(o[u],p),--u,--h;return d}}(),eje=function(e,t,r,n,a){a||(a=t),n||(n=oz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},tje=function(e){var t=0,r=oz(e);return function(n){var a=eje("",n,t,r);return t=a[1],a[0]}};function rje(e,t,r,n){var a={key:wr(e),verificationBytes:wr(e)};return r.password&&(a.verifier=DN(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=tje(r.password)),a}function nje(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=ZTe(e):n.Data=QTe(e,t),n}function aje(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?nje(e,t-2,n):rje(e,r.biff>=8?t:t-2,r,n),n}var lz=function(){function e(a,i){switch(i.type){case"base64":return t(ya(a),i);case"binary":return t(a,i);case"buffer":return t(rt&&Buffer.isBuffer(a)?a.toString("binary"):Vo(a),i);case"array":return t(Wl(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var p=/\\\w+\b/g,m=0,h,g=-1;h=p.exec(d);){switch(h[0]){case"\\cell":var x=d.slice(m,p.lastIndex-h[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(o)?o[f][g]=v:o[Ve({r:f,c:g})]=v}break}m=p.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Je(u),o}function r(a,i){return Ho(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=pt(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Ve({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Ss(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function ije(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function cm(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function sje(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function oje(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-o),s[0]+=c,s[1]+=a;break;case 2:c=a*(o-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-o),s[1]+=c,s[2]+=a;break;case 4:c=a*(o-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-o),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function hx(e,t){if(t===0)return e;var r=sje(ije(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),cm(oje(r))}var cz=6,lje=15,cje=1,fn=cz;function um(e){return Math.floor((e+Math.round(128/fn)/256)*fn)}function dm(e){return Math.floor((e-5)/fn*100+.5)/100}function gx(e){return Math.round((e*fn+5)/fn*256)/256}function Hb(e){return gx(dm(um(e)))}function FN(e){var t=Math.abs(e-Hb(e)),r=fn;if(t>.005)for(fn=cje;fn<lje;++fn)Math.abs(e-Hb(e))<=t&&(t=Math.abs(e-Hb(e)),r=fn);fn=r}function ko(e){e.width?(e.wpx=um(e.width),e.wch=dm(e.wpx),e.MDW=fn):e.wpx?(e.wch=dm(e.wpx),e.width=gx(e.wch),e.MDW=fn):typeof e.wch=="number"&&(e.width=gx(e.wch),e.wpx=um(e.width),e.MDW=fn),e.customWidth&&delete e.customWidth}var uje=96,uz=uje;function fm(e){return e*96/uz}function ed(e){return e*uz/96}var dje={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function fje(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(yn)||[]).forEach(function(s){var o=We(s);switch(qi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Ht(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Ht(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function pje(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(yn)||[]).forEach(function(s){var o=We(s);switch(qi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function mje(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(yn)||[]).forEach(function(s){var o=We(s);switch(qi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Tt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Ht(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Ht(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Ht(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Ht(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Ht(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Ht(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Ht(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=uN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Ht(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=El[a.color.index];a.color.index==81&&(c=El[1]),c||(c=El[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=hx(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hje(e,t,r){t.NumberFmt=[];for(var n=dr(qe),a=0;a<n.length;++a)t.NumberFmt[n[a]]=qe[n[a]];var i=e[0].match(yn);if(i)for(a=0;a<i.length;++a){var s=We(i[a]);switch(qi(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=ft(Tt(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}us(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function gje(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ke("numFmt",null,{numFmtId:n,formatCode:St(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vh=["numFmtId","fillId","fontId","borderId","xfId"],Hh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xje(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(yn)||[]).forEach(function(i){var s=We(i),o=0;switch(qi(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Vh.length;++o)n[Vh[o]]&&(n[Vh[o]]=parseInt(n[Vh[o]],10));for(o=0;o<Hh.length;++o)n[Hh[o]]&&(n[Hh[o]]=Ht(n[Hh[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Ht(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function vje(e){var t=[];return t[t.length]=ke("cellXfs",null),e.forEach(function(r){t[t.length]=ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var yje=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&hje(f,d,u),(f=o.match(a))&&mje(f,d,c,u),(f=o.match(n))&&pje(f,d,c,u),(f=o.match(i))&&fje(f,d,c,u),(f=o.match(r))&&xje(f,d,u),d}}();function dz(e,t){var r=[gr,ke("styleSheet",null,{xmlns:fc[0],"xmlns:vt":jr.vt})],n;return e.SSF&&(n=gje(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=vje(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function bje(e,t){var r=e.read_shift(2),n=gn(e);return[r,n]}function wje(e,t,r){r||(r=he(6+4*t.length)),r.write_shift(2,e),Br(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Sje(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nke(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=rke(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gn(e),n}function Eje(e,t){t||(t=he(25+4*32)),t.write_shift(2,e.sz*20),ake(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),fx(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Br(e.name,t),t.length>t.l?t.slice(0,t.l):t}var _je=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Wb,Nje=vn;function k4(e,t){t||(t=he(4*3+8*7+16*1)),Wb||(Wb=ay(_je));var r=Wb[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(fx({auto:1},t),fx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function kje(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function fz(e,t,r){r||(r=he(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function af(e,t){return t||(t=he(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Cje=vn;function Tje(e,t){return t||(t=he(51)),t.write_shift(1,0),af(null,t),af(null,t),af(null,t),af(null,t),af(null,t),t.length>t.l?t.slice(0,t.l):t}function jje(e,t){return t||(t=he(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),dx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Aje(e,t,r){var n=he(2052);return n.write_shift(4,e),dx(t,n),dx(r,n),n.length>n.l?n.slice(0,n.l):n}function Ije(e,t,r){var n={};n.NumberFmt=[];for(var a in qe)n.NumberFmt[a]=qe[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Ps(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],us(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=hx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function Pje(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(be(e,615,fi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&be(e,44,wje(a,t[a]))}),be(e,616))}}function Oje(e){var t=1;be(e,611,fi(t)),be(e,43,Eje({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),be(e,612)}function Rje(e){var t=2;be(e,603,fi(t)),be(e,45,k4({patternType:"none"})),be(e,45,k4({patternType:"gray125"})),be(e,604)}function Dje(e){var t=1;be(e,613,fi(t)),be(e,46,Tje()),be(e,614)}function Fje(e){var t=1;be(e,626,fi(t)),be(e,47,fz({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),be(e,627)}function Mje(e,t){be(e,617,fi(t.length)),t.forEach(function(r){be(e,47,fz(r,0))}),be(e,618)}function Lje(e){var t=1;be(e,619,fi(t)),be(e,48,jje({xfId:0,builtinId:0,name:"Normal"})),be(e,620)}function $je(e){var t=0;be(e,505,fi(t)),be(e,506)}function Bje(e){var t=0;be(e,508,Aje(t,"TableStyleMedium9","PivotStyleMedium4")),be(e,509)}function zje(e,t){var r=Kn();return be(r,278),Pje(r,e.SSF),Oje(r),Rje(r),Dje(r),Fje(r),Mje(r,t.cellXfs),Lje(r),$je(r),Bje(r),be(r,279),r.end()}var Uje=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function qje(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(yn)||[]).forEach(function(a){var i=We(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Uje.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Vje(){}function Hje(){}var Wje=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Gje=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Xje=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Kje(e,t,r){t.themeElements={};var n;[["clrScheme",Wje,qje],["fontScheme",Gje,Vje],["fmtScheme",Xje,Hje]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Yje=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function pz(e,t){(!e||e.length===0)&&(e=MN());var r,n={};if(!(r=e.match(Yje)))throw new Error("themeElements not found in theme");return Kje(r[0],n,t),n.raw=e,n}function MN(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[gr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Jje(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=iB(i,{type:"array"})}catch{return}var o=fa(s,"theme/theme/theme1.xml",!0);if(o)return pz(o,r)}}function Qje(e){return e.read_shift(4)}function Zje(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=eAe(e,4);break;case 2:t.xclrValue=WB(e);break;case 3:t.xclrValue=Qje(e);break;case 4:e.l+=4;break}return e.l+=8,t}function eAe(e,t){return vn(e,t)}function tAe(e,t){return vn(e,t)}function rAe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Zje(e);break;case 6:n[1]=tAe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function nAe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(rAe(e,r-e.l));return{ixfe:n,ext:i}}function aAe(e,t){t.forEach(function(r){switch(r[0]){}})}function iAe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:gn(e)}}function sAe(e){var t=he(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Br(e.name,t),t.slice(0,t.l)}function oAe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function lAe(e){var t=he(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function cAe(e,t){var r=he(8+2*t.length);return r.write_shift(4,e),Br(t,r),r.slice(0,r.l)}function uAe(e){return e.l+=4,e.read_shift(4)!=0}function dAe(e,t){var r=he(8);return r.write_shift(4,e),r.write_shift(4,1),r}function fAe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Ps(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function pAe(){var e=Kn();return be(e,332),be(e,334,fi(1)),be(e,335,sAe({name:"XLDAPR",version:12e4,flags:3496657072})),be(e,336),be(e,339,cAe(1,"XLDAPR")),be(e,52),be(e,35,fi(514)),be(e,4096,fi(0)),be(e,4097,Ra(1)),be(e,36),be(e,53),be(e,340),be(e,337,dAe(1)),be(e,51,lAe([[1,0]])),be(e,338),be(e,333),e.end()}function mAe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(yn,function(o){var c=We(o);switch(qi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function mz(){var e=[gr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function hAe(e){var t=[];if(!e)return t;var r=1;return(e.match(yn)||[]).forEach(function(n){var a=We(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function gAe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ve(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function xAe(e,t,r){var n=[];return Ps(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function vAe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Ps(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function yAe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Kc=1024;function hz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ke("xml",null,{"xmlns:v":oa.v,"xmlns:o":oa.o,"xmlns:x":oa.x,"xmlns:mv":oa.mv}).replace(/\/>/,">"),ke("o:shapelayout",ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ke("v:shapetype",[ke("v:stroke",null,{joinstyle:"miter"}),ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Kc<e*1e3;)Kc+=1e3;return t.forEach(function(i){var s=nr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ke("v:fill",c,o),d={on:"t",obscured:"t"};++Kc,a=a.concat(["<v:shape"+sm({id:"_x0000_s"+Kc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ke("v:shadow",null,d),ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Xr("x:AutoFill","False"),Xr("x:Row",String(s.r)),Xr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function C4(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=nr(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var c=pt(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Je(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function bAe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=We(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=nr(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&RN(f[1])||{r:"",t:"",h:""};u.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),u.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=p.h),n.push(u)}}}}),n}function gz(e){var t=[gr,ke("comments",null,{xmlns:fc[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=St(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(St(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Xr("t",St(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Xr("t",St(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wAe(e,t){var r=[],n=!1,a={},i=0;return e.replace(yn,function(o,c){var u=We(o);switch(qi(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function SAe(e,t,r){var n=[gr,ke("ThreadedComments",null,{xmlns:jr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ke("threadedComment",Xr("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function EAe(e,t){var r=[],n=!1;return e.replace(yn,function(i){var s=We(i);switch(qi(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function _Ae(e){var t=[gr,ke("personList",null,{xmlns:jr.TCMNT,"xmlns:x":fc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function NAe(e){var t={};t.iauthor=e.read_shift(4);var r=gc(e);return t.rfx=r.s,t.ref=Ve(r.s),e.l+=16,t}function kAe(e,t){return t==null&&(t=he(36)),t.write_shift(4,e[1].iauthor),Pd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var CAe=gn;function TAe(e){return Br(e.slice(0,54))}function jAe(e,t){var r=[],n=[],a={},i=!1;return Ps(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function AAe(e){var t=Kn(),r=[];return be(t,628),be(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),be(t,632,TAe(a.a)))})}),be(t,631),be(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:nr(n[0]),e:nr(n[0])};be(t,635,kAe([i,a])),a.t&&a.t.length>0&&be(t,637,QNe(a)),be(t,636),delete a.iauthor})}),be(t,634),be(t,629),t.end()}var IAe="application/vnd.ms-office.vbaProject";function PAe(e){var t=$e.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$e.utils.cfb_add(t,a,e.FileIndex[n].content)}}),$e.write(t)}function OAe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&$e.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var xz=["xlsb","xlsm","xlam","biff8","xla"];function RAe(){return{"!type":"dialog"}}function DAe(){return{"!type":"dialog"}}function FAe(){return{"!type":"macro"}}function MAe(){return{"!type":"macro"}}var mu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+rr(d)+(c?"":"$")+hr(u)}return function(a,i){return t=i,a.replace(e,r)}}(),LN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,$N=function(){return function(t,r){return t.replace(LN,function(n,a,i,s,o,c){var u=NN(s)-(i?0:r.c),d=_N(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",p=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+p})}}();function vz(e,t){return e.replace(LN,function(r,n,a,i,s,o){return n+(a=="$"?a+i:rr(NN(i)+t.c))+(s=="$"?s+o:hr(_N(o)+t.r))})}function LAe(e,t,r){var n=Yn(t),a=n.s,i=nr(r),s={r:i.r-a.r,c:i.c-a.c};return vz(e,s)}function $Ae(e){return e.length!=1}function T4(e){return e.replace(/_xlfn\./g,"")}function vr(e){e.l+=1}function Co(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function yz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Co(e),o=Co(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function bz(e){var t=Co(e),r=Co(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function BAe(e,t,r){if(r.biff<8)return bz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Co(e),s=Co(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function wz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return zAe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Co(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function zAe(e){var t=Co(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function UAe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function qAe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return VAe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function VAe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function HAe(e,t,r){var n=(e[e.l++]&96)>>5,a=yz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function WAe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=yz(e,i,r);return[n,a,s]}function GAe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function XAe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function KAe(e,t,r){var n=(e[e.l++]&96)>>5,a=BAe(e,t-1,r);return[n,a]}function YAe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function j4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function JAe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function QAe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ZAe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function eIe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tIe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Sz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rIe(e){return e.read_shift(2),Sz(e)}function nIe(e){return e.read_shift(2),Sz(e)}function aIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=wz(e,0,r);return[n,a]}function iIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=qAe(e,0,r);return[n,a]}function sIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=wz(e,0,r);return[n,a,i]}function oIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[uPe[a],Nz[a],n]}function lIe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cIe(e);return[a,(i[0]===0?Nz:cPe)[i[1]]]}function cIe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function uIe(e,t,r){e.l+=r&&r.biff==2?3:4}function dIe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function fIe(e){return e.l++,Os[e.read_shift(1)]}function pIe(e){return e.l++,e.read_shift(2)}function mIe(e){return e.l++,e.read_shift(1)!==0}function hIe(e){return e.l++,mn(e)}function gIe(e,t,r){return e.l++,Gm(e,t-1,r)}function xIe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Os[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=mn(e);break;case 2:r[1]=xc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vIe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?gc:oy)(e));return a}function yIe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=xIe(e,r.biff);return s}function bIe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function wIe(e,t,r){if(r.biff==5)return SIe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function SIe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function EIe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _Ie(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function NIe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function kIe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var CIe=vn,TIe=vn,jIe=vn;function Km(e,t,r){return e.l+=2,[UAe(e)]}function BN(e){return e.l+=6,[]}var AIe=Km,IIe=BN,PIe=BN,OIe=Km;function Ez(e){return e.l+=2,[wr(e),e.read_shift(2)&1]}var RIe=Km,DIe=Ez,FIe=BN,MIe=Km,LIe=Km,$Ie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function BIe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=$Ie[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function zIe(e){return e.l+=2,[e.read_shift(4)]}function UIe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function qIe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function VIe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function HIe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function WIe(e){return e.l+=4,[0,0]}var A4={1:{n:"PtgExp",f:dIe},2:{n:"PtgTbl",f:jIe},3:{n:"PtgAdd",f:vr},4:{n:"PtgSub",f:vr},5:{n:"PtgMul",f:vr},6:{n:"PtgDiv",f:vr},7:{n:"PtgPower",f:vr},8:{n:"PtgConcat",f:vr},9:{n:"PtgLt",f:vr},10:{n:"PtgLe",f:vr},11:{n:"PtgEq",f:vr},12:{n:"PtgGe",f:vr},13:{n:"PtgGt",f:vr},14:{n:"PtgNe",f:vr},15:{n:"PtgIsect",f:vr},16:{n:"PtgUnion",f:vr},17:{n:"PtgRange",f:vr},18:{n:"PtgUplus",f:vr},19:{n:"PtgUminus",f:vr},20:{n:"PtgPercent",f:vr},21:{n:"PtgParen",f:vr},22:{n:"PtgMissArg",f:vr},23:{n:"PtgStr",f:gIe},26:{n:"PtgSheet",f:UIe},27:{n:"PtgEndSheet",f:qIe},28:{n:"PtgErr",f:fIe},29:{n:"PtgBool",f:mIe},30:{n:"PtgInt",f:pIe},31:{n:"PtgNum",f:hIe},32:{n:"PtgArray",f:YAe},33:{n:"PtgFunc",f:oIe},34:{n:"PtgFuncVar",f:lIe},35:{n:"PtgName",f:bIe},36:{n:"PtgRef",f:aIe},37:{n:"PtgArea",f:HAe},38:{n:"PtgMemArea",f:EIe},39:{n:"PtgMemErr",f:CIe},40:{n:"PtgMemNoMem",f:TIe},41:{n:"PtgMemFunc",f:_Ie},42:{n:"PtgRefErr",f:NIe},43:{n:"PtgAreaErr",f:GAe},44:{n:"PtgRefN",f:iIe},45:{n:"PtgAreaN",f:KAe},46:{n:"PtgMemAreaN",f:VIe},47:{n:"PtgMemNoMemN",f:HIe},57:{n:"PtgNameX",f:wIe},58:{n:"PtgRef3d",f:sIe},59:{n:"PtgArea3d",f:WAe},60:{n:"PtgRefErr3d",f:kIe},61:{n:"PtgAreaErr3d",f:XAe},255:{}},GIe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XIe={1:{n:"PtgElfLel",f:Ez},2:{n:"PtgElfRw",f:MIe},3:{n:"PtgElfCol",f:AIe},6:{n:"PtgElfRwV",f:LIe},7:{n:"PtgElfColV",f:OIe},10:{n:"PtgElfRadical",f:RIe},11:{n:"PtgElfRadicalS",f:FIe},13:{n:"PtgElfColS",f:IIe},15:{n:"PtgElfColSV",f:PIe},16:{n:"PtgElfRadicalLel",f:DIe},25:{n:"PtgList",f:BIe},29:{n:"PtgSxName",f:zIe},255:{}},KIe={0:{n:"PtgAttrNoop",f:WIe},1:{n:"PtgAttrSemi",f:tIe},2:{n:"PtgAttrIf",f:ZAe},4:{n:"PtgAttrChoose",f:JAe},8:{n:"PtgAttrGoto",f:QAe},16:{n:"PtgAttrSum",f:uIe},32:{n:"PtgAttrBaxcel",f:j4},33:{n:"PtgAttrBaxcel",f:j4},64:{n:"PtgAttrSpace",f:rIe},65:{n:"PtgAttrSpaceSemi",f:nIe},128:{n:"PtgAttrIfError",f:eIe},255:{}};function Ym(e,t,r,n){if(n.biff<8)return vn(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=yIe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=vIe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(vn(e,t)),i}function Jm(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=A4[i]||A4[GIe[i]],(i===24||i===25)&&(a=(i===24?XIe:KIe)[e[e.l+1]]),!a||!a.f?vn(e,t):s.push([a.n,a.f(e,t,r)]);return s}function YIe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var JIe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function QIe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function _z(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function I4(e,t,r){var n=_z(e,t,r);return n=="#REF"?n:QIe(n,r)}function ln(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,d,f=0,p=0,m,h="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=cr(" ",e[0][g][1][1]);break;case 1:x=cr("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}o.push(u+JIe[y[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Lf(y[1][1],s,a),o.push($f(d,i));break;case"PtgRefN":d=r?Lf(y[1][1],r,a):y[1][1],o.push($f(d,i));break;case"PtgRef3d":f=y[1][1],d=Lf(y[1][2],s,a),h=I4(n,f,a),o.push(h+"!"+$f(d,i));break;case"PtgFunc":case"PtgFuncVar":var k=y[1][0],E=y[1][1];k||(k=0),k&=127;var S=k==0?[]:o.slice(-k);o.length-=k,E==="User"&&(E=S.shift()),o.push(E+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":m=s4(y[1][1],r?{s:r}:s,a),o.push(Ub(m,a));break;case"PtgArea":m=s4(y[1][1],s,a),o.push(Ub(m,a));break;case"PtgArea3d":f=y[1][1],m=y[1][2],h=I4(n,f,a),o.push(h+"!"+Ub(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=y[1][2];var w=(n.names||[])[p-1]||(n[0]||[])[p],j=w?w.Name:"SH33TJSNAME"+String(p);j&&j.slice(0,6)=="_xlfn."&&!a.xlfn&&(j=j.slice(6)),o.push(j);break;case"PtgNameX":var T=y[1][1];p=y[1][2];var C;if(a.biff<=5)T<0&&(T=-T),n[T]&&(C=n[T][p]);else{var A="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][p]&&n[T][p].itab>0&&(A=n.SheetNames[n[T][p].itab-1]+"!"):A=n.SheetNames[p-1]+"!"),n[T]&&n[T][p])A+=n[T][p].Name;else if(n[0]&&n[0][p])A+=n[0][p].Name;else{var N=(_z(n,T,a)||"").split(";;");N[p-1]?A=N[p-1]:A+="SH33TJSERRX"}o.push(A);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var I="(",M=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:I=cr(" ",e[0][g][1][1])+I;break;case 3:I=cr("\r",e[0][g][1][1])+I;break;case 4:M=cr(" ",e[0][g][1][1])+M;break;case 5:M=cr("\r",e[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(I+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var F={c:r.c,r:r.r};if(n.sharedf[Ve(d)]){var q=n.sharedf[Ve(d)];o.push(ln(q,s,F,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(ln(u[1],s,F,n,a)),W=!0;break}W||o.push(y[1])}break;case"PtgArray":o.push("{"+YIe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&V.indexOf(e[0][v][0])==-1){y=e[0][g];var B=!0;switch(y[1][0]){case 4:B=!1;case 0:x=cr(" ",y[1][1]);break;case 5:B=!1;case 1:x=cr("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((B?x:"")+o.pop()+(B?"":x)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function ZIe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],vn(e,t-2)];var o=Jm(e,s,r);return t!==s+a&&(i=Ym(e,t-s-a,o,r)),e.l=n,[o,i]}function ePe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],vn(e,t-2)];var o=Jm(e,s,r);return t!==s+a&&(i=Ym(e,t-s-a,o,r)),e.l=n,[o,i]}function tPe(e,t,r,n){var a=e.l+t,i=Jm(e,n,r),s;return a!==e.l&&(s=Ym(e,a-e.l,i,r)),[i,s]}function rPe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Jm(e,i,r);return i==65535?[[],vn(e,t-2)]:(t!==i+2&&(a=Ym(e,n-i-2,s,r)),[s,a])}function nPe(e){var t;if(as(e,e.l+6)!==65535)return[mn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function aPe(e){if(e==null){var t=he(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Gl(e);return Gl(0)}function Gb(e,t,r){var n=e.l+t,a=Vi(e);r.biff==2&&++e.l;var i=nPe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=ePe(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function iPe(e,t,r,n,a){var i=Kl(t,r,a),s=aPe(e.v),o=he(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=he(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=$r([i,s,o,u]);return f}function ly(e,t,r){var n=e.read_shift(4),a=Jm(e,n,r),i=e.read_shift(4),s=i>0?Ym(e,i,a,r):null;return[a,s]}var sPe=ly,cy=ly,oPe=ly,lPe=ly,cPe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Nz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uPe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function P4(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function dPe(e){var t="of:="+e.replace(LN,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Xb(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function fPe(e){return e.replace(/\./,"!")}var zf={},hu={},Uf=typeof Map<"u";function zN(e,t,r){var n=0,a=e.length;if(r){if(Uf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Uf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Uf?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function uy(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(fn=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=dm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=gx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function kl(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Wo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){us(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function kz(e,t,r,n,a,i){try{n.cellNF&&(e.z=qe[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Gt(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(qe[t]==null&&us(cNe[t]||"General",t),e.t==="e")e.w=e.w||Os[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=am(e.v);else if(e.t==="d"){var s=Pr(e.v);(s|0)===s?e.w=s.toString(10):e.w=am(s)}else{if(e.v===void 0)return"";e.w=Hl(e.v,hu)}else e.t==="d"?e.w=Wa(t,Pr(e.v),hu):e.w=Wa(t,e.v,hu)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=hx(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=hx(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function pPe(e,t,r){if(e&&e["!ref"]){var n=pt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function mPe(e,t){var r=pt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Je(r))}var hPe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gPe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xPe=/<(?:\w:)?hyperlink [^>]*>/mg,vPe=/"(\w*:\w*)"/,yPe=/<(?:\w:)?col\b[^>]*[\/]?>/g,bPe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wPe=/<(?:\w:)?pageMargins[^>]*\/>/g,Cz=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,SPe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,EPe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function _Pe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(gPe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var p=u.match(Cz);p?UN(p[0],o,a,r):(p=u.match(SPe))&&kPe(p[0],p[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var h=u.slice(m,m+50).match(vPe);h&&mPe(o,h[1])}var g=u.match(EPe);g&&g[1]&&$Pe(g[1],a);var x=[];if(t.cellStyles){var v=u.match(yPe);v&&RPe(x,v)}f&&UPe(f[1],o,t,c,i,s);var b=d.match(bPe);b&&(o["!autofilter"]=FPe(b[0]));var y=[],k=d.match(hPe);if(k)for(m=0;m!=k.length;++m)y[m]=pt(k[m].slice(k[m].indexOf('"')+1));var E=d.match(xPe);E&&IPe(o,E,n);var S=d.match(wPe);if(S&&(o["!margins"]=PPe(We(S[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Je(c)),t.sheetRows>0&&o["!ref"]){var w=pt(o["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>c.e.r&&(w.e.r=c.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>c.e.c&&(w.e.c=c.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Je(w))}return x.length>0&&(o["!cols"]=x),y.length>0&&(o["!merges"]=y),o}function NPe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Je(e[r])+'"/>';return t+"</mergeCells>"}function UN(e,t,r,n){var a=We(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=ft(Tt(a.codeName)))}function kPe(e,t,r,n,a){UN(e.slice(0,e.indexOf(">")),r,n,a)}function CPe(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Ci(St(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+ke("outlinePr",null,u)}!i&&!o||(a[a.length]=ke("sheetPr",o,s))}var TPe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],jPe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function APe(e){var t={sheet:1};return TPe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),jPe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=DN(e.password).toString(16).toUpperCase()),ke("sheetProtection",null,t)}function IPe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=We(Tt(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+ft(i.location))):(i.Target="#"+ft(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=pt(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Ve({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function PPe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function OPe(e){return kl(e),ke("pageMargins",null,e)}function RPe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=We(t[n],!0);a.hidden&&(a.hidden=Ht(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,FN(a.width)),ko(a);i<=s;)e[i++]=Xt(a)}}function DPe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ke("col",null,uy(a,n)));return r[r.length]="</cols>",r.join("")}function FPe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function MPe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Je(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Yn(a);s.s.r==s.e.r&&(s.e.r=Yn(t["!ref"]).e.r,a=Je(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ke("autoFilter",null,{ref:a})}var LPe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $Pe(e,t){t.Views||(t.Views=[{}]),(e.match(LPe)||[]).forEach(function(r,n){var a=We(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ht(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function BPe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ke("sheetViews",ke("sheetView",null,a),{})}function zPe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Os[e.v];break;case"d":n&&n.cellDates?a=Gt(e.v,-1).toISOString():(e=Xt(e),e.t="n",a=""+(e.v=Pr(Gt(e.v)))),typeof e.z>"u"&&(e.z=qe[14]);break;default:a=e.v;break}var o=Xr("v",St(a)),c={r:t},u=Wo(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Xr("v",""+zN(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ke("f",St(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ke("c",o,c)}var UPe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=im("v"),s=im("f");return function(c,u,d,f,p,m){for(var h=0,g="",x=[],v=[],b=0,y=0,k=0,E="",S,w,j=0,T=0,C,A,N=0,I=0,M=Array.isArray(m.CellXf),F,q=[],W=[],V=Array.isArray(u),B=[],R={},ne=!1,z=!!d.sheetStubs,P=c.split(t),G=0,J=P.length;G!=J;++G){g=P[G].trim();var te=g.length;if(te!==0){var re=0;e:for(h=0;h<te;++h)switch(g[h]){case">":if(g[h-1]!="/"){++h;break e}if(d&&d.cellStyles){if(w=We(g.slice(re,h),!0),j=w.r!=null?parseInt(w.r,10):j+1,T=-1,d.sheetRows&&d.sheetRows<j)continue;R={},ne=!1,w.ht&&(ne=!0,R.hpt=parseFloat(w.ht),R.hpx=ed(R.hpt)),w.hidden=="1"&&(ne=!0,R.hidden=!0),w.outlineLevel!=null&&(ne=!0,R.level=+w.outlineLevel),ne&&(B[j-1]=R)}break;case"<":re=h;break}if(re>=h)break;if(w=We(g.slice(re,h),!0),j=w.r!=null?parseInt(w.r,10):j+1,T=-1,!(d.sheetRows&&d.sheetRows<j)){f.s.r>j-1&&(f.s.r=j-1),f.e.r<j-1&&(f.e.r=j-1),d&&d.cellStyles&&(R={},ne=!1,w.ht&&(ne=!0,R.hpt=parseFloat(w.ht),R.hpx=ed(R.hpt)),w.hidden=="1"&&(ne=!0,R.hidden=!0),w.outlineLevel!=null&&(ne=!0,R.level=+w.outlineLevel),ne&&(B[j-1]=R)),x=g.slice(h).split(e);for(var D=0;D!=x.length&&x[D].trim().charAt(0)=="<";++D);for(x=x.slice(D),h=0;h!=x.length;++h)if(g=x[h].trim(),g.length!==0){if(v=g.match(r),b=h,y=0,k=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(b=0,E=v[1],y=0;y!=E.length&&!((k=E.charCodeAt(y)-64)<1||k>26);++y)b=26*b+k;--b,T=b}else++T;for(y=0;y!=g.length&&g.charCodeAt(y)!==62;++y);if(++y,w=We(g.slice(0,y),!0),w.r||(w.r=Ve({r:j-1,c:T})),E=g.slice(y),S={t:""},(v=E.match(i))!=null&&v[1]!==""&&(S.v=ft(v[1])),d.cellFormula){if((v=E.match(s))!=null&&v[1]!==""){if(S.f=ft(Tt(v[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=T4(S.f)),v[0].indexOf('t="array"')>-1)S.F=(E.match(a)||[])[1],S.F.indexOf(":")>-1&&q.push([pt(S.F),S.F]);else if(v[0].indexOf('t="shared"')>-1){A=We(v[0]);var H=ft(Tt(v[1]));d.xlfn||(H=T4(H)),W[parseInt(A.si,10)]=[A,H,w.r]}}else(v=E.match(/<f[^>]*\/>/))&&(A=We(v[0]),W[A.si]&&(S.f=LAe(W[A.si][1],W[A.si][2],w.r)));var L=nr(w.r);for(y=0;y<q.length;++y)L.r>=q[y][0].s.r&&L.r<=q[y][0].e.r&&L.c>=q[y][0].s.c&&L.c<=q[y][0].e.c&&(S.F=q[y][1])}if(w.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(z)S.t="z";else continue;else S.t=w.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!z)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!z)continue;S.t="z"}else C=zf[parseInt(S.v,10)],S.v=C.t,S.r=C.r,d.cellHTML&&(S.h=C.h);break;case"str":S.t="s",S.v=S.v!=null?Tt(S.v):"",d.cellHTML&&(S.h=bN(S.v));break;case"inlineStr":v=E.match(n),S.t="s",v!=null&&(C=RN(v[1]))?(S.v=C.t,d.cellHTML&&(S.h=C.h)):S.v="";break;case"b":S.v=Ht(S.v);break;case"d":d.cellDates?S.v=Gt(S.v,1):(S.v=Pr(Gt(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=jB[S.v];break}if(N=I=0,F=null,M&&w.s!==void 0&&(F=m.CellXf[w.s],F!=null&&(F.numFmtId!=null&&(N=F.numFmtId),d.cellStyles&&F.fillId!=null&&(I=F.fillId))),kz(S,N,I,d,p,m),d.cellDates&&M&&S.t=="n"&&jd(qe[N])&&(S.t="d",S.v=sy(S.v)),w.cm&&d.xlmeta){var K=(d.xlmeta.Cell||[])[+w.cm-1];K&&K.type=="XLDAPR"&&(S.D=!0)}if(V){var O=nr(w.r);u[O.r]||(u[O.r]=[]),u[O.r][O.c]=S}else u[w.r]=S}}}}B.length>0&&(u["!rows"]=B)}}();function qPe(e,t,r,n){var a=[],i=[],s=pt(e["!ref"]),o="",c,u="",d=[],f=0,p=0,m=e["!rows"],h=Array.isArray(e),g={r:u},x,v=-1;for(p=s.s.c;p<=s.e.c;++p)d[p]=rr(p);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=hr(f),p=s.s.c;p<=s.e.c;++p){c=d[p]+u;var b=h?(e[f]||[])[p]:e[c];b!==void 0&&(o=zPe(b,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=fm(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=ke("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=fm(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=ke("row","",g));return a.join("")}function Tz(e,t,r,n){var a=[gr,ke("worksheet",null,{xmlns:fc[0],"xmlns:r":jr.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=pt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Je(d)}n||(n={}),c["!comments"]=[];var f=[];CPe(c,r,e,t,a),a[a.length]=ke("dimension",null,{ref:u}),a[a.length]=BPe(c,t,e,r),t.sheetFormat&&(a[a.length]=ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=DPe(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=qPe(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=APe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=MPe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=NPe(c["!merges"]));var p=-1,m,h=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(h=wt(n,-1,St(g[1].Target).replace(/#.*$/,""),nt.HLINK),m["r:id"]="rId"+h),(p=g[1].Target.indexOf("#"))>-1&&(m.location=St(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=St(g[1].Tooltip)),a[a.length]=ke("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=OPe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Xr("ignoredErrors",ke("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(h=wt(n,-1,"../drawings/drawing"+(e+1)+".xml",nt.DRAW),a[a.length]=ke("drawing",null,{"r:id":"rId"+h}),c["!drawing"]=f),c["!comments"].length>0&&(h=wt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",nt.VML),a[a.length]=ke("legacyDrawing",null,{"r:id":"rId"+h}),c["!legacy"]=h),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function VPe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function HPe(e,t,r){var n=he(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=fm(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,p=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var h=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ve(u)];h&&(f<0&&(f=m),p=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,p))}var g=n.l;return n.l=c,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function WPe(e,t,r,n){var a=HPe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&be(e,0,a)}var GPe=gc,XPe=Pd;function KPe(){}function YPe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ZNe(e),r}function JPe(e,t,r){r==null&&(r=he(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return fx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),_B(e,r),r.slice(0,r.l)}function QPe(e){var t=Ka(e);return[t]}function ZPe(e,t,r){return r==null&&(r=he(8)),pc(t,r)}function e4e(e){var t=mc(e);return[t]}function t4e(e,t,r){return r==null&&(r=he(4)),hc(t,r)}function r4e(e){var t=Ka(e),r=e.read_shift(1);return[t,r,"b"]}function n4e(e,t,r){return r==null&&(r=he(9)),pc(t,r),r.write_shift(1,e.v?1:0),r}function a4e(e){var t=mc(e),r=e.read_shift(1);return[t,r,"b"]}function i4e(e,t,r){return r==null&&(r=he(5)),hc(t,r),r.write_shift(1,e.v?1:0),r}function s4e(e){var t=Ka(e),r=e.read_shift(1);return[t,r,"e"]}function o4e(e,t,r){return r==null&&(r=he(9)),pc(t,r),r.write_shift(1,e.v),r}function l4e(e){var t=mc(e),r=e.read_shift(1);return[t,r,"e"]}function c4e(e,t,r){return r==null&&(r=he(8)),hc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function u4e(e){var t=Ka(e),r=e.read_shift(4);return[t,r,"s"]}function d4e(e,t,r){return r==null&&(r=he(12)),pc(t,r),r.write_shift(4,t.v),r}function f4e(e){var t=mc(e),r=e.read_shift(4);return[t,r,"s"]}function p4e(e,t,r){return r==null&&(r=he(8)),hc(t,r),r.write_shift(4,t.v),r}function m4e(e){var t=Ka(e),r=mn(e);return[t,r,"n"]}function h4e(e,t,r){return r==null&&(r=he(16)),pc(t,r),Gl(e.v,r),r}function jz(e){var t=mc(e),r=mn(e);return[t,r,"n"]}function g4e(e,t,r){return r==null&&(r=he(12)),hc(t,r),Gl(e.v,r),r}function x4e(e){var t=Ka(e),r=jN(e);return[t,r,"n"]}function v4e(e,t,r){return r==null&&(r=he(12)),pc(t,r),NB(e.v,r),r}function y4e(e){var t=mc(e),r=jN(e);return[t,r,"n"]}function b4e(e,t,r){return r==null&&(r=he(8)),hc(t,r),NB(e.v,r),r}function w4e(e){var t=Ka(e),r=kN(e);return[t,r,"is"]}function S4e(e){var t=Ka(e),r=gn(e);return[t,r,"str"]}function E4e(e,t,r){return r==null&&(r=he(12+4*e.v.length)),pc(t,r),Br(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _4e(e){var t=mc(e),r=gn(e);return[t,r,"str"]}function N4e(e,t,r){return r==null&&(r=he(8+4*e.v.length)),hc(t,r),Br(e.v,r),r.length>r.l?r.slice(0,r.l):r}function k4e(e,t,r){var n=e.l+t,a=Ka(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=cy(e,n-e.l,r);s[3]=ln(o,null,a,r.supbooks,r)}else e.l=n;return s}function C4e(e,t,r){var n=e.l+t,a=Ka(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=cy(e,n-e.l,r);s[3]=ln(o,null,a,r.supbooks,r)}else e.l=n;return s}function T4e(e,t,r){var n=e.l+t,a=Ka(e);a.r=r["!row"];var i=mn(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=cy(e,n-e.l,r);s[3]=ln(o,null,a,r.supbooks,r)}else e.l=n;return s}function j4e(e,t,r){var n=e.l+t,a=Ka(e);a.r=r["!row"];var i=gn(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=cy(e,n-e.l,r);s[3]=ln(o,null,a,r.supbooks,r)}else e.l=n;return s}var A4e=gc,I4e=Pd;function P4e(e,t){return t==null&&(t=he(4)),t.write_shift(4,e),t}function O4e(e,t){var r=e.l+t,n=gc(e),a=CN(e),i=gn(e),s=gn(e),o=gn(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function R4e(e,t){var r=he(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Pd({s:nr(e[0]),e:nr(e[0])},r),TN("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Br(a||"",r),Br(e[1].Tooltip||"",r),Br("",r),r.slice(0,r.l)}function D4e(){}function F4e(e,t,r){var n=e.l+t,a=kB(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=sPe(e,n-e.l,r);s[1]=o}else e.l=n;return s}function M4e(e,t,r){var n=e.l+t,a=gc(e),i=[a];if(r.cellFormula){var s=lPe(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function L4e(e,t,r){r==null&&(r=he(18));var n=uy(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Az=["left","right","top","bottom","header","footer"];function $4e(e){var t={};return Az.forEach(function(r){t[r]=mn(e)}),t}function B4e(e,t){return t==null&&(t=he(6*8)),kl(e),Az.forEach(function(r){Gl(e[r],t)}),t}function z4e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function U4e(e,t,r){r==null&&(r=he(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function q4e(e){var t=he(24);return t.write_shift(4,4),t.write_shift(4,1),Pd(e,t),t}function V4e(e,t){return t==null&&(t=he(16*4+2)),t.write_shift(2,e.password?DN(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function H4e(){}function W4e(){}function G4e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,h,g,x,v,b,y,k,E,S=[];o.biff=12,o["!row"]=0;var w=0,j=!1,T=[],C={},A=o.supbooks||a.supbooks||[[]];if(A.sharedf=C,A.arrayf=T,A.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!o.supbooks&&(o.supbooks=A,a.Names))for(var N=0;N<a.Names.length;++N)A[0][N+1]=a.Names[N];var I=[],M=[],F=!1;pm[16]={n:"BrtShortReal",f:jz};var q;if(Ps(e,function(B,R,ne){if(!p)switch(ne){case 148:u=B;break;case 0:m=B,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),k=hr(x=m.r),o["!row"]=m.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=ed(B.hpt)),M[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(h={t:B[2]},B[2]){case"n":h.v=B[1];break;case"s":y=zf[B[1]],h.v=y.t,h.r=y.r;break;case"b":h.v=!!B[1];break;case"e":h.v=B[1],o.cellText!==!1&&(h.w=Os[h.v]);break;case"str":h.t="s",h.v=B[1];break;case"is":h.t="s",h.v=B[1].t;break}if((g=s.CellXf[B[0].iStyleRef])&&kz(h,g.numFmtId,null,o,i,s),v=B[0].c==-1?v+1:B[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=h):c[rr(v)+k]=h,o.cellFormula){for(j=!1,w=0;w<T.length;++w){var z=T[w];m.r>=z[0].s.r&&m.r<=z[0].e.r&&v>=z[0].s.c&&v<=z[0].e.c&&(h.F=Je(z[0]),j=!0)}!j&&B.length>3&&(h.f=B[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),o.cellDates&&g&&h.t=="n"&&jd(qe[g.numFmtId])){var P=hl(h.v);P&&(h.t="d",h.v=new Date(P.y,P.m-1,P.d,P.H,P.M,P.S,P.u))}q&&(q.type=="XLDAPR"&&(h.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;h={t:"z",v:void 0},v=B[0].c==-1?v+1:B[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=h):c[rr(v)+k]=h,d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),q&&(q.type=="XLDAPR"&&(h.D=!0),q=void 0);break;case 176:S.push(B);break;case 49:q=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var G=n["!id"][B.relId];for(G?(B.Target=G.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=G):B.relId==""&&(B.Target="#"+B.loc),x=B.rfx.s.r;x<=B.rfx.e.r;++x)for(v=B.rfx.s.c;v<=B.rfx.e.c;++v)o.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=B):(b=Ve({c:v,r:x}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=B);break;case 426:if(!o.cellFormula)break;T.push(B),E=o.dense?c[x][v]:c[rr(v)+k],E.f=ln(B[1],d,{r:m.r,c:v},A,o),E.F=Je(B[0]);break;case 427:if(!o.cellFormula)break;C[Ve(B[0].s)]=B[1],E=o.dense?c[x][v]:c[rr(v)+k],E.f=ln(B[1],d,{r:m.r,c:v},A,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)I[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},F||(F=!0,FN(B.w/256)),ko(I[B.e+1]);break;case 161:c["!autofilter"]={ref:Je(B)};break;case 476:c["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(c["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!R.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Je(u||d)),o.sheetRows&&c["!ref"]){var W=pt(c["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>d.e.r&&(W.e.r=d.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>d.e.c&&(W.e.c=d.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Je(W))}return S.length>0&&(c["!merges"]=S),I.length>0&&(c["!cols"]=I),M.length>0&&(c["!rows"]=M),c}function X4e(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Xt(t),t.z=t.z||qe[14],t.v=Pr(Gt(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Wo(a.cellXfs,t,a),t.l&&i["!links"].push([Ve(c),t.l]),t.c&&i["!comments"].push([Ve(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=zN(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?be(e,18,p4e(t,c)):be(e,7,d4e(t,c))):(c.t="str",s?be(e,17,N4e(t,c)):be(e,6,E4e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?be(e,13,b4e(t,c)):be(e,2,v4e(t,c)):s?be(e,16,g4e(t,c)):be(e,5,h4e(t,c)),!0;case"b":return c.t="b",s?be(e,15,i4e(t,c)):be(e,4,n4e(t,c)),!0;case"e":return c.t="e",s?be(e,14,c4e(t,c)):be(e,3,o4e(t,c)),!0}return s?be(e,12,t4e(t,c)):be(e,1,ZPe(t,c)),!0}function K4e(e,t,r,n){var a=pt(t["!ref"]||"A1"),i,s="",o=[];be(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=hr(d),WPe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){d===a.s.r&&(o[p]=rr(p)),i=o[p]+s;var m=c?(t[d]||[])[p]:t[i];if(!m){f=!1;continue}f=X4e(e,m,d,p,n,t,f)}}be(e,146)}function Y4e(e,t){!t||!t["!merges"]||(be(e,177,P4e(t["!merges"].length)),t["!merges"].forEach(function(r){be(e,176,I4e(r))}),be(e,178))}function J4e(e,t){!t||!t["!cols"]||(be(e,390),t["!cols"].forEach(function(r,n){r&&be(e,60,L4e(n,r))}),be(e,391))}function Q4e(e,t){!t||!t["!ref"]||(be(e,648),be(e,649,q4e(pt(t["!ref"]))),be(e,650))}function Z4e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=wt(r,-1,n[1].Target.replace(/#.*$/,""),nt.HLINK);be(e,494,R4e(n,a))}}),delete t["!links"]}function eOe(e,t,r,n){if(t["!comments"].length>0){var a=wt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",nt.VML);be(e,551,TN("rId"+a)),t["!legacy"]=a}}function tOe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Je(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Yn(i);o.s.r==o.e.r&&(o.e.r=Yn(t["!ref"]).e.r,i=Je(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),be(e,161,Pd(pt(i))),be(e,162)}}function rOe(e,t,r){be(e,133),be(e,137,U4e(t,r)),be(e,138),be(e,134)}function nOe(e,t){t["!protect"]&&be(e,535,V4e(t["!protect"]))}function aOe(e,t,r,n){var a=Kn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=pt(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],be(a,129),(r.vbaraw||s["!outline"])&&be(a,147,JPe(o,s["!outline"])),be(a,148,XPe(c)),rOe(a,s,r.Workbook),J4e(a,s),K4e(a,s,e,t),nOe(a,s),tOe(a,s,r,e),Y4e(a,s),Z4e(a,s,n),s["!margins"]&&be(a,476,B4e(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Q4e(a,s),eOe(a,s,e,n),be(a,130),a.end()}function iOe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=ft((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function sOe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=iOe(f);d.s.r=d.s.c=0,d.e.c=o,u=rr(o),p[0].forEach(function(m,h){s[u+hr(h)]={t:"n",v:m,z:p[1]},c=h}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=Je(d)),s}function oOe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Cz);return o&&UN(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function lOe(e,t){e.l+=10;var r=gn(e);return{name:r}}function cOe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Ps(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var qN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],uOe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],dOe=[],fOe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function O4(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ht(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function R4(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ht(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Iz(e){R4(e.WBProps,qN),R4(e.CalcPr,fOe),O4(e.WBView,uOe),O4(e.Sheets,dOe),hu.date1904=Ht(e.WBProps.date1904)}function pOe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ht(e.Workbook.WBProps.date1904)?"true":"false"}var mOe="][*?/\\".split("");function Pz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mOe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function hOe(e,t,r){e.forEach(function(n,a){Pz(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function gOe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];hOe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)pPe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var xOe=/<\w+:workbook/;function vOe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(yn,function(c,u){var d=We(c);switch(qi(d[0])){case"<?xml":break;case"<workbook":c.match(xOe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":qN.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ht(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Tt(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ft(Tt(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Tt(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Ht(d.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=ft(Tt(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),fc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Iz(r),r}function Oz(e){var t=[gr];t[t.length]=ke("workbook",null,{xmlns:fc[0],"xmlns:r":jr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(qN.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ke("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:St(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ke("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=ke("definedName",St(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function yOe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=o2(e),r.name=gn(e),r}function bOe(e,t){return t||(t=he(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),TN(e.strRelID,t),Br(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function wOe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?gn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function SOe(e,t){t||(t=he(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),_B(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function EOe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function _Oe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=eke(e),s=oPe(e,0,r),o=CN(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function NOe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],pm[16]={n:"BrtFRTArchID$",f:EOe},Ps(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ln(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Iz(r),r.Names=i,r.supbooks=s,r}function kOe(e,t){be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};be(e,156,bOe(a))}be(e,144)}function COe(e,t){t||(t=he(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Br("SheetJS",t),Br(ix.version,t),Br(ix.version,t),Br("7262",t),t.length>t.l?t.slice(0,t.l):t}function TOe(e,t){t||(t=he(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function jOe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(be(e,135),be(e,158,TOe(a)),be(e,136))}}function AOe(e,t){var r=Kn();return be(r,131),be(r,128,COe()),be(r,153,SOe(e.Workbook&&e.Workbook.WBProps||null)),jOe(r,e),kOe(r,e),be(r,132),r.end()}function IOe(e,t,r){return t.slice(-4)===".bin"?NOe(e,r):vOe(e,r)}function POe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?G4e(e,n,r,a,i,s,o):_Pe(e,n,r,a,i,s,o)}function OOe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?cOe(e,n,r,a,i):oOe(e,n,r,a,i)}function ROe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?FAe():MAe()}function DOe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?RAe():DAe()}function FOe(e,t,r,n){return t.slice(-4)===".bin"?Ije(e,r,n):yje(e,r,n)}function MOe(e,t,r){return pz(e,r)}function LOe(e,t,r){return t.slice(-4)===".bin"?LTe(e,r):DTe(e,r)}function $Oe(e,t,r){return t.slice(-4)===".bin"?jAe(e,r):bAe(e,r)}function BOe(e,t,r){return t.slice(-4)===".bin"?xAe(e):hAe(e)}function zOe(e,t,r,n){return r.slice(-4)===".bin"?vAe(e,t,r,n):void 0}function UOe(e,t,r){return t.slice(-4)===".bin"?fAe(e,t,r):mAe(e,t,r)}function qOe(e,t,r){return(t.slice(-4)===".bin"?AOe:Oz)(e)}function VOe(e,t,r,n,a){return(t.slice(-4)===".bin"?aOe:Tz)(e,r,n,a)}function HOe(e,t,r){return(t.slice(-4)===".bin"?zje:dz)(e,r)}function WOe(e,t,r){return(t.slice(-4)===".bin"?zTe:nz)(e,r)}function GOe(e,t,r){return(t.slice(-4)===".bin"?AAe:gz)(e)}function XOe(e){return(e.slice(-4)===".bin"?pAe:mz)()}var Rz=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Dz=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Qa(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Rz),i,s,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(Dz),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function KOe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Rz),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Dz),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var qf;function YOe(e,t){var r=qf[e]||ft(e);return r==="General"?Hl(t):Wa(r,t)}function JOe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ht(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Gt(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ft(t)]=a}function QOe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Os[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=am(e.v):e.w=Hl(e.v):e.w=YOe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=qf[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&jd(n)){var a=hl(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function ZOe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=dje[n.Pattern]||n.Pattern)}e[t.ID]=t}function eRe(e,t,r,n,a,i,s,o,c,u){var d="General",f=n.StyleID,p={};u=u||{};var m=[],h=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ht(e);break;case"String":n.t="s",n.r=JP(ft(e)),n.v=e.indexOf("<")>-1?ft(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Gt(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=ft(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=jB[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=JP(t||e));break}if(QOe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=ft(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=mu(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=mu("RC:RC",a):n.ArrayRange&&(n.F=mu(n.ArrayRange,a),c.push([pt(n.F),n.F]))}else for(h=0;h<c.length;++h)a.r>=c[h][0].s.r&&a.r<=c[h][0].e.r&&a.c>=c[h][0].s.c&&a.c<=c[h][0].e.c&&(n.F=c[h][1]);u.cellStyles&&(m.forEach(function(x){!p.patternType&&x.patternType&&(p.patternType=x.patternType)}),n.s=p),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tRe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Kb(e,t){var r=t||{};Ad();var n=xf(wN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Tt(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Xt(r);return s.type="string",Zu.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(i=!0)}),i)return BRe(n,r);qf={"General Number":"General","General Date":qe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":qe[15],"Short Date":qe[14],"Long Time":qe[19],"Medium Time":qe[18],"Short Time":qe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:qe[2],Standard:qe[4],Percent:qe[10],Scientific:qe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],p=r.dense?[]:{},m="",h={},g={},x=Qa('<Data ss:Type="String">'),v=0,b=0,y=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},S={},w="",j=0,T=[],C={},A={},N=0,I=[],M=[],F={},q=[],W,V=!1,B=[],R=[],ne={},z=0,P=0,G={Sheets:[],WBProps:{date1904:!1}},J={};om.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=om.exec(n);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?eRe(n.slice(v,o.index),w,x,c[c.length-1][0]=="comment"?F:h,{c:b,r:y},E,q[b],g,B,r):(w="",x=Qa(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(h.c=M),(!r.sheetRows||r.sheetRows>y)&&h.v!==void 0&&(r.dense?(p[y]||(p[y]=[]),p[y][b]=h):p[rr(b)+hr(y)]=h),h.HRef&&(h.l={Target:ft(h.HRef)},h.HRefScreenTip&&(h.l.Tooltip=h.HRefScreenTip),delete h.HRef,delete h.HRefScreenTip),(h.MergeAcross||h.MergeDown)&&(z=b+(parseInt(h.MergeAcross,10)|0),P=y+(parseInt(h.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:z,r:P}})),!r.sheetStubs)h.MergeAcross?b=z+1:++b;else if(h.MergeAcross||h.MergeDown){for(var re=b;re<=z;++re)for(var D=y;D<=P;++D)(re>b||D>y)&&(r.dense?(p[D]||(p[D]=[]),p[D][re]={t:"z"}):p[rr(re)+hr(D)]={t:"z"});b=z+1}else++b;else h=KOe(o[0]),h.Index&&(b=+h.Index-1),b<k.s.c&&(k.s.c=b),b>k.e.c&&(k.e.c=b),o[0].slice(-2)==="/>"&&++b,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<k.s.r&&(k.s.r=y),y>k.e.r&&(k.e.r=y),o[0].slice(-2)==="/>"&&(g=Qa(o[0]),g.Index&&(y=+g.Index-1)),b=0,++y):(g=Qa(o[0]),g.Index&&(y=+g.Index-1),ne={},(g.AutoFitHeight=="0"||g.Height)&&(ne.hpx=parseInt(g.Height,10),ne.hpt=fm(ne.hpx),R[y]=ne),g.Hidden=="1"&&(ne.hidden=!0,R[y]=ne));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(p["!ref"]=Je(k),r.sheetRows&&r.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=r.sheetRows-1,p["!ref"]=Je(k))),T.length&&(p["!merges"]=T),q.length>0&&(p["!cols"]=q),R.length>0&&(p["!rows"]=R),d[m]=p}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([o[3],!1]),u=Qa(o[0]),m=ft(u.Name),p=r.dense?[]:{},T=[],B=[],R=[],J={name:m,Hidden:0},G.Sheets.push(J);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),q=[],V=!1}break;case"style":o[1]==="/"?ZOe(E,S,r):S=Qa(o[0]);break;case"numberformat":S.nf=ft(Qa(o[0]).Format||"General"),qf[S.nf]&&(S.nf=qf[S.nf]);for(var H=0;H!=392&&qe[H]!=S.nf;++H);if(H==392){for(H=57;H!=392;++H)if(qe[H]==null){us(S.nf,H);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=Qa(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!V&&W.wpx>10){V=!0,fn=cz;for(var L=0;L<q.length;++L)q[L]&&ko(q[L])}V&&ko(W),q[W.Index-1||q.length]=W;for(var K=0;K<+W.Span;++K)q[q.length]=Xt(W);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var O=We(o[0]),pe={Name:O.Name,Ref:mu(O.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(pe.Sheet=G.Sheets.length-1),G.Names.push(pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?w+=n.slice(j,o.index):j=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=Qa(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Nke(C,te,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));tRe(F),M.push(F)}else c.push([o[3],!1]),u=Qa(o[0]),F={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ie=Qa(o[0]);p["!autofilter"]={ref:mu(ie.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return $4(n,r);var de=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else N=o.index+o[0].length;break;case"header":p["!margins"]||kl(p["!margins"]={},"xlml"),isNaN(+We(o[0]).Margin)||(p["!margins"].header=+We(o[0]).Margin);break;case"footer":p["!margins"]||kl(p["!margins"]={},"xlml"),isNaN(+We(o[0]).Margin)||(p["!margins"].footer=+We(o[0]).Margin);break;case"pagemargins":var ye=We(o[0]);p["!margins"]||kl(p["!margins"]={},"xlml"),isNaN(+ye.Top)||(p["!margins"].top=+ye.Top),isNaN(+ye.Left)||(p["!margins"].left=+ye.Left),isNaN(+ye.Right)||(p["!margins"].right=+ye.Right),isNaN(+ye.Bottom)||(p["!margins"].bottom=+ye.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?JOe(A,te,I,n.slice(N,o.index)):(I=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var me={};return!r.bookSheets&&!r.bookProps&&(me.Sheets=d),me.SheetNames=f,me.Workbook=G,me.SSF=Xt(qe),me.Props=C,me.Custprops=A,me}function m2(e,t){switch(HN(t=t||{}),t.type||"base64"){case"base64":return Kb(ya(e),t);case"binary":case"buffer":case"file":return Kb(e,t);case"array":return Kb(Vo(e),t)}}function rRe(e,t){var r=[];return e.Props&&r.push(kke(e.Props,t)),e.Custprops&&r.push(Cke(e.Props,e.Custprops)),r.join("")}function nRe(){return""}function aRe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ke("NumberFormat",null,{"ss:Format":St(qe[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ke("Style",i.join(""),s))}),ke("Styles",r.join(""))}function Fz(e){return ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+$N(e.Ref,{r:0,c:0})})}function iRe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Fz(a)))}return ke("Names",r.join(""))}function sRe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(Fz(o)))}return i.join("")}function oRe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ke("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ke("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Xr("ProtectContents","True")),e["!protect"].objects&&a.push(Xr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Xr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Xr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Xr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ke("WorksheetOptions",a.join(""),{xmlns:oa.x})}function lRe(e){return e.map(function(t){var r=jNe(t.t||""),n=ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ke("Comment",n,{"ss:Author":t.a})}).join("")}function cRe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+St($N(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=nr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=St(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=St(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=Os[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||qe[14]);break;case"s":f="String",p=TNe(e.v||"");break}var m=Wo(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var h=e.v!=null?p:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+h+"</Data>";return(e.c||[]).length>0&&(g+=lRe(e.c)),ke("Cell",g,o)}function uRe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ed(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function dRe(e,t,r,n){if(!e["!ref"])return"";var a=pt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,v){ko(x);var b=!!x.width,y=uy(v,x),k={"ss:Index":v+1};b&&(k["ss:Width"]=um(y.width)),x.hidden&&(k["ss:Hidden"]="1"),o.push(ke("Column",null,k))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[uRe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var p=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:f},h=Ve(m),g=c?(e[u]||[])[f]:e[h];d.push(cRe(g,h,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function fRe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?sRe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?dRe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(oRe(i,t,e,r)),n.join("")}function pRe(e,t){t||(t={}),e.SSF||(e.SSF=Xt(qe)),e.SSF&&(Ad(),ny(e.SSF),t.revssf=iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Wo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rRe(e,t)),r.push(nRe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ke("Worksheet",fRe(n,t,e),{"ss:Name":St(e.SheetNames[n])}));return r[2]=aRe(e,t),r[3]=iRe(e),gr+ke("Workbook",r.join(""),{xmlns:oa.ss,"xmlns:o":oa.o,"xmlns:x":oa.x,"xmlns:ss":oa.ss,"xmlns:dt":oa.dt,"xmlns:html":oa.html})}function mRe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=ike(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=ske(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var hRe=[60,1084,2066,2165,2175];function gRe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var c=as(r,r.l),u=h2[c],d=0;u!=null&&hRe.indexOf(c)>-1;)i=as(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+i),s.push(o),r.l+=4+i,u=h2[c=as(r,r.l)];var f=$r(s);Gr(f,0);var p=0;f.lens=[];for(var m=0;m<s.length;++m)f.lens.push(p),p+=s[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function bi(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=qe[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Os[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=am(e.v):e.w=Hl(e.v):e.w=Wa(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&jd(qe[n]||String(n))){var a=hl(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Wh(e,t,r){return{v:e,ixfe:t,t:r}}function xRe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,c=[],u="",d={},f,p="",m,h,g,x,v={},b=[],y,k,E=[],S=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},j={},T=function(Re){return Re<8?El[Re]:Re<64&&S[Re-8]||El[Re]},C=function(Re,ut,xr){var yt=ut.XF.data;if(!(!yt||!yt.patternType||!xr||!xr.cellStyles)){ut.s={},ut.s.patternType=yt.patternType;var ta;(ta=cm(T(yt.icvFore)))&&(ut.s.fgColor={rgb:ta}),(ta=cm(T(yt.icvBack)))&&(ut.s.bgColor={rgb:ta})}},A=function(Re,ut,xr){if(!(ne>1)&&!(xr.sheetRows&&Re.r>=xr.sheetRows)){if(xr.cellStyles&&ut.XF&&ut.XF.data&&C(Re,ut,xr),delete ut.ixfe,delete ut.XF,f=Re,p=Ve(Re),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Re.r<s.s.r&&(s.s.r=Re.r),Re.c<s.s.c&&(s.s.c=Re.c),Re.r+1>s.e.r&&(s.e.r=Re.r+1),Re.c+1>s.e.c&&(s.e.c=Re.c+1),xr.cellFormula&&ut.f){for(var yt=0;yt<b.length;++yt)if(!(b[yt][0].s.c>Re.c||b[yt][0].s.r>Re.r)&&!(b[yt][0].e.c<Re.c||b[yt][0].e.r<Re.r)){ut.F=Je(b[yt][0]),(b[yt][0].s.c!=Re.c||b[yt][0].s.r!=Re.r)&&delete ut.f,ut.f&&(ut.f=""+ln(b[yt][1],s,Re,B,N));break}}xr.dense?(a[Re.r]||(a[Re.r]=[]),a[Re.r][Re.c]=ut):a[p]=ut}},N={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var I,M=[],F=[],q=[],W=[],V=!1,B=[];B.SheetNames=N.snames,B.sharedf=N.sharedf,B.arrayf=N.arrayf,B.names=[],B.XTI=[];var R=0,ne=0,z=0,P=[],G=[],J;N.codepage=1200,ii(1200);for(var te=!1;e.l<e.length-1;){var re=e.l,D=e.read_shift(2);if(D===0&&R===10)break;var H=e.l===e.length?0:e.read_shift(2),L=h2[D];if(L&&L.f){if(t.bookSheets&&R===133&&D!==133)break;if(R=D,L.r===2||L.r==12){var K=e.read_shift(2);if(H-=2,!N.enc&&K!==D&&((K&255)<<8|K>>8)!==D)throw new Error("rt mismatch: "+K+"!="+D);L.r==12&&(e.l+=10,H-=10)}var O={};if(D===10?O=L.f(e,H,N):O=gRe(D,L,e,H,N),ne==0&&[9,521,1033,2057].indexOf(R)===-1)continue;switch(D){case 34:r.opts.Date1904=w.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=O;break;case 66:var pe=Number(O);switch(pe){case 21010:pe=1200;break;case 32768:pe=1e4;break;case 32769:pe=1252;break}ii(N.codepage=pe),te=!0;break;case 317:N.rrtabid=O;break;case 25:N.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:N.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(a["!type"]="dialog"),O.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),O.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(O);break;case 430:B.push([O]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(O);break;case 24:case 536:J={Name:O.Name,Ref:ln(O.rgce,s,null,B,N)},O.itab>0&&(J.Sheet=O.itab-1),B.names.push(J),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(G[O.itab-1]={ref:Je(O.rgce[0][0][1][2])});break;case 22:N.ExternCount=O;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(O),B.XTI=B.XTI.concat(O);break;case 2196:if(N.biff<8)break;J!=null&&(J.Comment=O[1]);break;case 18:a["!protect"]=O;break;case 19:O!==0&&N.WTF&&console.error("Password verifier: "+O);break;case 133:i[O.pos]=O,N.snames.push(O.name);break;case 10:{if(--ne)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Je(s),t.sheetRows&&t.sheetRows<=s.e.r){var ie=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Je(s),s.e.r=ie}s.e.r++,s.e.c++}M.length>0&&(a["!merges"]=M),F.length>0&&(a["!objects"]=F),q.length>0&&(a["!cols"]=q),W.length>0&&(a["!rows"]=W),w.Sheets.push(j)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[D]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),N.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(N.biff=5,te=!0,ii(N.codepage=28591)),N.biff==8&&O.BIFFVer==0&&O.dt==16&&(N.biff=2),ne++)break;if(a=t.dense?[]:{},N.biff<8&&!te&&(te=!0,ii(N.codepage=t.codepage||1252)),N.biff<5||O.BIFFVer==0&&O.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:e.l-H,name:u};i[de.pos]=de,N.snames.push(u)}else u=(i[re]||{name:""}).name;O.dt==32&&(a["!type"]="chart"),O.dt==64&&(a["!type"]="macro"),M=[],F=[],N.arrayf=b=[],q=[],W=[],V=!1,j={Hidden:(i[re]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[O.r]||[])[O.c]:a[Ve({c:O.c,r:O.r})])&&++O.c,y={ixfe:O.ixfe,XF:E[O.ixfe]||{},v:O.val,t:"n"},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 5:case 517:y={ixfe:O.ixfe,XF:E[O.ixfe],v:O.val,t:O.t},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 638:y={ixfe:O.ixfe,XF:E[O.ixfe],v:O.rknum,t:"n"},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 189:for(var ye=O.c;ye<=O.C;++ye){var me=O.rkrec[ye-O.c][0];y={ixfe:me,XF:E[me],v:O.rkrec[ye-O.c][1],t:"n"},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:ye,r:O.r},y,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){o=O;break}if(y=Wh(O.val,O.cell.ixfe,O.tt),y.XF=E[y.ixfe],t.cellFormula){var Le=O.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var ct=Le[0][0][1][0],Kt=Le[0][0][1][1],zt=Ve({r:ct,c:Kt});v[zt]?y.f=""+ln(O.formula,s,O.cell,B,N):y.F=((t.dense?(a[ct]||[])[Kt]:a[zt])||{}).F}else y.f=""+ln(O.formula,s,O.cell,B,N)}z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A(O.cell,y,t),o=O}break;case 7:case 519:if(o)o.val=O,y=Wh(O,o.cell.ixfe,"s"),y.XF=E[y.ixfe],t.cellFormula&&(y.f=""+ln(o.formula,s,o.cell,B,N)),z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(O);var wn=Ve(O[0].s);if(m=t.dense?(a[O[0].s.r]||[])[O[0].s.c]:a[wn],t.cellFormula&&m){if(!o||!wn||!m)break;m.f=""+ln(O[1],s,O[0],B,N),m.F=Je(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;v[Ve(o.cell)]=O[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Ve(o.cell)],(m||{}).f=""+ln(O[0],s,f,B,N)}}break;case 253:y=Wh(c[O.isst].t,O.ixfe,"s"),c[O.isst].h&&(y.h=c[O.isst].h),y.XF=E[y.ixfe],z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:O.ixfe,XF:E[O.ixfe],t:"z"},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t));break;case 190:if(t.sheetStubs)for(var Fn=O.c;Fn<=O.C;++Fn){var Rr=O.ixfe[Fn-O.c];y={ixfe:Rr,XF:E[Rr],t:"z"},z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:Fn,r:O.r},y,t)}break;case 214:case 516:case 4:y=Wh(O.val,O.ixfe,"s"),y.XF=E[y.ixfe],z>0&&(y.z=P[y.ixfe>>8&63]),bi(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 0:case 512:ne===1&&(s=O);break;case 252:c=O;break;case 1054:if(N.biff==4){P[z++]=O[1];for(var Mn=0;Mn<z+163&&qe[Mn]!=O[1];++Mn);Mn>=163&&us(O[1],z+163)}else us(O[1],O[0]);break;case 30:{P[z++]=O;for(var ge=0;ge<z+163&&qe[ge]!=O;++ge);ge>=163&&us(O,z+163)}break;case 229:M=M.concat(O);break;case 93:F[O.cmo[0]]=N.lastobj=O;break;case 438:N.lastobj.TxO=O;break;case 127:N.lastobj.ImData=O;break;case 440:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Ve({c:g,r:x})],m&&(m.l=O[1]);break;case 2048:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Ve({c:g,r:x})],m&&m.l&&(m.l.Tooltip=O[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;m=t.dense?(a[O[0].r]||[])[O[0].c]:a[Ve(O[0])];var Ne=F[O[2]];m||(t.dense?(a[O[0].r]||(a[O[0].r]=[]),m=a[O[0].r][O[0].c]={t:"z"}):m=a[Ve(O[0])]={t:"z"},s.e.r=Math.max(s.e.r,O[0].r),s.s.r=Math.min(s.s.r,O[0].r),s.e.c=Math.max(s.e.c,O[0].c),s.s.c=Math.min(s.s.c,O[0].c)),m.c||(m.c=[]),h={a:O[1],t:Ne.TxO.t},m.c.push(h)}break;case 2173:aAe(E[O.ixfe],O.ext);break;case 125:{if(!N.cellStyles)break;for(;O.e>=O.s;)q[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},V||(V=!0,FN(O.w/256)),ko(q[O.e+1])}break;case 520:{var Me={};O.level!=null&&(W[O.r]=Me,Me.level=O.level),O.hidden&&(W[O.r]=Me,Me.hidden=!0),O.hpt&&(W[O.r]=Me,Me.hpt=O.hpt,Me.hpx=ed(O.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||kl(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[D]]=O;break;case 161:a["!margins"]||kl(a["!margins"]={}),a["!margins"].header=O.header,a["!margins"].footer=O.footer;break;case 574:O.RTL&&(w.Views[0].RTL=!0);break;case 146:S=O;break;case 2198:I=O;break;case 140:k=O;break;case 442:u?j.CodeName=O||j.name:w.WBProps.CodeName=O||"ThisWorkbook";break}}else L||console.error("Missing Info for XLS Record 0x"+D.toString(16)),e.l+=H}return r.SheetNames=dr(i).sort(function(Ge,Re){return Number(Ge)-Number(Re)}).map(function(Ge){return i[Ge].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&G.forEach(function(Ge,Re){r.Sheets[r.SheetNames[Re]]["!autofilter"]=Ge}),r.Strings=c,r.SSF=Xt(qe),N.enc&&(r.Encryption=N.enc),I&&(r.Themes=I),r.Metadata={},k!==void 0&&(r.Metadata.Country=k),B.names.length>0&&(w.Names=B.names),r.Workbook=w,r}var Vf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vRe(e,t,r){var n=$e.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=h4(n,l2,Vf.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=$e.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=h4(s,c2,Vf.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(DB(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function yRe(e,t){var r=[],n=[],a=[],i=0,s,o=HP(l2,"n"),c=HP(c2,"n");if(e.Props)for(s=dr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=dr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)UB.indexOf(a[i][0])>-1||RB.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&$e.utils.cfb_add(t,"/SummaryInformation",g4(n,Vf.SI,c,c2)),(r.length||u.length)&&$e.utils.cfb_add(t,"/DocumentSummaryInformation",g4(r,Vf.DSI,o,l2,u.length?u:null,Vf.UDI))}function Mz(e,t){t||(t={}),HN(t),fN(),t.codepage&&dN(t.codepage);var r,n;if(e.FullPaths){if($e.find(e,"/encryption"))throw new Error("File is password-protected");r=$e.find(e,"!CompObj"),n=$e.find(e,"/Workbook")||$e.find(e,"/Book")}else{switch(t.type){case"base64":e=da(ya(e));break;case"binary":e=da(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Gr(e,0),n={content:e}}var a,i;if(r&&mRe(r),t.bookProps&&!t.bookSheets)a={};else{var s=rt?"buffer":"array";if(n&&n.content)a=xRe(n.content,t);else if((i=$e.find(e,"PerfectOffice_MAIN"))&&i.content)a=Nl.to_workbook(i.content,(t.type=s,t));else if((i=$e.find(e,"NativeContent_MAIN"))&&i.content)a=Nl.to_workbook(i.content,(t.type=s,t));else throw(i=$e.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&$e.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=PAe(e))}var o={};return e.FullPaths&&vRe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function bRe(e,t){var r=t||{},n=$e.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $e.utils.cfb_add(n,a,Lz(e,r)),r.biff==8&&(e.Props||e.Custprops)&&yRe(e,n),r.biff==8&&e.vbaraw&&OAe(n,$e.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var pm={0:{f:VPe},1:{f:QPe},2:{f:x4e},3:{f:s4e},4:{f:r4e},5:{f:m4e},6:{f:S4e},7:{f:u4e},8:{f:j4e},9:{f:T4e},10:{f:k4e},11:{f:C4e},12:{f:e4e},13:{f:y4e},14:{f:l4e},15:{f:a4e},16:{f:jz},17:{f:_4e},18:{f:f4e},19:{f:kN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_Oe},40:{},42:{},43:{f:Sje},44:{f:bje},45:{f:Nje},46:{f:Cje},47:{f:kje},48:{},49:{f:GNe},50:{},51:{f:oAe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ZB},62:{f:w4e},63:{f:gAe},64:{f:H4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:z4e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:YPe},148:{f:GPe,p:16},151:{f:D4e},152:{},153:{f:wOe},154:{},155:{},156:{f:yOe},157:{},158:{},159:{T:1,f:MTe},160:{T:-1},161:{T:1,f:gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:A4e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iAe},336:{T:-1},337:{f:uAe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:o2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:QB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:F4e},427:{f:M4e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$4e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:KPe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:O4e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:o2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:CAe},633:{T:1},634:{T:-1},635:{T:1,f:NAe},636:{T:-1},637:{f:JNe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lOe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:W4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},h2={6:{f:Gb},10:{f:Bs},12:{f:wr},13:{f:wr},14:{f:fr},15:{f:fr},16:{f:mn},17:{f:fr},18:{f:fr},19:{f:wr},20:{f:S4},21:{f:S4},23:{f:QB},24:{f:_4},25:{f:fr},26:{},27:{},28:{f:WCe},29:{},34:{f:fr},35:{f:E4},38:{f:mn},39:{f:mn},40:{f:mn},41:{f:mn},42:{f:fr},43:{f:fr},47:{f:aje},49:{f:yCe},51:{f:wr},60:{},61:{f:mCe},64:{f:fr},65:{f:vCe},66:{f:wr},77:{},80:{},81:{},82:{},85:{f:wr},89:{},90:{},91:{},92:{f:nCe},93:{f:KCe},94:{},95:{f:fr},96:{},97:{},99:{f:fr},125:{f:ZB},128:{f:RCe},129:{f:iCe},130:{f:wr},131:{f:fr},132:{f:fr},133:{f:sCe},134:{},140:{f:nTe},141:{f:wr},144:{},146:{f:sTe},151:{},152:{},153:{},154:{},155:{},156:{f:wr},157:{},158:{},160:{f:pTe},161:{f:cTe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ACe},190:{f:ICe},193:{f:Bs},197:{},198:{},199:{},200:{},201:{},202:{f:fr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:wr},220:{},221:{f:fr},222:{},224:{f:OCe},225:{f:rCe},226:{f:Bs},227:{},229:{f:GCe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:lCe},253:{f:wCe},255:{f:uCe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:qB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fr},353:{f:Bs},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$Ce},431:{f:fr},432:{},433:{},434:{},437:{},438:{f:QCe},439:{f:fr},440:{f:ZCe},441:{},442:{f:Xm},443:{},444:{f:wr},445:{},446:{},448:{f:Bs},449:{f:pCe,r:2},450:{f:Bs},512:{f:y4},513:{f:fTe},515:{f:MCe},516:{f:ECe},517:{f:w4},519:{f:mTe},520:{f:dCe},523:{},545:{f:N4},549:{f:v4},566:{},574:{f:gCe},638:{f:jCe},659:{},1048:{},1054:{f:NCe},1084:{},1212:{f:qCe},2048:{f:tTe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:qh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Bs},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:oTe,r:12},2173:{f:nAe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:UCe,r:12},2197:{},2198:{f:Jje,r:12},2199:{},2200:{},2201:{},2202:{f:VCe,r:12},2203:{f:Bs},2204:{},2205:{},2206:{},2207:{},2211:{f:fCe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:wr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uTe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:iTe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:y4},1:{},2:{f:yTe},3:{f:xTe},4:{f:gTe},5:{f:w4},7:{f:wTe},8:{},9:{f:qh},11:{},22:{f:wr},30:{f:CCe},31:{},32:{},33:{f:N4},36:{},37:{f:v4},50:{f:STe},62:{},52:{},67:{},68:{f:wr},69:{},86:{},126:{},127:{f:hTe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ETe},223:{},234:{},354:{},421:{},518:{f:Gb},521:{f:qh},536:{f:_4},547:{f:E4},561:{},579:{},1030:{f:Gb},1033:{f:qh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ce(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&EN(r)&&e.push(r)}}function wRe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ce(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Qm(e,t,r){return e||(e=he(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function SRe(e,t,r,n){var a=he(9);return Qm(a,e,t),VB(r,n||"b",a),a}function ERe(e,t,r){var n=he(8+2*r.length);return Qm(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function _Re(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Pr(Gt(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ce(e,2,bTe(r,n,a)):Ce(e,3,vTe(r,n,a));return;case"b":case"e":Ce(e,5,SRe(r,n,t.v,t.t));return;case"s":case"str":Ce(e,4,ERe(r,n,(t.v||"").slice(0,255)));return}Ce(e,1,Qm(null,r,n))}function NRe(e,t,r,n){var a=Array.isArray(t),i=pt(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Je(i)}for(var u=i.s.r;u<=i.e.r;++u){o=hr(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=rr(d)),s=c[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&_Re(e,f,u,d)}}}function kRe(e,t){for(var r=t||{},n=Kn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ce(n,r.biff==4?1033:r.biff==3?521:9,ON(e,16,r)),NRe(n,e.Sheets[e.SheetNames[a]],a,r),Ce(n,10),n.end()}function CRe(e,t,r){Ce(e,49,bCe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function TRe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ce(e,1054,kCe(a,t[a],r))})}function jRe(e,t){var r=he(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ce(e,2151,r),r=he(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),KB(pt(t["!ref"]||"A1"),r),r.write_shift(4,4),Ce(e,2152,r)}function ARe(e,t){for(var r=0;r<16;++r)Ce(e,224,b4({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ce(e,224,b4(n,0,t))})}function IRe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ce(e,440,eTe(n)),n[1].Tooltip&&Ce(e,2048,rTe(n))}delete t["!links"]}function PRe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ce(e,125,lTe(uy(a,n),a))})}}function ORe(e,t,r,n,a){var i=16+Wo(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ce(e,513,Kl(r,n,i));return}if(t.bf)Ce(e,6,iPe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Pr(Gt(t.v)):t.v;Ce(e,515,LCe(r,n,s,i));break;case"b":case"e":Ce(e,517,FCe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=zN(a.Strings,t.v,a.revStrings);Ce(e,253,SCe(r,n,o,i))}else Ce(e,516,_Ce(r,n,(t.v||"").slice(0,255),i,a));break;default:Ce(e,513,Kl(r,n,i))}}function RRe(e,t,r){var n=Kn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",p=[],m=pt(i["!ref"]||"A1"),h=u?65536:16384;if(m.e.c>255||m.e.r>=h){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,h-1)}Ce(n,2057,ON(r,16,t)),Ce(n,13,Ra(1)),Ce(n,12,Ra(100)),Ce(n,15,kn(!0)),Ce(n,17,kn(!1)),Ce(n,16,Gl(.001)),Ce(n,95,kn(!0)),Ce(n,42,kn(!1)),Ce(n,43,kn(!1)),Ce(n,130,Ra(1)),Ce(n,128,DCe()),Ce(n,131,kn(!1)),Ce(n,132,kn(!1)),u&&PRe(n,i["!cols"]),Ce(n,512,TCe(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=hr(g);for(var x=m.s.c;x<=m.e.c;++x){g===m.s.r&&(p[x]=rr(x)),d=p[x]+f;var v=c?(i[g]||[])[x]:i[d];v&&(ORe(n,v,g,x,t),u&&v.l&&i["!links"].push([d,v.l]))}}var b=o.CodeName||o.name||a;return u&&Ce(n,574,xCe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ce(n,229,XCe(i["!merges"])),u&&IRe(n,i),Ce(n,442,HB(b)),u&&jRe(n,i),Ce(n,10),n.end()}function DRe(e,t,r){var n=Kn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(Ce(n,2057,ON(e,5,r)),r.bookType=="xla"&&Ce(n,135),Ce(n,225,o?Ra(1200):null),Ce(n,193,Fke(2)),c&&Ce(n,191),c&&Ce(n,192),Ce(n,226),Ce(n,92,aCe("SheetJS",r)),Ce(n,66,Ra(o?1200:1252)),o&&Ce(n,353,Ra(0)),o&&Ce(n,448),Ce(n,317,dTe(e.SheetNames.length)),o&&e.vbaraw&&Ce(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Ce(n,442,HB(u))}Ce(n,156,Ra(17)),Ce(n,25,kn(!1)),Ce(n,18,kn(!1)),Ce(n,19,Ra(0)),o&&Ce(n,431,kn(!1)),o&&Ce(n,444,Ra(0)),Ce(n,61,hCe()),Ce(n,64,kn(!1)),Ce(n,141,Ra(0)),Ce(n,34,kn(pOe(e)=="true")),Ce(n,14,kn(!0)),o&&Ce(n,439,kn(!1)),Ce(n,218,Ra(0)),CRe(n,e,r),TRe(n,e.SSF,r),ARe(n,r),o&&Ce(n,352,kn(!1));var d=n.end(),f=Kn();o&&Ce(f,140,aTe()),o&&r.Strings&&wRe(f,252,cCe(r.Strings)),Ce(f,10);var p=f.end(),m=Kn(),h=0,g=0;for(g=0;g<e.SheetNames.length;++g)h+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var x=d.length+h+p.length;for(g=0;g<e.SheetNames.length;++g){var v=i[g]||{};Ce(m,133,oCe({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var b=m.end();if(h!=b.length)throw new Error("BS8 "+h+" != "+b.length);var y=[];return d.length&&y.push(d),b.length&&y.push(b),p.length&&y.push(p),$r(y)}function FRe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Xt(qe)),e&&e.SSF&&(Ad(),ny(e.SSF),r.revssf=iy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,WN(r),r.cellXfs=[],Wo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=RRe(a,r,e);return n.unshift(DRe(e,n,r)),$r(n)}function Lz(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Yn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return FRe(e,t);case 4:case 3:case 2:return kRe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function D4(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,c=bNe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},h=[];for(s=0;s<c.length;++s){var g=c[s].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var b=v[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,k=0;y.charAt(0)=="<"&&(k=y.indexOf(">"))>-1;)y=y.slice(k+1);for(var E=0;E<h.length;++E){var S=h[E];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,E=-1)}var w=We(b.slice(0,b.indexOf(">")));p=w.colspan?+w.colspan:1,((f=+w.rowspan)>1||p>1)&&h.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+p-1}});var j=w.t||w["data-t"]||"";if(!y.length){d+=p;continue}if(y=lB(y),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!y.length){d+=p;continue}var T={t:"s",v:y};r.raw||!y.trim().length||j=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(di(y))?isNaN(Qu(y).getDate())||(T={t:"d",v:Gt(y)},r.cellDates||(T={t:"n",v:Pr(T.v)}),T.z=r.dateNF||qe[14]):T={t:"n",v:di(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=T):n[Ve({r:u,c:d})]=T,d+=p}}}}return n["!ref"]=Je(m),h.length&&(n["!merges"]=h),n}function MRe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Ve({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],p=f&&f.v!=null&&(f.h||bN(f.w||(Ss(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(ke("td",p,m))}}var h="<tr>";return h+i.join("")+"</tr>"}var LRe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$Re="</body></html>";function BRe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ho(D4(r[0],t),t);var n=KN();return r.forEach(function(a,i){YN(n,D4(a,t),"Sheet"+(i+1))}),n}function zRe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $z(e,t){var r=t||{},n=r.header!=null?r.header:LRe,a=r.footer!=null?r.footer:$Re,i=[n],s=Yn(e["!ref"]);r.dense=Array.isArray(e),i.push(zRe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(MRe(e,s,o,r));return i.push("</table>"+a),i.join("")}function Bz(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?nr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Yn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),h=0,g=0,x=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);h<o.length&&g<c;++h){var k=o[h];if(F4(k)){if(n.display)continue;m[g]={hidden:!0}}var E=k.children;for(x=v=0;x<E.length;++x){var S=E[x];if(!(n.display&&F4(S))){var w=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):lB(S.innerHTML),j=S.getAttribute("data-z")||S.getAttribute("z");for(p=0;p<f.length;++p){var T=f[p];T.s.c==v+i&&T.s.r<g+a&&g+a<=T.e.r&&(v=T.e.c+1-i,p=-1)}y=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:g+a,c:v+i},e:{r:g+a+(b||1)-1,c:v+i+(y||1)-1}});var C={t:"s",v:w},A=S.getAttribute("data-t")||S.getAttribute("t")||"";w!=null&&(w.length==0?C.t=A||"z":n.raw||w.trim().length==0||A=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(di(w))?isNaN(Qu(w).getDate())||(C={t:"d",v:Gt(w)},n.cellDates||(C={t:"n",v:Pr(C.v)}),C.z=n.dateNF||qe[14]):C={t:"n",v:di(w)})),C.z===void 0&&j!=null&&(C.z=j);var N="",I=S.getElementsByTagName("A");if(I&&I.length)for(var M=0;M<I.length&&!(I[M].hasAttribute("href")&&(N=I[M].getAttribute("href"),N.charAt(0)!="#"));++M);N&&N.charAt(0)!="#"&&(C.l={Target:N}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=C):e[Ve({c:v+i,r:g+a})]=C,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Je(u),g>=c&&(e["!fullref"]=Je((u.e.r=o.length-h+g-1+a,u))),e}function zz(e,t){var r=t||{},n=r.dense?[]:{};return Bz(n,e,t)}function URe(e,t){return Ho(zz(e,t),t)}function F4(e){var t="",r=qRe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function qRe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function VRe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ft(t.replace(/<[^>]*>/g,""));return[r]}var M4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Uz(e,t){var r=t||{},n=wN(e),a=[],i,s,o={name:""},c="",u=0,d,f,p={},m=[],h=r.dense?[]:{},g,x,v={value:""},b="",y=0,k=[],E=-1,S=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},j=0,T={},C=[],A={},N=0,I=0,M=[],F=1,q=1,W=[],V={Names:[]},B={},R=["",""],ne=[],z={},P="",G=0,J=!1,te=!1,re=0;for(om.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=om.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(w.e.c>=w.s.c&&w.e.r>=w.s.r?h["!ref"]=Je(w):h["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=w.e.r&&(h["!fullref"]=h["!ref"],w.e.r=r.sheetRows-1,h["!ref"]=Je(w)),C.length&&(h["!merges"]=C),M.length&&(h["!rows"]=M),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),p[d.name]=h,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=We(g[0],!1),E=S=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,h=r.dense?[]:{},C=[],M=[],te=!0);break;case"table-row-group":g[1]==="/"?--j:++j;break;case"table-row":case"行":if(g[1]==="/"){E+=F,F=1;break}if(f=We(g[0],!1),f.行号?E=f.行号-1:E==-1&&(E=0),F=+f["number-rows-repeated"]||1,F<10)for(re=0;re<F;++re)j>0&&(M[E+re]={level:j});S=-1;break;case"covered-table-cell":g[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(h[E]||(h[E]=[]),h[E][S]={t:"z"}):h[Ve({r:E,c:S})]={t:"z"}),b="",k=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++S,v=We(g[0],!1),q=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=P4(ft(v.formula))),(v.数据类型||v["value-type"])=="string"&&(x.t="s",x.v=ft(v["string-value"]||""),r.dense?(h[E]||(h[E]=[]),h[E][S]=x):h[Ve({r:E,c:S})]=x),S+=q-1;else if(g[1]!=="/"){++S,b="",y=0,k=[],q=1;var D=F?E+F-1:E;if(S>w.e.c&&(w.e.c=S),S<w.s.c&&(w.s.c=S),E<w.s.r&&(w.s.r=E),D>w.e.r&&(w.e.r=D),v=We(g[0],!1),ne=[],z={},x={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=ft(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(N=parseInt(v["number-matrix-rows-spanned"],10)||0,I=parseInt(v["number-matrix-columns-spanned"],10)||0,A={s:{r:E,c:S},e:{r:E+N-1,c:S+I-1}},x.F=Je(A),W.push([A,x.F])),v.formula)x.f=P4(v.formula);else for(re=0;re<W.length;++re)E>=W[re][0].s.r&&E<=W[re][0].e.r&&S>=W[re][0].s.c&&S<=W[re][0].e.c&&(x.F=W[re][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(N=parseInt(v["number-rows-spanned"],10)||0,I=parseInt(v["number-columns-spanned"],10)||0,A={s:{r:E,c:S},e:{r:E+N-1,c:S+I-1}},C.push(A)),v["number-columns-repeated"]&&(q=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Ht(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=Gt(v["date-value"]),r.cellDates||(x.t="n",x.v=Pr(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=xNe(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=sy(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.数据数值);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(b=ft(v["string-value"]),k=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(J=!1,x.t==="s"&&(x.v=b||"",k.length&&(x.R=k),J=y==0),B.Target&&(x.l=B),ne.length>0&&(x.c=ne,ne=[]),b&&r.cellText!==!1&&(x.w=b),J&&(x.t="z",delete x.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var H=0;H<F;++H){if(q=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(h[E+H]||(h[E+H]=[]),h[E+H][S]=H==0?x:Xt(x);--q>0;)h[E+H][S+q]=Xt(x);else for(h[Ve({r:E+H,c:S})]=x;--q>0;)h[Ve({r:E+H,c:S+q})]=Xt(x);w.e.c<=S&&(w.e.c=S)}q=parseInt(v["number-columns-repeated"]||"1",10),S+=q-1,q=0,x={},b="",k=[]}B={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;z.t=b,k.length&&(z.R=k),z.a=P,ne.push(z)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);P="",G=0,b="",y=0,k=[];break;case"creator":g[1]==="/"?P=n.slice(G,g.index):G=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",y=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(T[o.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=We(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=We(g[0],!1),c+=M4[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=We(g[0],!1),c+=M4[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=We(g[0],!1),R=Xb(s["cell-range-address"]);var L={Name:s.name,Ref:R[0]+"!"+R[1]};te&&(L.Sheet=m.length),V.Names.push(L);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var K=VRe(n.slice(y,g.index));b=(b.length>0?b+`
`:"")+K[0]}else We(g[0],!1),y=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{R=Xb(We(g[0])["target-range-address"]),p[R[0]]["!autofilter"]={ref:R[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(B=We(g[0],!1),!B.href)break;B.Target=ft(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(R=Xb(B.Target.slice(1)),B.Target="#"+R[0]+"!"+R[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var O={Sheets:p,SheetNames:m,Workbook:V};return r.bookSheets&&delete O.Sheets,O}function L4(e,t){t=t||{},Oa(e,"META-INF/manifest.xml")&&xke(br(e,"META-INF/manifest.xml"),t);var r=fa(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Uz(Tt(r),t);return Oa(e,"meta.xml")&&(n.Props=PB(br(e,"meta.xml"))),n}function $4(e,t){return Uz(e,t)}var HRe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+sm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gr+t}}(),B4=function(){var e=function(i){return St(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+St(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Yn(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,h=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,b={},y="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>d)&&!(p[m].s.r>u)&&!(p[m].e.c<d)&&!(p[m].e.r<u)){(p[m].s.c!=d||p[m].s.r!=u)&&(v=!0),b["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,b["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(v){c.push(r);continue}var k=Ve({r:u,c:d}),E=h?(i[u]||[])[d]:i[k];if(E&&E.f&&(b["table:formula"]=St(dPe(E.f)),E.F&&E.F.slice(0,k.length)==k)){var S=Yn(E.F);b["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,b["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":y=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":y=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":y=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":y=E.w||Gt(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Gt(E.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var w=e(y);if(E.l&&E.l.Target){var j=E.l.Target;j=j.charAt(0)=="#"?"#"+fPe(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),w=ke("text:a",w,{"xlink:href":j.replace(/&/g,"&amp;")})}c.push("          "+ke("table:table-cell",ke("text:p",w,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;ko(f),f.ods=o;var p=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[gr],u=sm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=sm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(IB().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function qz(e,t){if(t.bookType=="fods")return B4(e,t);var r=xN(),n="",a=[],i=[];return n="mimetype",Ze(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ze(r,n,B4(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ze(r,n,HRe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ze(r,n,gr+IB()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ze(r,n,bke(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ze(r,n,vke(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Yl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function g2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Tt(Vo(e))}function WRe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):da(Ci(e))}function GRe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function To(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function z4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function XRe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function KRe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function mm(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function bt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ur(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function mt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=mm(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=mm(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Vr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(bt(n*8+a.type)),a.type==2&&t.push(bt(a.data.length)),t.push(a.data))})}),To(t)}function VN(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Ia(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=mm(e,n),i=mt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ur(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=mt(o.data),u=ur(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=ur(i[3][0].data)>>>0>0),r.push(s)}return r}function Cc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:bt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:bt(s.data.length)}],n[2].push({data:Vr(s.meta),type:2})});var i=Vr(n);t.push(bt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),To(t)}function YRe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=mm(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[To(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=To(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Pa(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(YRe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return To(t)}function Tc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=bt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return To(t)}function JRe(e,t,r,n){var a=Yl(e),i=a.getUint32(4,!0),s=(n>1?12:8)+z4(i&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=z4(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function QRe(e,t,r){var n=Yl(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=XRe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Yb(e,t){var r=new Uint8Array(32),n=Yl(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,KRe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Jb(e,t){var r=new Uint8Array(32),n=Yl(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function ZRe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return JRe(e,t,r,e[0]);case 5:return QRe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function on(e){var t=mt(e);return mm(t[1][0].data)}function U4(e,t){var r=mt(t.data),n=ur(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=mt(s.data),c=ur(o[1][0].data)>>>0;switch(n){case 1:i[c]=g2(o[3][0].data);break;case 8:{var u=e[on(o[9][0].data)][0],d=mt(u.data),f=e[on(d[1][0].data)][0],p=ur(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=mt(f.data);i[c]=m[3].map(function(h){return g2(h.data)}).join("")}break}}),i}function e3e(e,t){var r,n,a,i,s,o,c,u,d,f,p,m,h,g,x=mt(e),v=ur(x[1][0].data)>>>0,b=ur(x[2][0].data)>>>0,y=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&ur(x[8][0].data)>0||!1,k,E;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)k=(o=(s=x[7])==null?void 0:s[0])==null?void 0:o.data,E=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)k=(m=(p=x[4])==null?void 0:p[0])==null?void 0:m.data,E=(g=(h=x[3])==null?void 0:h[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=y?4:1,w=Yl(k),j=[],T=0;T<k.length/2;++T){var C=w.getUint16(T*2,!0);C<65535&&j.push([T,C])}if(j.length!=b)throw"Expected ".concat(b," cells, found ").concat(j.length);var A=[];for(T=0;T<j.length-1;++T)A[j[T][0]]=E.subarray(j[T][1]*S,j[T+1][1]*S);return j.length>=1&&(A[j[j.length-1][0]]=E.subarray(j[j.length-1][1]*S)),{R:v,cells:A}}function t3e(e,t){var r,n=mt(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ur(n[7][0].data)>>>0>0?1:0:-1,i=VN(n[5],function(s){return e3e(s,a)});return{nrows:ur(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function r3e(e,t,r){var n,a=mt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ur(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ur(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Je(i);var s=mt(a[4][0].data),o=U4(e,e[on(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?U4(e,e[on(s[17][0].data)][0]):[],u=mt(s[3][0].data),d=0;u[1].forEach(function(f){var p=mt(f.data),m=e[on(p[2][0].data)][0],h=ur(m.meta[1][0].data);if(h!=6002)throw new Error("6001 unexpected reference to ".concat(h));var g=t3e(e,m);g.data.forEach(function(x,v){x.forEach(function(b,y){var k=Ve({r:d+v,c:y}),E=ZRe(b,o,c);E&&(r[k]=E)})}),d+=g.nrows})}function n3e(e,t){var r=mt(t.data),n={"!ref":"A1"},a=e[on(r[2][0].data)],i=ur(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return r3e(e,a[0],n),n}function a3e(e,t){var r,n=mt(t.data),a={name:(r=n[1])!=null&&r[0]?g2(n[1][0].data):"",sheets:[]},i=VN(n[2],on);return i.forEach(function(s){e[s].forEach(function(o){var c=ur(o.meta[1][0].data);c==6e3&&a.sheets.push(n3e(e,o))})}),a}function i3e(e,t){var r=KN(),n=mt(t.data),a=VN(n[1],on);if(a.forEach(function(i){e[i].forEach(function(s){var o=ur(s.meta[1][0].data);if(o==2){var c=a3e(e,s);c.sheets.forEach(function(u,d){YN(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Qb(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Pa(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Ia(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ur(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(u){var d=ur(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return i3e(i,o)}function s3e(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&ur(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Yl(e[7][0].data),d=0,f=[],p=Yl(e[4][0].data),m=0,h=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),p.setUint16(g*2,m,!0);var x,v;switch(typeof t[g]){case"string":x=Yb({t:"s",v:t[g]},r),v=Jb({t:"s",v:t[g]},r);break;case"number":x=Yb({t:"n",v:t[g]},r),v=Jb({t:"n",v:t[g]},r);break;case"boolean":x=Yb({t:"b",v:t[g]},r),v=Jb({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,h.push(v),m+=v.length,++c}for(e[2][0].data=bt(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return e[6][0].data=To(f),e[3][0].data=To(h),c}function o3e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Je(n)));var i=xx(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(P){return P.forEach(function(G){typeof G=="string"&&s.push(G)})});var o={},c=[],u=$e.read(t.numbers,{type:"base64"});u.FileIndex.map(function(P,G){return[P,u.FullPaths[G]]}).forEach(function(P){var G=P[0],J=P[1];if(G.type==2&&G.name.match(/\.iwa/)){var te=G.content,re=Pa(te),D=Ia(re);D.forEach(function(H){c.push(H.id),o[H.id]={deps:[],location:J,type:ur(H.messages[0].meta[1][0].data)}})}}),c.sort(function(P,G){return P-G});var d=c.filter(function(P){return P>1}).map(function(P){return[P,bt(P)]});u.FileIndex.map(function(P,G){return[P,u.FullPaths[G]]}).forEach(function(P){var G=P[0];if(P[1],!!G.name.match(/\.iwa/)){var J=Ia(Pa(G.content));J.forEach(function(te){te.messages.forEach(function(re){d.forEach(function(D){te.messages.some(function(H){return ur(H.meta[1][0].data)!=11006&&GRe(H.data,D[1])})&&o[D[0]].deps.push(te.id)})})})}});for(var f=$e.find(u,o[1].location),p=Ia(Pa(f.content)),m,h=0;h<p.length;++h){var g=p[h];g.id==1&&(m=g)}var x=on(mt(m.messages[0].data)[1][0].data);for(f=$e.find(u,o[x].location),p=Ia(Pa(f.content)),h=0;h<p.length;++h)g=p[h],g.id==x&&(m=g);for(x=on(mt(m.messages[0].data)[2][0].data),f=$e.find(u,o[x].location),p=Ia(Pa(f.content)),h=0;h<p.length;++h)g=p[h],g.id==x&&(m=g);for(x=on(mt(m.messages[0].data)[2][0].data),f=$e.find(u,o[x].location),p=Ia(Pa(f.content)),h=0;h<p.length;++h)g=p[h],g.id==x&&(m=g);var v=mt(m.messages[0].data);{v[6][0].data=bt(n.e.r+1),v[7][0].data=bt(n.e.c+1);var b=on(v[46][0].data),y=$e.find(u,o[b].location),k=Ia(Pa(y.content));{for(var E=0;E<k.length&&k[E].id!=b;++E);if(k[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var S=mt(k[E].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var w=0;w<=n.e.c;++w){var j=[];j[1]=j[2]=[{type:0,data:bt(w+420690)}],S[1].push({type:2,data:Vr(j)}),S[2].push({type:0,data:bt(w)}),S[3].push({type:0,data:bt(w)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)j=[],j[1]=j[2]=[{type:0,data:bt(T+726270)}],S[4].push({type:2,data:Vr(j)}),S[5].push({type:0,data:bt(T)}),S[6].push({type:0,data:bt(T)});k[E].messages[0].data=Vr(S)}y.content=Tc(Cc(k)),y.size=y.content.length,delete v[46];var C=mt(v[4][0].data);{C[7][0].data=bt(n.e.r+1);var A=mt(C[1][0].data),N=on(A[2][0].data);y=$e.find(u,o[N].location),k=Ia(Pa(y.content));{if(k[0].id!=N)throw"Bad HeaderStorageBucket";var I=mt(k[0].messages[0].data);for(T=0;T<i.length;++T){var M=mt(I[2][0].data);M[1][0].data=bt(T),M[4][0].data=bt(i[T].length),I[2][T]={type:I[2][0].type,data:Vr(M)}}k[0].messages[0].data=Vr(I)}y.content=Tc(Cc(k)),y.size=y.content.length;var F=on(C[2][0].data);y=$e.find(u,o[F].location),k=Ia(Pa(y.content));{if(k[0].id!=F)throw"Bad HeaderStorageBucket";for(I=mt(k[0].messages[0].data),w=0;w<=n.e.c;++w)M=mt(I[2][0].data),M[1][0].data=bt(w),M[4][0].data=bt(n.e.r+1),I[2][w]={type:I[2][0].type,data:Vr(M)};k[0].messages[0].data=Vr(I)}y.content=Tc(Cc(k)),y.size=y.content.length;var q=on(C[4][0].data);(function(){for(var P=$e.find(u,o[q].location),G=Ia(Pa(P.content)),J,te=0;te<G.length;++te){var re=G[te];re.id==q&&(J=re)}var D=mt(J.messages[0].data);{D[3]=[];var H=[];s.forEach(function(O,pe){H[1]=[{type:0,data:bt(pe)}],H[2]=[{type:0,data:bt(1)}],H[3]=[{type:2,data:WRe(O)}],D[3].push({type:2,data:Vr(H)})})}J.messages[0].data=Vr(D);var L=Cc(G),K=Tc(L);P.content=K,P.size=P.content.length})();var W=mt(C[3][0].data);{var V=W[1][0];delete W[2];var B=mt(V.data);{var R=on(B[2][0].data);(function(){for(var P=$e.find(u,o[R].location),G=Ia(Pa(P.content)),J,te=0;te<G.length;++te){var re=G[te];re.id==R&&(J=re)}var D=mt(J.messages[0].data);{delete D[6],delete W[7];var H=new Uint8Array(D[5][0].data);D[5]=[];for(var L=0,K=0;K<=n.e.r;++K){var O=mt(H);L+=s3e(O,i[K],s),O[1][0].data=bt(K),D[5].push({data:Vr(O),type:2})}D[1]=[{type:0,data:bt(n.e.c+1)}],D[2]=[{type:0,data:bt(n.e.r+1)}],D[3]=[{type:0,data:bt(L)}],D[4]=[{type:0,data:bt(n.e.r+1)}]}J.messages[0].data=Vr(D);var pe=Cc(G),ie=Tc(pe);P.content=ie,P.size=P.content.length})()}V.data=Vr(B)}C[3][0].data=Vr(W)}v[4][0].data=Vr(C)}m.messages[0].data=Vr(v);var ne=Cc(p),z=Tc(ne);return f.content=z,f.size=f.content.length,u}function Vz(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function HN(e){Vz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function WN(e){Vz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function l3e(e){return nt.WS.indexOf(e)>-1?"sheet":e==nt.CS?"chart":e==nt.DS?"dialog":e==nt.MS?"macro":e&&e.length?e:"sheet"}function c3e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,l3e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function u3e(e,t,r,n,a,i,s,o,c,u,d,f){try{i[n]=Bf(fa(e,r,!0),t);var p=br(e,t),m;switch(o){case"sheet":m=POe(p,t,a,c,i[n],u,d,f);break;case"chart":if(m=OOe(p,t,a,c,i[n],u,d,f),!m||!m["!drawel"])break;var h=yf(m["!drawel"].Target,t),g=lm(h),x=yAe(fa(e,h,!0),Bf(fa(e,g,!0),h)),v=yf(x,h),b=lm(v);m=sOe(fa(e,v,!0),v,c,Bf(fa(e,b,!0),v),u,m);break;case"macro":m=ROe(p,t,a,c,i[n],u,d,f);break;case"dialog":m=DOe(p,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=m;var y=[];i&&i[n]&&dr(i[n]).forEach(function(k){var E="";if(i[n][k].Type==nt.CMNT){E=yf(i[n][k].Target,t);var S=$Oe(br(e,E,!0),E,c);if(!S||!S.length)return;C4(m,S,!1)}i[n][k].Type==nt.TCMNT&&(E=yf(i[n][k].Target,t),y=y.concat(wAe(br(e,E,!0),c)))}),y&&y.length&&C4(m,y,!0,c.people||[])}catch(k){if(c.WTF)throw k}}function Ta(e){return e.charAt(0)=="/"?e.slice(1):e}function d3e(e,t){if(Ad(),t=t||{},HN(t),Oa(e,"META-INF/manifest.xml")||Oa(e,"objectdata.xml"))return L4(e,t);if(Oa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Qb<"u"){if(e.FileIndex)return Qb(e);var r=$e.utils.cfb_new();return XP(e).forEach(function(M){Ze(r,M,SNe(e,M))}),Qb(r)}throw new Error("Unsupported NUMBERS file")}if(!Oa(e,"[Content_Types].xml"))throw Oa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Oa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=XP(e),a=hke(fa(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",br(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!br(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(zf=[],a.sst)try{zf=LOe(br(e,Ta(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(c=MOe(fa(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=FOe(br(e,Ta(a.style)),a.style,c,t))}a.links.map(function(M){try{var F=Bf(fa(e,lm(Ta(M))),M);return zOe(br(e,Ta(M)),F,M,t)}catch{}});var d=IOe(br(e,Ta(a.workbooks[0])),a.workbooks[0],t),f={},p="";a.coreprops.length&&(p=br(e,Ta(a.coreprops[0]),!0),p&&(f=PB(p)),a.extprops.length!==0&&(p=br(e,Ta(a.extprops[0]),!0),p&&Ske(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(p=fa(e,Ta(a.custprops[0]),!0),p&&(m=_ke(p,t)));var h={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(F){return F.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(h.Props=f,h.Custprops=m),t.bookSheets&&typeof s<"u"&&(h.SheetNames=s),t.bookSheets?h.SheetNames:t.bookProps))return h;s={};var g={};t.bookDeps&&a.calcchain&&(g=BOe(br(e,Ta(a.calcchain)),a.calcchain));var x=0,v={},b,y;{var k=d.Sheets;f.Worksheets=k.length,f.SheetNames=[];for(var E=0;E!=k.length;++E)f.SheetNames[E]=k[E].name}var S=i?"bin":"xml",w=a.workbooks[0].lastIndexOf("/"),j=(a.workbooks[0].slice(0,w+1)+"_rels/"+a.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");Oa(e,j)||(j="xl/_rels/workbook."+S+".rels");var T=Bf(fa(e,j,!0),j.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=UOe(br(e,Ta(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=EAe(br(e,Ta(a.people[0])),t)),T&&(T=c3e(T,d.Sheets));var C=br(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var A="sheet";if(T&&T[x]?(b="xl/"+T[x][1].replace(/[\/]?xl\//,""),Oa(e,b)||(b=T[x][1]),Oa(e,b)||(b=j.replace(/_rels\/.*$/,"")+T[x][1]),A=T[x][2]):(b="xl/worksheets/sheet"+(x+1-C)+"."+S,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==x&&(N=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==f.SheetNames[x].toLowerCase()&&(N=1);if(!N)continue e}}u3e(e,b,y,f.SheetNames[x],x,v,s,A,t,d,c,u)}return h={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:zf,Styles:u,Themes:c,SSF:Xt(qe)},t&&t.bookFiles&&(e.files?(h.keys=n,h.files=e.files):(h.keys=[],h.files={},e.FullPaths.forEach(function(M,F){M=M.replace(/^Root Entry[\/]/,""),h.keys.push(M),h.files[M]=e.FileIndex[F]}))),t&&t.bookVBA&&(a.vba.length>0?h.vbaraw=br(e,Ta(a.vba[0]),!0):a.defaults&&a.defaults.bin===IAe&&(h.vbaraw=br(e,"xl/vbaProject.bin",!0))),h}function f3e(e,t){var r=t||{},n="Workbook",a=$e.find(e,n);try{if(n="/!DataSpaces/Version",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(UTe(a.content),n="/!DataSpaces/DataSpaceMap",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=VTe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=HTe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);GTe(a.content)}catch{}if(n="/EncryptionInfo",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=XTe(a.content);if(n="/EncryptedPackage",a=$e.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function p3e(e,t){return t.bookType=="ods"?qz(e,t):t.bookType=="numbers"?o3e(e,t):t.bookType=="xlsb"?m3e(e,t):h3e(e,t)}function m3e(e,t){Kc=1024,e&&!e.SSF&&(e.SSF=Xt(qe)),e&&e.SSF&&(Ad(),ny(e.SSF),t.revssf=iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Uf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=xz.indexOf(t.bookType)>-1,a=IN();WN(t=t||{});var i=xN(),s="",o=0;if(t.cellXfs=[],Wo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ze(i,s,OB(e.Props,t)),a.coreprops.push(s),wt(t.rels,2,s,nt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Ze(i,s,FB(e.Props)),a.extprops.push(s),wt(t.rels,3,s,nt.EXT_PROPS),e.Custprops!==e.Props&&dr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ze(i,s,MB(e.Custprops)),a.custprops.push(s),wt(t.rels,4,s,nt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ze(i,s,VOe(o-1,s,t,e,d)),a.sheets.push(s),wt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nt.WS[0])}if(f){var m=f["!comments"],h=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Ze(i,g,GOe(m,g)),a.comments.push(g),wt(d,-1,"../comments"+o+"."+r,nt.CMNT),h=!0),f["!legacy"]&&h&&Ze(i,"xl/drawings/vmlDrawing"+o+".vml",hz(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ze(i,lm(s),pu(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ze(i,s,WOe(t.Strings,s,t)),a.strs.push(s),wt(t.wbrels,-1,"sharedStrings."+r,nt.SST)),s="xl/workbook."+r,Ze(i,s,qOe(e,s)),a.workbooks.push(s),wt(t.rels,1,s,nt.WB),s="xl/theme/theme1.xml",Ze(i,s,MN(e.Themes,t)),a.themes.push(s),wt(t.wbrels,-1,"theme/theme1.xml",nt.THEME),s="xl/styles."+r,Ze(i,s,HOe(e,s,t)),a.styles.push(s),wt(t.wbrels,-1,"styles."+r,nt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ze(i,s,e.vbaraw),a.vba.push(s),wt(t.wbrels,-1,"vbaProject.bin",nt.VBA)),s="xl/metadata."+r,Ze(i,s,XOe(s)),a.metadata.push(s),wt(t.wbrels,-1,"metadata."+r,nt.XLMETA),Ze(i,"[Content_Types].xml",AB(a,t)),Ze(i,"_rels/.rels",pu(t.rels)),Ze(i,"xl/_rels/workbook."+r+".rels",pu(t.wbrels)),delete t.revssf,delete t.ssf,i}function h3e(e,t){Kc=1024,e&&!e.SSF&&(e.SSF=Xt(qe)),e&&e.SSF&&(Ad(),ny(e.SSF),t.revssf=iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Uf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=xz.indexOf(t.bookType)>-1,a=IN();WN(t=t||{});var i=xN(),s="",o=0;if(t.cellXfs=[],Wo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ze(i,s,OB(e.Props,t)),a.coreprops.push(s),wt(t.rels,2,s,nt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Ze(i,s,FB(e.Props)),a.extprops.push(s),wt(t.rels,3,s,nt.EXT_PROPS),e.Custprops!==e.Props&&dr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ze(i,s,MB(e.Custprops)),a.custprops.push(s),wt(t.rels,4,s,nt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ze(i,s,Tz(o-1,t,e,f)),a.sheets.push(s),wt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nt.WS[0])}if(p){var h=p["!comments"],g=!1,x="";if(h&&h.length>0){var v=!1;h.forEach(function(b){b[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+o+"."+r,Ze(i,x,SAe(h,d,t)),a.threadedcomments.push(x),wt(f,-1,"../threadedComments/threadedComment"+o+"."+r,nt.TCMNT)),x="xl/comments"+o+"."+r,Ze(i,x,gz(h)),a.comments.push(x),wt(f,-1,"../comments"+o+"."+r,nt.CMNT),g=!0}p["!legacy"]&&g&&Ze(i,"xl/drawings/vmlDrawing"+o+".vml",hz(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Ze(i,lm(s),pu(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ze(i,s,nz(t.Strings,t)),a.strs.push(s),wt(t.wbrels,-1,"sharedStrings."+r,nt.SST)),s="xl/workbook."+r,Ze(i,s,Oz(e)),a.workbooks.push(s),wt(t.rels,1,s,nt.WB),s="xl/theme/theme1.xml",Ze(i,s,MN(e.Themes,t)),a.themes.push(s),wt(t.wbrels,-1,"theme/theme1.xml",nt.THEME),s="xl/styles."+r,Ze(i,s,dz(e,t)),a.styles.push(s),wt(t.wbrels,-1,"styles."+r,nt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ze(i,s,e.vbaraw),a.vba.push(s),wt(t.wbrels,-1,"vbaProject.bin",nt.VBA)),s="xl/metadata."+r,Ze(i,s,mz()),a.metadata.push(s),wt(t.wbrels,-1,"metadata."+r,nt.XLMETA),d.length>1&&(s="xl/persons/person.xml",Ze(i,s,_Ae(d)),a.people.push(s),wt(t.wbrels,-1,"persons/person.xml",nt.PEOPLE)),Ze(i,"[Content_Types].xml",AB(a,t)),Ze(i,"_rels/.rels",pu(t.rels)),Ze(i,"xl/_rels/workbook."+r+".rels",pu(t.wbrels)),delete t.revssf,delete t.ssf,i}function GN(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ya(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function g3e(e,t){return $e.find(e,"EncryptedPackage")?f3e(e,t):Mz(e,t)}function x3e(e,t){var r,n=e,a=t||{};return a.type||(a.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r=iB(n,a),d3e(r,a)}function Hz(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return m2(e.slice(r),t);default:break e}return Zu.to_workbook(e,t)}function v3e(e,t){var r="",n=GN(e,t);switch(t.type){case"base64":r=ya(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Wl(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Tt(r)),t.type="binary",Hz(r,t)}function y3e(e,t){var r=e;return t.type=="base64"&&(r=ya(r)),r=Qs.utils.decode(1200,r.slice(2),"str"),t.type="binary",Hz(r,t)}function b3e(e){return e.match(/[^\x00-\x7F]/)?Ci(e):e}function Zb(e,t,r,n){return n?(r.type="string",Zu.to_workbook(e,r)):Zu.to_workbook(t,r)}function Es(e,t){fN();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Es(new Uint8Array(e),(r=Xt(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),hu={},r.dateNF&&(hu.dateNF=r.dateNF),r.type||(r.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=rt?"buffer":"binary",n=mNe(e),typeof Uint8Array<"u"&&!rt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=b3e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Xt(r),r.type="array",Es(pN(n),r)}switch((a=GN(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return g3e($e.read(n,r),r);break;case 9:if(a[1]<=8)return Mz(n,r);break;case 60:return m2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return NTe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return tz.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?x3e(n,r):Zb(e,n,r,i);case 239:return a[3]===60?m2(n,r):Zb(e,n,r,i);case 255:if(a[1]===254)return y3e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Nl.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Nl.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return p2.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return lz.to_workbook(n,r);break;case 10:case 13:case 32:return v3e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _Te.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?p2.to_workbook(n,r):Zb(e,n,r,i)}function Wz(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Hm(t.file,$e.write(e,{type:rt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $e.write(e,t)}function w3e(e,t){var r=Xt(t||{}),n=p3e(e,r);return S3e(n,r)}function S3e(e,t){var r={},n=rt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?$e.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(ry(a))}return t.password&&typeof encrypt_agile<"u"?Wz(encrypt_agile(a,t.password),t):t.type==="file"?Hm(t.file,a):t.type=="string"?Tt(a):a}function E3e(e,t){var r=t||{},n=bRe(e,r);return Wz(n,r)}function Si(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return nm(Ci(n));case"binary":return Ci(n);case"string":return e;case"file":return Hm(t.file,n,"utf8");case"buffer":return rt?Is(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Si(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _3e(e,t){switch(t.type){case"base64":return nm(e);case"binary":return e;case"string":return e;case"file":return Hm(t.file,e,"binary");case"buffer":return rt?Is(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Gh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?nm(r):t.type=="string"?Tt(r):r;case"file":return Hm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Gz(e,t){fN(),gOe(e);var r=Xt(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Gz(e,r);return r.type="array",ry(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Si(pRe(e,r),r);case"slk":case"sylk":return Si(ez.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Si($z(e.Sheets[e.SheetNames[a]],r),r);case"txt":return _3e(Xz(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Si(XN(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Si(tz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Gh(p2.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Si(Zu.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Si(lz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Si(rz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Si(qz(e,r),r);case"wk1":return Gh(Nl.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Gh(Nl.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Gh(Lz(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),E3e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return w3e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function N3e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function x2(e,t,r){var n={};return n.type="file",n.file=t,N3e(n),Gz(e,n)}function k3e(e,t,r,n,a,i,s,o){var c=hr(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var h=s?e[r][m]:e[n[m]+c];if(h===void 0||h.t===void 0){if(u===void 0)continue;i[m]!=null&&(p[i[m]]=u);continue}var g=h.v;switch(h.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+h.t)}if(i[m]!=null){if(g==null)if(h.t=="e"&&g===null)p[i[m]]=null;else if(u!==void 0)p[i[m]]=u;else if(d&&g===null)p[i[m]]=null;else continue;else p[i[m]]=d&&(h.t!=="n"||h.t==="n"&&o.rawNumbers!==!1)?g:Ss(h,g,o);g!=null&&(f=!1)}}return{row:p,isempty:f}}function xx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=pt(d);break;case"number":c=pt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=hr(c.s.r),p=[],m=[],h=0,g=0,x=Array.isArray(e),v=c.s.r,b=0,y={};x&&!e[v]&&(e[v]=[]);var k=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(k[b]||{}).hidden)switch(p[b]=rr(b),r=x?e[v][b]:e[p[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=p[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Ss(r,null,u),g=y[s]||0,!g)y[s]=1;else{do o=s+"_"+g++;while(y[o]);y[s]=g,y[o]=1}i[b]=o}for(v=c.s.r+a;v<=c.e.r;++v)if(!(E[v]||{}).hidden){var S=k3e(e,c,v,p,n,i,x,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[h++]=S.row)}return m.length=h,m}var q4=/"/g;function C3e(e,t,r,n,a,i,s,o){for(var c=!0,u=[],d="",f=hr(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var m=o.dense?(e[r]||[])[p]:e[n[p]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Ss(m,null,o));for(var h=0,g=0;h!==d.length;++h)if((g=d.charCodeAt(h))===a||g===i||g===34||o.forceQuotes){d='"'+d.replace(q4,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(q4,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function XN(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=pt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],h=a.s.c;h<=a.e.c;++h)(p[h]||{}).hidden||(f[h]=rr(h));for(var g=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=C3e(e,a,x,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function Xz(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=XN(e,t);return r}function T3e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=pt(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=rr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=hr(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Kz(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?nr(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=pt(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var p=n.header||[],m=0;t.forEach(function(g,x){dr(g).forEach(function(v){(m=p.indexOf(v))==-1&&(p[m=p.length]=v);var b=g[v],y="z",k="",E=Ve({c:o+m,r:s+x+a});u=hm(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Pr(b)),k=n.dateNF||qe[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,k&&(u.z=k)):i[E]=u={t:y,v:b},k&&(u.z=k))})}),d.e.c=Math.max(d.e.c,o+p.length-1);var h=hr(s);if(a)for(m=0;m<p.length;++m)i[rr(m+o)+h]={t:"s",v:p[m]};return i["!ref"]=Je(d),i}function j3e(e,t){return Kz(null,e,t)}function hm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=nr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?hm(e,Ve(t)):hm(e,Ve({r:t,c:r||0}))}function A3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function KN(){return{SheetNames:[],Sheets:{}}}function YN(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Pz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function I3e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=A3e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function P3e(e,t){return e.z=t,e}function Yz(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function O3e(e,t,r){return Yz(e,"#"+t,r)}function R3e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function D3e(e,t,r,n){for(var a=typeof t!="string"?t:pt(t),i=typeof t=="string"?t:Je(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=hm(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var pn={encode_col:rr,encode_row:hr,encode_cell:Ve,encode_range:Je,decode_col:NN,decode_row:_N,split_cell:WNe,decode_cell:nr,decode_range:Yn,format_cell:Ss,sheet_add_aoa:EB,sheet_add_json:Kz,sheet_add_dom:Bz,aoa_to_sheet:Id,json_to_sheet:j3e,table_to_sheet:zz,table_to_book:URe,sheet_to_csv:XN,sheet_to_txt:Xz,sheet_to_json:xx,sheet_to_html:$z,sheet_to_formulae:T3e,sheet_to_row_object_array:xx,sheet_get_cell:hm,book_new:KN,book_append_sheet:YN,book_set_sheet_visibility:I3e,cell_set_number_format:P3e,cell_set_hyperlink:Yz,cell_set_internal_link:O3e,cell_add_comment:R3e,sheet_set_array_formula:D3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const F3e=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=_.useState(!1),i=()=>{a(!n)},s=()=>{const o=t==null?void 0:t.toLowerCase();return o==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):o==="xlsx"||o==="xls"?l.jsx(M3e,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[l.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?l.jsx(Pm,{className:"w-5 h-5"}):l.jsx(Im,{className:"w-5 h-5"})}),s()]})})},M3e=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})},Jz=async(e,t)=>{try{const r=`${du.base}${du.routes.analyzeUrlPdf}${encodeURIComponent(e)}`;return(await Qe.post(r,{downloadUrl:t},{headers:{Authorization:`Bearer ${du.token}`,"Content-Type":"application/json"}})).data}catch(r){return console.error("Error al analizar el documento:",r),{success:!1,message:"Error al analizar el documento"}}},vc=async(e,t,r,n)=>{try{const a=t.name.substring(t.name.lastIndexOf("."))||"",i=`${e||"unknown"}${a}`,s=t.type||"application/octet-stream",o=await Qe.get(`${Yu.base}/generate-upload-url`,{params:{file_name:i,folder:r,content_type:s},headers:{Authorization:`Bearer ${Yu.token}`}}),{uploadUrl:c}=o.data;return await Qe.put(c,t,{headers:{"Content-Type":s},onUploadProgress:u=>{if(u.total){const d=Math.round(u.loaded*100/u.total);n&&n(d)}}}),!0}catch(a){return console.error("Error al subir el archivo:",a),!1}};async function L3e(){const e=_w.get();if(e)return e;const t=`${IP.base}${IP.routes.exchangeRate}?token=7b2437a8fbda419b1916829fa5bc8bc7a9c21dc08d57f3391a721fe4cf198988`;try{const n=(await Qe.get(t)).data.bmx.series[0].datos[0].dato;return n?(_w.save(n),n):null}catch(r){return console.error("Error al obtener los datos de Banxico:",r),null}}const $3e=async(e,t="download")=>{try{const r=`${$b.base}${$b.routes.generateLink}?action=${t}`,n=await Qe.post(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${$b.token}`},responseType:"blob"}),a=new Blob([n.data],{type:"application/pdf"}),i=window.URL.createObjectURL(a);if(t==="view")window.open(i,"_blank");else{const s=document.createElement("a");s.href=i,s.download="cedula_elegibilidad_final.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s)}return{success:!0}}catch(r){return console.error("Error al manejar el archivo:",r),{success:!1}}},Jl=async(e,t)=>{const r=await rM({productRequestId:t,flowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success},Od=({goToBackStep:e,goToNextStep:t,currentStep:r,totalSteps:n})=>l.jsxs("div",{className:"flex items-center justify-between pt-4",children:[l.jsx("button",{onClick:e,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r>2?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r<3,children:"Volver"}),l.jsx("button",{onClick:t,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r<n?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r>=n,children:r<n?"Siguiente":"Finalizado"})]}),dy=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a})=>e?l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),l.jsx("p",{className:"mb-4",children:a}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:t,children:"Cancelar"}),l.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:r,children:"Confirmar"})]})]})}):null;async function vx(e,t){try{console.log("generado token");const n={uid:(await Am({email:e??""})).Id??""};return{success:!0,token:(await S$(n,t??"")).token}}catch(r){return console.error("Error generating token:",r),{success:!1,token:""}}}function B3e(e,t,r){return`
    <!doctype html>
    <html lang="es">

    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
        <title>Broxel</title>
    
        <meta name="color-scheme" content="light dark">
        <style type="text/css">
            @media (prefers-color-scheme: dark) {
                .darkmode {
                    background-color: #1e1e1e !important;
                }
    
                .darkmode p {
                    color: #777777 !important;
                }
            }
        </style>
    
    
    
        <style type="text/css">
            body,
            #bodyTable,
            #bodyCell {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }
    
            #templateBody {
                /*background-color:  #f1f3f5 !important;*/
                background-color: #f1f3f5 !important;
                border-top: 0;
                border-bottom: 0;
            }
    
    
            #bodyBackground {
                border-collapse: separate !important;
                background-color: #FFFFFF !important;
                border: 1px solid #eeeeee !important;
                border-radius: 12px;
            }
    
            #templateHeader {
                /*@editable*/
                background-color: #f1f3f5 !important;
                /*@editable*/
                padding-top: 10px;
                /*@editable*/
                padding-bottom: 10px;
            }
    
    
    
            @media only screen and (max-width: 580px) {
                body {
                    width: 100% !important;
                    min-width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .templateContainer {
                    max-width: 580px !important;
                    width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .mcnImage {
                    height: auto !important;
                    width: 100% !important;
                }
    
            }
    
    
    
    
            /*CircularStdBlack*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 800;
                font-style: normal;
            }
    
            /*CircularStdBold*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 600;
                font-style: normal;
            }
    
            /*CircularStdMedium*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 500;
                font-style: normal;
            }
    
            /*CircularStdBook*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 400;
                font-style: normal;
            }
    
    
            h1 {
                font-size: 58px !important;
                line-height: 64px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h2 {
                font-size: 46px !important;
                line-height: 55px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h3 {
                font-size: 40px !important;
                line-height: 49px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h4 {
                font-size: 32px !important;
                line-height: 40px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h5 {
                font-size: 27px !important;
                line-height: 33px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                text-transform: none !important;
                letter-spacing: 0px !important;
            }
    
            h6 {
                font-size: 21px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-weight: 800 !important;
                text-transform: none !important;
                color: #001E30 !important;
                letter-spacing: 0px !important;
                margin-bottom: -11px;
            }
    
            p {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400 !important;
                letter-spacing: 0px !important;
            }
    
    
            li {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            ol {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            a {
                color: #0075ff !important;
                font-weight: 700 !important;
                text-decoration: none !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
    
            span.linkfooter {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-size: 12px;
                font-weight: 300;
                color: #0075ff;
            }
    
            b {
                font-weight: 800 !important;
            }
    
            ul {
                margin-left: -11px;
                margin-top: 30px !important;
            }
    
            @media only screen and (max-width: 480px) {
                .contenedor {
                    background-color: #ffffff !important;
                    width: 96% !important;
                    max-width: 580px !important;
                    overflow: hidden !important;
                    border-radius: 3px !important;
                    padding: 40px 0px !important;
                    margin-top: 40px !important;
                }
            }
        </style>
    
    
    
    
    </head>
    
    
    
    <body lang="es" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
        <style type="text/css">
            body,
            table,
            td,
            h1,
            h2,
            h3,
            h4,
            h5,
            ol,
            ul,
            p {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
        </style>
    
    
        <!-- PREHEADER AQUÍ-->
        <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la
            plataforma y completa tus datos</span>
        <!-- PREHEADER AQUÍ-->
    
        <center>
            <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                <tr>
                    <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                        <!-- BEGIN TEMPLATE // -->
    
    
    
    
                        <!-- BEGIN HEADER // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                            <tr>
                                <td align="center" valign="top">
                                    <span style="line-height:1px;">&nbsp;</span>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER -->
    
    
    
    
    
    
    
                        <!-- BEGIN HEADER LOGO // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                    <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                    <tr>
                                                        <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">
    
    
    
                                                            <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">
    
    
    
    
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER LOGO -->
    
    
    
    
    
    
                        <!-- BEGIN BODY // -->
                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding: 7px 7px;">
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                    <tr>
    
    
    
    
                                                        <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                        <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                            <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->
    
    
    
    
    
                                                            <!-- IMAGEN SUPERIOR EN BODY // -->
                                                            <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                            <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;"
                                                                            class="mcnImage">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
    
                                                            <!-- FIN IMAGEN SUPERIOR EN BODY // -->
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">
    
    
                                                                            <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->
    
    
    
    
                                                                            <!-- TITLE HEADER BODY // -->
    
                                                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                                <tr>
                                                                                    <td class="fallback-text" align="center">
                                                                                        <h2 style="
      font-size: 40px !important;
      line-height: 51px !important;
      font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
      color: #001E30 !important;
      font-weight: 800 !important; 
      text-align: center !important;
      max-width: 480px !important;
      letter-spacing: 0px !important;"> Notificación NAFIN: ${e}<span style="color:#00a6f5">.</span>
                                                                                        </h2>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- FIN TITLE HEADER BODY // -->
    
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">
    
    
    
    
                                                                            <!-- BEGIN CONTENT // -->
    
                                                                            <p style="
    font-size: 18px !important;
    line-height: 30px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    text-align: center !important;
    font-weight: 400;
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;
    max-width: 480px;
    margin: auto;">
    
    
                                                                                ${t}
    
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
                                                                                </table>
                                                                                <!--FIN UN ESPACIO-->
    
    
    
                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
    font-size: 1em !important;
    line-height: 30px !important;
    font-family: 'CircularStd', 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 400; 
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;">
    
    
    
    
    
    
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
    
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!--TEXTO DESTACADO-->
    
                                                                                    <h5 style="font-size: 27px !important;
    line-height: 33px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 800 !important;
    text-transform: none !important;
    margin: 3px auto 10px;
    max-width: 420px !important;
    letter-spacing: 0px !important;
    text-align:center !important;">
                                                                                    Ingresa a la plataforma ahora.</h5>
    
                                                                                    <!--FIN TEXTO DESTACADO-->
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!-- TABLA BOTON-->
                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">
    
    
    
                                                                                                    <!--BOTON-->
                                                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                        <tbody class="mcnButtonBlockOuter">
                                                                                                            <tr>
                                                                                                                <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                    <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                    <a href=${r} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                    <!--BOTON-->
    
    
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <!-- FIN TABLA BOTON-->
    
    
    
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
    
                                                                                    <!-- END CONTENT // -->
    
                                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
    
                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">
    
    
    
                                                                                <!-- END CONTENIDO EN BODY // -->
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
    
    
                                                                </td>
                                                    </tr>
                                                    </table>
    
    
                                                    </td>
                                        </tr>
                                        </table>
                                        </td>
                            </tr>
                            </table>
                            <!-- // END BODY -->
    
    
    
    
    
    
                            <!-- BEGIN FOOTER // -->
                            <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
    
                                <!-- FOOTER -->
                                <tr>
                                    <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">
    
    
                                        <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                            <tbody>
    
    
                                                <tr>
                                                    <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">
    
    
                                                        <p style="
                            font-size: 13px!important;
                            line-height: 21px!important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400; margin-top: 7px!important;
                            text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                            letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                            <b>¿Necesitas ayuda?</b><br>
                                                            Llámanos desde México o Estados Unidos al
                                                            <a href="tel: 5593700536"
                                                                style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                            Este correo es automatizado, favor&nbsp;de&nbsp;no responder
    
    
    
    
    
    
    
                                                            <br>&nbsp;<br>&nbsp;
                                                            <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important;">Aviso de Privacidad</a>
    
                                                    </p>
                                                </td>
    
                                            </tr>
    
                                            <tr>
                                                <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">
    
    
                                                    <!-- CONTENIDO PARRAFO LEGALES
    
                            <p style="font-size: 10px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            line-height: 19px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            This is an automated email.
                        </span>
                                                        </p>
    
    
                                                        <p style="font-size: 10px !important;
                            line-height: 19px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>
    
                            The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>
    
                            Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                            </span></p>
    
    
                                                        <p style="font-size: 13px!important;
                            line-height: 21px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400;
                            text-align: center !important;
                            letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                            <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                            Unsubscribe from these emails.
                            </a> CONTENIDO PARRAFO LEGALES-->
    
    
    
    
    
                                                            <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">
    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
    
                                    </td>
                                </tr>
                                <!-- FIN FOOTER -->
    
                            </table>
                            <!-- // END FOOTER -->
    
    
    
    
    
    
    
                            <!-- // END TEMPLATE -->
                            </td>
                </tr>
                </table>
        </center>
    </body>
    
    </html>
    `}const yc=(e,t,r)=>B3e(e,t,r),V4="xxxx@nafin.gob.mx",H4="xxxx@nafin.gob.mx",z3e=({prospectName:e,personName:t,body:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Estimado <b>${t}</b>, <b>${e}</b>:<br><br>

    Presentes<br><br>

    ${r}<br><br>

    Cualquier duda adicional, quedamos pendientes para ser contactados a las siguientes cuentas de correo electrónico: 
    <a href="mailto:${V4}">${V4}</a>, 
    <a href="mailto:${H4}">${H4}</a>.<br><br>

    <b>Nacional Financiera B.N.D.</b>
`;return yc(a,i,n)},U3e=({prospectName:e,personName:t,body:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Estimado <b>${t}</b>, <b>${e}</b><br><br>

    Presentes<br><br>

    ${r}<br><br>
  
    <b>Nacional Financiera B.N.D.</b>
`;return yc(a,i,n)},q3e=({name:e,numAprobados:t,numRechazados:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Hola <b>${e}</b>,<br><br>
    
    Te informamos que hay una <b>actualización</b> en la revisión de los documentos de tu solicitud de crédito con <b>Nacional Financiera</b>.<br><br>
    
    <b>Resumen de la revisión</b>:<br>
    - <b>Documentos aprobados</b>: ${t}<br>
    - <b>Documentos rechazados</b>: ${r}<br><br>
    
    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
    `;return yc(a,i,n)},V3e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    Hola <b>${e}</b>,<br><br>
    
    Nos complace informarte que el equipo de <b>Nacional Financiera</b> ha completado la revisión y validación de los documentos para tu solicitud de crédito.<br><br>
    
    En breve recibirás instrucciones detalladas sobre los siguientes pasos y el resultado de tu solicitud. Te recomendamos estar atento a tu correo electrónico y a las notificaciones en nuestra plataforma.<br><br>
    
    Atentamente,<br>
    <b>El equipo de Nacional Financiera</b>
`;return yc(r,n,t)},H3e=({name:e,numAprobados:t,numRechazados:r,numPendientes:n,url:a})=>{const i="Actualización en tu trámite",s=`
    Hola <b>${e}</b>,<br><br>

    Te informamos que hay una actualización en la revisión de los documentos de tu solicitud de crédito con <b>Nacional Financiera</b>.<br><br>

    <b>Resumen de la revisión:</b><br><br>

    - Documentos recibidos correctamente y enviados a mesa de control: ${t}<br>
    - Documentos rechazados: ${r}<br>
    - Documentos pendientes de envío: ${n}<br><br>

    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
`;return yc(i,s,a)},W3e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    <b>${e}</b> Nos complace informarte que la recepción de documentos se completo con éxito,  comenzaremos la revisión y nos pondremos en contacto contigo en las próximas horas.

    `;return yc(r,n,t)},G3e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
        <b>${e}</b>, tenemos novedades sobre tu trámite en la plataforma de crédito<b>NAFIN.</b>
        Para conocer los detalles y los próximos pasos, ingresa a tu cuenta y revisa
        la sección de tu solicitud:
    `;return yc(r,n,t)},X3e=()=>`En atención al proceso de su Solicitud de Crédito realizada a esta Dirección de Proyectos y Financiamiento Corporativo y de la revisión al expediente de elegibilidad, nos es grato informar que se han emitido los Términos y Condiciones Preliminares (Indicativos) en favor de su solicitud de crédito.

Por lo anterior, podrá descargar los mismos para su revisión y, en su caso, aceptación mediante firma del documento anexo que deberá ser subido en esta misma plataforma.`,K3e=()=>`En atención al proceso de su Solicitud de Crédito realizada a esta Dirección de Proyectos y Financiamiento Corporativo y de la revisión al expediente de elegibilidad, nos es grato informar que se han emitido los Términos y Condiciones Preliminares (Indicativos).

Me permito hacer de su conocimiento que, una vez revisada y analizada la información y documentación soporte de su solicitud de crédito, se ha determinado que Nacional Financiera B.N.D. no podrá atender dicha línea bajo las condiciones presentes, por lo que se dará de baja su solicitud de crédito.

Ante tal circunstancia, agradezco y reconozco la buena gestión de su parte en el trámite y en el seguimiento del análisis que se venía realizando.

Por lo que, en caso de presentarse una nueva oportunidad de financiamiento, estaremos gustosos de trabajar nuevamente con ustedes.`,Y3e=()=>{const[e,t]=_.useState({product:"",isAcepted:!1,isRejected:!1,description:"",productRequestId:""}),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[s,o]=_.useState(!1),[c,u]=_.useState(!1),{selectedClient:d,selectClient:f}=It(),[p,m]=_.useState(null),[h,g]=_.useState(6),[x,v]=_.useState(!1),[b,y]=_.useState([]),[k,E]=_.useState(!1),[S,w]=_.useState(null),[j,T]=_.useState(null),[C,A]=_.useState(!1),[N,I]=_.useState(""),{user:M}=Nt(),[F,q]=_.useState(!1),W=(ie,de)=>{t(ye=>({...ye,[ie]:de}))},V=ie=>{const{name:de,value:ye}=ie.target;t(me=>({...me,[de]:ye}))},B=ie=>{const{name:de,checked:ye}=ie.target;t(me=>({...me,isAcepted:de==="isAcepted"?ye:!ye&&me.isAcepted,isRejected:de==="isRejected"?ye:!ye&&me.isRejected}))},R=async ie=>{ie.target.files&&ie.target.files.length>0&&(m(ie.target.files[0]),ie.target.files[0]&&(n(!0),await vc((d==null?void 0:d.id)||"",ie.target.files[0],"documentos")?ce.success("Documento subido."):ce.error("Error cargar el archivo."),n(!1)))},ne=()=>{m(null),o(!1)},z=async()=>{const ie=await GE({productRequestId:(d==null?void 0:d.id)??""});ie?(t({product:ie.product??"",isAcepted:ie.isAcepted??!1,isRejected:ie.isRejected??!1,description:ie.description??"",productRequestId:(d==null?void 0:d.id)??""}),I(ie.id),u(!0),o(!0)):W("description",te())},P=async()=>{var ye;n(!0);const ie=d==null?void 0:d.id,de="Terminos y condiciones.pdf";if(ie){const me=((ye=de.split(".").pop())==null?void 0:ye.toLowerCase())??"",Kt=await gi("view","documentos",ie,"token",me);Kt.data?(w(Kt.data),T(me)):ce.error("Error al visualizar el documento. Inténtalo de nuevo.")}n(!1)},G=()=>w(null),J=async()=>{v(!0);const ie=b.filter(Le=>Le.isUploaded),de=ie.map(Le=>Le.id),ye=ie.reduce((Le,ct)=>(Le[ct.id]=ct.fileName??`documento_${ct.id}.pdf`,Le),{});console.log("IDs de documentos subidos:",de),console.log("Nombres de archivos:",ye),await NEe("documentos",de,ye),v(!1)};_.useEffect(()=>{console.log("inicalizando resolution"),d&&z(),g((d==null?void 0:d.flowStatus)??0),console.log("flujo actual",d==null?void 0:d.flowStatus)},[]),_.useEffect(()=>{(async()=>{if(!(d!=null&&d.id)){ce.error("No hay una empresa seleccionada.");return}const de=await D_e(d.id);y(de),console.log("Documentos actualizados:",de)})()},[]),_.useEffect(()=>{W("description",te())},[e.isAcepted,e.isRejected]);const te=()=>{if(d){const ie=e.isAcepted,de=e.isRejected;let ye="";return ie&&(ye=X3e()),de&&(ye=K3e()),ye}};function re(ie){return ie.replace(/\n/g,"<br>")}const D=async ie=>{ie.preventDefault(),E(!0),i(!1);try{if(d){const de=await vx((d==null?void 0:d.email)??"",(M==null?void 0:M.idToken)??""),me="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+de.token,Le=e.isAcepted;let ct="";if(Le?ct=z3e({prospectName:d.company??"",personName:d.name??"",url:me,body:re(e.description??"")}):ct=U3e({prospectName:d.company??"",personName:d.name??"",url:me,body:re(e.description??"")}),await Ju((d==null?void 0:d.email)??"",(d==null?void 0:d.ccemail)??"","Resolución NAFIN",ct,void 0,"Términos y condiciones.pdf"))ce.success("Cliente notificado.");else{ce.error("Error al enviar el correo.");return}}if(d){let de={success:!1,Id:""};if(c){const{productRequestId:ye,...me}=e,Le={...me,ResolutionDataId:N};de=await FY(Le)}else e.productRequestId=d.id,de=await DY(e),I(de.Id);de?(ce.success("Se envió la resolución correctamente"),c||await Jl(7,(d==null?void 0:d.id)??""),u(!0)):ce.error("Ocurrió un error al enviar los datos de resolución."),i(!0)}}catch(de){console.error("Error al enviar los datos:",de),ce.error("Ocurrió un error.")}finally{E(!1),m(null),o(!0)}},H=()=>{c?d&&(f({flowStatus:7}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):K()},L=()=>{d&&(f({flowStatus:5}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},K=()=>{A(!0)},O=()=>{A(!1)},pe=()=>{console.log("Confirmación aceptada"),d&&(f({flowStatus:7}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")),A(!1)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-center bg-transparent relative ",children:[r&&l.jsx("div",{className:"absolute inset-0 flex justify-center items-center z-50 bg-white bg-opacity-60",children:l.jsx($t,{className:"animate-spin text-blue-600 w-10 h-10"})}),F&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Función no disponible"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"Esta función no está habilitada por el momento."}),l.jsx("button",{onClick:()=>q(!1),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Cerrar"})]})}),l.jsxs("div",{className:"w-full max-w-3xl p-8 bg-white rounded-md shadow-md",children:[l.jsxs("form",{className:"space-y-6",onSubmit:D,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Producto"}),l.jsxs("select",{id:"product",name:"product",value:e.product||"",onChange:V,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione un producto"}),l.jsx("option",{value:"Crédito simple",children:"Crédito simple"}),l.jsx("option",{value:"Crédito revolvente",children:"Crédito revolvente"}),l.jsx("option",{value:"Crédito IVA",children:"Crédito IVA"}),l.jsx("option",{value:"Dictamen técnico",children:"Dictamen técnico"}),l.jsx("option",{value:"Certificación prime",children:"Certificación prime"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),l.jsxs("div",{className:"mt-2 flex space-x-6",children:[l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",name:"isAcepted",checked:e.isAcepted===!0,onChange:B,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-sm",children:"Aceptado"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",name:"isRejected",checked:e.isRejected===!0,onChange:B,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-sm",children:"Rechazado"})]})]})]})]}),!p&&!s&&l.jsx("div",{className:"flex justify-end",children:l.jsxs("label",{className:"flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white font-medium py-2 px-4 rounded-lg cursor-pointer w-full md:w-1/2 transition",children:[l.jsx(Lo,{className:"w-4 h-4"}),l.jsx("span",{children:"Cargar Términos y Condiciones"}),l.jsx("input",{type:"file",className:"hidden",accept:".pdf",onChange:R})]})}),(p||s)&&l.jsxs("div",{className:"mt-4 p-4 border border-gray-300 rounded-lg flex justify-between items-center bg-gray-50 hover:bg-gray-100 cursor-pointer",onClick:P,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:(p==null?void 0:p.name)??"Términos y condiciones"}),p&&l.jsxs("p",{className:"text-xs text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]}),l.jsx("button",{onClick:ie=>{ie.stopPropagation(),ne()},type:"button",className:"text-red-500 hover:text-red-700",children:l.jsx(Mo,{className:"w-5 h-5"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),l.jsx("textarea",{lang:"es",spellCheck:!0,id:"description",name:"description",value:e.description||"",placeholder:"Ingrese descripción de la resolución",onChange:V,rows:3,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsx("div",{className:"mt-8",children:l.jsx("button",{type:"submit",disabled:r,className:"w-full text-lg font-semibold flex justify-center items-center px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-xl shadow-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:k?l.jsxs("span",{className:"flex items-center",children:[l.jsx($t,{className:"mr-2 h-5 w-5 animate-spin"}),"Enviando..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(Dl,{className:"mr-2 h-5 w-5"}),"Enviar Resolución"]})})}),a&&l.jsxs("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md flex items-center",children:[l.jsx(mr,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:"¡Datos enviados correctamente!"})]})]}),h===6&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[l.jsxs("button",{onClick:J,disabled:x,className:"w-full flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-4 rounded-lg transition disabled:opacity-50",children:[x?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(mr,{className:"w-5 h-5"}),"Descargar expediente"]}),l.jsx("button",{onClick:()=>q(!0),className:"w-full flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-4 rounded-lg transition",children:"Subir a OneDrive"})]})]}),S&&l.jsx(F3e,{fileUrl:S,onClose:G,fileType:j??"pdf"})]}),l.jsx("div",{className:"mt-8",children:l.jsx(Od,{goToBackStep:L,goToNextStep:H,currentStep:6,totalSteps:7})}),l.jsx(dy,{isOpen:C,onClose:O,onConfirm:pe,title:"¿Deseas continuar?",message:"Aún no has enviado la resolución de la solicitud"})]})},J3e=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=_.useState(!1),i=()=>{a(!n)},s=()=>{const o=t==null?void 0:t.toLowerCase();return o==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):o==="xlsx"||o==="xls"?l.jsx(Q3e,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[l.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?l.jsx(Pm,{className:"w-5 h-5"}):l.jsx(Im,{className:"w-5 h-5"})}),s()]})})},Q3e=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})};function Z3e(){const[e,t]=_.useState(!1),{selectedClient:r,selectClient:n}=It(),[a,i]=_.useState(null),[s,o]=_.useState(null),[c,u]=_.useState(!1),d=async()=>{t(!0);try{await gi("download","documentos",(r==null?void 0:r.id)??"","token","pdf","términos y condiciones.pdf")}catch(g){console.log(g)}finally{t(!1)}},f=()=>i(null),p=async()=>{var v;u(!0);const g=r==null?void 0:r.id,x="Terminos y condiciones.pdf";if(g){const b=((v=x.split(".").pop())==null?void 0:v.toLowerCase())??"",E=await gi("view","documentos",g,"token",b);E.data?(i(E.data),o(b)):ce.error("Error al visualizar el documento. Inténtalo de nuevo.")}u(!1)},m=()=>{r&&(n({flowStatus:8}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3"))},h=()=>{r&&(n({flowStatus:6}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))};return l.jsxs("div",{children:[l.jsxs("div",{className:"min-h-min py-12 px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{id:"terms-content",className:"prose max-w-none text-gray-700 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Términos y Condiciones"}),l.jsx("p",{children:"Estos Términos y Condiciones regulan el uso del servicio proporcionado por nuestra empresa. Al acceder o utilizar nuestro servicio, usted acepta estar sujeto a estos Términos. Si no está de acuerdo con alguna parte de los términos, no podrá acceder al servicio."})]}),l.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[l.jsxs("button",{onClick:d,disabled:e,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[e?l.jsx($t,{className:"mr-2 h-5 w-5 animate-spin"}):l.jsx(gp,{className:"mr-2 h-5 w-5"}),e?"Descargando...":"Descargar Términos y Condiciones Firmados"]}),l.jsxs("button",{onClick:p,disabled:c,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[c?l.jsx($t,{className:"mr-2 h-5 w-5 animate-spin"}):l.jsx(fd,{className:"mr-2 h-5 w-5"}),c?"Cargando...":"Ver Términos y Condiciones Firmados"]})]})]})})}),a&&l.jsx(J3e,{fileUrl:a,onClose:f,fileType:s??"pdf"})]}),l.jsx("div",{children:l.jsx(Od,{goToBackStep:h,goToNextStep:m,currentStep:7,totalSteps:7})})]})}const eDe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=_.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},tDe=({onSelectDocument:e,isSectionComplete:t,setIsSectionComplete:r})=>{const[n,a]=_.useState({requiredDocuments:[]}),[i,s]=_.useState(null),[o,c]=_.useState(!1),[u,d]=_.useState(null),{selectedClient:f}=It(),[p,m]=_.useState(!1),[h,g]=_.useState(!1),[x,v]=_.useState(!1),{user:b}=Nt(),y=_.useRef(null);_.useEffect(()=>{const C=A=>{y.current&&!y.current.contains(A.target)&&s(null)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const k=async()=>{const C=f==null?void 0:f.name,A=await vx((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??""),I="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+A.token,M=V3e({name:C??"",url:I});await Jl(5,(f==null?void 0:f.id)??""),await Ju((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",M)?ce.success("Sección completa, Cliente notificado"):ce.error("Ocurrió un error al enviar el correo")},E=async()=>{const C=f==null?void 0:f.name,A=await vx((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??""),I="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+A.token,M=n.requiredDocuments.filter(V=>V.isApproved).length,F=n.requiredDocuments.filter(V=>V.isRejected).length,q=q3e({name:C??"",numAprobados:M,numRechazados:F,url:I});await Ju((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",q)?ce.success("Cliente notificado"):ce.error("Ocurrió un error")};_.useEffect(()=>{(async()=>{if(!f){ce.error("No hay una empresa seleccionada.");return}try{const A=await Bi({productRequestId:f.id});A&&a(A)}catch(A){ce.error("Ocurrió un error al obtener los documentos."),console.error("Error fetching documents:",A)}})()},[f]);const S=async C=>{if(m(!0),C.id)try{if((await Yr({id:C.id,isApproved:!0,isRejected:!1,rejectReason:""})).success){const N=n.requiredDocuments.findIndex(I=>I.id===C.id);if(N!==-1){const I=[...n.requiredDocuments];I[N]={...I[N],isApproved:!0,isRejected:!1,rejectReason:""},a({requiredDocuments:I}),ce.success("Documento aprobado con éxito.")}else ce.error("Documento no encontrado en la lista.")}else ce.error("Error al aprobar el documento. Inténtalo de nuevo.")}catch(A){console.error("Error al aprobar el documento:",A),ce.error("Ocurrió un error al aprobar el documento.")}},w=async C=>{if(m(!0),u)try{if((await Yr({id:u.id,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:C})).success){const N=n.requiredDocuments.findIndex(I=>I.id===u.id);if(N!==-1){const I=[...n.requiredDocuments];I[N]={...I[N],isRejected:!0,rejectReason:C,isApproved:!1},a({requiredDocuments:I}),ce.success("Documento rechazado con éxito.")}else ce.error("Documento no encontrado en la lista.")}else ce.error("Error al rechazar el documento. Inténtalo de nuevo.")}catch(A){console.error("Error al rechazar el documento:",A),ce.error("Ocurrió un error al rechazar el documento.")}finally{c(!1),d(null),s(null)}},j=C=>{d(C),c(!0)},T=async C=>{n.requiredDocuments.length>0&&n.requiredDocuments.every(A=>A.isApproved)?r(!0):C&&(await Jl(3,(f==null?void 0:f.id)??""),r(!1))};return _.useEffect(()=>{T(t)},[n]),l.jsxs("div",{children:[p?l.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,l.jsxs("div",{className:"grid gap-4 mt-4 max-h-[400px] overflow-y-auto pb-24",children:[n.requiredDocuments.map(C=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg  relative ${C.isRejected?"bg-red-100":C.isApproved?"bg-green-100":C.isUploaded?"bg-blue-100":"bg-white"}`,children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:C.documentTemplate.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("div",{title:C.isUploaded?"Documento subido":"Esperando subida",children:C.isUploaded?l.jsx(mM,{className:"text-green-500 w-5 h-5"}):l.jsx(ma,{className:"text-yellow-500 w-5 h-5"})}),l.jsx("div",{title:C.isPreApproved?"Pre-aprobado":"Pendiente de pre-aprobación",children:C.isPreApproved?l.jsx(mr,{className:"text-blue-500 w-5 h-5"}):l.jsx(ma,{className:"text-gray-400 w-5 h-5"})}),l.jsx("div",{title:C.isApproved?"Aprobado":"Pendiente de aprobación",children:C.isApproved?l.jsx(mr,{className:"text-green-500 w-5 h-5"}):l.jsx(ma,{className:"text-yellow-500 w-5 h-5"})}),l.jsx("div",{title:C.isRejected?"Rechazado":"No rechazado",children:C.isRejected?l.jsx(Do,{className:"text-red-500 w-5 h-5"}):l.jsx(ma,{className:"text-gray-400 w-5 h-5"})})]}),C.isRejected&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Motivo de rechazo: ",C.rejectReason]})]}),l.jsx("div",{className:"flex gap-2 items-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>s(A=>A===C.id?null:C.id),children:"Opciones"}),i===C.id&&l.jsx("div",{ref:y,className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-lg w-48 z-10",children:l.jsx("ul",{children:C.isUploaded?l.jsxs(l.Fragment,{children:[l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>e(C),children:"Ver Documento"})}),l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>{S(C),s(null)},children:"Aprobar"})}),l.jsx("li",{className:"border-t border-gray-200",children:l.jsx("button",{className:"w-full px-4 py-2 text-left text-red-500 hover:bg-gray-100",onClick:()=>j(C),children:"Rechazar"})})]}):l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"Documento no disponible"})})})})]})})]},C.id)),l.jsx(eDe,{isOpen:o,onClose:()=>c(!1),onConfirm:w}),l.jsx(qr,{})]}),l.jsxs("div",{className:"flex gap-2 relative",children:[l.jsxs("button",{onClick:async()=>{g(!0),await k(),g(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[h?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(mr,{className:"w-5 h-5"}),"Aprobar la recepción documental",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Establece esta sección como completa y notifica al cliente por correo que sus documentos fueron aprobados"})]}),l.jsxs("button",{onClick:async()=>{v(!0),await E(),v(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[x?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(mr,{className:"w-5 h-5"}),"Notificar al usuario de un cambio",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Envía una notificación al usuario sobre actualizaciones en su solicitud"})]})]})]})},rDe=({fileUrl:e,fileType:t})=>{const r=()=>{const n=t==null?void 0:t.toLowerCase();return n==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):n==="xlsx"||n==="xls"?l.jsx(nDe,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center overflow-hidden",children:r()})},nDe=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%] w-full",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})};function aDe(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const iDe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sDe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oDe={};function W4(e,t){return(oDe.jsx?sDe:iDe).test(e)}const lDe=/[ \t\n\f\r]/g;function cDe(e){return typeof e=="object"?e.type==="text"?G4(e.value):!1:G4(e)}function G4(e){return e.replace(lDe,"")===""}class Zm{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Zm.prototype.normal={};Zm.prototype.property={};Zm.prototype.space=void 0;function Qz(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Zm(r,n,t)}function v2(e){return e.toLowerCase()}class ea{constructor(t,r){this.attribute=r,this.property=t}}ea.prototype.attribute="";ea.prototype.booleanish=!1;ea.prototype.boolean=!1;ea.prototype.commaOrSpaceSeparated=!1;ea.prototype.commaSeparated=!1;ea.prototype.defined=!1;ea.prototype.mustUseProperty=!1;ea.prototype.number=!1;ea.prototype.overloadedBoolean=!1;ea.prototype.property="";ea.prototype.spaceSeparated=!1;ea.prototype.space=void 0;let uDe=0;const Ke=bc(),Sr=bc(),Zz=bc(),Ee=bc(),Ft=bc(),gu=bc(),ra=bc();function bc(){return 2**++uDe}const y2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ke,booleanish:Sr,commaOrSpaceSeparated:ra,commaSeparated:gu,number:Ee,overloadedBoolean:Zz,spaceSeparated:Ft},Symbol.toStringTag,{value:"Module"})),e1=Object.keys(y2);class JN extends ea{constructor(t,r,n,a){let i=-1;if(super(t,r),X4(this,"space",a),typeof n=="number")for(;++i<e1.length;){const s=e1[i];X4(this,e1[i],(n&y2[s])===y2[s])}}}JN.prototype.defined=!0;function X4(e,t,r){r&&(e[t]=r)}function Rd(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new JN(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[v2(n)]=n,r[v2(i.attribute)]=n}return new Zm(t,r,e.space)}const eU=Rd({properties:{ariaActiveDescendant:null,ariaAtomic:Sr,ariaAutoComplete:null,ariaBusy:Sr,ariaChecked:Sr,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:Ft,ariaCurrent:null,ariaDescribedBy:Ft,ariaDetails:null,ariaDisabled:Sr,ariaDropEffect:Ft,ariaErrorMessage:null,ariaExpanded:Sr,ariaFlowTo:Ft,ariaGrabbed:Sr,ariaHasPopup:null,ariaHidden:Sr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ft,ariaLevel:Ee,ariaLive:null,ariaModal:Sr,ariaMultiLine:Sr,ariaMultiSelectable:Sr,ariaOrientation:null,ariaOwns:Ft,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:Sr,ariaReadOnly:Sr,ariaRelevant:null,ariaRequired:Sr,ariaRoleDescription:Ft,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:Sr,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function tU(e,t){return t in e?e[t]:t}function rU(e,t){return tU(e,t.toLowerCase())}const dDe=Rd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gu,acceptCharset:Ft,accessKey:Ft,action:null,allow:null,allowFullScreen:Ke,allowPaymentRequest:Ke,allowUserMedia:Ke,alt:null,as:null,async:Ke,autoCapitalize:null,autoComplete:Ft,autoFocus:Ke,autoPlay:Ke,blocking:Ft,capture:null,charSet:null,checked:Ke,cite:null,className:Ft,cols:Ee,colSpan:null,content:null,contentEditable:Sr,controls:Ke,controlsList:Ft,coords:Ee|gu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ke,defer:Ke,dir:null,dirName:null,disabled:Ke,download:Zz,draggable:Sr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ke,formTarget:null,headers:Ft,height:Ee,hidden:Ke,high:Ee,href:null,hrefLang:null,htmlFor:Ft,httpEquiv:Ft,id:null,imageSizes:null,imageSrcSet:null,inert:Ke,inputMode:null,integrity:null,is:null,isMap:Ke,itemId:null,itemProp:Ft,itemRef:Ft,itemScope:Ke,itemType:Ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ke,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Ke,muted:Ke,name:null,nonce:null,noModule:Ke,noValidate:Ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ke,optimum:Ee,pattern:null,ping:Ft,placeholder:null,playsInline:Ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ke,referrerPolicy:null,rel:Ft,required:Ke,reversed:Ke,rows:Ee,rowSpan:Ee,sandbox:Ft,scope:null,scoped:Ke,seamless:Ke,selected:Ke,shadowRootClonable:Ke,shadowRootDelegatesFocus:Ke,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:Sr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ke,useMap:null,value:Sr,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ft,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ke,declare:Ke,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Ke,noHref:Ke,noShade:Ke,noWrap:Ke,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:Sr,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ke,disableRemotePlayback:Ke,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:rU}),fDe=Rd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ra,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:Ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gu,g2:gu,glyphName:gu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ra,rev:ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ra,requiredFeatures:ra,requiredFonts:ra,requiredFormats:ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ra,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tU}),nU=Rd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),aU=Rd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rU}),iU=Rd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),pDe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mDe=/[A-Z]/g,K4=/-[a-z]/g,hDe=/^data[-\w.:]+$/i;function gDe(e,t){const r=v2(t);let n=t,a=ea;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&hDe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(K4,vDe);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!K4.test(i)){let s=i.replace(mDe,xDe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=JN}return new a(n,t)}function xDe(e){return"-"+e.toLowerCase()}function vDe(e){return e.charAt(1).toUpperCase()}const yDe=Qz([eU,dDe,nU,aU,iU],"html"),QN=Qz([eU,fDe,nU,aU,iU],"svg");function bDe(e){return e.join(" ").trim()}var ZN={},Y4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wDe=/\n/g,SDe=/^\s*/,EDe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_De=/^:\s*/,NDe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,kDe=/^[;\s]*/,CDe=/^\s+|\s+$/g,TDe=`
`,J4="/",Q4="*",sl="",jDe="comment",ADe="declaration",IDe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(h){var g=h.match(wDe);g&&(r+=g.length);var x=h.lastIndexOf(TDe);n=~x?h.length-x:n+h.length}function i(){var h={line:r,column:n};return function(g){return g.position=new s(h),u(),g}}function s(h){this.start=h,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(h){var g=new Error(t.source+":"+r+":"+n+": "+h);if(g.reason=h,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function c(h){var g=h.exec(e);if(g){var x=g[0];return a(x),e=e.slice(x.length),g}}function u(){c(SDe)}function d(h){var g;for(h=h||[];g=f();)g!==!1&&h.push(g);return h}function f(){var h=i();if(!(J4!=e.charAt(0)||Q4!=e.charAt(1))){for(var g=2;sl!=e.charAt(g)&&(Q4!=e.charAt(g)||J4!=e.charAt(g+1));)++g;if(g+=2,sl===e.charAt(g-1))return o("End of comment missing");var x=e.slice(2,g-2);return n+=2,a(x),e=e.slice(g),n+=2,h({type:jDe,comment:x})}}function p(){var h=i(),g=c(EDe);if(g){if(f(),!c(_De))return o("property missing ':'");var x=c(NDe),v=h({type:ADe,property:Z4(g[0].replace(Y4,sl)),value:x?Z4(x[0].replace(Y4,sl)):sl});return c(kDe),v}}function m(){var h=[];d(h);for(var g;g=p();)g!==!1&&(h.push(g),d(h));return h}return u(),m()};function Z4(e){return e?e.replace(CDe,sl):sl}var PDe=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ZN,"__esModule",{value:!0});ZN.default=RDe;var ODe=PDe(IDe);function RDe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,ODe.default)(e),a=typeof t=="function";return n.forEach(function(i){if(i.type==="declaration"){var s=i.property,o=i.value;a?t(s,o,i):o&&(r=r||{},r[s]=o)}}),r}var fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.camelCase=void 0;var DDe=/^--[a-zA-Z0-9_-]+$/,FDe=/-([a-z])/g,MDe=/^[^-]+$/,LDe=/^-(webkit|moz|ms|o|khtml)-/,$De=/^-(ms)-/,BDe=function(e){return!e||MDe.test(e)||DDe.test(e)},zDe=function(e,t){return t.toUpperCase()},eO=function(e,t){return"".concat(t,"-")},UDe=function(e,t){return t===void 0&&(t={}),BDe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace($De,eO):e=e.replace(LDe,eO),e.replace(FDe,zDe))};fy.camelCase=UDe;var qDe=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},VDe=qDe(ZN),HDe=fy;function b2(e,t){var r={};return!e||typeof e!="string"||(0,VDe.default)(e,function(n,a){n&&a&&(r[(0,HDe.camelCase)(n,t)]=a)}),r}b2.default=b2;var WDe=b2;const GDe=_t(WDe),sU=oU("end"),ek=oU("start");function oU(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function XDe(e){const t=ek(e),r=sU(e);if(t&&r)return{start:t,end:r}}function Hf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tO(e.position):"start"in e||"end"in e?tO(e):"line"in e||"column"in e?w2(e):""}function w2(e){return rO(e&&e.line)+":"+rO(e&&e.column)}function tO(e){return w2(e&&e.start)+"-"+w2(e&&e.end)}function rO(e){return e&&typeof e=="number"?e:1}class bn extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},s=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(s=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?i.ruleId=n:(i.source=n.slice(0,c),i.ruleId=n.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=o?o.line:void 0,this.name=Hf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const tk={}.hasOwnProperty,KDe=new Map,YDe=/[A-Z]/g,JDe=new Set(["table","tbody","thead","tfoot","tr"]),QDe=new Set(["td","th"]),lU="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ZDe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=o5e(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=s5e(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?QN:yDe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=cU(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function cU(e,t,r){if(t.type==="element")return e5e(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return t5e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return n5e(e,t,r);if(t.type==="mdxjsEsm")return r5e(e,t);if(t.type==="root")return a5e(e,t,r);if(t.type==="text")return i5e(e,t)}function e5e(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=QN,e.schema=a),e.ancestors.push(t);const i=dU(e,t.tagName,!1),s=l5e(e,t);let o=nk(e,t);return JDe.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!cDe(c):!0})),uU(e,s,i,t),rk(s,o),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function t5e(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}gm(e,t.position)}function r5e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gm(e,t.position)}function n5e(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=QN,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:dU(e,t.name,!0),s=c5e(e,t),o=nk(e,t);return uU(e,s,i,t),rk(s,o),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function a5e(e,t,r){const n={};return rk(n,nk(e,t)),e.create(t,e.Fragment,n,r)}function i5e(e,t){return t.value}function uU(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function rk(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function s5e(e,t,r){return n;function n(a,i,s,o){const u=Array.isArray(s.children)?r:t;return o?u(i,s,o):u(i,s)}}function o5e(e,t){return r;function r(n,a,i,s){const o=Array.isArray(i.children),c=ek(n);return t(a,i,s,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function l5e(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&tk.call(t.properties,a)){const i=u5e(e,a,t.properties[a]);if(i){const[s,o]=i;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&QDe.has(t.tagName)?n=o:r[s]=o}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function c5e(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else gm(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else gm(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function nk(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:KDe;for(;++n<t.children.length;){const i=t.children[n];let s;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;s=c+"-"+u,a.set(c,u+1)}}const o=cU(e,i,s);o!==void 0&&r.push(o)}return r}function u5e(e,t,r){const n=gDe(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?aDe(r):bDe(r)),n.property==="style"){let a=typeof r=="object"?r:d5e(e,String(r));return e.stylePropertyNameCase==="css"&&(a=f5e(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?pDe[n.property]||n.property:n.attribute,r]}}function d5e(e,t){try{return GDe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new bn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=lU+"#cannot-parse-style-attribute",a}}function dU(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,s;for(;++i<a.length;){const o=W4(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=s}else n=W4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return tk.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);gm(e)}function gm(e,t){const r=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=lU+"#cannot-handle-mdx-estrees-without-createevaluater",r}function f5e(e){const t={};let r;for(r in e)tk.call(e,r)&&(t[p5e(r)]=e[r]);return t}function p5e(e){let t=e.replace(YDe,m5e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function m5e(e){return"-"+e.toLowerCase()}const t1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},h5e={};function ak(e,t){const r=h5e,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return fU(e,n,a)}function fU(e,t,r){if(g5e(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nO(e.children,t,r)}return Array.isArray(e)?nO(e,t,r):""}function nO(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=fU(e[a],t,r);return n.join("")}function g5e(e){return!!(e&&typeof e=="object")}const aO=document.createElement("i");function ik(e){const t="&"+e+";";aO.innerHTML=t;const r=aO.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function xa(e,t,r,n){const a=e.length;let i=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);i<n.length;)s=n.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function Ma(e,t){return e.length>0?(xa(e,e.length,0,t),e):t}const iO={}.hasOwnProperty;function pU(e){const t={};let r=-1;for(;++r<e.length;)x5e(t,e[r]);return t}function x5e(e,t){let r;for(r in t){const a=(iO.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let s;if(i)for(s in i){iO.call(a,s)||(a[s]=[]);const o=i[s];v5e(a[s],Array.isArray(o)?o:o?[o]:[])}}}function v5e(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);xa(e,0,0,n)}function mU(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function pi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Go(/[A-Za-z]/),hn=Go(/[\dA-Za-z]/),y5e=Go(/[#-'*+\--9=?A-Z^-~]/);function yx(e){return e!==null&&(e<32||e===127)}const S2=Go(/\d/),b5e=Go(/[\dA-Fa-f]/),w5e=Go(/[!-/:-@[-`{-~]/);function ze(e){return e!==null&&e<-2}function Rt(e){return e!==null&&(e<0||e===32)}function it(e){return e===-2||e===-1||e===32}const py=Go(new RegExp("\\p{P}|\\p{S}","u")),Ql=Go(/\s/);function Go(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Dd(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let s="";if(i===37&&hn(e.charCodeAt(r+1))&&hn(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s="�"}else s=String.fromCharCode(i);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+a+1,s=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function lt(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(c){return it(c)?(e.enter(r),o(c)):t(c)}function o(c){return it(c)&&i++<a?(e.consume(c),o):(e.exit(r),t(c))}}const S5e={tokenize:E5e};function E5e(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),lt(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ze(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),s)}}const _5e={tokenize:N5e},sO={tokenize:k5e};function N5e(e){const t=this,r=[];let n=0,a,i,s;return o;function o(y){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,c,u)(y)}return u(y)}function c(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const k=t.events.length;let E=k,S;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){S=t.events[E][1].end;break}v(n);let w=k;for(;w<t.events.length;)t.events[w][1].end={...S},w++;return xa(t.events,E+1,0,t.events.slice(k)),t.events.length=w,u(y)}return o(y)}function u(y){if(n===r.length){if(!a)return p(y);if(a.currentConstruct&&a.currentConstruct.concrete)return h(y);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sO,d,f)(y)}function d(y){return a&&b(),v(n),p(y)}function f(y){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,h(y)}function p(y){return t.containerState={},e.attempt(sO,m,h)(y)}function m(y){return n++,r.push([t.currentConstruct,t.containerState]),p(y)}function h(y){if(y===null){a&&b(),v(0),e.consume(y);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),g(y)}function g(y){if(y===null){x(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return ze(y)?(e.consume(y),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(y),g)}function x(y,k){const E=t.sliceStream(y);if(k&&E.push(null),y.previous=i,i&&(i.next=y),i=y,a.defineSkip(y.start),a.write(E),t.parser.lazy[y.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<s&&(!a.events[S][1].end||a.events[S][1].end.offset>s))return;const w=t.events.length;let j=w,T,C;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(T){C=t.events[j][1].end;break}T=!0}for(v(n),S=w;S<t.events.length;)t.events[S][1].end={...C},S++;xa(t.events,j+1,0,t.events.slice(w)),t.events.length=S}}function v(y){let k=r.length;for(;k-- >y;){const E=r[k];t.containerState=E[1],E[0].exit.call(t,e)}r.length=y}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function k5e(e,t,r){return lt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function td(e){if(e===null||Rt(e)||Ql(e))return 1;if(py(e))return 2}function my(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const E2={name:"attention",resolveAll:C5e,tokenize:T5e};function C5e(e,t){let r=-1,n,a,i,s,o,c,u,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};oO(f,-c),oO(p,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},i={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:c>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Ma(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Ma(u,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),u=Ma(u,my(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Ma(u,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,u=Ma(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,xa(e,n-1,r-n+3,u),r=n+u.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function T5e(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=td(n);let i;return s;function s(c){return i=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===i)return e.consume(c),o;const u=e.exit("attentionSequence"),d=td(c),f=!d||d===2&&a||r.includes(c),p=!a||a===2&&d||r.includes(n);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(c)}}function oO(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const j5e={name:"autolink",tokenize:A5e};function A5e(e,t,r){let n=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Tn(m)?(e.consume(m),s):m===64?r(m):u(m)}function s(m){return m===43||m===45||m===46||hn(m)?(n=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),n=0,c):(m===43||m===45||m===46||hn(m))&&n++<32?(e.consume(m),o):(n=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||yx(m)?r(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):y5e(m)?(e.consume(m),u):r(m)}function d(m){return hn(m)?f(m):r(m)}function f(m){return m===46?(e.consume(m),n=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||hn(m))&&n++<63){const h=m===45?p:f;return e.consume(m),h}return r(m)}}const eh={partial:!0,tokenize:I5e};function I5e(e,t,r){return n;function n(i){return it(i)?lt(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||ze(i)?t(i):r(i)}}const hU={continuation:{tokenize:O5e},exit:R5e,name:"blockQuote",tokenize:P5e};function P5e(e,t,r){const n=this;return a;function a(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return r(s)}function i(s){return it(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function O5e(e,t,r){const n=this;return a;function a(s){return it(s)?lt(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(hU,t,r)(s)}}function R5e(e){e.exit("blockQuote")}const gU={name:"characterEscape",tokenize:D5e};function D5e(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return w5e(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const xU={name:"characterReference",tokenize:F5e};function F5e(e,t,r){const n=this;let a=0,i,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,s=hn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=b5e,d):(e.enter("characterReferenceValue"),i=7,s=S2,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return s===hn&&!ik(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&a++<i?(e.consume(f),d):r(f)}}const lO={partial:!0,tokenize:L5e},cO={concrete:!0,name:"codeFenced",tokenize:M5e};function M5e(e,t,r){const n=this,a={partial:!0,tokenize:E};let i=0,s=0,o;return c;function c(S){return u(S)}function u(S){const w=n.events[n.events.length-1];return i=w&&w[1].type==="linePrefix"?w[2].sliceSerialize(w[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?r(S):(e.exit("codeFencedFenceSequence"),it(S)?lt(e,f,"whitespace")(S):f(S))}function f(S){return S===null||ze(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(lO,g,k)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||ze(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):it(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),lt(e,m,"whitespace")(S)):S===96&&S===o?r(S):(e.consume(S),p)}function m(S){return S===null||ze(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||ze(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?r(S):(e.consume(S),h)}function g(S){return e.attempt(a,k,x)(S)}function x(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return i>0&&it(S)?lt(e,b,"linePrefix",i+1)(S):b(S)}function b(S){return S===null||ze(S)?e.check(lO,g,k)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||ze(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),y)}function k(S){return e.exit("codeFenced"),t(S)}function E(S,w,j){let T=0;return C;function C(F){return S.enter("lineEnding"),S.consume(F),S.exit("lineEnding"),A}function A(F){return S.enter("codeFencedFence"),it(F)?lt(S,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):N(F)}function N(F){return F===o?(S.enter("codeFencedFenceSequence"),I(F)):j(F)}function I(F){return F===o?(T++,S.consume(F),I):T>=s?(S.exit("codeFencedFenceSequence"),it(F)?lt(S,M,"whitespace")(F):M(F)):j(F)}function M(F){return F===null||ze(F)?(S.exit("codeFencedFence"),w(F)):j(F)}}}function L5e(e,t,r){const n=this;return a;function a(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const r1={name:"codeIndented",tokenize:B5e},$5e={partial:!0,tokenize:z5e};function B5e(e,t,r){const n=this;return a;function a(u){return e.enter("codeIndented"),lt(e,i,"linePrefix",5)(u)}function i(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?c(u):ze(u)?e.attempt($5e,s,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ze(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function z5e(e,t,r){const n=this;return a;function a(s){return n.parser.lazy[n.now().line]?r(s):ze(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):lt(e,i,"linePrefix",5)(s)}function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):ze(s)?a(s):r(s)}}const U5e={name:"codeText",previous:V5e,resolve:q5e,tokenize:H5e};function q5e(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function V5e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function H5e(e,t,r){let n=0,a,i;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),n++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):ze(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ze(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class W5e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&sf(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);sf(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sf(this.left,r.reverse())}}}function sf(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function vU(e){const t={};let r=-1,n,a,i,s,o,c,u;const d=new W5e(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,G5e(d,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(s=d.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(n[1].end={...d.get(a)[1].start},o=d.slice(a,r),o.unshift(n),d.splice(a,r-a+1,o))}}return xa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function G5e(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,c=[],u={};let d,f,p=-1,m=r,h=0,g=0;const x=[g];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=n.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(g=p+1,x.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const v=o.slice(x[p],x[p+1]),b=i.pop();c.push([b,b+v.length-1]),e.splice(b,2,v)}for(c.reverse(),p=-1;++p<c.length;)u[h+c[p][0]]=h+c[p][1],h+=c[p][1]-c[p][0]-1;return u}const X5e={resolve:Y5e,tokenize:J5e},K5e={partial:!0,tokenize:Q5e};function Y5e(e){return vU(e),e}function J5e(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):ze(o)?e.check(K5e,s,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function Q5e(e,t,r){const n=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),lt(e,i,"linePrefix")}function i(s){if(s===null||ze(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function yU(e,t,r,n,a,i,s,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(v),e.exit(i),p):v===null||v===32||v===41||yx(v)?r(v):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function p(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),p(v)):v===null||v===60||ze(v)?r(v):(e.consume(v),v===92?h:m)}function h(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function g(v){return!d&&(v===null||v===41||Rt(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(v)):d<u&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||yx(v)?r(v):(e.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function bU(e,t,r,n,a,i){const s=this;let o=0,c;return u;function u(m){return e.enter(n),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return o>999||m===null||m===91||m===93&&!c||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(n),t):ze(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ze(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!it(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function wU(e,t,r,n,a,i){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(a),e.consume(p),e.exit(a),s=p===40?41:p,c):r(p)}function c(p){return p===s?(e.enter(a),e.consume(p),e.exit(a),e.exit(n),t):(e.enter(i),u(p))}function u(p){return p===s?(e.exit(i),c(s)):p===null?r(p):ze(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),lt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===s||p===null||ze(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===s||p===92?(e.consume(p),d):d(p)}}function Wf(e,t){let r;return n;function n(a){return ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):it(a)?lt(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const Z5e={name:"definition",tokenize:tFe},eFe={partial:!0,tokenize:rFe};function tFe(e,t,r){const n=this;let a;return i;function i(m){return e.enter("definition"),s(m)}function s(m){return bU.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return a=pi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):r(m)}function c(m){return Rt(m)?Wf(e,u)(m):u(m)}function u(m){return yU(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(eFe,f,f)(m)}function f(m){return it(m)?lt(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ze(m)?(e.exit("definition"),n.parser.defined.push(a),t(m)):r(m)}}function rFe(e,t,r){return n;function n(o){return Rt(o)?Wf(e,a)(o):r(o)}function a(o){return wU(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return it(o)?lt(e,s,"whitespace")(o):s(o)}function s(o){return o===null||ze(o)?t(o):r(o)}}const nFe={name:"hardBreakEscape",tokenize:aFe};function aFe(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return ze(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const iFe={name:"headingAtx",resolve:sFe,tokenize:oFe};function sFe(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},xa(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function oFe(e,t,r){let n=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&n++<6?(e.consume(d),s):d===null||Rt(d)?(e.exit("atxHeadingSequence"),o(d)):r(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ze(d)?(e.exit("atxHeading"),t(d)):it(d)?lt(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Rt(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const lFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uO=["pre","script","style","textarea"],cFe={concrete:!0,name:"htmlFlow",resolveTo:fFe,tokenize:pFe},uFe={partial:!0,tokenize:hFe},dFe={partial:!0,tokenize:mFe};function fFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function pFe(e,t,r){const n=this;let a,i,s,o,c;return u;function u(P){return d(P)}function d(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),f}function f(P){return P===33?(e.consume(P),p):P===47?(e.consume(P),i=!0,g):P===63?(e.consume(P),a=3,n.interrupt?t:R):Tn(P)?(e.consume(P),s=String.fromCharCode(P),x):r(P)}function p(P){return P===45?(e.consume(P),a=2,m):P===91?(e.consume(P),a=5,o=0,h):Tn(P)?(e.consume(P),a=4,n.interrupt?t:R):r(P)}function m(P){return P===45?(e.consume(P),n.interrupt?t:R):r(P)}function h(P){const G="CDATA[";return P===G.charCodeAt(o++)?(e.consume(P),o===G.length?n.interrupt?t:N:h):r(P)}function g(P){return Tn(P)?(e.consume(P),s=String.fromCharCode(P),x):r(P)}function x(P){if(P===null||P===47||P===62||Rt(P)){const G=P===47,J=s.toLowerCase();return!G&&!i&&uO.includes(J)?(a=1,n.interrupt?t(P):N(P)):lFe.includes(s.toLowerCase())?(a=6,G?(e.consume(P),v):n.interrupt?t(P):N(P)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(P):i?b(P):y(P))}return P===45||hn(P)?(e.consume(P),s+=String.fromCharCode(P),x):r(P)}function v(P){return P===62?(e.consume(P),n.interrupt?t:N):r(P)}function b(P){return it(P)?(e.consume(P),b):C(P)}function y(P){return P===47?(e.consume(P),C):P===58||P===95||Tn(P)?(e.consume(P),k):it(P)?(e.consume(P),y):C(P)}function k(P){return P===45||P===46||P===58||P===95||hn(P)?(e.consume(P),k):E(P)}function E(P){return P===61?(e.consume(P),S):it(P)?(e.consume(P),E):y(P)}function S(P){return P===null||P===60||P===61||P===62||P===96?r(P):P===34||P===39?(e.consume(P),c=P,w):it(P)?(e.consume(P),S):j(P)}function w(P){return P===c?(e.consume(P),c=null,T):P===null||ze(P)?r(P):(e.consume(P),w)}function j(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Rt(P)?E(P):(e.consume(P),j)}function T(P){return P===47||P===62||it(P)?y(P):r(P)}function C(P){return P===62?(e.consume(P),A):r(P)}function A(P){return P===null||ze(P)?N(P):it(P)?(e.consume(P),A):r(P)}function N(P){return P===45&&a===2?(e.consume(P),q):P===60&&a===1?(e.consume(P),W):P===62&&a===4?(e.consume(P),ne):P===63&&a===3?(e.consume(P),R):P===93&&a===5?(e.consume(P),B):ze(P)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(uFe,z,I)(P)):P===null||ze(P)?(e.exit("htmlFlowData"),I(P)):(e.consume(P),N)}function I(P){return e.check(dFe,M,z)(P)}function M(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),F}function F(P){return P===null||ze(P)?I(P):(e.enter("htmlFlowData"),N(P))}function q(P){return P===45?(e.consume(P),R):N(P)}function W(P){return P===47?(e.consume(P),s="",V):N(P)}function V(P){if(P===62){const G=s.toLowerCase();return uO.includes(G)?(e.consume(P),ne):N(P)}return Tn(P)&&s.length<8?(e.consume(P),s+=String.fromCharCode(P),V):N(P)}function B(P){return P===93?(e.consume(P),R):N(P)}function R(P){return P===62?(e.consume(P),ne):P===45&&a===2?(e.consume(P),R):N(P)}function ne(P){return P===null||ze(P)?(e.exit("htmlFlowData"),z(P)):(e.consume(P),ne)}function z(P){return e.exit("htmlFlow"),t(P)}}function mFe(e,t,r){const n=this;return a;function a(s){return ze(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):r(s)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function hFe(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(eh,t,r)}}const gFe={name:"htmlText",tokenize:xFe};function xFe(e,t,r){const n=this;let a,i,s;return o;function o(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),c}function c(R){return R===33?(e.consume(R),u):R===47?(e.consume(R),E):R===63?(e.consume(R),y):Tn(R)?(e.consume(R),j):r(R)}function u(R){return R===45?(e.consume(R),d):R===91?(e.consume(R),i=0,h):Tn(R)?(e.consume(R),b):r(R)}function d(R){return R===45?(e.consume(R),m):r(R)}function f(R){return R===null?r(R):R===45?(e.consume(R),p):ze(R)?(s=f,W(R)):(e.consume(R),f)}function p(R){return R===45?(e.consume(R),m):f(R)}function m(R){return R===62?q(R):R===45?p(R):f(R)}function h(R){const ne="CDATA[";return R===ne.charCodeAt(i++)?(e.consume(R),i===ne.length?g:h):r(R)}function g(R){return R===null?r(R):R===93?(e.consume(R),x):ze(R)?(s=g,W(R)):(e.consume(R),g)}function x(R){return R===93?(e.consume(R),v):g(R)}function v(R){return R===62?q(R):R===93?(e.consume(R),v):g(R)}function b(R){return R===null||R===62?q(R):ze(R)?(s=b,W(R)):(e.consume(R),b)}function y(R){return R===null?r(R):R===63?(e.consume(R),k):ze(R)?(s=y,W(R)):(e.consume(R),y)}function k(R){return R===62?q(R):y(R)}function E(R){return Tn(R)?(e.consume(R),S):r(R)}function S(R){return R===45||hn(R)?(e.consume(R),S):w(R)}function w(R){return ze(R)?(s=w,W(R)):it(R)?(e.consume(R),w):q(R)}function j(R){return R===45||hn(R)?(e.consume(R),j):R===47||R===62||Rt(R)?T(R):r(R)}function T(R){return R===47?(e.consume(R),q):R===58||R===95||Tn(R)?(e.consume(R),C):ze(R)?(s=T,W(R)):it(R)?(e.consume(R),T):q(R)}function C(R){return R===45||R===46||R===58||R===95||hn(R)?(e.consume(R),C):A(R)}function A(R){return R===61?(e.consume(R),N):ze(R)?(s=A,W(R)):it(R)?(e.consume(R),A):T(R)}function N(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),a=R,I):ze(R)?(s=N,W(R)):it(R)?(e.consume(R),N):(e.consume(R),M)}function I(R){return R===a?(e.consume(R),a=void 0,F):R===null?r(R):ze(R)?(s=I,W(R)):(e.consume(R),I)}function M(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||Rt(R)?T(R):(e.consume(R),M)}function F(R){return R===47||R===62||Rt(R)?T(R):r(R)}function q(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function W(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),V}function V(R){return it(R)?lt(e,B,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):B(R)}function B(R){return e.enter("htmlTextData"),s(R)}}const sk={name:"labelEnd",resolveAll:wFe,resolveTo:SFe,tokenize:EFe},vFe={tokenize:_Fe},yFe={tokenize:NFe},bFe={tokenize:kFe};function wFe(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&xa(e,0,e.length,r),e}function SFe(e,t){let r=e.length,n=0,a,i,s,o;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(s=r);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=Ma(o,e.slice(i+1,i+n+3)),o=Ma(o,[["enter",d,t]]),o=Ma(o,my(t.parser.constructs.insideSpan.null,e.slice(i+n+4,s-3),t)),o=Ma(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=Ma(o,e.slice(s+1)),o=Ma(o,[["exit",c,t]]),xa(e,i,e.length,o),e}function EFe(e,t,r){const n=this;let a=n.events.length,i,s;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return o;function o(p){return i?i._inactive?f(p):(s=n.parser.defined.includes(pi(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),c):r(p)}function c(p){return p===40?e.attempt(vFe,d,s?d:f)(p):p===91?e.attempt(yFe,d,s?u:f)(p):s?d(p):f(p)}function u(p){return e.attempt(bFe,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,r(p)}}function _Fe(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Rt(f)?Wf(e,i)(f):i(f)}function i(f){return f===41?d(f):yU(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rt(f)?Wf(e,c)(f):d(f)}function o(f){return r(f)}function c(f){return f===34||f===39||f===40?wU(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Rt(f)?Wf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function NFe(e,t,r){const n=this;return a;function a(o){return bU.call(n,e,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(pi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function kFe(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const CFe={name:"labelStartImage",resolveAll:sk.resolveAll,tokenize:TFe};function TFe(e,t,r){const n=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const jFe={name:"labelStartLink",resolveAll:sk.resolveAll,tokenize:AFe};function AFe(e,t,r){const n=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const n1={name:"lineEnding",tokenize:IFe};function IFe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),lt(e,t,"linePrefix")}}const b0={name:"thematicBreak",tokenize:PFe};function PFe(e,t,r){let n=0,a;return i;function i(u){return e.enter("thematicBreak"),s(u)}function s(u){return a=u,o(u)}function o(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||ze(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===a?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),it(u)?lt(e,o,"whitespace")(u):o(u))}}const Ln={continuation:{tokenize:FFe},exit:LFe,name:"list",tokenize:DFe},OFe={partial:!0,tokenize:$Fe},RFe={partial:!0,tokenize:MFe};function DFe(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(m){const h=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:S2(m)){if(n.containerState.type||(n.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(b0,r,u)(m):u(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return r(m)}function c(m){return S2(m)&&++s<10?(e.consume(m),c):(!n.interrupt||s<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):r(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(eh,n.interrupt?r:d,e.attempt(OFe,p,f))}function d(m){return n.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return it(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):r(m)}function p(m){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function FFe(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(eh,a,i);function a(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,lt(e,t,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!it(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(RFe,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,lt(e,e.attempt(Ln,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function MFe(e,t,r){const n=this;return lt(e,a,"listItemIndent",n.containerState.size+1);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(i):r(i)}}function LFe(e){e.exit(this.containerState.type)}function $Fe(e,t,r){const n=this;return lt(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=n.events[n.events.length-1];return!it(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const dO={name:"setextUnderline",resolveTo:BFe,tokenize:zFe};function BFe(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function zFe(e,t,r){const n=this;let a;return i;function i(u){let d=n.events.length,f;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){f=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),a=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),it(u)?lt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ze(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const UFe={tokenize:qFe};function qFe(e){const t=this,r=e.attempt(eh,n,e.attempt(this.parser.constructs.flowInitial,a,lt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(X5e,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const VFe={resolveAll:EU()},HFe=SU("string"),WFe=SU("text");function SU(e){return{resolveAll:EU(e==="text"?GFe:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,s,o);return s;function s(d){return u(d)?i(d):o(d)}function o(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),c}function c(d){return u(d)?(r.exit("data"),i(d)):(r.consume(d),c)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function EU(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function GFe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,s=-1,o=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)c=!0,o++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:n.start._bufferIndex+s,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const XFe={42:Ln,43:Ln,45:Ln,48:Ln,49:Ln,50:Ln,51:Ln,52:Ln,53:Ln,54:Ln,55:Ln,56:Ln,57:Ln,62:hU},KFe={91:Z5e},YFe={[-2]:r1,[-1]:r1,32:r1},JFe={35:iFe,42:b0,45:[dO,b0],60:cFe,61:dO,95:b0,96:cO,126:cO},QFe={38:xU,92:gU},ZFe={[-5]:n1,[-4]:n1,[-3]:n1,33:CFe,38:xU,42:E2,60:[j5e,gFe],91:jFe,92:[nFe,gU],93:sk,95:E2,96:U5e},eMe={null:[E2,VFe]},tMe={null:[42,95]},rMe={null:[]},nMe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:tMe,contentInitial:KFe,disable:rMe,document:XFe,flow:JFe,flowInitial:YFe,insideSpan:eMe,string:QFe,text:ZFe},Symbol.toStringTag,{value:"Module"}));function aMe(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let s=[],o=[];const c={attempt:w(E),check:w(S),consume:b,enter:y,exit:k,interrupt:w(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function f(A){return s=Ma(s,A),x(),s[s.length-1]!==null?[]:(j(t,0),u.events=my(i,u.events,u),u.events)}function p(A,N){return sMe(m(A),N)}function m(A){return iMe(s,A)}function h(){const{_bufferIndex:A,_index:N,line:I,column:M,offset:F}=n;return{_bufferIndex:A,_index:N,line:I,column:M,offset:F}}function g(A){a[A.line]=A.column,C()}function x(){let A;for(;n._index<s.length;){const N=s[n._index];if(typeof N=="string")for(A=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===A&&n._bufferIndex<N.length;)v(N.charCodeAt(n._bufferIndex));else v(N)}}function v(A){d=d(A)}function b(A){ze(A)?(n.line++,n.column=1,n.offset+=A===-3?2:1,C()):A!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=A}function y(A,N){const I=N||{};return I.type=A,I.start=h(),u.events.push(["enter",I,u]),o.push(I),I}function k(A){const N=o.pop();return N.end=h(),u.events.push(["exit",N,u]),N}function E(A,N){j(A,N.from)}function S(A,N){N.restore()}function w(A,N){return I;function I(M,F,q){let W,V,B,R;return Array.isArray(M)?z(M):"tokenize"in M?z([M]):ne(M);function ne(te){return re;function re(D){const H=D!==null&&te[D],L=D!==null&&te.null,K=[...Array.isArray(H)?H:H?[H]:[],...Array.isArray(L)?L:L?[L]:[]];return z(K)(D)}}function z(te){return W=te,V=0,te.length===0?q:P(te[V])}function P(te){return re;function re(D){return R=T(),B=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?J():te.tokenize.call(N?Object.assign(Object.create(u),N):u,c,G,J)(D)}}function G(te){return A(B,R),F}function J(te){return R.restore(),++V<W.length?P(W[V]):q}}}function j(A,N){A.resolveAll&&!i.includes(A)&&i.push(A),A.resolve&&xa(u.events,N,u.events.length-N,A.resolve(u.events.slice(N),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function T(){const A=h(),N=u.previous,I=u.currentConstruct,M=u.events.length,F=Array.from(o);return{from:M,restore:q};function q(){n=A,u.previous=N,u.currentConstruct=I,u.events.length=M,o=F,C()}}function C(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function iMe(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let s;if(r===a)s=[e[r].slice(n,i)];else{if(s=e.slice(r,a),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function sMe(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,n.push(s)}return n.join("")}function oMe(e){const n={constructs:pU([nMe,...(e||{}).extensions||[]]),content:a(S5e),defined:[],document:a(_5e),flow:a(UFe),lazy:{},string:a(HFe),text:a(WFe)};return n;function a(i){return s;function s(o){return aMe(n,i,o)}}}function lMe(e){for(;!vU(e););return e}const fO=/[\0\t\n\r]/g;function cMe(){let e=1,t="",r=!0,n;return a;function a(i,s,o){const c=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,t="",r&&(i.charCodeAt(0)===65279&&f++,r=void 0);f<i.length;){if(fO.lastIndex=f,u=fO.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),f<p&&(c.push(i.slice(f,p)),e+=p-f),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const uMe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dMe(e){return e.replace(uMe,fMe)}function fMe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return mU(r.slice(i?2:1),i?16:10)}return ik(r)||e}const _U={}.hasOwnProperty;function pMe(e,t,r){return typeof t!="string"&&(r=t,t=void 0),mMe(r)(lMe(oMe(r).document().write(cMe()(e,t,!0))))}function mMe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ct),autolinkProtocol:T,autolinkEmail:T,atxHeading:i(de),blockQuote:i(L),characterEscape:T,characterReference:T,codeFenced:i(K),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(K,s),codeText:i(O,s),codeTextData:T,data:T,codeFlowValue:T,definition:i(pe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ie),hardBreakEscape:i(ye),hardBreakTrailing:i(ye),htmlFlow:i(me,s),htmlFlowData:T,htmlText:i(me,s),htmlTextData:T,image:i(Le),label:s,link:i(ct),listItem:i(zt),listItemValue:p,listOrdered:i(Kt,f),listUnordered:i(Kt),paragraph:i(wn),reference:P,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(de),strong:i(Fn),thematicBreak:i(Mn)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:H,autolinkProtocol:D,blockQuote:c(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:te,characterReference:re,codeFenced:c(x),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:C,codeIndented:c(v),codeText:c(F),codeTextData:C,data:C,definition:c(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(N),hardBreakTrailing:c(N),htmlFlow:c(I),htmlFlowData:C,htmlText:c(M),htmlTextData:C,image:c(W),label:B,labelText:V,lineEnding:A,link:c(q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:R,resourceTitleString:ne,resource:z,setextHeading:c(j),setextHeadingLineSequence:w,setextHeadingText:S,strong:c(),thematicBreak:c()}};NU(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ge){let Ne={type:"root",children:[]};const Me={stack:[Ne],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:r},Ge=[];let Re=-1;for(;++Re<ge.length;)if(ge[Re][1].type==="listOrdered"||ge[Re][1].type==="listUnordered")if(ge[Re][0]==="enter")Ge.push(Re);else{const ut=Ge.pop();Re=a(ge,ut,Re)}for(Re=-1;++Re<ge.length;){const ut=t[ge[Re][0]];_U.call(ut,ge[Re][1].type)&&ut[ge[Re][1].type].call(Object.assign({sliceSerialize:ge[Re][2].sliceSerialize},Me),ge[Re][1])}if(Me.tokenStack.length>0){const ut=Me.tokenStack[Me.tokenStack.length-1];(ut[1]||pO).call(Me,void 0,ut[0])}for(Ne.position={start:zs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:zs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)Ne=t.transforms[Re](Ne)||Ne;return Ne}function a(ge,Ne,Me){let Ge=Ne-1,Re=-1,ut=!1,xr,yt,ta,Ds;for(;++Ge<=Me;){const Sn=ge[Ge];switch(Sn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Sn[0]==="enter"?Re++:Re--,Ds=void 0;break}case"lineEndingBlank":{Sn[0]==="enter"&&(xr&&!Ds&&!Re&&!ta&&(ta=Ge),Ds=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ds=void 0}if(!Re&&Sn[0]==="enter"&&Sn[1].type==="listItemPrefix"||Re===-1&&Sn[0]==="exit"&&(Sn[1].type==="listUnordered"||Sn[1].type==="listOrdered")){if(xr){let Fs=Ge;for(yt=void 0;Fs--;){const _a=ge[Fs];if(_a[1].type==="lineEnding"||_a[1].type==="lineEndingBlank"){if(_a[0]==="exit")continue;yt&&(ge[yt][1].type="lineEndingBlank",ut=!0),_a[1].type="lineEnding",yt=Fs}else if(!(_a[1].type==="linePrefix"||_a[1].type==="blockQuotePrefix"||_a[1].type==="blockQuotePrefixWhitespace"||_a[1].type==="blockQuoteMarker"||_a[1].type==="listItemIndent"))break}ta&&(!yt||ta<yt)&&(xr._spread=!0),xr.end=Object.assign({},yt?ge[yt][1].start:Sn[1].end),ge.splice(yt||Ge,0,["exit",xr,Sn[2]]),Ge++,Me++}if(Sn[1].type==="listItemPrefix"){const Fs={type:"listItem",_spread:!1,start:Object.assign({},Sn[1].start),end:void 0};xr=Fs,ge.splice(Ge,0,["enter",Fs,Sn[2]]),Ge++,Me++,ta=void 0,Ds=!0}}}return ge[Ne][1]._spread=ut,Me}function i(ge,Ne){return Me;function Me(Ge){o.call(this,ge(Ge),Ge),Ne&&Ne.call(this,Ge)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ge,Ne,Me){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ne,Me||void 0]),ge.position={start:zs(Ne.start),end:void 0}}function c(ge){return Ne;function Ne(Me){ge&&ge.call(this,Me),u.call(this,Me)}}function u(ge,Ne){const Me=this.stack.pop(),Ge=this.tokenStack.pop();if(Ge)Ge[0].type!==ge.type&&(Ne?Ne.call(this,ge,Ge[0]):(Ge[1]||pO).call(this,ge,Ge[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Hf({start:ge.start,end:ge.end})+"): it’s not open");Me.position.end=zs(ge.end)}function d(){return ak(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=ge}function h(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=ge}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ge.replace(/(\r?\n|\r)$/g,"")}function b(ge){const Ne=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ne,Me.identifier=pi(this.sliceSerialize(ge)).toLowerCase()}function y(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ge}function k(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ge}function E(ge){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const Me=this.sliceSerialize(ge).length;Ne.depth=Me}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function w(ge){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ge){const Me=this.stack[this.stack.length-1].children;let Ge=Me[Me.length-1];(!Ge||Ge.type!=="text")&&(Ge=Rr(),Ge.position={start:zs(ge.start),end:void 0},Me.push(Ge)),this.stack.push(Ge)}function C(ge){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(ge),Ne.position.end=zs(ge.end)}function A(ge){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=Ne.children[Ne.children.length-1];Me.position.end=zs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ne.type)&&(T.call(this,ge),C.call(this,ge))}function N(){this.data.atHardBreak=!0}function I(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ge}function M(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ge}function F(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ge}function q(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ne,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function W(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ne,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function V(ge){const Ne=this.sliceSerialize(ge),Me=this.stack[this.stack.length-2];Me.label=dMe(Ne),Me.identifier=pi(Ne).toLowerCase()}function B(){const ge=this.stack[this.stack.length-1],Ne=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const Ge=ge.children;Me.children=Ge}else Me.alt=Ne}function R(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ge}function ne(){const ge=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ge}function z(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function G(ge){const Ne=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ne,Me.identifier=pi(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function J(ge){this.data.characterReferenceType=ge.type}function te(ge){const Ne=this.sliceSerialize(ge),Me=this.data.characterReferenceType;let Ge;Me?(Ge=mU(Ne,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ge=ik(Ne);const Re=this.stack[this.stack.length-1];Re.value+=Ge}function re(ge){const Ne=this.stack.pop();Ne.position.end=zs(ge.end)}function D(ge){C.call(this,ge);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(ge)}function H(ge){C.call(this,ge);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(ge)}function L(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function O(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ie(){return{type:"emphasis",children:[]}}function de(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function me(){return{type:"html",value:""}}function Le(){return{type:"image",title:null,url:"",alt:null}}function ct(){return{type:"link",title:null,url:"",children:[]}}function Kt(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function zt(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function wn(){return{type:"paragraph",children:[]}}function Fn(){return{type:"strong",children:[]}}function Rr(){return{type:"text",value:""}}function Mn(){return{type:"thematicBreak"}}}function zs(e){return{line:e.line,column:e.column,offset:e.offset}}function NU(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?NU(e,n):hMe(e,n)}}function hMe(e,t){let r;for(r in t)if(_U.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function pO(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is still open")}function gMe(e){const t=this;t.parser=r;function r(n){return pMe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xMe(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function vMe(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function yMe(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function bMe(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wMe(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SMe(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=Dd(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=i+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function EMe(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _Me(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function kU(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=n:a.push({type:"text",value:n}),a}function NMe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return kU(e,t);const a={src:Dd(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function kMe(e,t){const r={src:Dd(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function CMe(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function TMe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return kU(e,t);const a={href:Dd(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function jMe(e,t){const r={href:Dd(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AMe(e,t,r){const n=e.all(t),a=r?IMe(r):CU(t),i={},s=[];if(typeof t.checked=="boolean"){const d=n[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const d=n[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?s.push(...d.children):s.push(d)}const c=n[n.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,u),e.applyData(t,u)}function IMe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=CU(r[n])}return t}function CU(e){const t=e.spread;return t??e.children.length>1}function PMe(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const s=n[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function OMe(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RMe(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function DMe(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FMe(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),a.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=ek(t.children[1]),c=sU(t.children[t.children.length-1]);o&&c&&(s.position={start:o,end:c}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function MMe(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],p={},m=s?s[c]:void 0;m&&(p.align=m);let h={type:"element",tagName:i,properties:p,children:[]};f&&(h.children=e.all(f),e.patch(f,h),h=e.applyData(f,h)),u.push(h)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function LMe(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const mO=9,hO=32;function $Me(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(gO(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(gO(t.slice(a),a>0,!1)),i.join("")}function gO(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===mO||i===hO;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===mO||i===hO;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function BMe(e,t){const r={type:"text",value:$Me(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function zMe(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const UMe={blockquote:xMe,break:vMe,code:yMe,delete:bMe,emphasis:wMe,footnoteReference:SMe,heading:EMe,html:_Me,imageReference:NMe,image:kMe,inlineCode:CMe,linkReference:TMe,link:jMe,listItem:AMe,list:PMe,paragraph:OMe,root:RMe,strong:DMe,table:FMe,tableCell:LMe,tableRow:MMe,text:BMe,thematicBreak:zMe,toml:Xh,yaml:Xh,definition:Xh,footnoteDefinition:Xh};function Xh(){}const TU=-1,hy=0,Gf=1,bx=2,ok=3,lk=4,ck=5,uk=6,jU=7,AU=8,xO=typeof self=="object"?self:globalThis,qMe=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,s]=t[a];switch(i){case hy:case TU:return r(s,a);case Gf:{const o=r([],a);for(const c of s)o.push(n(c));return o}case bx:{const o=r({},a);for(const[c,u]of s)o[n(c)]=n(u);return o}case ok:return r(new Date(s),a);case lk:{const{source:o,flags:c}=s;return r(new RegExp(o,c),a)}case ck:{const o=r(new Map,a);for(const[c,u]of s)o.set(n(c),n(u));return o}case uk:{const o=r(new Set,a);for(const c of s)o.add(n(c));return o}case jU:{const{name:o,message:c}=s;return r(new xO[o](c),a)}case AU:return r(BigInt(s),a);case"BigInt":return r(Object(BigInt(s)),a);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new xO[i](s),a)};return n},vO=e=>qMe(new Map,e)(0),jc="",{toString:VMe}={},{keys:HMe}=Object,of=e=>{const t=typeof e;if(t!=="object"||!e)return[hy,t];const r=VMe.call(e).slice(8,-1);switch(r){case"Array":return[Gf,jc];case"Object":return[bx,jc];case"Date":return[ok,jc];case"RegExp":return[lk,jc];case"Map":return[ck,jc];case"Set":return[uk,jc];case"DataView":return[Gf,r]}return r.includes("Array")?[Gf,r]:r.includes("Error")?[jU,r]:[bx,r]},Kh=([e,t])=>e===hy&&(t==="function"||t==="symbol"),WMe=(e,t,r,n)=>{const a=(s,o)=>{const c=n.push(s)-1;return r.set(o,c),c},i=s=>{if(r.has(s))return r.get(s);let[o,c]=of(s);switch(o){case hy:{let d=s;switch(c){case"bigint":o=AU,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([TU],s)}return a([o,d],s)}case Gf:{if(c){let p=s;return c==="DataView"?p=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(s)),a([c,[...p]],s)}const d=[],f=a([o,d],s);for(const p of s)d.push(i(p));return f}case bx:{if(c)switch(c){case"BigInt":return a([c,s.toString()],s);case"Boolean":case"Number":case"String":return a([c,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const d=[],f=a([o,d],s);for(const p of HMe(s))(e||!Kh(of(s[p])))&&d.push([i(p),i(s[p])]);return f}case ok:return a([o,s.toISOString()],s);case lk:{const{source:d,flags:f}=s;return a([o,{source:d,flags:f}],s)}case ck:{const d=[],f=a([o,d],s);for(const[p,m]of s)(e||!(Kh(of(p))||Kh(of(m))))&&d.push([i(p),i(m)]);return f}case uk:{const d=[],f=a([o,d],s);for(const p of s)(e||!Kh(of(p)))&&d.push(i(p));return f}}const{message:u}=s;return a([o,{name:c,message:u}],s)};return i},yO=(e,{json:t,lossy:r}={})=>{const n=[];return WMe(!(t||r),!!t,new Map,n)(e),n},wx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?vO(yO(e,t)):structuredClone(e):(e,t)=>vO(yO(e,t));function GMe(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function XMe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function KMe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||GMe,n=e.options.footnoteBackLabel||XMe,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Dd(f.toLowerCase());let m=0;const h=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){h.length>0&&h.push({type:"text",value:" "});let b=typeof r=="string"?r:r(c,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...wx(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const gy=function(e){if(e==null)return ZMe;if(typeof e=="function")return xy(e);if(typeof e=="object")return Array.isArray(e)?YMe(e):JMe(e);if(typeof e=="string")return QMe(e);throw new Error("Expected function, string, or object as test")};function YMe(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=gy(e[r]);return xy(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function JMe(e){const t=e;return xy(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function QMe(e){return xy(t);function t(r){return r&&r.type===e}}function xy(e){return t;function t(r,n,a){return!!(e6e(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function ZMe(){return!0}function e6e(e){return e!==null&&typeof e=="object"&&"type"in e}const IU=[],t6e=!0,_2=!1,r6e="skip";function PU(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=gy(a),s=n?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=IU,h,g,x;if((!t||i(c,u,d[d.length-1]||void 0))&&(m=n6e(r(c,d)),m[0]===_2))return m;if("children"in c&&c.children){const v=c;if(v.children&&m[0]!==r6e)for(g=(n?v.children.length:-1)+s,x=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(h=o(b,g,x)(),h[0]===_2)return h;g=typeof h[1]=="number"?h[1]:g+s}}return m}}}function n6e(e){return Array.isArray(e)?e:typeof e=="number"?[t6e,e]:e==null?IU:[e]}function dk(e,t,r,n){let a,i,s;typeof t=="function"&&typeof r!="function"?(i=void 0,s=t,a=r):(i=t,s=r,a=n),PU(e,i,o,a);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return s(c,f,d)}}const N2={}.hasOwnProperty,a6e={};function i6e(e,t){const r=t||a6e,n=new Map,a=new Map,i=new Map,s={...UMe,...r.handlers},o={all:u,applyData:o6e,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:c,options:r,patch:s6e,wrap:c6e};return dk(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?n:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),o;function c(d,f){const p=d.type,m=o.handlers[p];if(N2.call(o.handlers,p)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:g,...x}=d,v=wx(x);return v.children=o.all(d),v}return wx(d)}return(o.options.unknownHandler||l6e)(o,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=o.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=bO(h.value)),!Array.isArray(h)&&h.type==="element")){const g=h.children[0];g&&g.type==="text"&&(g.value=bO(g.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function s6e(e,t){e.position&&(t.position=XDe(e))}function o6e(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&i&&Object.assign(r.properties,wx(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function l6e(e,t){const r=t.data||{},n="value"in t&&!(N2.call(r,"hProperties")||N2.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function c6e(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function bO(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function wO(e,t){const r=i6e(e,t),n=r.one(e,void 0),a=KMe(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function u6e(e,t){return e&&"run"in e?async function(r,n){const a=wO(r,{file:n,...t});await e.run(a,n)}:function(r,n){return wO(r,{file:n,...e||t})}}function SO(e){if(e)throw e}var w0=Object.prototype.hasOwnProperty,OU=Object.prototype.toString,EO=Object.defineProperty,_O=Object.getOwnPropertyDescriptor,NO=function(t){return typeof Array.isArray=="function"?Array.isArray(t):OU.call(t)==="[object Array]"},kO=function(t){if(!t||OU.call(t)!=="[object Object]")return!1;var r=w0.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&w0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||w0.call(t,a)},CO=function(t,r){EO&&r.name==="__proto__"?EO(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},TO=function(t,r){if(r==="__proto__")if(w0.call(t,r)){if(_O)return _O(t,r).value}else return;return t[r]},d6e=function e(){var t,r,n,a,i,s,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=TO(o,r),a=TO(t,r),o!==a&&(d&&a&&(kO(a)||(i=NO(a)))?(i?(i=!1,s=n&&NO(n)?n:[]):s=n&&kO(n)?n:{},CO(o,{name:r,newValue:e(d,s,a)})):typeof a<"u"&&CO(o,{name:r,newValue:a}));return o};const a1=_t(d6e);function k2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function f6e(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(c,...u){const d=e[++i];let f=-1;if(c){s(c);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?p6e(d,o)(...u):s(null,...u)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function p6e(e,t){let r;return n;function n(...s){const o=e.length>s.length;let c;o&&s.push(a);try{c=e.apply(this,s)}catch(u){const d=u;if(o&&r)throw d;return a(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(s,...o){r||(r=!0,t(s,...o))}function i(s){a(null,s)}}const _i={basename:m6e,dirname:h6e,extname:g6e,join:x6e,sep:"/"};function m6e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');th(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(n=a):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function h6e(e){if(th(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function g6e(e){th(e);let t=e.length,r=-1,n=0,a=-1,i=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function x6e(...e){let t=-1,r;for(;++t<e.length;)th(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":v6e(r)}function v6e(e){th(e);const t=e.codePointAt(0)===47;let r=y6e(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function y6e(e,t){let r="",n=0,a=-1,i=0,s=-1,o,c;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),a=s,i=0;continue}}else if(r.length>0){r="",n=0,a=s,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),n=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return r}function th(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const b6e={cwd:w6e};function w6e(){return"/"}function C2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function S6e(e){if(typeof e=="string")e=new URL(e);else if(!C2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return E6e(e)}function E6e(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const i1=["history","path","basename","stem","extname","dirname"];class RU{constructor(t){let r;t?C2(t)?r={path:t}:typeof t=="string"||_6e(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":b6e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<i1.length;){const i=i1[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)i1.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?_i.basename(this.path):void 0}set basename(t){o1(t,"basename"),s1(t,"basename"),this.path=_i.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_i.dirname(this.path):void 0}set dirname(t){jO(this.basename,"dirname"),this.path=_i.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_i.extname(this.path):void 0}set extname(t){if(s1(t,"extname"),jO(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_i.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){C2(t)&&(t=S6e(t)),o1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_i.basename(this.path,this.extname):void 0}set stem(t){o1(t,"stem"),s1(t,"stem"),this.path=_i.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new bn(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function s1(e,t){if(e&&e.includes(_i.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_i.sep+"`")}function o1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function jO(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _6e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const N6e=function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},k6e={}.hasOwnProperty;class fk extends N6e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=f6e()}copy(){const t=new fk;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(a1(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(u1("data",this.frozen),this.namespace[t]=r,this):k6e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(u1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Yh(t),n=this.parser||this.Parser;return l1("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),l1("process",this.parser||this.Parser),c1("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,s){const o=Yh(t),c=n.parse(o);n.run(c,o,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=n.stringify(m,p);j6e(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?s(d):i?i(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),l1("processSync",this.parser||this.Parser),c1("processSync",this.compiler||this.Compiler),this.process(t,a),IO("processSync","process",r),n;function a(i,s){r=!0,SO(i),n=s}}run(t,r,n){AO(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(s,o){const c=Yh(r);a.run(t,c,u);function u(d,f,p){const m=f||t;d?o(d):s?s(m):n(void 0,m,p)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),IO("runSync","run",n),a;function i(s,o){SO(s),a=o,n=!0}}stringify(t,r){this.freeze();const n=Yh(r),a=this.compiler||this.Compiler;return c1("stringify",a),AO(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(u1("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=a1(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===u){p=f;break}if(p===-1)n.push([u,...d]);else if(d.length>0){let[m,...h]=d;const g=n[p][1];k2(g)&&k2(m)&&(m=a1(!0,g,m)),n[p]=[u,m,...h]}}}}const C6e=new fk().freeze();function l1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function c1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function u1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AO(e){if(!k2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function IO(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yh(e){return T6e(e)?e:new RU(e)}function T6e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function j6e(e){return typeof e=="string"||A6e(e)}function A6e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const I6e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PO=[],OO={allowDangerousHtml:!0},P6e=/^(https?|ircs?|mailto|xmpp)$/i,O6e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vy(e){const t=R6e(e),r=D6e(e);return F6e(t.runSync(t.parse(r),r),e)}function R6e(e){const t=e.rehypePlugins||PO,r=e.remarkPlugins||PO,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...OO}:OO;return C6e().use(gMe).use(r).use(u6e,n).use(t)}function D6e(e){const t=e.children||"",r=new RU;return typeof t=="string"&&(r.value=t),r}function F6e(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||M6e;for(const d of O6e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+I6e+d.id,void 0);return dk(e,u),ZDe(e,{Fragment:l.Fragment,components:a,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in t1)if(Object.hasOwn(t1,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],g=t1[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(h||""),m,d))}}if(d.type==="element"){let m=r?!r.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&n&&typeof f=="number"&&(m=!n(d,f,p)),m&&p&&typeof f=="number")return o&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function M6e(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||P6e.test(e.slice(0,t))?e:""}const L6e=({selectedDocument:e})=>{const[t,r]=_.useState(null),[n,a]=_.useState(null),[i,s]=_.useState(!1),[o,c]=_.useState(!1),[,u]=_.useState(!1),[d,f]=_.useState({}),[p,m]=_.useState({}),[h,g]=_.useState(null),[x,v]=_.useState(null),[b,y]=_.useState(!1);_.useEffect(()=>{e&&E(e.id,e.isUploaded??!1,e.fileName??"")},[e]);const k=C=>{const A=String(C);navigator.clipboard.writeText(A).then(()=>{g(A),setTimeout(()=>g(null),1500)})},E=async(C,A,N)=>{var M;const I=((M=N.split(".").pop())==null?void 0:M.toLowerCase())??"";if(s(A),A){const W=await gi("view","documentos",C,"token",I);W.data?(r(W.data),a(I??"pdf")):ce.error("Error al visualizar el documento.")}},S=async()=>{c(!0);try{if(e!=null&&e.id){const A=await N$(e.id,"documentos","");A&&A.extracted?(m(A.extracted),u(!0)):(m({"Análisis de entidades":[{name:"Datos no encontrados",value:0}]}),ce.error("Error al extraer datos, reintente."),u(!1))}ce.success("Extracción completada.")}catch(C){console.log(C),console.log("erroosillo")}finally{c(!1)}},w=async C=>{y(!0);try{if(e!=null&&e.id){const N=await k$(e.id,"documentos","",C);v(N||"❌ Vaya, algo no salió bien")}}catch(A){console.log(A)}finally{y(!1)}},j=()=>{if(Object.keys(d).length===0){ce.error("No hay tablas para exportar.");return}const C=pn.book_new();Object.keys(d).forEach(A=>{const N=d[A];if(N.rows.length===0)return;const I=N.tableTitle.substring(0,31),M=pn.aoa_to_sheet([N.columns,...N.rows]);pn.book_append_sheet(C,M,I)}),x2(C,"extracted_data.xlsx")},T=async()=>{c(!0);try{if(e!=null&&e.id){const A=await C$(e.id,"documentos","");A&&typeof A.extracted=="object"&&Object.keys(A.extracted).length>0?(f(A.extracted),ce.success("Extracción completada."),u(!0)):(f({"Análisis de entidades":{tableTitle:"Análisis de entidades",columns:["Nombre","Valor"],rows:[["Datos no encontrados","0"]]}}),u(!1),ce.warning("No se encontraron datos válidos para extraer."))}}catch(C){console.log(C),ce.error("Error al extraer datos.")}finally{c(!1)}};return l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("div",{className:"col-span-2 bg-gray-100 rounded-lg shadow-md",children:l.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center",children:i?t?l.jsx(rDe,{fileUrl:t,fileType:n??"pdf"}):l.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[l.jsx($t,{className:"animate-spin h-5 w-5"}),l.jsx("span",{children:"Cargando vista previa..."})]}):l.jsx("span",{className:"text-red-500",children:"El usuario no ha subido este documento."})})}),l.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[b&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[l.jsx($t,{className:"animate-spin h-5 w-5"}),l.jsx("span",{children:"Analizando..."})]})}),l.jsx("input",{type:"text",placeholder:"Escribe tu pregunta...",className:"border border-gray-300 bg-white rounded-md px-4 py-2 w-full",onKeyDown:C=>{if(C.key==="Enter"){C.preventDefault();const A=C.currentTarget.value;A.trim()!==""&&(w(A),C.currentTarget.value="")}}}),x&&l.jsx("div",{className:"bg-white p-4 rounded border border-gray-200 relative",children:l.jsx(vy,{children:x})}),l.jsx("h2",{className:"text-lg font-semibold text-center",children:"Entidades Extraídas"}),l.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[l.jsx("button",{onClick:S,disabled:o,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:o?"Extrayendo...":"Extraer Todo"}),l.jsx("button",{onClick:T,disabled:o,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:o?"Extrayendo...":"Extraer Tablas"})]}),l.jsx("button",{onClick:j,className:"bg-green-500 text-white px-4 py-2 rounded-lg mt-4 w-full",children:"Exportar a Excel"}),l.jsxs("div",{className:"max-h-[65vh] min-h-96 overflow-y-auto grid grid-cols-1 gap-6",children:[Object.keys(d).map((C,A)=>{const N=d[C];return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-bold mb-3",children:N.tableTitle}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[l.jsx("thead",{className:"bg-gray-200",children:l.jsx("tr",{children:N.columns.map((I,M)=>l.jsx("th",{className:"border border-gray-300 p-2 text-left",children:I},M))})}),l.jsx("tbody",{children:N.rows.map((I,M)=>l.jsx("tr",{className:"hover:bg-gray-100",children:I.map((F,q)=>l.jsx("td",{className:"border border-gray-300 p-2",children:F},q))},M))})]})})]},A)}),Object.entries(p).map(([C,A])=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-2",children:[l.jsx("h3",{className:"text-md font-bold mb-2",children:C}),l.jsx("ul",{children:A.map((N,I)=>l.jsxs("li",{className:"border-b py-1 flex justify-between items-center",children:[l.jsx("span",{children:N.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:N.value}),l.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>k(N.value),children:h===N.value?l.jsx(Ro,{className:"w-4 h-4 text-green-500"}):l.jsx(pM,{className:"w-4 h-4"})})]})]},I))})]},C))]})]})]})};function RO(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function $6e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function B6e(e,t,r){const a=gy((r||{}).ignore||[]),i=z6e(t);let s=-1;for(;++s<i.length;)PU(e,"text",o);function o(u,d){let f=-1,p;for(;++f<d.length;){const m=d[f],h=p?p.children:void 0;if(a(m,h?h.indexOf(m):void 0,p))return;p=m}if(p)return c(u,d)}function c(u,d){const f=d[d.length-1],p=i[s][0],m=i[s][1];let h=0;const x=f.children.indexOf(u);let v=!1,b=[];p.lastIndex=0;let y=p.exec(u.value);for(;y;){const k=y.index,E={index:y.index,input:y.input,stack:[...d,u]};let S=m(...y,E);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=k+1:(h!==k&&b.push({type:"text",value:u.value.slice(h,k)}),Array.isArray(S)?b.push(...S):S&&b.push(S),h=k+y[0].length,v=!0),!p.global)break;y=p.exec(u.value)}return v?(h<u.value.length&&b.push({type:"text",value:u.value.slice(h)}),f.children.splice(x,1,...b)):b=[u],x+b.length}}function z6e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([U6e(a[0]),q6e(a[1])])}return t}function U6e(e){return typeof e=="string"?new RegExp($6e(e),"g"):e}function q6e(e){return typeof e=="function"?e:function(){return e}}const d1="phrasing",f1=["autolink","link","image","label"];function V6e(){return{transforms:[J6e],enter:{literalAutolink:W6e,literalAutolinkEmail:p1,literalAutolinkHttp:p1,literalAutolinkWww:p1},exit:{literalAutolink:Y6e,literalAutolinkEmail:K6e,literalAutolinkHttp:G6e,literalAutolinkWww:X6e}}}function H6e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:d1,notInConstruct:f1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:d1,notInConstruct:f1},{character:":",before:"[ps]",after:"\\/",inConstruct:d1,notInConstruct:f1}]}}function W6e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function p1(e){this.config.enter.autolinkProtocol.call(this,e)}function G6e(e){this.config.exit.autolinkProtocol.call(this,e)}function X6e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function K6e(e){this.config.exit.autolinkEmail.call(this,e)}function Y6e(e){this.exit(e)}function J6e(e){B6e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Q6e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Z6e]],{ignore:["link","linkReference"]})}function Q6e(e,t,r,n,a){let i="";if(!DU(a)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!eLe(r)))return!1;const s=tLe(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Z6e(e,t,r,n){return!DU(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function eLe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function tLe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=RO(e,"(");let i=RO(e,")");for(;n!==-1&&a>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function DU(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Ql(r)||py(r))&&(!t||r!==47)}FU.peek=uLe;function rLe(){this.buffer()}function nLe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function aLe(){this.buffer()}function iLe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function sLe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=pi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function oLe(e){this.exit(e)}function lLe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=pi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function cLe(e){this.exit(e)}function uLe(){return"["}function FU(e,t,r,n){const a=r.createTracker(n);let i=a.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return i+=a.move(r.safe(r.associationId(e),{after:"]",before:i})),o(),s(),i+=a.move("]"),i}function dLe(){return{enter:{gfmFootnoteCallString:rLe,gfmFootnoteCall:nLe,gfmFootnoteDefinitionLabelString:aLe,gfmFootnoteDefinition:iLe},exit:{gfmFootnoteCallString:sLe,gfmFootnoteCall:oLe,gfmFootnoteDefinitionLabelString:lLe,gfmFootnoteDefinition:cLe}}}function fLe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:FU},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,i,s){const o=i.createTracker(s);let c=o.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return c+=o.move(i.safe(i.associationId(n),{before:c,after:"]"})),d(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,o.current()),t?MU:pLe))),u(),c}}function pLe(e,t,r){return t===0?e:MU(e,t,r)}function MU(e,t,r){return(r?"":"    ")+e}const mLe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];LU.peek=yLe;function hLe(){return{canContainEols:["delete"],enter:{strikethrough:xLe},exit:{strikethrough:vLe}}}function gLe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mLe}],handlers:{delete:LU}}}function xLe(e){this.enter({type:"delete",children:[]},e)}function vLe(e){this.exit(e)}function LU(e,t,r,n){const a=r.createTracker(n),i=r.enter("strikethrough");let s=a.move("~~");return s+=r.containerPhrasing(e,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function yLe(){return"~"}function bLe(e){return e.length}function wLe(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||bLe,i=[],s=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],x=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const b=SLe(e[d][v]);if(r.alignDelimiters!==!1){const y=a(b);x[v]=y,(c[v]===void 0||y>c[v])&&(c[v]=y)}g.push(b)}s[d]=g,o[d]=x}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<u;)i[f]=DO(n[f]);else{const g=DO(n);for(;++f<u;)i[f]=g}f=-1;const p=[],m=[];for(;++f<u;){const g=i[f];let x="",v="";g===99?(x=":",v=":"):g===108?x=":":g===114&&(v=":");let b=r.alignDelimiters===!1?1:Math.max(1,c[f]-x.length-v.length);const y=x+"-".repeat(b)+v;r.alignDelimiters!==!1&&(b=x.length+b+v.length,b>c[f]&&(c[f]=b),m[f]=b),p[f]=y}s.splice(1,0,p),o.splice(1,0,m),d=-1;const h=[];for(;++d<s.length;){const g=s[d],x=o[d];f=-1;const v=[];for(;++f<u;){const b=g[f]||"";let y="",k="";if(r.alignDelimiters!==!1){const E=c[f]-(x[f]||0),S=i[f];S===114?y=" ".repeat(E):S===99?E%2?(y=" ".repeat(E/2+.5),k=" ".repeat(E/2-.5)):(y=" ".repeat(E/2),k=y):k=" ".repeat(E)}r.delimiterStart!==!1&&!f&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||f)&&v.push(" "),r.alignDelimiters!==!1&&v.push(y),v.push(b),r.alignDelimiters!==!1&&v.push(k),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||f!==u-1)&&v.push("|")}h.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return h.join(`
`)}function SLe(e){return e==null?"":String(e)}function DO(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ELe(e,t,r,n){const a=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const s=r.indentLines(r.containerFlow(e,i.current()),_Le);return a(),s}function _Le(e,t,r){return">"+(r?"":" ")+e}function NLe(e,t){return FO(e,t.inConstruct,!0)&&!FO(e,t.notInConstruct,!1)}function FO(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function MO(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&NLe(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function kLe(e,t){const r=String(e);let n=r.indexOf(t),a=n,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++i>s&&(s=i):i=1,a=n+t.length,n=r.indexOf(t,a);return s}function CLe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function TLe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function jLe(e,t,r,n){const a=TLe(r),i=e.value||"",s=a==="`"?"GraveAccent":"Tilde";if(CLe(e,r)){const f=r.enter("codeIndented"),p=r.indentLines(i,ALe);return f(),p}const o=r.createTracker(n),c=a.repeat(Math.max(kLe(i,a)+1,3)),u=r.enter("codeFenced");let d=o.move(c);if(e.lang){const f=r.enter(`codeFencedLang${s}`);d+=o.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),i&&(d+=o.move(i+`
`)),d+=o.move(c),u(),d}function ALe(e,t,r){return(r?"":"    ")+e}function pk(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ILe(e,t,r,n){const a=pk(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("[");return u+=c.move(r.safe(r.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=r.enter(`title${i}`),u+=c.move(" "+a),u+=c.move(r.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),o()),s(),u}function PLe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function xm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Sx(e,t,r){const n=td(e),a=td(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$U.peek=OLe;function $U(e,t,r,n){const a=PLe(r),i=r.enter("emphasis"),s=r.createTracker(n),o=s.move(a);let c=s.move(r.containerPhrasing(e,{after:a,before:o,...s.current()}));const u=c.charCodeAt(0),d=Sx(n.before.charCodeAt(n.before.length-1),u,a);d.inside&&(c=xm(u)+c.slice(1));const f=c.charCodeAt(c.length-1),p=Sx(n.after.charCodeAt(0),f,a);p.inside&&(c=c.slice(0,-1)+xm(f));const m=s.move(a);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+c+m}function OLe(e,t,r){return r.options.emphasis||"*"}function RLe(e,t){let r=!1;return dk(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,_2}),!!((!e.depth||e.depth<3)&&ak(e)&&(t.options.setext||r))}function DLe(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(RLe(e,r)){const d=r.enter("headingSetext"),f=r.enter("phrasing"),p=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(a),o=r.enter("headingAtx"),c=r.enter("phrasing");i.move(s+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=xm(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,r.options.closeAtx&&(u+=" "+s),c(),o(),u}BU.peek=FLe;function BU(e){return e.value||""}function FLe(){return"<"}zU.peek=MLe;function zU(e,t,r,n){const a=pk(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("![");return u+=c.move(r.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=r.enter(`title${i}`),u+=c.move(" "+a),u+=c.move(r.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),o()),u+=c.move(")"),s(),u}function MLe(){return"!"}UU.peek=LLe;function UU(e,t,r,n){const a=e.referenceType,i=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let c=o.move("![");const u=r.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),s();const d=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return s(),r.stack=d,i(),a==="full"||!u||u!==f?c+=o.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function LLe(){return"!"}qU.peek=$Le;function qU(e,t,r){let n=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const s=r.unsafe[i],o=r.compilePattern(s);let c;if(s.atBreak)for(;c=o.exec(n);){let u=c.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(c.index+1)}}return a+n+a}function $Le(){return"`"}function VU(e,t){const r=ak(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}HU.peek=BLe;function HU(e,t,r,n){const a=pk(r),i=a==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,c;if(VU(e,r)){const d=r.stack;r.stack=[],o=r.enter("autolink");let f=s.move("<");return f+=s.move(r.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),r.stack=d,f}o=r.enter("link"),c=r.enter("label");let u=s.move("[");return u+=s.move(r.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(r.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(c=r.enter("destinationRaw"),u+=s.move(r.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=r.enter(`title${i}`),u+=s.move(" "+a),u+=s.move(r.safe(e.title,{before:u,after:a,...s.current()})),u+=s.move(a),c()),u+=s.move(")"),o(),u}function BLe(e,t,r){return VU(e,r)?"<":"["}WU.peek=zLe;function WU(e,t,r,n){const a=e.referenceType,i=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let c=o.move("[");const u=r.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),s();const d=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return s(),r.stack=d,i(),a==="full"||!u||u!==f?c+=o.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function zLe(){return"["}function mk(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ULe(e){const t=mk(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function qLe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function GU(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function VLe(e,t,r,n){const a=r.enter("list"),i=r.bulletCurrent;let s=e.ordered?qLe(r):mk(r);const o=e.ordered?s==="."?")":".":ULe(r);let c=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),GU(r)===s&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=o),r.bulletCurrent=s;const u=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=i,a(),u}function HLe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function WLe(e,t,r,n){const a=HLe(r);let i=r.bulletCurrent||mk(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(i+" ".repeat(s-i.length)),o.shift(s);const c=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),d);return c(),u;function d(f,p,m){return p?(m?"":" ".repeat(s))+f:(m?i:i+" ".repeat(s-i.length))+f}}function GLe(e,t,r,n){const a=r.enter("paragraph"),i=r.enter("phrasing"),s=r.containerPhrasing(e,n);return i(),a(),s}const XLe=gy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function KLe(e,t,r,n){return(e.children.some(function(s){return XLe(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function YLe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}XU.peek=JLe;function XU(e,t,r,n){const a=YLe(r),i=r.enter("strong"),s=r.createTracker(n),o=s.move(a+a);let c=s.move(r.containerPhrasing(e,{after:a,before:o,...s.current()}));const u=c.charCodeAt(0),d=Sx(n.before.charCodeAt(n.before.length-1),u,a);d.inside&&(c=xm(u)+c.slice(1));const f=c.charCodeAt(c.length-1),p=Sx(n.after.charCodeAt(0),f,a);p.inside&&(c=c.slice(0,-1)+xm(f));const m=s.move(a+a);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+c+m}function JLe(e,t,r){return r.options.strong||"*"}function QLe(e,t,r,n){return r.safe(e.value,n)}function ZLe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function e8e(e,t,r){const n=(GU(r)+(r.options.ruleSpaces?" ":"")).repeat(ZLe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const KU={blockquote:ELe,break:MO,code:jLe,definition:ILe,emphasis:$U,hardBreak:MO,heading:DLe,html:BU,image:zU,imageReference:UU,inlineCode:qU,link:HU,linkReference:WU,list:VLe,listItem:WLe,paragraph:GLe,root:KLe,strong:XU,text:QLe,thematicBreak:e8e};function t8e(){return{enter:{table:r8e,tableData:LO,tableHeader:LO,tableRow:a8e},exit:{codeText:i8e,table:n8e,tableData:m1,tableHeader:m1,tableRow:m1}}}function r8e(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function n8e(e){this.exit(e),this.data.inTable=void 0}function a8e(e){this.enter({type:"tableRow",children:[]},e)}function m1(e){this.exit(e)}function LO(e){this.enter({type:"tableCell",children:[]},e)}function i8e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,s8e));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function s8e(e,t){return t==="|"?t:e}function o8e(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:c,tableRow:o}};function s(m,h,g,x){return u(d(m,g,x),m.align)}function o(m,h,g,x){const v=f(m,g,x),b=u([v]);return b.slice(0,b.indexOf(`
`))}function c(m,h,g,x){const v=g.enter("tableCell"),b=g.enter("phrasing"),y=g.containerPhrasing(m,{...x,before:i,after:i});return b(),v(),y}function u(m,h){return wLe(m,{align:h,alignDelimiters:n,padding:r,stringLength:a})}function d(m,h,g){const x=m.children;let v=-1;const b=[],y=h.enter("table");for(;++v<x.length;)b[v]=f(x[v],h,g);return y(),b}function f(m,h,g){const x=m.children;let v=-1;const b=[],y=h.enter("tableRow");for(;++v<x.length;)b[v]=c(x[v],m,h,g);return y(),b}function p(m,h,g){let x=KU.inlineCode(m,h,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function l8e(){return{exit:{taskListCheckValueChecked:$O,taskListCheckValueUnchecked:$O,paragraph:u8e}}}function c8e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:d8e}}}function $O(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function u8e(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let i=-1,s;for(;++i<a.length;){const o=a[i];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function d8e(e,t,r,n){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);i&&o.move(s);let c=KU.listItem(e,t,r,{...n,...o.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+s}}function f8e(){return[V6e(),dLe(),hLe(),t8e(),l8e()]}function p8e(e){return{extensions:[H6e(),fLe(e),gLe(),o8e(e),c8e()]}}const m8e={tokenize:b8e,partial:!0},YU={tokenize:w8e,partial:!0},JU={tokenize:S8e,partial:!0},QU={tokenize:E8e,partial:!0},h8e={tokenize:_8e,partial:!0},ZU={name:"wwwAutolink",tokenize:v8e,previous:t7},e7={name:"protocolAutolink",tokenize:y8e,previous:r7},Rs={name:"emailAutolink",tokenize:x8e,previous:n7},Hi={};function g8e(){return{text:Hi}}let Qo=48;for(;Qo<123;)Hi[Qo]=Rs,Qo++,Qo===58?Qo=65:Qo===91&&(Qo=97);Hi[43]=Rs;Hi[45]=Rs;Hi[46]=Rs;Hi[95]=Rs;Hi[72]=[Rs,e7];Hi[104]=[Rs,e7];Hi[87]=[Rs,ZU];Hi[119]=[Rs,ZU];function x8e(e,t,r){const n=this;let a,i;return s;function s(f){return!T2(f)||!n7.call(n,n.previous)||hk(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return T2(f)?(e.consume(f),o):f===64?(e.consume(f),c):r(f)}function c(f){return f===46?e.check(h8e,d,u)(f):f===45||f===95||hn(f)?(i=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),a=!0,c}function d(f){return i&&a&&Tn(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}function v8e(e,t,r){const n=this;return a;function a(s){return s!==87&&s!==119||!t7.call(n,n.previous)||hk(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(m8e,e.attempt(YU,e.attempt(JU,i),r),r)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function y8e(e,t,r){const n=this;let a="",i=!1;return s;function s(f){return(f===72||f===104)&&r7.call(n,n.previous)&&!hk(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),o):r(f)}function o(f){if(Tn(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),c}return r(f)}function c(f){return f===47?(e.consume(f),i?u:(i=!0,c)):r(f)}function u(f){return f===null||yx(f)||Rt(f)||Ql(f)||py(f)?r(f):e.attempt(YU,e.attempt(JU,d),r)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function b8e(e,t,r){let n=0;return a;function a(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),a):s===46&&n===3?(e.consume(s),i):r(s)}function i(s){return s===null?r(s):t(s)}}function w8e(e,t,r){let n,a,i;return s;function s(u){return u===46||u===95?e.check(QU,c,o)(u):u===null||Rt(u)||Ql(u)||u!==45&&py(u)?c(u):(i=!0,e.consume(u),s)}function o(u){return u===95?n=!0:(a=n,n=void 0),e.consume(u),s}function c(u){return a||n||!i?r(u):t(u)}}function S8e(e,t){let r=0,n=0;return a;function a(s){return s===40?(r++,e.consume(s),a):s===41&&n<r?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(QU,t,i)(s):s===null||Rt(s)||Ql(s)?t(s):(e.consume(s),a)}function i(s){return s===41&&n++,e.consume(s),a}}function E8e(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),i):o===93?(e.consume(o),a):o===60||o===null||Rt(o)||Ql(o)?t(o):r(o)}function a(o){return o===null||o===40||o===91||Rt(o)||Ql(o)?t(o):n(o)}function i(o){return Tn(o)?s(o):r(o)}function s(o){return o===59?(e.consume(o),n):Tn(o)?(e.consume(o),s):r(o)}}function _8e(e,t,r){return n;function n(i){return e.consume(i),a}function a(i){return hn(i)?r(i):t(i)}}function t7(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rt(e)}function r7(e){return!Tn(e)}function n7(e){return!(e===47||T2(e))}function T2(e){return e===43||e===45||e===46||e===95||hn(e)}function hk(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const N8e={tokenize:O8e,partial:!0};function k8e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:A8e,continuation:{tokenize:I8e},exit:P8e}},text:{91:{name:"gfmFootnoteCall",tokenize:j8e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:C8e,resolveTo:T8e}}}}function C8e(e,t,r){const n=this;let a=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;a--;){const c=n.events[a][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!s||!s._balanced)return r(c);const u=pi(n.sliceSerialize({start:s.end,end:n.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function T8e(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function j8e(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!s||f===null||f===91||Rt(f))return r(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(pi(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return Rt(f)||(s=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function A8e(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,s=0,o;return c;function c(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(h)}function d(h){if(s>999||h===93&&!o||h===null||h===91||Rt(h))return r(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return i=pi(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Rt(h)||(o=!0),s++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),lt(e,m,"gfmFootnoteDefinitionWhitespace")):r(h)}function m(h){return t(h)}}function I8e(e,t,r){return e.check(eh,t,e.attempt(N8e,t,r))}function P8e(e){e.exit("gfmFootnoteDefinition")}function O8e(e,t,r){const n=this;return lt(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):r(i)}}function R8e(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(s,o){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let u=c;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[c][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[c][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[c][1].start)},p=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&xa(p,p.length,0,my(m,s.slice(u+1,c),o)),xa(p,p.length,0,[["exit",f,o],["enter",s[c][1],o],["exit",s[c][1],o],["exit",d,o]]),xa(s,u-1,c-u+3,p),c=u+p.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function i(s,o,c){const u=this.previous,d=this.events;let f=0;return p;function p(h){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(h):(s.enter("strikethroughSequenceTemporary"),m(h))}function m(h){const g=td(u);if(h===126)return f>1?c(h):(s.consume(h),f++,m);if(f<2&&!r)return c(h);const x=s.exit("strikethroughSequenceTemporary"),v=td(h);return x._open=!v||v===2&&!!g,x._close=!g||g===2&&!!v,o(h)}}}class D8e{constructor(){this.map=[]}add(t,r,n){F8e(this,t,r,n)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const i of a)t.push(i);a=n.pop()}this.map.length=0}}function F8e(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function M8e(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function L8e(){return{flow:{null:{name:"table",tokenize:$8e,resolveAll:B8e}}}}function $8e(e,t,r){const n=this;let a=0,i=0,s;return o;function o(C){let A=n.events.length-1;for(;A>-1;){const M=n.events[A][1].type;if(M==="lineEnding"||M==="linePrefix")A--;else break}const N=A>-1?n.events[A][1].type:null,I=N==="tableHead"||N==="tableRow"?S:c;return I===S&&n.parser.lazy[n.now().line]?r(C):I(C)}function c(C){return e.enter("tableHead"),e.enter("tableRow"),u(C)}function u(C){return C===124||(s=!0,i+=1),d(C)}function d(C){return C===null?r(C):ze(C)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m):r(C):it(C)?lt(e,d,"whitespace")(C):(i+=1,s&&(s=!1,a+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(C)))}function f(C){return C===null||C===124||Rt(C)?(e.exit("data"),d(C)):(e.consume(C),C===92?p:f)}function p(C){return C===92||C===124?(e.consume(C),f):f(C)}function m(C){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(C):(e.enter("tableDelimiterRow"),s=!1,it(C)?lt(e,h,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):h(C))}function h(C){return C===45||C===58?x(C):C===124?(s=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),g):E(C)}function g(C){return it(C)?lt(e,x,"whitespace")(C):x(C)}function x(C){return C===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),v):C===45?(i+=1,v(C)):C===null||ze(C)?k(C):E(C)}function v(C){return C===45?(e.enter("tableDelimiterFiller"),b(C)):E(C)}function b(C){return C===45?(e.consume(C),b):C===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(C))}function y(C){return it(C)?lt(e,k,"whitespace")(C):k(C)}function k(C){return C===124?h(C):C===null||ze(C)?!s||a!==i?E(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):E(C)}function E(C){return r(C)}function S(C){return e.enter("tableRow"),w(C)}function w(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),w):C===null||ze(C)?(e.exit("tableRow"),t(C)):it(C)?lt(e,w,"whitespace")(C):(e.enter("data"),j(C))}function j(C){return C===null||C===124||Rt(C)?(e.exit("data"),w(C)):(e.consume(C),C===92?T:j)}function T(C){return C===92||C===124?(e.consume(C),j):j(C)}}function B8e(e,t){let r=-1,n=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],o=!1,c=0,u,d,f;const p=new D8e;for(;++r<e.length;){const m=e[r],h=m[1];m[0]==="enter"?h.type==="tableHead"?(o=!1,c!==0&&(BO(p,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(r,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(n=!0,f=void 0,i=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(r,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],f=Jh(p,t,i,a,void 0,f),i=[0,0,0,0]),s[2]=r)):h.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(s[0]=s[1],f=Jh(p,t,i,a,void 0,f)),i=s,s=[i[1],r,0,0])):h.type==="tableHead"?(o=!0,c=r):h.type==="tableRow"||h.type==="tableDelimiterRow"?(c=r,i[1]!==0?(s[0]=s[1],f=Jh(p,t,i,a,r,f)):s[1]!==0&&(f=Jh(p,t,s,a,r,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(s[3]=r)}for(c!==0&&BO(p,t,c,u,d),p.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=M8e(t.events,r))}return e}function Jh(e,t,r,n,a,i){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(i.end=Object.assign({},Pc(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const c=Pc(t.events,r[1]);if(i={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const u=Pc(t.events,r[2]),d=Pc(t.events,r[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const p=t.events[r[2]],m=t.events[r[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const h=r[2]+1,g=r[3]-r[2]-1;e.add(h,g,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Pc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function BO(e,t,r,n,a){const i=[],s=Pc(t.events,r);a&&(a.end=Object.assign({},s),i.push(["exit",a,t])),n.end=Object.assign({},s),i.push(["exit",n,t]),e.add(r+1,0,i)}function Pc(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const z8e={name:"tasklistCheck",tokenize:q8e};function U8e(){return{text:{91:z8e}}}function q8e(e,t,r){const n=this;return a;function a(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return Rt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):r(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(c)}function o(c){return ze(c)?t(c):it(c)?e.check({tokenize:V8e},t,r)(c):r(c)}}function V8e(e,t,r){return lt(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function H8e(e){return pU([g8e(),k8e(),R8e(e),L8e(),U8e()])}const W8e={};function a7(e){const t=this,r=e||W8e,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(H8e(r)),i.push(f8e()),s.push(p8e(r))}const h1=[{label:"Garantías vs financiamiento",value:"Evalúa si el total de garantías registradas respalda adecuadamente el monto solicitado en el financiamiento."},{label:"Discrepancias detectadas",value:"Detecta posibles inconsistencias entre las garantías registradas y los montos de financiamiento aprobados."},{label:"Resumen garantías",value:"Genera un resumen detallado de todas las garantías registradas para la empresa."},{label:"Resumen financiamiento",value:"Genera un resumen del financiamiento solicitado por la empresa, incluyendo montos y condiciones."},{label:"Resumen general",value:"Genera un resumen general que incluya el financiamiento solicitado por la empresa y resumen detallado de todas las garantías registradas para la empresa."},{label:"Valor total garantías",value:"Calcula el valor total de todas las garantías registradas para la empresa."},{label:"Garantía mayor valor",value:"Identifica la garantía con el mayor valor patrimonial registrado."},{label:"Propietarios de garantías",value:"Lista los propietarios de las garantías registradas."},{label:"Monto solicitado",value:"Indica el monto total de financiamiento solicitado por la empresa."},{label:"Plazo del crédito",value:"Muestra el plazo del crédito solicitado y su período de gracia si aplica."},{label:"Incidencias legales",value:"Indica si la empresa tiene incidencias legales y cuál es el impacto económico estimado."}];function G8e(){const[e,t]=_.useState(""),[r,n]=_.useState(!1),{selectedClient:a}=It(),[i,s]=_.useState(!1),o=()=>{navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)},c=async()=>{if(!(a!=null&&a.id)){console.error("No hay cliente seleccionado.");return}try{const m=await Jx({productRequestId:a.id});if(!m||m.length===0){console.warn("No se encontraron datos de garantías.");return}return m.map(h=>{const g=h.sinGravamen===!1,x=h.garantia==="Obligación solidaria";return[`Garantía: ${h.garantia}`,`Descripción: ${h.descripcion}`,h.ubicacion?`Ubicación: ${h.ubicacion}`:"",h.propietario?`Propietario: ${h.propietario}`:"",h.obligadoSolidario&&x?`Obligado Solidario: ${h.obligadoSolidario}`:"",h.valorPatrimonial&&x?`Valor Patrimonial: $${h.valorPatrimonial.toLocaleString()}`:"",h.fechaAdquisicion?`Fecha de Adquisición: ${h.fechaAdquisicion}`:"",h.valorActual?`Valor Actual: $${h.valorActual.toLocaleString()}`:"",h.valorAdquisicion?`Valor de Adquisición: $${h.valorAdquisicion.toLocaleString()}`:"",h.fechaValor?`Última Fecha de Avalúo: ${h.fechaValor}`:"",`Moneda: ${h.moneda??"No especificado"}`,`Sin Gravamen: ${h.sinGravamen?"Sí":"No"}`,g&&h.gravamenConQuien?`Gravamen con: ${h.gravamenConQuien}`:"",g&&h.gravamenDescripcion?`Descripción del Gravamen: ${h.gravamenDescripcion}`:"",h.garante?`Garante: ${h.garante}`:"",h.indiceGarantia?`Índice de Garantía: ${h.indiceGarantia}`:""].filter(Boolean).join(" , ")}).join("Otra garatia: ")}catch(m){console.error("Error al obtener los datos de garantías:",m)}},u=async()=>{if(!(a!=null&&a.id)){console.error("No hay cliente seleccionado.");return}try{const m=await zE({productRequestId:a.id});if(!m){console.warn("No se encontraron datos de financiamiento.");return}return m.map(h=>{var g,x,v,b;return[`Razón Social: ${h.razonSocial}`,`RFC: ${h.rfc}`,`Monto Solicitado: $${((g=h.montoSolicitado)==null?void 0:g.toLocaleString())??""}`,`Destino de Recursos: ${h.destinoRecursos}`,`Fecha de Constitución: ${h.incorporationDate}`,`Moneda: ${h.moneda}`,`Tipo de Crédito: ${h.tipoCredito}`,`Plazo del Crédito: ${h.plazoCredito} años`,`Período de Gracia: ${h.tipoCredito==="Revolvente"?"No aplica":h.periodoGracia?`${h.periodoGracia} meses`:"No especificado"}`,`Amortización de Capital: ${h.amortizacionCapital}`,`Especificación de Amortización: ${h.amortizacionCapital==="otro"?h.amortizacionCapitalOtro:""}`,`Frecuencia de Pago de Intereses: ${h.pagoIntereses}`,`Fuente de Pago: ${h.fuentePago}`,`Especificación de Fuente de Pago: ${h.fuentePago==="otros"?h.fuentePagoOtros:""}`,`Empresa con Riesgo Compartido: ${h.riesgoComun?h.empresa:""}`,`Monto Autorizado: ${h.riesgoComun?`$${(x=h.montoAutorizado)==null?void 0:x.toLocaleString()}`:""}`,`Saldo Vigente: ${h.riesgoComun?`$${(v=h.saldoVigente)==null?void 0:v.toLocaleString()}`:""}`,`Nombre de la Persona Expuesta: ${h.personasExpuestas?h.nombre:""}`,`Relación: ${h.personasExpuestas?h.relacion:""}`,`Actividad Realizada: ${h.personasExpuestas?h.actividadRealizada:""}`,`Descripción del Juicio: ${h.incidenciasLegales?h.descripcionJuicio:""}`,`Consecuencias: ${h.incidenciasLegales?h.consecuencias:""}`,`Monto Estimado: ${h.incidenciasLegales?`$${(b=h.monto)==null?void 0:b.toLocaleString()}`:""}`,`Fecha estimada de contratación del crédito: ${h.timing}`,`Información Adicional: ${h.informacionAdicional}`,`PEP Involucrado: ${h.pepInvolucrado}`,`Nombre del PEP: ${h.nombrePep}`,`Detalles del Cargo del PEP: ${h.detallesCargoPep}`,`Período del Cargo del PEP: ${h.periodoDelCargo}`,`Institución del Cargo del PEP: ${h.institucionDelCargoPep}`,`País del Cargo del PEP: ${h.paisDeCargoPep}`,`Familiar en Función Pública: ${h.familiarFuncionPublica}`,`Nombre del Familiar PEP: ${h.nombreFamiliarPep}`,`Nombre del Socio PEP: ${h.nombreSocioPep}`,`Parentesco del Socio PEP: ${h.parentescoSocioPep}`,`Período del Cargo del Familiar: ${h.periodoCargoFamiliar}`,`País del Cargo del Familiar: ${h.paisCargoFamiliar}`,`Institución del Cargo del Familiar: ${h.institucionCargoFamiliar}`].filter(Boolean).join(" , ")}).join("otro datos de financiamiento: ")}catch(m){console.error("Error al obtener los datos de financiamiento:",m)}},d=async m=>{n(!0),t("");try{const[h,g]=await Promise.all([u(),c()]),x=JSON.stringify({financialData:h,warrantyData:g});console.log(x);const v=await E$(m,x??"");t(v.summary||"No se pudo generar el resumen.")}catch(h){console.error("Error al obtener el resumen:",h),t("Ocurrió un error al generar el resumen. Intenta nuevamente.")}finally{n(!1)}},[f,p]=_.useState(!1);return l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"w-full text-center",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Análisis inteligente"}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[(f?h1:h1.slice(0,5)).map(({label:m,value:h},g)=>l.jsx("button",{onClick:()=>d(h),className:"px-4 py-2 text-sm font-medium bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-all",children:m},g)),h1.length>4&&l.jsx("button",{onClick:()=>p(!f),className:"px-4 py-2 text-sm font-medium bg-gray-300 text-gray-700 rounded-lg shadow-md hover:bg-gray-400 transition-all",children:f?"Mostrar menos":"Mostrar todo"})]})})]}),l.jsxs("div",{className:"overflow-hidden",children:[r&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center",children:[l.jsx($t,{className:"w-8 h-8 text-blue-500 animate-spin"}),l.jsx("p",{className:"text-lg font-semibold mt-4",children:"Analizando"})]})}),l.jsx("div",{className:"",children:e?l.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 relative",children:[l.jsx(vy,{remarkPlugins:[a7],children:e}),l.jsx("button",{onClick:o,className:"absolute top-2 right-2 p-2 bg-gray-200 rounded-full hover:bg-gray-300","aria-label":"Copiar al portapapeles",children:i?l.jsx(mr,{size:15,className:"text-green-500"}):l.jsx(HE,{size:15,className:"text-gray-600"})})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Selecciona una opción para obtener el análisis"})})]})]})}const i7=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(null),{selectedClient:s}=It();if(_.useEffect(()=>{(async()=>{try{if(s){n(!0);const u=await zE({productRequestId:s==null?void 0:s.id});u&&u.length>0?t(u[0]):t(null)}else ce.error("No hay una empresa seleccionada.")}catch(u){i("Error al cargar los datos"),ce.error("Error al obtener los datos."),console.log(u)}finally{n(!1)}})()},[s]),r)return l.jsx("p",{children:"Cargando..."});if(a)return l.jsx("p",{className:"text-red-500",children:a});if(!e)return l.jsx("p",{children:"No hay datos disponibles."});function o(c){var d;return((d=[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}].find(f=>f.code===c))==null?void 0:d.name)||"Código no encontrado"}return l.jsxs("div",{className:"p-4 bg-white rounded-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"Financiamiento"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.razonSocial&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Razón Social:"})," ",e.razonSocial]}),e.rfc&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"RFC:"})," ",e.rfc]}),e.destinoRecursos&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Destino de Recursos:"})," ",e.destinoRecursos]}),e.incorporationDate&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fecha de constitución:"})," ",e.incorporationDate]}),e.moneda&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Moneda:"})," ",e.moneda]}),e.montoSolicitado&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Monto Solicitado:"})," ",e.montoSolicitado]}),e.tipoCredito&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Tipo de Crédito:"})," ",e.tipoCredito]}),e.plazoCredito&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Plazo del Crédito:"})," ",e.plazoCredito," años"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Período de Gracia:"})," ",e.tipoCredito==="Revolvente"?l.jsx("span",{className:"text-gray-500",children:"No aplica"}):e.periodoGracia?`${e.periodoGracia} meses`:l.jsx("span",{className:"text-gray-500",children:"No especificado"})]}),e.amortizacionCapital&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Amortización de Capital:"})," ",e.amortizacionCapital]}),e.amortizacionCapital==="otro"&&e.amortizacionCapitalOtro&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Especificación de Amortización:"})," ",e.amortizacionCapitalOtro]}),e.pagoIntereses&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Frecuencia de Pago de Intereses:"})," ",e.pagoIntereses]}),e.fuentePago&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fuente de Pago:"})," ",o(e.fuentePago)]}),e.fuentePago==="otros"&&e.fuentePagoOtros&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Especificación de Fuente de Pago:"})," ",e.fuentePagoOtros]}),e.riesgoComun&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Empresa con Riesgo Compartido:"})," ",e.empresa]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Monto Autorizado:"})," ",e.montoAutorizado]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Saldo Vigente:"})," ",e.saldoVigente]})]}),e.personasExpuestas&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nombre de la Persona Expuesta:"})," ",e.nombre]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Relación:"})," ",e.relacion]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Actividad Realizada:"})," ",e.actividadRealizada]})]}),e.incidenciasLegales&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Descripción del Juicio:"})," ",e.descripcionJuicio]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Consecuencias:"})," ",e.consecuencias]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Monto Estimado:"})," ",e.monto]})]}),e.timing&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fecha estimada de contratación del crédito:"})," ",e.timing]}),e.informacionAdicional&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Información Adicional:"})," ",e.informacionAdicional]}),e.pepInvolucrado&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"PEP Involucrado:"})," ",e.pepInvolucrado]}),e.nombrePep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nombre del PEP:"})," ",e.nombrePep]}),e.detallesCargoPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Detalles del Cargo del PEP:"})," ",e.detallesCargoPep]}),e.periodoDelCargo&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Período del Cargo del PEP:"})," ",e.periodoDelCargo]}),e.institucionDelCargoPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Institución del Cargo del PEP:"})," ",e.institucionDelCargoPep]}),e.paisDeCargoPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"País del Cargo del PEP:"})," ",e.paisDeCargoPep]}),e.familiarFuncionPublica&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Familiar en Función Pública:"})," ",e.familiarFuncionPublica]}),e.nombreFamiliarPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nombre del Familiar PEP:"})," ",e.nombreFamiliarPep]}),e.nombreSocioPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nombre del Socio PEP:"})," ",e.nombreSocioPep]}),e.parentescoSocioPep&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Parentesco del Socio PEP:"})," ",e.parentescoSocioPep]}),e.periodoCargoFamiliar&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Período del Cargo del Familiar:"})," ",e.periodoCargoFamiliar]}),e.paisCargoFamiliar&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"País del Cargo del Familiar:"})," ",e.paisCargoFamiliar]}),e.institucionCargoFamiliar&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Institución del Cargo del Familiar:"})," ",e.institucionCargoFamiliar]})]}),l.jsx(qr,{})]})},s7=()=>{const[e,t]=_.useState([]),{selectedClient:r}=It();_.useEffect(()=>{(async()=>{if(r){const o=await Jx({productRequestId:r.id});o&&t(o)}else ce.error("No hay una empresa seleccionada.")})()},[]);const n=e.filter(s=>s.garantia!=="Obligación solidaria"),a=e.filter(s=>s.garantia==="Obligación solidaria"),i=(s,o,c)=>l.jsxs("div",{className:"mt-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2 text-left",children:s}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[c.map(u=>l.jsx("th",{className:"p-2 min-w-[150px] text-left",children:u.label},u.key)),l.jsx("th",{className:"p-2 text-left",children:"Acciones"})]})}),l.jsx("tbody",{children:o.length>0?o.map((u,d)=>l.jsxs("tr",{className:`${d%2===0?"bg-white":""}`,children:[c.map(f=>{var p;return l.jsx("td",{className:"p-2",children:f.key==="sinGravamen"?u.sinGravamen?"Sí":"No":f.key==="valorActual"||f.key==="valorAdquisicion"||f.key==="valorPatrimonial"?((p=u[f.key])==null?void 0:p.toLocaleString("es-MX"))??"":u[f.key]??""},f.key)}),l.jsx("td",{className:"p-2 text-center",children:l.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Eliminar"})})]},d)):l.jsx("tr",{children:l.jsx("td",{colSpan:c.length+1,className:"p-4 text-center text-gray-500",children:"No hay garantías agregadas."})})})]})})]});return l.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Garantías"}),l.jsx("button",{className:"p-2 bg-gray-200 rounded hover:bg-gray-300",children:l.jsx(uM,{size:20})})]}),i("",n,[{key:"garantia",label:"Garantía"},{key:"descripcion",label:"Descripción"},{key:"ubicacion",label:"Ubicación"},{key:"propietario",label:"Propietario"},{key:"fechaAdquisicion",label:"Fecha Adq."},{key:"valorActual",label:"Valor Actual"},{key:"valorAdquisicion",label:"Valor Adq."},{key:"fechaValor",label:"Últ. Avalúo"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Gravamen con Quién"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"garante",label:"Garante"},{key:"indiceGarantia",label:"Índice de Garantía"}]),a.length>0&&i("",a,[{key:"garantia",label:"Garantía"},{key:"descripcion",label:"Descripción"},{key:"obligadoSolidario",label:"Obligado Solidario"},{key:"valorPatrimonial",label:"Valor Patrimonial"},{key:"moneda",label:"Moneda"}])]})},X8e=()=>l.jsxs("div",{className:"",children:[l.jsx("div",{className:"mb-6",children:l.jsx(i7,{})}),l.jsx(s7,{})]});function K8e(){const[e,t]=_.useState(1),[r,n]=_.useState(null),{selectedClient:a,selectClient:i}=It(),[s,o]=_.useState(!1),[c,u]=_.useState(!1),d=()=>{s?a&&(i({flowStatus:5}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):p()},f=()=>{a&&(i({flowStatus:3}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},p=()=>{u(!0)},m=()=>{u(!1)},h=()=>{console.log("Confirmación aceptada"),a&&(i({flowStatus:5}),console.log("goToNextStep ejecutado: flowStatus actualizado a 4")),u(!1)},g=async()=>{const x=await Bi({productRequestId:(a==null?void 0:a.id)??""});x&&(x.requiredDocuments.length>0&&x.requiredDocuments.every(v=>v.isApproved)?o(!0):o(!1))};return _.useEffect(()=>{g()},[]),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[l.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[l.jsx("header",{className:"flex items-center justify-between py-4",children:l.jsx("h1",{className:"text-xl font-semibold",children:"Gestión de documentación"})}),l.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Garantías Indicativas","Datos y Garantias","Documentos"].map((x,v)=>l.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===v+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>{t(v+1),n(null)},children:x},v))}),l.jsx("div",{className:"mt-4 mb-4",children:r!==null?l.jsx(L6e,{selectedDocument:r}):(()=>{switch(e){case 1:return l.jsx(G8e,{});case 2:return l.jsx(X8e,{});case 3:return l.jsx(tDe,{onSelectDocument:n,isSectionComplete:s,setIsSectionComplete:o});default:return null}})()})]}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(Od,{goToBackStep:f,goToNextStep:d,currentStep:3,totalSteps:7})}),l.jsx(dy,{isOpen:c,onClose:m,onConfirm:h,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}function Y8e({sentMails:e}){const[t,r]=_.useState(null),[n,a]=_.useState(!1),i=async()=>{if(!t)return;const{emailRecipient:s,emailCC:o,subject:c,content:u}=t;a(!0);try{await Ju(s,o,c,u),ce.success("Correo enviado exitosamente.")}catch(d){ce.error("Error al enviar el correo."),console.log(d)}finally{a(!1)}};return l.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 max-w-4xl mx-auto",children:[l.jsxs("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 flex items-center",children:[l.jsx(x0,{className:"text-gray-400 w-6 h-6 mr-2"}),"Buzón de Correos Enviados"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx("div",{className:"col-span-1 border-r pr-4",children:l.jsx("ul",{className:"space-y-4",children:e.map(s=>l.jsxs("li",{onClick:()=>r(s),className:`cursor-pointer p-4 hover:bg-gray-100 rounded-lg ${(t==null?void 0:t.id)===s.id?"bg-gray-200":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:s.emailRecipient}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString()})]},s.id))})}),l.jsx("div",{className:"col-span-2",children:t?l.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:t.subject}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.jsx("strong",{children:"Para:"})," ",t.emailRecipient]}),t.emailCC&&l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.jsx("strong",{children:"CC:"})," ",t.emailCC]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.jsx("strong",{children:"Fecha:"})," ",new Date(t.createdAt).toLocaleString()]}),l.jsx("div",{className:"mt-4 text-gray-700",children:t.content}),l.jsxs("button",{onClick:i,className:"mt-4 flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:n,children:[n?l.jsx($t,{className:"w-5 h-5 mr-2 animate-spin"}):l.jsx(pd,{className:"w-5 h-5 mr-2"}),n?"Enviando...":"Volver a Enviar"]})]}):l.jsx("p",{className:"text-gray-500 text-center",children:"Selecciona un correo para visualizarlo"})})]})]})}function J8e(e,t,r,n){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
                        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

                            <title>Broxel</title>

                            <meta name="color-scheme" content="light dark">
                                <style type="text/css">
                                    @media (prefers-color-scheme: dark) {
            .darkmode {background - color: #1e1e1e !important; }
                                    .darkmode p {color: #777777 !important; }
}

                                </style>



                                <style type="text/css">
                                    body,#bodyTable,#bodyCell{
                                        height:100%;
                                    margin:0;
                                    padding:0;
                                    width:100%;
    }

                                    #templateBody{
                                        /*background-color:  #f1f3f5 !important;*/
                                        background - color:  #f1f3f5 !important;
                                    border-top:0;
                                    border-bottom:0;
    }


                                    #bodyBackground{
                                        border - collapse:separate !important;
                                    background-color:#FFFFFF !important;
                                    border:1px solid #eeeeee !important;
                                    border-radius:12px;
    }
                                    #templateHeader{
        /*@editable*/background - color: #f1f3f5 !important;
        /*@editable*/padding-top:10px;
        /*@editable*/padding-bottom:10px;
    }


}   @media only screen and (max-width: 580px){
                                        body{
                                        width:100% !important;
                                    min-width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .templateContainer{
                                        max - width:580px !important;
                                    width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .mcnImage{
                                        height:auto !important;
                                    width:100% !important;
    }

}




                                    /*CircularStdBlack*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 800;
                                    font-style: normal;
}

                                    /*CircularStdBold*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 600;
                                    font-style: normal;
}

                                    /*CircularStdMedium*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 500;
                                    font-style: normal;
}

                                    /*CircularStdBook*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 400;
                                    font-style: normal;
}


                                    h1 {
                                        font - size: 58px !important;
                                    line-height: 64px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h2 {
                                        font - size: 46px !important;
                                    line-height: 55px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h3 {
                                        font - size: 40px !important;
                                    line-height: 49px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h4 {
                                        font - size: 32px !important;
                                    line-height: 40px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h5 {
                                        font - size: 27px !important;
                                    line-height: 33px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    letter-spacing: 0px !important;
}

                                    h6 {
                                        font - size: 21px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    color: #001E30 !important;
                                    letter-spacing: 0px !important;
                                    margin-bottom:-11px;
}

                                    p {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400 !important;
                                    letter-spacing: 0px !important;
}


                                    li {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    ol {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    a{
                                        color:#0075ff !important;
                                    font-weight:700 !important;
                                    text-decoration:none !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
}
                                    span.linkfooter{
                                        font - family:'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-size:12px;
                                    font-weight:300;
                                    color:#0075ff;
}

                                    b{
                                        font - weight:800 !important;
}

                                    ul{
                                        margin - left:-11px;
                                    margin-top:30px !important;
}

                                    @media only screen and (max-width: 480px){
.contenedor{
                                        background - color:#ffffff !important;
                                    width:96% !important;
                                    max-width:580px !important;
                                    overflow:hidden !important;
                                    border-radius:3px!important;
                                    padding:40px 0px!important;
                                    margin-top:40px!important;
}}








                                </style>




                            </head>



                            <body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
                                <style type="text/css">body, table, td, h1, h2, h3, h4, h5, ol, ul, p {font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; }</style>


                                <!-- PREHEADER AQUÍ-->
                                <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
                                <!-- PREHEADER AQUÍ-->

                                <center>
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                                        <tr>
                                            <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                                                <!-- BEGIN TEMPLATE // -->




                                                <!-- BEGIN HEADER // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader"><tr><td align="center" valign="top">
                                                    <span style="line-height:1px;">&nbsp;</span>
                                                </td></tr></table>
                                                <!-- // END HEADER -->







                                                <!-- BEGIN HEADER LOGO // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                                        <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                                    <tr><td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                                    </td></tr></table>
                                                            </td></tr></table>
                                                    </td></tr></table>
                                                <!-- // END HEADER LOGO -->






                                                <!-- BEGIN BODY // -->
                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding: 7px 7px;">
                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%"><tr>




                                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                            <tbody><tr><td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                                <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                                <!-- TITLE HEADER BODY // -->

                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;"><tr><td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> Ingresa a la plataforma digital de crédito NAFIN<span style="color:#00a6f5">.</span></h2></td></tr></table>
                                                                            </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TITLE HEADER BODY // -->




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                                <!-- BEGIN CONTENT // -->

                                                                                <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                    <b>${e}</b> te damos la bienvenida a la plataforma de crédito <b>NAFIN.</b> A continuación te compartimos tus credenciales de acceso para completar los detalles de tu&nbsp;solicitud:




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->



                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                                Usuario:

                                                                                        </td>
                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                            <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                        </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>





                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                        </td>



                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->

                                                                                    <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                        En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu crédito de manera rápida y sencilla.


                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!--TEXTO DESTACADO-->

                                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                                            Ingresa a la plataforma ahora.</h5>

                                                                                        <!--FIN TEXTO DESTACADO-->




                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!-- TABLA BOTON-->
                                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                                <!--BOTON-->
                                                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                    <tbody class="mcnButtonBlockOuter">
                                                                                                        <tr>
                                                                                                            <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                    <tbody>
                                                                                                                        <tr>
                                                                                                                            <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <!--BOTON-->


                                                                                            </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!-- FIN TABLA BOTON-->







                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->





                                                                                        <!-- END CONTENT // -->

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                            </table>

                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                    <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                                    </td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>


                                                                            </td>
                                                                        </tr>
                                                                    </table>


                                                                </td>
                                                                </tr>
                                                            </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                        <!-- // END BODY -->






                                                        <!-- BEGIN FOOTER // -->
                                                        <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                                                            <!-- FOOTER -->
                                                            <tr>
                                                                <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                                                    <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                                                        <tbody>


                                                                            <tr>
                                                                                <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                                                    <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                                                            <b>¿Necesitas ayuda?</b><br>
                                                                                                Llámanos desde México o Estados Unidos al
                                                                                                <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                                                                    Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                                                                    <br>&nbsp;<br>&nbsp;
                                                                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                                                                    </p>
                                                                                                    </td>

                                                                                                </tr>

                                                                                                <tr>
                                                                                                    <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                                                                        <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                                                                                    <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>

                                                                                                    </td>
                                                                                                </tr>
                                                                                                <!-- FIN FOOTER -->

                                                                                            </table>
                                                                                            <!-- // END FOOTER -->







                                                                                            <!-- // END TEMPLATE -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </center>
                                                                        </body>
                                                                    </html>

    `}const zO=[{id:1,name:"Bienvenida",subject:"Bienvenido a nuestra plataforma",body:`[Nombre del solicitante] te damos la bienvenida a la plataforma de crédito NAFIN. A continuación te compartimos tus credenciales de acceso para completar los detalles de tu solicitud: 

* usuario: [Nombre de usuario]
* contraseña: [Contraseña temporal]
En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu crédito de manera rápida y sencilla.
 
Ingresa a la plataforma ahora. [Insertar enlace a la plataforma]`},{id:2,name:"Recordatorio",subject:"Actualización en tu trámite",body:`Hola [Nombre del solicitante] tenemos novedades sobre tu trámite en la plataforma de crédito NAFIN.  

Para conocer los detalles y los próximos pasos, ingresa a tu cuenta y revisa la sección de seguimiento: [Insertar enlace a la plataforma]
`}];function Q8e(){const[e,t]=_.useState(""),[r,n]=_.useState(""),[a,i]=_.useState(""),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[p,m]=_.useState(!1),{selectedClient:h,selectClient:g}=It(),{user:x}=Nt(),[v,b]=_.useState("send"),[y,k]=_.useState(!1),[E,S]=_.useState(!1),[w,j]=_.useState([{id:"1",content:"Este es el contenido del primer correo.",subject:"Primer Correo",emailRecipient:"correo1@example.com",emailCC:"correo2@example.com",createdAt:"2023-10-01T12:00:00Z"}]),T=(R,ne)=>R.replace(/\[Nombre del solicitante\]/g,ne.name||"[Nombre del solicitante]").replace(/\[Nombre de usuario\]/g,ne.username||"[Nombre de usuario]").replace(/\[Contraseña temporal\]/g,ne.temporaryPassword||"[Contraseña temporal]").replace(/\[Fecha del evento\]/g,ne.eventDate||"[Fecha del evento]").replace(/\[Hora del evento\]/g,ne.eventTime||"[Hora del evento]").replace(/\[Insertar enlace a la plataforma\]/g,ne.platformLink||"[Insertar enlace a la plataforma]").replace(/\[Insertar enlace al evento\]/g,ne.platformLink||"[Insertar enlace al evento]"),C=R=>{const ne={name:(h==null?void 0:h.name)??"",username:(h==null?void 0:h.email)??"",temporaryPassword:e,eventDate:new Date().toISOString().split("T")[0],eventTime:new Date().toLocaleTimeString(),platformLink:"https://documentaihostingpage-269526555085.us-central1.run.app"},z=T(R.body,ne);o(R.subject),u(z),R.id===1&&f(J8e((h==null?void 0:h.name)??"",(h==null?void 0:h.email)??"",e,"https://documentaihostingpage-269526555085.us-central1.run.app")),R.id===2&&f(G3e({name:(h==null?void 0:h.name)??"",url:"https://documentaihostingpage-269526555085.us-central1.run.app"}))};async function A(){if(h)try{const R=await BY({mailboxId:h.mailboxId??""});if(j(R.messages),R.messages.length>0){const ne=R.messages[0].emailCC;g({ccemail:ne}),S(!0)}}catch(R){return console.error("Error fetching mails:",R),null}return null}async function N(){var ne;const R=await D$((h==null?void 0:h.email)??"",((ne=x==null?void 0:x.adminTeam)==null?void 0:ne.id)??"",12);t(R)}_.useEffect(()=>{h!=null&&h.email&&n(h.email),A(),N()},[]);const I=async()=>{m(!0);try{const R=await Ju(r,a,s,d);if(R){ce.success("Correo enviado exitosamente."),console.log("Respuesta de la API:",R);const ne={id:(h==null?void 0:h.mailboxId)??"",content:c,subject:s,emailRecipient:r,emailCC:a,createdAt:new Date().toISOString()};await $Y({mailboxId:(h==null?void 0:h.mailboxId)??"",content:c,subject:s,emailRecipient:r,emailCC:a}),j(z=>[...z,ne]),g({ccemail:a}),S(!0),await Jl(3,(h==null?void 0:h.id)??"")}}catch(R){ce.error("No se pudo enviar el correo. Inténtalo nuevamente."),console.error("Error al enviar el correo:",R)}finally{m(!1)}},M=R=>{R.preventDefault(),I(),n(""),i(""),o(""),u("")},F=()=>{E?h&&(g({flowStatus:3}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):W()},q=()=>{h&&(g({flowStatus:2}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},W=()=>{k(!0)},V=()=>{k(!1)},B=()=>{console.log("Confirmación aceptada"),h&&(g({flowStatus:3}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")),k(!1)};return l.jsxs("div",{children:[l.jsxs("div",{className:"bg-gray-50 shadow-md rounded-lg p-8 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Gestión de Correos"}),l.jsxs("div",{className:"flex border-b mb-4",children:[l.jsxs("button",{onClick:()=>b("send"),className:`flex-1 p-2 text-center ${v==="send"?"border-b-2 border-blue-500 font-semibold text-blue-600":"text-gray-500"}`,children:[l.jsx(_T,{className:"w-5 h-5 inline-block mr-2"}),"Enviar Correo"]}),l.jsxs("button",{onClick:()=>b("inbox"),className:`flex-1 p-2 text-center ${v==="inbox"?"border-b-2 border-blue-500 font-semibold text-blue-600":"text-gray-500"}`,children:[l.jsx(x0,{className:"w-5 h-5 inline-block mr-2"}),"Buzón de Correos"]})]}),v==="send"?l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(xM,{className:"text-gray-400 w-6 h-6"}),l.jsx("input",{type:"email",value:r,onChange:R=>n(R.target.value),placeholder:"Destinatario",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",required:!0})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(x0,{className:"text-gray-400 w-6 h-6"}),l.jsx("input",{type:"text",value:a,onChange:R=>i(R.target.value),placeholder:"CC (opcional) separado por comas",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(x0,{className:"text-gray-400 w-6 h-6"}),l.jsx("input",{type:"text",value:s,onChange:R=>o(R.target.value),placeholder:"Asunto",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",required:!0})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(tg,{className:"text-gray-400 w-6 h-6 mt-2"}),l.jsx("textarea",{value:c,onChange:R=>u(R.target.value),placeholder:"Contenido del correo",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5 h-52",required:!0,spellCheck:!0,lang:"es"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(HE,{className:"text-gray-400 w-6 h-6"}),l.jsxs("select",{onChange:R=>C(zO[parseInt(R.target.value)]),className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",children:[l.jsx("option",{value:"",children:"Seleccionar plantilla"}),zO.map((R,ne)=>l.jsx("option",{value:ne,children:R.name},R.id))]})]}),l.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition duration-300",disabled:p,children:p?l.jsx("span",{children:"Enviando..."}):l.jsxs(l.Fragment,{children:[l.jsx(_T,{className:"w-5 h-5"}),l.jsx("span",{children:"Enviar"})]})})]})]}):l.jsx(Y8e,{sentMails:w}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(Od,{goToBackStep:q,goToNextStep:F,currentStep:2,totalSteps:7})}),l.jsx("div",{children:l.jsx(dy,{isOpen:y,onClose:V,onConfirm:B,title:"¿Deseas continuar?",message:"Aún no has enviado las credenciales de acceso al usuario. Para enviar las credenciales selecciona la plantilla de bienvenida y click en enviar"})})]})}const Z8e=async e=>{const t=await zE({productRequestId:e});if(t&&t.length>0){const r=t[0];return{id:r.id,razonSocial:r.razonSocial||"",rfc:r.rfc||"",montoSolicitado:r.montoSolicitado||0,moneda:r.moneda||"MXN",tipoCredito:r.tipoCredito||"",plazoCredito:r.plazoCredito||0,periodoGracia:r.periodoGracia||0,amortizacionCapital:r.amortizacionCapital||"mensual",amortizacionCapitalOtro:r.amortizacionCapitalOtro||"",pagoIntereses:r.pagoIntereses||"mensual",destinoRecursos:r.destinoRecursos||"",fuentePago:r.fuentePago||"contratos",fuentePagoOtros:r.fuentePagoOtros||"",riesgoComun:r.riesgoComun||!1,empresa:r.empresa||"",montoAutorizado:r.montoAutorizado||0,saldoVigente:r.saldoVigente||0,personasExpuestas:r.personasExpuestas||!1,nombre:r.nombre||"",relacion:r.relacion||"",actividadRealizada:r.actividadRealizada||"",incidenciasLegales:r.incidenciasLegales||!1,descripcionJuicio:r.descripcionJuicio||"",consecuencias:r.consecuencias||"",monto:r.monto||0,timing:r.timing||"",informacionAdicional:r.informacionAdicional||"",garantias:"",incorporationDate:r.incorporationDate||"",paisRegistro:r.paisRegistro||"",tipoProducto:r.tipoProducto||"",creditoSindicado:r.creditoSindicado||"",pepInvolucrado:r.pepInvolucrado||"",nombrePep:r.nombrePep||"",detallesCargoPep:r.detallesCargoPep||"",periodoDelCargo:r.periodoDelCargo||"",institucionDelCargoPep:r.institucionDelCargoPep||"",paisDeCargoPep:r.paisDeCargoPep||"",investigacionPrevia:"",familiarFuncionPublica:r.familiarFuncionPublica||"",nombreFamiliarPep:r.nombreFamiliarPep||"",nombreSocioPep:r.nombreSocioPep||"",parentescoSocioPep:r.parentescoSocioPep||"",periodoCargoFamiliar:r.periodoCargoFamiliar||"",paisCargoFamiliar:r.paisCargoFamiliar||"",institucionCargoFamiliar:r.institucionCargoFamiliar||"",fechaConsulta:"",mop:"",clavesPrevencion:"",atrasosCredito:"",evidenciaIncumplimiento:"",TipoEvidenciaIncumplimiento:"",montoTransacciones:0,montoRiesgoComun:0,actividadesRiesgo:"",actividadRiesgo:"",calificacionExperta:"",categorizacionSaras:"",dentroDeLimite:"",cumpleRestricciones:"",restriccionesEligibilidad:"",cumpleCaracteristicasEligibilidad:"",otrosComentarios:"",areaAtencionSolicitud:"",funcionarioNombre:"",funcionarioPuesto:"",supervisorNombre:"",supervisorPuesto:""}}else return console.log("No se encontraron datos de financiamiento."),null},e$e=(e,t,r)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"razonSocial":return typeof t=="string"&&t.trim()===""?"La razón social es obligatoria":"";case"rfc":return typeof t=="string"&&!/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(t)?"RFC inválido":"";case"paisRegistro":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"tipoProducto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"tipoCredito":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"pagoIntereses":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"creditoSindicado":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"fechaConsulta":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"mop":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"calificacionCartera":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"clavesPrevencion":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"atrasosCredito":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"incidenciasLegales":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"riesgoComun":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"investigacionPrevia":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"pepInvolucrado":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"familiarFuncionPublica":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"actividadesRiesgo":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"calificacionExperta":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"categorizacionSaras":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"dentroDeLimite":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"cumpleRestricciones":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"cumpleCaracteristicasEligibilidad":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"funcionarioNombre":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"areaAtencionSolicitud":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"funcionarioPuesto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"supervisorNombre":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"supervisorPuesto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"destinoRecursos":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"incorporationDate":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"montoSolicitado":return typeof t=="number"&&t<=0?"El monto solicitado debe ser mayor a 0":"";case"fuentePago":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"plazoCredito":return Number(t)<1?"El plazo de crédito debe ser al menos 1 año.":r==="Revolvente"&&Number(t)>4?"El plazo máximo permitido para créditos revolventes es 4 años.":"";case"periodoGracia":return typeof t=="number"&&t<0?"El período de gracia no puede ser negativo":"";case"timing":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";default:return""}},UO=e=>{const t={};return Object.keys(e).forEach(r=>{const n=e$e(r,e[r],e.tipoCredito??"");n&&(t[r]=n)}),t},t$e=Number.MAX_SAFE_INTEGER,Ac=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:o,required:c=!0})=>{const u=m=>m.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),[d,f]=_.useState(u(e));_.useEffect(()=>{f(u(e))},[e]);const p=m=>{const h=m.target.value.replace(/,/g,"");if(h===""||h==="."||h==="-"){f(""),t(0);return}if(!/^-?\d*(\.\d{0,2})?$/.test(h))return;const g=parseFloat(h);isNaN(g)?f(h):(t(g),f(h.replace(/\B(?=(\d{3})+(?!\d))/g,",")))};return l.jsx("div",{className:"mb-4",children:l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",c&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-lg bg-gray-100 ${a}`,children:[l.jsx("input",{type:"text",value:r?u(e):d,onChange:p,disabled:r,maxLength:t$e.toString().length,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),l.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),o]})})},ja=({name:e,value:t,onChange:r,options:n=[],label:a,required:i=!1,disabled:s=!1,error:o,title:c,otherPlaceholder:u="Especifique..."})=>{const d=t.startsWith("otro:"),[f,p]=_.useState(d?t.replace("otro:",""):""),m=g=>{g.target.value==="otros"?(p(""),r({target:{name:e,value:"otro:"}})):(p(""),r(g))},h=g=>{const x=`otro:${g.target.value}`;p(g.target.value),r({target:{name:e,value:x}})};return l.jsxs("div",{className:"mb-4",children:[a&&l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:c,children:[a," ",i&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:e,value:d?"otros":t,onChange:m,required:i,disabled:s,title:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione una opción"}),n.map(g=>l.jsx("option",{value:g.code,children:g.name},g.code)),l.jsx("option",{value:"otros",children:"Otros"})]}),d&&l.jsx("input",{type:"text",name:e,value:f,onChange:h,placeholder:u,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o&&l.jsx("span",{className:"text-red-500",children:o})]})},r$e=()=>{const[e,t]=_.useState([]),{selectedClient:r}=It();return _.useEffect(()=>{(async()=>{if(r){const a=await Jx({productRequestId:r.id});a&&t(a)}else ce.error("No hay una empresa seleccionada.")})()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto bg-white mb-4",children:[l.jsx("h1",{className:"block text-gray-700 font-medium mb-2",children:"Garantías indicativas propuestas"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border border-gray-300 p-2",children:"Descripción"}),l.jsx("th",{className:"border border-gray-300 p-2",children:"Garante"}),l.jsx("th",{className:"border border-gray-300 p-2",children:"Obligado Solidario"}),l.jsx("th",{className:"border border-gray-300 p-2",children:"Valor Estimado (Últ. Avalúo)"})]})}),l.jsx("tbody",{children:e.length>0?e.map((n,a)=>l.jsxs("tr",{className:`${a%2===0?"bg-gray-50":""}`,children:[l.jsx("td",{className:"p-2",children:n.descripcion}),l.jsx("td",{className:"p-2",children:n.garante??"No especificado"}),l.jsx("td",{className:"p-2",children:n.obligadoSolidario??"No especificado"}),l.jsx("td",{className:"p-2",children:n.valorActual?`${n.moneda??""} ${n.valorActual} (Fecha: ${n.fechaValor??"N/A"})`:"No especificado"})]},a)):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"No hay garantías agregadas."})})})]})})]})},qO=({name:e,value:t,onChange:r,label:n,required:a=!1,disabled:i=!1,error:s,title:o,reasonPlaceholder:c="Especifique el motivo..."})=>{const u=t.startsWith("si"),d=u?t.replace(/^si:\s*/,""):"",f=m=>{const h=m.target.value;r({target:{name:e,value:h==="si"?`si: ${d}`:h}})},p=m=>{const h=m.target.value;r({target:{name:e,value:`si: ${h}`}})};return l.jsxs("div",{className:"mb-4",children:[n&&l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:o,children:[n," ",a&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:e,value:t||"",onChange:f,required:a,disabled:i,title:o,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),u&&l.jsx("input",{type:"text",name:`${e}_reason`,value:d,onChange:p,placeholder:c,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s&&l.jsx("span",{className:"text-red-500",children:s})]})};async function n$e(e,t){var s,o,c,u,d;const r=await Jx({productRequestId:t}),n=f=>f?f.replace(/\\/g,"\\textbackslash ").replace(/_/g,"\\_").replace(/\$/g,"\\$").replace(/%/g,"\\%").replace(/&/g,"\\&").replace(/#/g,"\\#").replace(/{/g,"\\{").replace(/}/g,"\\}").replace(/\^/g,"\\textasciicircum ").replace(/~/g,"\\textasciitilde ").replace(/</g,"\\textless ").replace(/>/g,"\\textgreater "):"",a=(r==null?void 0:r.map(f=>({id:f.id||"",garantia:n(f.garantia||"No especificado"),descripcion:n(f.descripcion||"No especificado"),ubicacion:f.ubicacion?n(f.ubicacion):void 0,propietario:f.propietario?n(f.propietario):void 0,fechaAdquisicion:f.fechaAdquisicion?n(f.fechaAdquisicion):void 0,valorActual:f.valorActual?n(f.valorActual.toLocaleString("es-MX")):void 0,valorAdquisicion:f.valorAdquisicion?n(f.valorAdquisicion.toLocaleString("es-MX")):void 0,fechaValor:f.fechaValor?n(f.fechaValor):void 0,moneda:f.moneda?n(f.moneda):void 0,sinGravamen:f.sinGravamen??!1,gravamenConQuien:n(f.gravamenConQuien??"NA"),gravamenDescripcion:n(f.gravamenDescripcion??"NA"),garante:f.garante?n(f.garante):void 0,indiceGarantia:typeof f.indiceGarantia=="number"&&f.indiceGarantia!==0?parseFloat(f.indiceGarantia.toFixed(2)):void 0,obligadoSolidario:f.obligadoSolidario?n(f.obligadoSolidario):void 0,valorPatrimonial:f.valorPatrimonial?n(f.valorPatrimonial.toLocaleString("es-MX")):void 0})))??[];console.log(a);const i={header:{titulo:"CÉDULA DE ELEGIBILIDAD PARA SOLICITUDES DE PRIMER PISO",direccion_credito:"Dirección de Crédito",version:"2.0",fecha_actualizacion:s$e(),logo_path:"logo_nafin.png"},solicitante:{solicitante:e.razonSocial??"",rfc:e.rfc,pais_registro:e.paisRegistro,filtro_pais:"Solo México",fecha_constitucion:e.incorporationDate??""},operacion:{tipo_producto:e.tipoProducto??"",tipo_credito:e.tipoCredito,destino:e.destinoRecursos,monto_moneda:`${e.montoSolicitado.toLocaleString("es-MX")} ${e.moneda}`,fuente_pago:`${a$e(e.fuentePago)}  ${e.fuentePagoOtros} `,plazo_credito:` ${e.plazoCredito.toString()+" Años"}`,periodo_gracia:e.tipoCredito==="Revolvente"?"NA":`${e.periodoGracia} Meses`,periodicidad_pagos:i$e(e.pagoIntereses),garantias:a??[],obligado_solidario:"No se incluyó el nombre de los obligados solidarios",credito_sindicado:e.creditoSindicado==="si"},buro_credito:{fecha_consulta:e.fechaConsulta??"",mop:((s=e.mop)==null?void 0:s.toUpperCase())??"",calificacion_cartera:e.calificacionCartera??"",tiene_claves_prevencion:e.clavesPrevencion==="si",atrasos_credito:e.atrasosCredito==="si",evidencia_incumplimiento:e.evidenciaIncumplimiento||e.TipoEvidenciaIncumplimiento?[e.evidenciaIncumplimiento,e.TipoEvidenciaIncumplimiento].filter(Boolean).join(" : "):"NA",incidencia_legal:e.incidenciasLegales?`Sí: ${e.descripcionJuicio} ${e.consecuencias} ${e.monto} ${e.moneda}`:"No"},riesgo_comun:{tiene_credito_nafin:e.riesgoComun,monto_transacciones:`${((o=e.montoTransacciones)==null?void 0:o.toLocaleString("es-MX"))??""} ${e.moneda}`,monto_riesgo_comun:`${((c=e.montoRiesgoComun)==null?void 0:c.toLocaleString("es-MX"))??""} ${e.moneda}`,detalle_empresas:e.riesgoComun&&e.empresa?[{riesgo_comun_empresa:e.empresa,riesgo_comun_monto:`${((u=e.montoAutorizado)==null?void 0:u.toLocaleString("es-MX"))??""} ${e.moneda}`,riesgo_comun_saldo:`${((d=e.saldoVigente)==null?void 0:d.toLocaleString("es-MX"))??""} ${e.moneda}`}]:[]},riesgo_pldft:{investigacion_previa:e.investigacionPrevia==="si",pep_involucrado:e.pepInvolucrado==="si",detalles_cargos:e.detallesCargoPep??"No especificado",nombre_pep:e.nombrePep??"No especificado",periodo_cargo:e.periodoDelCargo??"",institucion_cargo:e.institucionDelCargoPep??"",pais_cargo:e.paisDeCargoPep??"",familiar_funcion_publica:e.familiarFuncionPublica==="si",nombre_familiar:e.nombreFamiliarPep??"No especificado",nombre_socio:e.nombreSocioPep??"No especificado",parentesco_socio:e.parentescoSocioPep??"No especificado",periodo_cargo_familiar:e.periodoCargoFamiliar??"No especificado",institucion_cargo_familiar:e.institucionCargoFamiliar??"No especificado",pais_cargo_familiar:e.paisCargoFamiliar??"No especificado",actividades_riesgo:e.actividadesRiesgo==="si",actividad_riesgo:e.actividadRiesgo??"No especificado"},calificacion:{calificacion_experta:e.calificacionExperta??"",categorizacion_saras:e.categorizacionSaras??""},criterios_elegibilidad:{dentro_limite:e.dentroDeLimite==="si",cumple_restricciones:e.cumpleRestricciones==="si",cumple_carateristicas_eligibilidad:e.cumpleCaracteristicasEligibilidad==="si",restricciones_eligibilidad:e.restriccionesEligibilidad??""},observaciones:{otros_comentarios:e.otrosComentarios??"",funcionario_nombre:e.funcionarioNombre??"",funcionario_puesto:e.funcionarioPuesto??"",supervisor_nombre:e.supervisorNombre??"",supervisor_puesto:e.supervisorPuesto??"",area_atencion_solicitud:e.areaAtencionSolicitud??""}};return console.log(i),i}function a$e(e){var r;return((r=[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}].find(n=>n.code===e))==null?void 0:r.name)||"Código no encontrado"}function i$e(e){var r;return((r=[{code:"mensual",name:"Mensual"},{code:"trimestral",name:"Trimestral"},{code:"semestral",name:"Semestral"},{code:"al_vencimiento",name:"Al vencimiento"}].find(n=>n.code===e))==null?void 0:r.name)||"Código no encontrado"}const s$e=()=>{const e=new Date,t={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("es-ES",t).replace(".","")},o$e=()=>{const[e,t]=_.useState({id:"",razonSocial:"",paisRegistro:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"",plazoCredito:0,periodoGracia:0,amortizacionCapital:"",amortizacionCapitalOtro:"",pagoIntereses:"",destinoRecursos:"",fuentePago:"",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,personasExpuestas:!1,nombre:"",relacion:"",actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",tipoProducto:"",creditoSindicado:"",fechaConsulta:"",mop:"",calificacionCartera:"",clavesPrevencion:"",atrasosCredito:"",evidenciaIncumplimiento:"",TipoEvidenciaIncumplimiento:"",montoTransacciones:0,montoRiesgoComun:0,investigacionPrevia:"",pepInvolucrado:"",nombrePep:"",detallesCargoPep:"",periodoDelCargo:"",institucionDelCargoPep:"",paisDeCargoPep:"",familiarFuncionPublica:"",nombreFamiliarPep:"",nombreSocioPep:"",parentescoSocioPep:"",periodoCargoFamiliar:"",paisCargoFamiliar:"",institucionCargoFamiliar:"",actividadesRiesgo:"",actividadRiesgo:"",calificacionExperta:"",categorizacionSaras:"",dentroDeLimite:"",cumpleRestricciones:"",restriccionesEligibilidad:"",cumpleCaracteristicasEligibilidad:"",otrosComentarios:"",areaAtencionSolicitud:"",funcionarioNombre:"",funcionarioPuesto:"",supervisorNombre:"",supervisorPuesto:"",garantias:""}),[r,n]=_.useState(!1),[a]=_.useState(!0),[i,s]=_.useState(!1),[o,c]=_.useState(!1),[u,d]=_.useState(),[f,p]=_.useState({}),{selectedClient:m,selectClient:h}=It(),g=E=>{if(!a)return;const{name:S,value:w}=E.target,j=S;t({...e,[j]:w}),p(T=>({...T,[j]:UO({...e,[j]:w})[j]||""}))};async function x(){try{console.log("procesando");const E=await n$e(e,(m==null?void 0:m.id)??""),S=JSON.stringify(E);s(!0),console.log(S),await $3e(S,"view"),s(!1),o||await Jl(6,(m==null?void 0:m.id)??"")}catch(E){console.error("Error al generar el PDF:",E),ce.error("Ocurrió un error al generar el documento."),s(!1)}}const v=async E=>{if(E.preventDefault(),!m){ce.error("No se seleccionó un producto");return}{const S=UO(e);if(Object.keys(S).length>0){p(S),ce.error("Hay errores en el formulario. Por favor, revisa los campos."),console.log(Object.keys(S)),n(!1);return}}if(x(),o){const{id:S,...w}=e;console.log(S);const j={...w,elegibilityCardId:u??""};LY(j)}else{const{id:S,...w}=e;console.log(S);const j={...w,productRequestId:m.id};c(!0),MY(j)}};_.useEffect(()=>{(async()=>{let S=!1;const w=await RY({productRequestId:(m==null?void 0:m.id)??""});if(w&&w[0]&&(S=!0,c(!0),d(w[0].id??"")),S){if(w&&w[0]){const j={razonSocial:w[0].razonSocial??"",paisRegistro:w[0].paisRegistro??"",rfc:w[0].rfc??"",montoSolicitado:w[0].montoSolicitado??0,moneda:w[0].moneda||"MXN",tipoCredito:w[0].tipoCredito??"",plazoCredito:w[0].plazoCredito??0,periodoGracia:w[0].periodoGracia??0,amortizacionCapital:w[0].amortizacionCapital??"",amortizacionCapitalOtro:w[0].amortizacionCapitalOtro??"",pagoIntereses:w[0].pagoIntereses??"",destinoRecursos:w[0].destinoRecursos??"",fuentePago:w[0].fuentePago??"",fuentePagoOtros:w[0].fuentePagoOtros??"",riesgoComun:w[0].riesgoComun??!1,empresa:w[0].empresa??"",montoAutorizado:w[0].montoAutorizado??0,saldoVigente:w[0].saldoVigente??0,personasExpuestas:w[0].personasExpuestas??!1,nombre:w[0].nombre??"",relacion:w[0].relacion??"",actividadRealizada:w[0].actividadRealizada??"",incidenciasLegales:w[0].incidenciasLegales??!1,descripcionJuicio:w[0].descripcionJuicio??"",consecuencias:w[0].consecuencias??"",monto:w[0].monto??0,timing:w[0].timing??"",informacionAdicional:w[0].informacionAdicional??"",incorporationDate:w[0].incorporationDate??"",tipoProducto:w[0].tipoProducto??"",creditoSindicado:w[0].creditoSindicado??"",fechaConsulta:w[0].fechaConsulta??"",mop:w[0].mop??"",calificacionCartera:w[0].calificacionCartera??"",clavesPrevencion:w[0].clavesPrevencion??"",atrasosCredito:w[0].atrasosCredito??"",evidenciaIncumplimiento:w[0].evidenciaIncumplimiento??"",TipoEvidenciaIncumplimiento:w[0].TipoEvidenciaIncumplimiento??"",montoTransacciones:w[0].montoTransacciones??0,montoRiesgoComun:w[0].montoRiesgoComun??0,investigacionPrevia:w[0].investigacionPrevia??"",pepInvolucrado:w[0].pepInvolucrado??"",nombrePep:w[0].nombrePep??"",detallesCargoPep:w[0].detallesCargoPep??"",periodoDelCargo:w[0].periodoDelCargo??"",institucionDelCargoPep:w[0].institucionDelCargoPep??"",paisDeCargoPep:w[0].paisDeCargoPep??"",familiarFuncionPublica:w[0].familiarFuncionPublica??"",nombreFamiliarPep:w[0].nombreFamiliarPep??"",nombreSocioPep:w[0].nombreSocioPep??"",parentescoSocioPep:w[0].parentescoSocioPep??"",periodoCargoFamiliar:w[0].periodoCargoFamiliar??"",paisCargoFamiliar:w[0].paisCargoFamiliar??"",institucionCargoFamiliar:w[0].institucionCargoFamiliar??"",actividadesRiesgo:w[0].actividadesRiesgo??"",actividadRiesgo:w[0].actividadRiesgo??"",calificacionExperta:w[0].calificacionExperta??"",categorizacionSaras:w[0].categorizacionSaras??"",dentroDeLimite:w[0].dentroDeLimite??"",cumpleRestricciones:w[0].cumpleRestricciones??"",restriccionesEligibilidad:w[0].restriccionesEligibilidad??"",cumpleCaracteristicasEligibilidad:w[0].cumpleCaracteristicasEligibilidad??"",otrosComentarios:w[0].otrosComentarios??"",areaAtencionSolicitud:w[0].areaAtencionSolicitud??"",funcionarioNombre:w[0].funcionarioNombre??"",funcionarioPuesto:w[0].funcionarioPuesto??"",supervisorNombre:w[0].supervisorNombre??"",supervisorPuesto:w[0].supervisorPuesto??"",garantias:w[0].garantias??""};t({...e,...j})}}else{const j=await Z8e((m==null?void 0:m.id)??"");j&&j.id&&t({...e,...j})}})()},[]);const b=[{code:"México",name:"México"}],y=()=>{m&&(h({flowStatus:6}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3"))},k=()=>{m&&(h({flowStatus:4}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))};return l.jsxs("div",{children:[l.jsxs("div",{className:"",children:[l.jsxs("form",{className:"max-w-4xl mx-auto p-10 bg-white rounded-md",children:[l.jsxs("div",{className:"mb-4",children:[i&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center",children:[l.jsx($t,{className:"w-8 h-8 text-blue-500 animate-spin"}),l.jsx("p",{className:"text-lg font-semibold mt-4",children:"Generando cédula..."})]})}),l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Detalles de la Solicitud"}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Datos del solicitante"}),l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Nombre del solicitante",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"razonSocial",value:e.razonSocial,onChange:g,required:!0,disabled:!a,title:"Ingresa la razón social de la empresa",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.razonSocial&&l.jsx("span",{className:"text-red-500",children:f.razonSocial})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["RFC del solicitante",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"rfc",value:e.rfc,onChange:g,required:!0,disabled:!a,title:"Ingrese el Registro Federal de Contribuyentes (RFC) de la empresa o persona física.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.rfc&&l.jsx("span",{className:"text-red-500",children:f.rfc})]}),l.jsx(ja,{label:"País de registro del solicitante",title:"Seleccione el país de registro de la empresa o persona física.",name:"paisRegistro",value:e.paisRegistro,onChange:g,options:b,otherPlaceholder:"Especifique el pais de registro",required:!0,disabled:!a,error:f.paisRegistro}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha correspondiente a la fecha de constitucion de su empresa",children:["Fecha de constitucion",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"incorporationDate",value:e.incorporationDate,onChange:g,required:!0,disabled:!a,title:"Seleccione la fecha correspondiente.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.incorporationDate&&l.jsx("span",{className:"text-red-500",children:f.incorporationDate})]}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Características de la operación"}),l.jsx(ja,{label:"Tipo de producto financiero",title:"Seleccione el tipo de producto financiero.",name:"tipoProducto",value:e.tipoProducto??"",onChange:g,options:[{code:"Corporativo",name:"Corporativo"},{code:"Proyecto de inversión",name:"Proyecto de inversión"}],otherPlaceholder:"Especifique el tipo de producto",required:!0,disabled:!a,error:f.tipoProducto}),l.jsx(ja,{label:"Tipo de Crédito solicitado",title:"Seleccione el tipo de crédito que mejor se adapte a sus necesidades financieras.",name:"tipoCredito",value:e.tipoCredito??"",onChange:g,options:[{code:"Simple",name:"Simple"},{code:"Revolvente",name:"Revolvente"},{code:"Mixto",name:"Mixto"}],otherPlaceholder:"Indique el tipo de crédito",required:!0,disabled:!a,error:f.tipoCredito}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el propósito o uso que se dará a los recursos solicitados.",children:["Destino de Recursos inicialmente propuestos ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"destinoRecursos",value:e.destinoRecursos,onChange:g,required:!0,disabled:!a,title:"Describa el propósito o uso de los recursos solicitados en la solicitud de financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.destinoRecursos&&l.jsx("span",{className:"text-red-500",children:f.destinoRecursos})]}),l.jsx(Ac,{name:"Monto Solicitado",value:e.montoSolicitado,onChange:E=>t(S=>({...S,montoSolicitado:E})),disabled:!0,title:"Monto total solicitado para el financiamiento, en la moneda seleccionada.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoSolicitado?l.jsx("span",{className:"text-red-500",children:f.montoSolicitado}):""}),l.jsx(ja,{label:"Fuente de Pago",title:"Seleccione la fuente principal con la que se realizará el pago del crédito.",name:"fuentePago",value:e.fuentePago??"",onChange:g,options:[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}],otherPlaceholder:"Seleccione una opción",required:!0,disabled:!a,error:f.fuentePago}),e.fuentePago==="otros"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique otra fuente de pago si no está en la lista anterior.",children:"Especificar Fuente de Pago:"}),l.jsx("textarea",{name:"fuentePagoOtros",value:e.fuentePagoOtros,onChange:g,disabled:!a,title:"Describa la fuente de pago alternativa que utilizará para cubrir el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique la duración del crédito en años, dentro del rango permitido.",children:["Plazo de Crédito (en años)",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"plazoCredito",value:e.plazoCredito,onChange:g,min:"1",...e.tipoCredito==="Revolvente"?{max:4}:{},required:!0,disabled:!a,title:"Ingrese el número de años del crédito",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.plazoCredito&&l.jsx("span",{className:"text-red-500",children:f.plazoCredito})]}),e.tipoCredito!=="Revolvente"&&l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el período durante el cual no se pagará el capital del crédito, solo los intereses.",children:["Período de Gracia de Capital (en meses)",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"periodoGracia",value:e.periodoGracia,onChange:g,onInput:E=>{const S=E.target;S.value=S.value.replace(/[^0-9]/g,"")},required:!0,title:"Ingrese la cantidad de meses de gracia antes de comenzar a pagar el capital.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoGracia&&l.jsx("span",{className:"text-red-500",children:f.periodoGracia})]})}),l.jsx(ja,{label:"Periodicidad de Pago de Capital e Intereses",title:"Seleccione la frecuencia con la que realizará pagos de capital del crédito.",name:"pagoIntereses",value:e.pagoIntereses??"",onChange:g,options:[{code:"mensual",name:"Mensual"},{code:"trimestral",name:"Trimestral"},{code:"semestral",name:"Semestral"},{code:"al_vencimiento",name:"Al vencimiento"}],otherPlaceholder:"Especifique periodicidad del pago de capital e intereses",required:!0,disabled:!a,error:f.pagoIntereses}),e.amortizacionCapital==="otro"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Especifique otro tipo de amortización si no está en la lista anterior.",children:"Especifica la amortización:"}),l.jsx("input",{type:"text",name:"amortizacionCapitalOtro",value:e.amortizacionCapitalOtro,onChange:g,disabled:!a,title:"Indique el esquema de amortización personalizado.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx(r$e,{}),l.jsx(qO,{name:"creditoSindicado",value:e.creditoSindicado??"",onChange:g,label:"¿El crédito es sindicado?",title:"indique si el crédito crédito es sindicado",required:!0,reasonPlaceholder:"¿Quién es el Banco Agente?",error:f.creditoSindicado}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Buró de Crédito e Incidencias Legales"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha de consulta del buró.",children:["Fecha de consulta de buró de crédito:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"fechaConsulta",value:e.fechaConsulta,onChange:g,disabled:!a,title:"Ingrese la fecha en la cual consultó el buró.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.fechaConsulta&&l.jsx("span",{className:"text-red-500",children:f.fechaConsulta})]}),l.jsx(ja,{label:"MOP",title:"Seleccione la MOP de Buró de Crédito.",name:"mop",value:e.mop??"",onChange:g,options:[{code:"mop1",name:"MOP1"},{code:"mop2",name:"MOP2"},{code:"mop3",name:"MOP3"},{code:"mop4",name:"MOP4"},{code:"mop5",name:"MOP5"},{code:"mop6",name:"MOP6"},{code:"mop7",name:"MOP7"}],otherPlaceholder:"Otra MOP",required:!0,disabled:!a,error:f.mop}),l.jsx(ja,{label:"Calificación de Cartera Buró de Crédito",title:"Calificación de Cartera Buró de Crédito.",name:"calificacionCartera",value:e.calificacionCartera??"",onChange:g,options:[{code:"A1",name:"A1"},{code:"A2",name:"A2"},{code:"B1",name:"B1"},{code:"B2",name:"B2"},{code:"B3",name:"B3"},{code:"C1",name:"C1"},{code:"C2",name:"C2"},{code:"D",name:"D"},{code:"E",name:"E"},{code:"EX",name:"EX"},{code:"NC",name:"NC"}],otherPlaceholder:"Otra calificación",required:!0,disabled:!a,error:f.calificacionCartera}),l.jsx(qO,{name:"clavesPrevencion",value:e.clavesPrevencion??"",onChange:g,label:"¿Tiene claves de prevención?",title:"indique si tiene claves de prevención",required:!0,reasonPlaceholder:"Enlistar las claves de prevención",error:f.clavesPrevencion}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indica si el cliente presenta atrasos con sus créditos.",children:"¿Registra atrasos en sus créditos?"}),l.jsxs("select",{name:"atrasosCredito",value:e.atrasosCredito,disabled:!a,onChange:g,title:"¿Registra atrasos en sus créditos?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.atrasosCredito&&l.jsx("span",{className:"text-red-500",children:f.atrasosCredito})]}),e.atrasosCredito==="si"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-100 p-2 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["En caso de incumplimiento ¿se podrá contar con evidencia para solventarlo?",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:"evidenciaIncumplimiento",value:e.evidenciaIncumplimiento,onChange:g,required:!0,disabled:!a,title:"Seleccione una opción",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"si",children:"Sí"}),l.jsx("option",{value:"no",children:"No"})]}),f.evidenciaIncumplimiento&&l.jsx("span",{className:"text-red-500",children:f.evidenciaIncumplimiento})]}),l.jsx("div",{className:"mb-4 bg-yellow-100 p-2 rounded-md",children:l.jsx(ja,{label:"Tipo evidencia para aclaración incumplimiento",title:"Tipo evidencia para aclaración incumplimiento",name:"TipoEvidenciaIncumplimiento",value:e.TipoEvidenciaIncumplimiento??"",onChange:g,options:[{code:"Evidencia de pago",name:"Evidencia de pago"},{code:"Carta aclaratoria de atraso en crédito",name:"Carta aclaratoria de atraso en crédito"},{code:"Carta opinion de cumplimiento SAT",name:"Carta opinion de cumplimiento SAT"}],otherPlaceholder:"Especifique el tipo evidencia para aclaración incumplimiento",required:!0,disabled:!a,error:f.TipoEvidenciaIncumplimiento})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si la empresa tiene incidencias legales en curso o pasadas.",children:"¿Tiene alguna incidencia legal (demanda o litigio) vigente?"}),l.jsxs("select",{name:"incidenciasLegales",value:e.incidenciasLegales?"si":"no",disabled:!a,onChange:E=>{t({...e,incidenciasLegales:E.target.value==="si"})},required:!0,title:"Seleccione 'Sí' si la empresa tiene incidencias legales o 'No' en caso contrario.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.incidenciasLegales&&l.jsx("span",{className:"text-red-500",children:f.incidenciasLegales})]}),e.incidenciasLegales&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Describa brevemente el juicio o litigio relacionado con la empresa.",children:"Descripción de incidencia:"}),l.jsx("textarea",{name:"descripcionJuicio",value:e.descripcionJuicio,onChange:g,required:!0,disabled:!a,title:"Ingrese una descripción del juicio o litigio en el que está involucrada la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique las posibles consecuencias del juicio para la empresa.",children:"Posibles Consecuencias:"}),l.jsx("textarea",{name:"consecuencias",value:e.consecuencias,onChange:g,required:!0,disabled:!a,title:"Describa las posibles consecuencias legales o económicas que pueda enfrentar la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Ac,{name:"Monto de las posibles consecuencias",value:e.monto??0,onChange:E=>t(S=>({...S,monto:E})),disabled:!a,title:"Especifique el monto en disputa o el impacto financiero estimado del juicio.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoTransacciones?l.jsx("span",{className:"text-red-500",children:f.montoTransacciones}):""})})]}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Riesgo Común"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera.",children:"Riesgo Común ¿El solicitante o alguna de sus empresas relacionadas tiene crédito o ha tenido crédito con Nafin?"}),l.jsxs("select",{name:"riesgoComun",value:e.riesgoComun?"true":"false",disabled:!a,onChange:E=>{t({...e,riesgoComun:E.target.value==="true"})},title:"Seleccione 'Sí' si el crédito está asociado con otras empresas en términos de riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"false",children:"No"}),l.jsx("option",{value:"true",children:"Sí"})]})]}),e.riesgoComun&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la empresa con la que se comparte el riesgo.",children:["Nombre de la Empresa acreditada:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"empresa",value:e.empresa||"",onChange:g,disabled:!a,title:"Especifique la empresa con la que se comparte el riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.empresa&&l.jsx("span",{className:"text-red-500",children:f.empresa})]}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Ac,{name:"Monto Autorizado",value:e.montoAutorizado??0,onChange:E=>t(S=>({...S,montoAutorizado:E})),disabled:!a,title:"Ingrese el saldo autorizado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoAutorizado?l.jsx("span",{className:"text-red-500",children:f.montoAutorizado}):""})}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Ac,{name:"Saldo Vigente",value:e.saldoVigente??0,onChange:E=>t(S=>({...S,saldoVigente:E})),disabled:!a,title:"Ingrese el saldo actual que aún no ha sido pagado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.saldoVigente?l.jsx("span",{className:"text-red-500",children:f.saldoVigente}):""})})]}),l.jsx(Ac,{name:"El monto de transacciones vigentes asciende a",value:e.montoTransacciones??0,onChange:E=>t(S=>({...S,montoTransacciones:E})),disabled:!a,title:"Ingrese el monto de transacciones vigentes",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoTransacciones?l.jsx("span",{className:"text-red-500",children:f.montoTransacciones}):""}),l.jsx(Ac,{name:"de autorizarse la presente solicitud, el monto por riesgo común sería de",value:e.montoRiesgoComun??0,onChange:E=>t(S=>({...S,montoRiesgoComun:E})),disabled:!a,title:"Ingrese el monto de transacciones vigentes",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoRiesgoComun?l.jsx("span",{className:"text-red-500",children:f.montoRiesgoComun}):"",required:!1}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Determinación inicial de Grado de Riesgo PLD/FT"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"La investigación preliminar de conocimiento de cliente y, en su caso obligado solidario, arroja resultados positivos",children:["La investigación preliminar de conocimiento de cliente y, en su caso obligado solidario, arroja resultados positivos",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:"investigacionPrevia",value:e.investigacionPrevia,onChange:g,required:!0,disabled:!a,title:"Seleccione una opción",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"si",children:"Sí"}),l.jsx("option",{value:"no",children:"No"})]}),f.investigacionPrevia&&l.jsx("span",{className:"text-red-500",children:f.investigacionPrevia})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero.",children:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero."}),l.jsxs("select",{name:"pepInvolucrado",value:e.pepInvolucrado,disabled:!a,onChange:g,title:"Seleccione 'Sí' si alguna persona políticamente expuesta está relacionada con la solicitud.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.pepInvolucrado&&l.jsx("span",{className:"text-red-500",children:f.pepInvolucrado})]}),e.pepInvolucrado==="si"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombrePep",value:e.nombrePep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombrePep&&l.jsx("span",{className:"text-red-500",children:f.nombrePep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"detallesCargoPep",value:e.detallesCargoPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.detallesCargoPep&&l.jsx("span",{className:"text-red-500",children:f.detallesCargoPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del accionista o directivo.",children:["Periodo del cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"periodoDelCargo",value:e.periodoDelCargo||"",onChange:g,disabled:!a,title:"Escriba el periodo del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoDelCargo&&l.jsx("span",{className:"text-red-500",children:f.periodoDelCargo})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del accionista o directivo",children:["Institucion del cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"institucionDelCargoPep",value:e.institucionDelCargoPep||"",onChange:g,disabled:!a,title:"Escriba la Institucion del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.institucionDelCargoPep&&l.jsx("span",{className:"text-red-500",children:f.institucionDelCargoPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"paisDeCargoPep",value:e.paisDeCargoPep||"",onChange:g,disabled:!a,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.paisDeCargoPep&&l.jsx("span",{className:"text-red-500",children:f.paisDeCargoPep})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero.",children:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),l.jsxs("select",{name:"familiarFuncionPublica",value:e.familiarFuncionPublica,disabled:!a,onChange:g,title:"Seleccione 'Sí' si algun familiar esta políticamente expuesta",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.familiarFuncionPublica&&l.jsx("span",{className:"text-red-500",children:f.familiarFuncionPublica})]}),e.familiarFuncionPublica==="si"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del familiar del socio, accionista o directivo.",children:["Nombre del familiar del socio, accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombreFamiliarPep",value:e.nombreFamiliarPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombreFamiliarPep&&l.jsx("span",{className:"text-red-500",children:f.nombreFamiliarPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo :",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombreSocioPep",value:e.nombreSocioPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo del socio accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombreSocioPep&&l.jsx("span",{className:"text-red-500",children:f.nombreSocioPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Parentesco del socio, accionista o directivo con el familiar:",children:["Parentesco del socio, accionista o directivo con el familiar:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"parentescoSocioPep",value:e.parentescoSocioPep||"",onChange:g,disabled:!a,title:"Escriba el parentesco del socio, accionista o directivo con el familiar:",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.parentescoSocioPep&&l.jsx("span",{className:"text-red-500",children:f.parentescoSocioPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del familiar.",children:["Periodo del cargo público del familiar",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"periodoCargoFamiliar",value:e.periodoCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba el periodo del cargo público del familiar.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:f.periodoCargoFamiliar})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del familiar",children:["Institucion del cargo público del familiar:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"institucionCargoFamiliar",value:e.institucionCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba la Institucion del cargo público del familiar",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.institucionCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:f.institucionCargoFamiliar})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"paisCargoFamiliar",value:e.paisCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.paisCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:f.paisCargoFamiliar})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:" ¿Actividades de riesgo asociadas?",children:"¿Actividades de riesgo asociadas?"}),l.jsxs("select",{name:"actividadesRiesgo",value:e.actividadesRiesgo,disabled:!a,onChange:g,title:" ¿Actividades de riesgo asociadas?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.actividadesRiesgo&&l.jsx("span",{className:"text-red-500",children:f.actividadesRiesgo})]}),e.actividadesRiesgo==="si"&&l.jsx(ja,{label:"Identificación de actividades de riesgo",title:"Identificación de actividades de riesgo",name:"actividadRiesgo",value:e.actividadRiesgo??"",onChange:g,options:[{code:"juegos_apuesta",name:"Juegos con apuesta, concursos y sorteos"},{code:"tarjetas_credito",name:"Tarjetas de crédito, prepagadas o de servicios o cheques de viajero"},{code:"prestamos_creditos",name:"Mutuo, préstamos o créditos, con y sin garantía"},{code:"construccion_inmuebles",name:"Servicios de construcción, desarrollo o comercialización y arrendamiento de bienes inmuebles"},{code:"comercializacion_metales",name:"Comercialización o intermediación de metales, joyas, relojes y/o piedras preciosas"},{code:"subasta_arte",name:"Subasta o comercialización de obras de arte"},{code:"comercializacion_vehiculos",name:"Comercialización o distribución de todo tipo de vehículos terrestres, marinos o aéreos"},{code:"servicios_blindaje",name:"Servicios de blindaje"},{code:"traslado_custodia_valores",name:"Servicios de traslado o custodia de dinero o valores"},{code:"servicios_profesionales",name:"Prestación de servicios profesionales de manera independiente, sin que medie relación laboral con el cliente"},{code:"servicios_fe_publica",name:"Prestación de servicios de FÉ PÚBLICA por notarios, corredores y servidores públicos"},{code:"recepcion_donativos",name:"Recepción de donativos por parte de Asociaciones y Sociedades sin fines de lucro"},{code:"comercio_exterior",name:"Prestación de servicios de comercio exterior como agente o apoderado aduanal, mediante autorización de la SHCP, de las mercancías mencionadas en la Ley Aduanera"},{code:"uso_goce_inmuebles",name:"Constitución de derechos personales de Uso y Goce de bienes inmuebles"},{code:"intercambio_activos_virtuales",name:"Ofrecimiento habitual y profesional de intercambio de activos virtuales a través de plataformas electrónicas, digitales o similares (criptomonedas como Bitcoin, Ethereum, XRP, entre otras)"}],otherPlaceholder:"Otra actividad",required:!0,disabled:!a,error:f.actividadRiesgo}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Calificación"}),l.jsx(ja,{label:"Calificación Experta",title:"Seleccione la calificación experta del 1 al 10.",name:"calificacionExperta",value:e.calificacionExperta??"",onChange:g,options:[{code:"1",name:"1"},{code:"2",name:"2"},{code:"3",name:"3"},{code:"4",name:"4"},{code:"5",name:"5"},{code:"6",name:"6"},{code:"7",name:"7"},{code:"8",name:"8"},{code:"9",name:"9"},{code:"10",name:"10"}],otherPlaceholder:"Otra calificación",required:!0,disabled:!a,error:f.calificacionExperta}),l.jsx(ja,{label:"Categorización SARAS",title:"Seleccione la categoría SARAS.",name:"categorizacionSaras",value:e.categorizacionSaras??"",onChange:g,options:[{code:"A",name:"A"},{code:"B",name:"B"},{code:"C",name:"C"}],otherPlaceholder:"Otra categoría",required:!0,disabled:!a,error:f.categorizacionSaras}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Criterios de Elegibilidad"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?",children:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?"}),l.jsxs("select",{name:"dentroDeLimite",value:e.dentroDeLimite,disabled:!a,onChange:g,title:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.dentroDeLimite&&l.jsx("span",{className:"text-red-500",children:f.dentroDeLimite})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito.",children:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito."}),l.jsxs("select",{name:"cumpleRestricciones",value:e.cumpleRestricciones,disabled:!a,onChange:g,title:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.cumpleRestricciones&&l.jsx("span",{className:"text-red-500",children:f.cumpleRestricciones})]}),e.cumpleRestricciones==="no"&&l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(ja,{label:"Restricciones de Elegibilidad",title:"Presenta alguna de las siguientes restricciones conforme al Manual de Crédito.",name:"restriccionesEligibilidad",value:e.restriccionesEligibilidad??"",onChange:g,options:[{code:"creditoConsumo",name:"Crédito al consumo"},{code:"noConstituidaMexico",name:"No se encuentra legalmente constituida en México"},{code:"huelga",name:"Se encuentra en huelga o emplazado a huelga"},{code:"carteraVencida",name:"Presenta cartera vencida con NAFIN"},{code:"suspendidosNafin",name:"Se encuentra en la relación de empresas/accionistas suspendidos por NAFIN"},{code:"agriculturaExcluida",name:"Actividad de agricultura, ganadería, caza, silvicultura o pesca (excepto proyectos con transformación)"},{code:"impactoAmbiental",name:"Proyectos que generen efectos negativos en el medio ambiente"},{code:"baresCantinas",name:"Adaptación o acondicionamiento de establecimientos para bares y cantinas no asociado a restaurante"},{code:"liquidacionPasivos",name:"El destino es liquidación de pasivos (salvo refinanciamiento de un proyecto) o aportación accionaria"},{code:"quiebraTecnica",name:"El solicitante presenta quiebra técnica (pérdida de dos terceras partes de su capital social)"},{code:"concursoMercantil",name:"El solicitante se encuentra en concurso mercantil (salvo sector público)"},{code:"clavePrevencion",name:"El solicitante, aval, fiador u obligado solidario presenta 'Clave de prevención' en el Buró de Crédito"},{code:"lista69B",name:"Se encuentra en la lista del Art. 69 B del Código Fiscal de la Federación"},{code:"fintechSectorPrimario",name:"El solicitante es una Institución de Tecnología Financiera o del sector primario"},{code:"listaExclusion",name:"Realiza alguna de las actividades señaladas en la lista de exclusión (ANEXO 2)"}],otherPlaceholder:"Otra restricción",required:!0,disabled:!a,error:f.restriccionesEligibilidad})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido.",children:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido."}),l.jsxs("select",{name:"cumpleCaracteristicasEligibilidad",value:e.cumpleCaracteristicasEligibilidad,disabled:!a,onChange:g,title:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),f.cumpleCaracteristicasEligibilidad&&l.jsx("span",{className:"text-red-500",children:f.cumpleCaracteristicasEligibilidad})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Comentarios adicionales",children:"Otros Comentarios"}),l.jsx("textarea",{name:"otrosComentarios",value:e.otrosComentarios||"",onChange:g,disabled:!a,title:"Escriba comentarios adicionales si es necesario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),f.otrosComentarios&&l.jsx("span",{className:"text-red-500",children:f.otrosComentarios})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Área que atiende la solicititud",children:["Área que atiende la solicititud",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"areaAtencionSolicitud",value:e.areaAtencionSolicitud||"",onChange:g,disabled:!a,title:"Área que atiende la solicititud",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.areaAtencionSolicitud&&l.jsx("span",{className:"text-red-500",children:f.areaAtencionSolicitud})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del funcionario",children:["Nombre del Funcionario",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"funcionarioNombre",value:e.funcionarioNombre||"",onChange:g,disabled:!a,title:"Escriba el nombre del funcionario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.funcionarioNombre&&l.jsx("span",{className:"text-red-500",children:f.funcionarioNombre})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Puesto del funcionario",children:["Puesto del Funcionario",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"funcionarioPuesto",value:e.funcionarioPuesto||"",onChange:g,disabled:!a,title:"Escriba el puesto del funcionario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.funcionarioPuesto&&l.jsx("span",{className:"text-red-500",children:f.funcionarioPuesto})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del supervisor",children:["Nombre del Supervisor",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"supervisorNombre",value:e.supervisorNombre||"",onChange:g,disabled:!a,title:"Escriba el nombre del supervisor",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.supervisorNombre&&l.jsx("span",{className:"text-red-500",children:f.supervisorNombre})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Puesto del supervisor",children:["Puesto del Supervisor",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"supervisorPuesto",value:e.supervisorPuesto||"",onChange:g,disabled:!a,title:"Escriba el puesto del supervisor",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.supervisorPuesto&&l.jsx("span",{className:"text-red-500",children:f.supervisorPuesto})]}),l.jsx("div",{className:"flex justify-between",children:l.jsx("button",{type:"button",onClick:v,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 flex items-center justify-center gap-2 ${r&&"opacity-50 cursor-not-allowed"}`,children:r?l.jsxs(l.Fragment,{children:[l.jsx(iu,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):"Generar cédula"})})]}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(Od,{goToBackStep:k,goToNextStep:y,currentStep:5,totalSteps:7})})]})},l$e=({isOpen:e,onClose:t,rejectReason:r})=>e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4 text-red-600",children:"Razón del Rechazo"}),l.jsx("p",{className:"text-sm text-gray-700 mb-4",children:r||"No se ha proporcionado una razón para el rechazo."}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Cerrar"})})]})}):null,c$e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",u$e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",d$e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",f$e=(e,t)=>{const r={rechazado:`border-red-500 ${d$e}`,requerido:`border-blue-500 ${u$e}`,opcional:`border-blue-300 ${c$e}`};return e?r.rechazado:t?r.requerido:r.opcional},p$e=(e,t,r,n)=>e?l.jsx(Ro,{className:"w-6 h-6 text-green-600"}):t?l.jsx(dd,{className:"w-6 h-6 text-red-600"}):r?l.jsx(l.Fragment,{children:l.jsx("div",{className:"",children:l.jsx("div",{title:"Análisis:"+n,children:l.jsx(Do,{className:"w-6 h-6 text-red-500","aria-label":"Advertencia"})})})}):l.jsx(ma,{className:"w-6 h-6 text-yellow-500"}),m$e=(e,t)=>e?"Aprobado":t?"Rechazado":"Revisar",h$e=(e,t)=>l.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded w-full mb-2 text-center",children:[l.jsx("p",{className:"truncate",children:e}),l.jsx("p",{children:t})]}),g$e=e=>l.jsxs(l.Fragment,{children:[l.jsx(Fo,{className:"w-10 h-10 text-gray-400 mb-2"}),l.jsxs("label",{className:"w-full bg-gray-100 text-gray-600 text-xs text-center border rounded py-1 cursor-pointer",children:["Cargar archivo",l.jsx("input",{type:"file",className:"hidden",disabled:!0,onChange:e})]})]}),x$e=(e,t,r,n,a,i,s,o,c)=>l.jsxs("div",{className:"absolute top-10 right-4 w-32 bg-white border border-gray-200 rounded shadow-lg z-10",children:[e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),a&&a()},children:[l.jsx(gp,{className:"w-4 h-4 mr-2"}),"Descargar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),i&&i()},children:[l.jsx(fd,{className:"w-4 h-4 mr-2"}),"Ver"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),s&&s()},children:[l.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),o&&o()},children:[l.jsx(dd,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),t&&l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),n(!0)},children:[l.jsx(hM,{className:"w-4 h-4 mr-2"}),"Detalles"]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),c&&c()},children:[l.jsx(rg,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>r(!1),children:[l.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]});function v$e({title:e,isUploaded:t,isLoading:r,isApproved:n,isRejected:a,rejectReason:i,fileName:s,fileSize:o,isRequired:c,isRejectedByAI:u,IaRejectedReason:d,onUpload:f,onDownload:p,onDelete:m,onView:h,onApprove:g,onReject:x}){const[v,b]=_.useState(!1),[y,k]=_.useState(!1),E=_.useRef(null);_.useEffect(()=>{const w=j=>{E.current&&!E.current.contains(j.target)&&b(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const S=w=>{var T;const j=(T=w.target.files)==null?void 0:T[0];j&&f&&f(j)};return l.jsxs("div",{ref:E,className:`w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg p-4 flex flex-col shadow-sm relative border-2 ${f$e(a,c)}`,title:e,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("h3",{className:"text-sm font-medium text-gray-800 max-w-full break-words whitespace-normal",title:e,children:e})}),l.jsx("button",{className:"py-1 px-2 bg-gray-50 text-gray-600 rounded-full text-xs font-medium hover:bg-gray-100 transition-colors",onClick:()=>b(!v),"aria-label":"Opciones",children:l.jsx(Qx,{size:20})})]}),v&&x$e(t,a,b,k,p,h,g,x,m),l.jsx("h3",{className:`${c?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:c?"Requerido":"Opcional"}),l.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:r?l.jsx(vM,{size:"4rem"}):l.jsx(l.Fragment,{children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${n?"bg-green-100 border border-green-300":a?"bg-red-100 border border-red-300":"bg-yellow-100 border border-yellow-300"}`,children:p$e(n,a,u,d)}),l.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-green-600":a?"text-red-600":"text-yellow-500"}`,children:m$e(n,a)}),h$e(s,o)]}):g$e(S)})}),l.jsx(l$e,{isOpen:y,onClose:()=>k(!1),rejectReason:i||"No se especificó una razón para el rechazo."})]})}const y$e=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=_.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},b$e=({isOpen:e,onCancel:t,onConfirm:r})=>{const[n,a]=_.useState(!1);if(!e)return null;const i=async()=>{a(!0);try{await r()}finally{a(!1)}};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"¿Estás seguro?"}),l.jsx("p",{className:"mb-4",children:"Esta acción eliminará el archivo permanentemente."}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:t,disabled:n,children:"Cancelar"}),l.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center justify-center",onClick:i,disabled:n,children:n?l.jsx($t,{className:"animate-spin h-5 w-5 mr-2"}):"Eliminar"})]})]})})},w$e=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=_.useState(!1),i=()=>{a(!n)},s=()=>{const o=t==null?void 0:t.toLowerCase();return o==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):o==="xlsx"||o==="xls"?l.jsx(S$e,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[l.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?l.jsx(Pm,{className:"w-5 h-5"}):l.jsx(Im,{className:"w-5 h-5"})}),s()]})})},S$e=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})};function E$e({onPlaceholderClick:e}){return l.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:l.jsx(Jn,{className:"w-6 h-6 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Solicitar otro documento"})]})}const VO={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function HO(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function WO(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function _$e(e){return e.includes("Solicitud de Financiamiento")?"Solicitud de Financiamiento":e.includes("Estados Financieros auditados")?"Estados Financieros Auditados":e.includes("Estados financieros internos")||e.includes("Estado Financiero")?"Estados Financieros Internos":e.includes("Presentación Corporativa")?"Presentación corporativa":e.includes("Flujos indicativos")||e.includes("Proyecciones")?"Proyecciones / Flujos indicativos":e.includes("Buró de Crédito")?"Buró de crédito":"Información adicional"}const N$e=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await Bi({productRequestId:e});return!t||!t.requiredDocuments?(console.warn("No se encontraron documentos requeridos"),[]):t.requiredDocuments.map(n=>{const a=_$e(n.documentTemplate.name);return{documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??"",category:a}}).sort((n,a)=>{const i=VO[n.category]-VO[a.category];return i!==0?i:n.category==="Estados Financieros Auditados"&&a.category==="Estados Financieros Auditados"?HO(n.documentTemplate.name)-HO(a.documentTemplate.name):n.category==="Estados Financieros Internos"&&a.category==="Estados Financieros Internos"?WO(n.documentTemplate.name)-WO(a.documentTemplate.name):0})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},k$e=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,o){return o.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>Yx(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}};function C$e({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,c]=_.useState("processing"),[u,d]=_.useState({title:"",message:"",details:void 0}),[f,p]=_.useState(!1);_.useEffect(()=>{e&&m()},[e]);const m=async()=>{const x=await Zx();s(x)},h=async()=>{c("processing");const v=await k$e({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),p(!0)},g=x=>{x.preventDefault(),h()};return e?l.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[l.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Solicitar otro documento"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Selecciona el documento adicional a solicitar."}),l.jsx("div",{className:" mb-4",children:l.jsx(O$,{documents:n,setDocuments:a,docTemplates:i})}),l.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[l.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Solicitar documento adicional"}),l.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&l.jsx(Ea,{onClose:t,status:o,messages:u})]}):null}function T$e(){const{selectedClient:e}=It(),[t,r]=_.useState([]),[n,a]=_.useState(!1),[i,s]=_.useState(null),[o,c]=_.useState(null),[u,d]=_.useState(null),[f,p]=_.useState(!1),[m,h]=_.useState(null),[g,x]=_.useState(null),[v,b]=_.useState(null),[y,k]=_.useState(!1),[E,S]=_.useState(!1),[w,j]=_.useState(!1),[T,C]=_.useState(!1),[A,N]=_.useState(!1),[I,M]=_.useState(null),{user:F}=Nt(),q=()=>t.length>0&&t.every(re=>re.isPreApproved),W=async re=>{t.length>0&&t.every(D=>D.isPreApproved)?S(!0):re&&(await Jl(3,(e==null?void 0:e.id)??""),S(!1))},V=async()=>{let re="";const D=q(),H=e==null?void 0:e.name,L=await vx((e==null?void 0:e.email)??"",(F==null?void 0:F.idToken)??""),O="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+L.token;if(D===!1){const ie=t.filter(me=>me.isPreApproved).length,de=t.filter(me=>me.isRejected).length,ye=t.filter(me=>me.isUploaded===!1).length;re=H3e({name:H??"",numAprobados:ie,numRechazados:de,numPendientes:ye,url:O})}else re=W3e({name:H??"",url:O}),await Jl(4,(e==null?void 0:e.id)??"");await Ju((e==null?void 0:e.email)??"",e==null?void 0:e.ccemail,"Actualización en tu trámite",re)?D===!1?ce.success("cliente notificado"):ce.success("Seccion completa, cliente notificado"):ce.error("Ocurrió un error, intente de nuevo mas tarde")},B=async(re,D)=>{if(j(!0),D)if((await Yr({id:D,isPreApproved:!0,isRejected:!1,rejectReason:""})).success){const L=[...t];L[re]={...L[re],isPreApproved:!0,isRejected:!1,rejectReason:""},r(L),console.log("Documento aprobado")}else ce.error("Error al aprobar el documento. Inténtalo de nuevo.")},R=(re,D)=>{a(!0),s(re),b(D)},ne=async re=>{if(j(!0),v)if((await Yr({id:v,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:re})).success){if(i!==null){const H=[...t];H[i]={...H[i],isRejected:!0,isPreApproved:!1,rejectReason:re},r(H),console.log(`Documento rechazado: ${H[i].documentTemplate.name}, Razón: ${re}`)}}else ce.error("Error al rechazar el documento. Inténtalo de nuevo.");a(!1),s(null)},z=(re,D,H)=>{p(!0),h(re),x(D),k(H)},P=async()=>{var re,D;if(j(!0),m!==null)if(g&&y){const L=((D=(re=t[m].fileName)==null?void 0:re.split(".").pop())==null?void 0:D.toLowerCase())??"",K=`${g}.${L}`,O=await Yv(K,"documentos");if(console.log(O?"Archivo eliminado en bucket":"Error al eliminar archivo en bucket"),(await Yr({id:g,isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:"",fileSize:"",isRejectedByAI:!1,IaRejectedReason:""})).success){const ie=[...t];ie[m]={...ie[m],isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:void 0,fileSize:void 0,fileUrl:void 0,isRejectedByAI:!1,IaRejectedReason:void 0},r(ie),console.log("Archivo eliminado en índice")}else ce.error("Error al eliminar el documento. Inténtalo de nuevo.")}else g&&((await Kx({requiredDocument:g})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),r(L=>L.filter(K=>K.id!==g)),ce.success("Documento requerido eliminado")):ce.error("Error al eliminar el documento. Inténtalo de nuevo."));p(!1),x(null),h(null)},G=async(re,D)=>{var H;if(r(L=>L.map(K=>K.id===re?{...K,isLoading:!0}:K)),re){const L=((H=D.split(".").pop())==null?void 0:H.toLowerCase())??"",pe=await gi("view","documentos",re,"token",L);pe.data?(c(pe.data),d(L),console.log("URL de vista previa:",pe.data)):ce.error("Error al visualizar el documento. Inténtalo de nuevo.")}r(L=>L.map(K=>K.id===re?{...K,isLoading:!1}:K))},J=()=>c(null);_.useEffect(()=>{const re=async()=>{if(!(e!=null&&e.id)){ce.error("No hay una empresa seleccionada.");return}const D=await N$e(e.id),H=D.length>0&&D.every(L=>L.isPreApproved);S(H),r(D),console.log("Documentos actualizados:",D)};I===null&&re(),I===!0&&A===!1&&re(),M(A)},[A]),_.useEffect(()=>{W(E)},[t]);const te=async(re,D)=>{var H;r(L=>L.map(K=>K.id===re?{...K,isLoading:!0}:K));try{const L=((H=D.split(".").pop())==null?void 0:H.toLowerCase())??"";(await gi("download","documentos",re,"token",L,D)).success?ce.success("Archivo descargado"):ce.error("Error al descargar el documento. Inténtalo de nuevo.")}catch(L){console.log(L),ce.error("Error al descargar el documento. Inténtalo de nuevo.")}r(L=>L.map(K=>K.id===re?{...K,isLoading:!1}:K))};return l.jsxs("div",{children:[l.jsxs("div",{className:"p-6 bg-gray-50 rounded-md space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center w-full",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Documentos subidos: ",t.filter(re=>re.isUploaded).length,"/",t.length]}),E?l.jsxs("div",{className:"relative flex items-center gap-1 text-green-600 group",children:[l.jsx(mr,{size:20}),l.jsx("span",{children:"Completado"}),l.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"Esta sección ha sido completada."})]}):l.jsxs("div",{className:"relative flex items-center gap-1 text-orange-600 group",children:[l.jsx(ma,{size:20}),l.jsx("span",{children:"En proceso"}),l.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"En proceso de recepción documental, el estado cambia cuando validas todos los documentos."})]})]}),w?l.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,l.jsxs("div",{className:"max-h-[600px] overflow-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 mt-4",children:[t.map((re,D)=>l.jsx(v$e,{title:re.documentTemplate.name,isUploaded:re.isUploaded,isApproved:re.isPreApproved,isRejected:re.isRejected,rejectReason:re.rejectReason,fileName:re.fileName,fileSize:re.fileSize,isLoading:re.isLoading,isRequired:re.isRequired,onApprove:()=>B(D,re.id),onReject:()=>R(D,re.id),onDelete:()=>z(D,re.id,re.isUploaded),onDownload:()=>te(re.id,re.fileName??""),onView:()=>G(re.id,re.fileName??""),isRejectedByAI:re.isRejectedByAI??!1,IaRejectedReason:re.IaRejectedReason??""},re.id)),l.jsx(E$e,{onPlaceholderClick:()=>N(!0)})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:async()=>{C(!0),await V(),C(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[T?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(mr,{className:"w-5 h-5"}),E?"Informar sección completa":"Informar cambio en Recepción",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:E?"Informa al cliente por correo que sus documentos han sido recibidos, activa la siguiente sección":"Informa al cliente por correo que el estado de sus documentos ha cambiado"})]})}),l.jsx(y$e,{isOpen:n,onClose:()=>a(!1),onConfirm:ne}),l.jsx(b$e,{isOpen:f,onCancel:()=>p(!1),onConfirm:P}),o&&l.jsx(w$e,{fileUrl:o,onClose:J,fileType:u??"pdf"})]}),l.jsx(qr,{})]}),l.jsx("div",{children:A&&l.jsx(C$e,{isOpen:A,onClose:()=>N(!1),selectedProductId:(e==null?void 0:e.id)??""})})]})}function j$e(){const[e,t]=_.useState(1),{selectedClient:r,selectClient:n}=It(),[a,i]=_.useState(!1),s=()=>{r&&n({flowStatus:4})},o=()=>{r&&n({flowStatus:2})},c=()=>{i(!1)},u=()=>{r&&n({flowStatus:4}),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[l.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[l.jsx("header",{className:"flex items-center justify-between py-4",children:l.jsx("h1",{className:"text-xl font-semibold",children:"Detalles de solicitud"})}),l.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Formulario Financiero","Garantías Indicativas","Documentos Requeridos"].map((d,f)=>l.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===f+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>t(f+1),children:d},f))}),l.jsxs("div",{className:"mt-4 mb-4",children:[e===1&&l.jsx(i7,{}),e===2&&l.jsx(s7,{}),e===3&&l.jsx(T$e,{})]})]}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(Od,{goToBackStep:o,goToNextStep:s,currentStep:3,totalSteps:7})}),l.jsx(dy,{isOpen:a,onClose:c,onConfirm:u,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const A$e=()=>{const[e,t]=_.useState(2),[r,n]=_.useState(!1),a=7,{selectedClient:i}=It(),s=Qt(),[o,c]=_.useState([]),[u,d]=_.useState([]),[f,p]=_.useState(!1),[m,h]=_.useState(!1),[g,x]=_.useState(!1),v=_.useRef(null),b=async()=>{},y=()=>{s(-1)};_.useEffect(()=>{console.log("actualización recibida en onboarding"),t(w=>{const j=(i==null?void 0:i.flowStatus)??0;return w!==j?j:w})},[i]),_.useEffect(()=>{async function w(){if(i!=null&&i.chatId)try{const j=await Jv({chatId:(i==null?void 0:i.chatId)??""});if(j){const T=j.messages.filter(C=>!C.isRead&&!C.isSenderAdmin);if(T.length>0){const C={id:i.id,content:`Tienes ${T.length} nuevos mensajes sin leer.`,type:"info",read:!1,createdAt:new Date};d([C]),console.log("se llamo a toast"),h(!0)}c(j.messages)}}catch(j){console.log("error",j)}}w()},[]);const k=async()=>{if(i!=null&&i.chatId)try{if(o&&o.filter(j=>!j.isRead&&!j.isSenderAdmin).length>0){const j=o.map(T=>!T.isRead&&!T.isSenderAdmin?(console.log("marcando como leído",T),Qv({messageId:T.id,isRead:!0}),{...T,isRead:!0}):T);d([]),c(j)}}catch(w){console.log("Error al marcar mensajes como leídos:",w)}},E=()=>{n(!0),k(),console.log("El chat con el admin se abrió.")};_.useEffect(()=>{function w(j){v.current&&!v.current.contains(j.target)&&n(!1)}return r&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[r]);function S(){x(!g),Z0.removeAll(),eg.removeAll(),Pf.removeAll(),window.location.reload()}return l.jsxs("div",{className:"flex flex-col",children:[i&&l.jsxs("div",{className:"flex w-full items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:y,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:l.jsx(ud,{size:24})}),l.jsxs("div",{className:"flex items-center space-x-3 bg-white  p-3 rounded-lg ",children:[l.jsx("span",{className:"text-gray-800 font-semibold",children:i.company}),l.jsx("span",{className:"text-gray-600",children:i.email})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex justify-center flex-1",children:l.jsxs("button",{className:"relative w-auto bg-gradient-to-r from-green-400 to-green-500 text-white py-2 px-5 rounded-full flex items-center gap-2 transition-transform transform hover:scale-105",onClick:()=>E(),children:[l.jsx(zi,{size:22}),"Chat con usuario",u.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.length})]})}),l.jsxs("div",{className:"relative group inline-block",children:[l.jsx("button",{onClick:S,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:l.jsx(gM,{size:24,className:`transition-transform duration-500 transform ${g?"rotate-180":""}`})}),l.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:"Forzar actualización"})]})]})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:l.jsx(JEe,{currentStep:e,totalSteps:a,onStepChange:w=>t(w)})}),l.jsxs("main",{className:"max-w-7xl flex-grow container mx-auto",children:[e===2&&l.jsx(Q8e,{}),e===3&&l.jsx(j$e,{}),e===4&&l.jsx(K8e,{}),e===5&&l.jsx(o$e,{}),e===6&&l.jsx(Y3e,{}),e===7&&l.jsx(Z3e,{})]}),f&&l.jsx(ZEe,{notifications:u,onClose:()=>p(!1)}),m&&l.jsx(e_e,{content:"Tienes nuevos mensajes",duration:5e3,onClose:()=>h(!1)}),r&&l.jsx("div",{ref:v,children:l.jsx(QEe,{onClose:()=>n(!1),onNewMessage:b,setMessages:c,messages:o})})]})};function I$e(){return l.jsx(Qn,{children:l.jsx(A$e,{})})}function P$e(){const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(""),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[p,m]=_.useState(!1),[h,g]=_.useState(!1),[x,v]=_.useState(!1),[b,y]=_.useState(!1),[k,E]=_.useState(!1),[S,w]=_.useState("processing"),[j,T]=_.useState(!1),[C,A]=_.useState(),[N,I]=_.useState({title:"",message:"",details:void 0}),M=async V=>{V.preventDefault(),E(!0),w("processing");const B=j&&a===""?void 0:a,R=j&&s===""?void 0:s,ne=j&&c===""?void 0:c,z=j&&d===""?void 0:d;try{(j?await GF({name:B,email:R,phone:ne,role:z,isInternal:p,isEditor:h,isViewer:x,isSuperAdmin:b,adminUid:""}):await WF({name:a,email:s,phone:c,role:d,isInternal:p,isEditor:h,isViewer:x,isSuperAdmin:b,authUid:""})).success?(w("success"),I({title:"Actualización exitosa",message:"Se actualizaron los datos correctamente."}),ce.success(j?"¡Actualización exitosa!":"¡Creación exitosa!")):(w("error"),I({title:"Falló la actualización",message:"Ocurrió un error al actualizar los datos."}),ce.error("Ocurrió un error."))}catch(P){console.log(P),w("error")}},F=()=>{E(!1)},q=async()=>{n(!0);try{const V=await tc();t(V)}catch(V){console.error("Error obteniendo las categorías",V)}finally{n(!1)}},W=async()=>{n(!0);try{const V=await XF();if(V.credentials){f(V.role||""),m(V.isInternal??!1),g(V.isEditor??!1),v(V.isViewer??!1),y(V.isSuperAdmin??!1);const B=e.find(R=>R.id===V.role);B!=null&&B.type&&A(B.type)}else ce.warn("No se encontraron credenciales para este administrador.")}catch(V){ce.error("Error cargando credenciales."),console.error("Error al cargar credenciales:",V)}finally{n(!1)}};return _.useEffect(()=>{q()},[]),_.useEffect(()=>{j&&e.length>0&&W()},[j,e]),l.jsxs("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:[r&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsx($t,{className:"w-10 h-10 text-white animate-spin"})}),l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:j?"Actualizar Credencial de Acceso":"Crear Credencial de Acceso"}),l.jsxs("div",{className:"flex justify-center mb-4",children:[l.jsx("label",{className:"mr-2 font-semibold",children:"Modo:"}),l.jsxs("select",{value:j?"update":"create",onChange:V=>T(V.target.value==="update"),className:"border border-gray-300 rounded-md px-2 py-1",children:[l.jsx("option",{value:"create",children:"Crear"}),l.jsx("option",{value:"update",children:"Actualizar"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:l.jsx("strong",{children:j?"Modifique los datos necesarios y guarde los cambios.":"Para acceder a los recursos, cree una credencial de acceso."})}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nombre",value:a,onChange:V=>i(V.target.value),required:!j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"email",placeholder:"Correo electrónico",value:s,onChange:V=>o(V.target.value),required:!j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"tel",placeholder:"Número de teléfono",value:c,onChange:V=>u(V.target.value),required:!j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block mb-1 font-medium",children:"Tipo de categoría"}),l.jsxs("select",{value:C||"",onChange:V=>{const B=V.target.value||void 0;A(B),f("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Selecciona un tipo"}),[...new Set(e.map(V=>V.type).filter(Boolean))].sort((V,B)=>V.localeCompare(B)).map(V=>l.jsx("option",{value:V,children:V},V))]})]}),l.jsxs("div",{className:"relative mt-4",children:[l.jsx("label",{className:"block mb-1 font-medium",children:"Nombre de categoría"}),l.jsxs("select",{value:d,onChange:V=>f(V.target.value),disabled:!C,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${C?"border-gray-300 focus:ring-blue-500":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[l.jsx("option",{value:"",children:"Selecciona un nombre"}),e.filter(V=>V.type===C).sort((V,B)=>(V.name||"").localeCompare(B.name||"")).map(V=>l.jsx("option",{value:V.id||"",children:V.name},V.id))]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("label",{className:"mr-2",children:"Es interno:"}),l.jsx("input",{type:"checkbox",checked:p,onChange:V=>m(V.target.checked),className:"form-checkbox h-4 w-4 text-blue-500"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:V=>g(V.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es editor"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:V=>v(V.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es viewer"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:b,onChange:V=>y(V.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es super admin"]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:j?"Actualizar Credencial":"Crear Credencial"})]})]}),k&&l.jsx(Ea,{onClose:F,status:S,reload:!0,route:"/",messages:N})]})}const O$e=({templates:e,handleEditClick:t,handleDeleteTemplate:r})=>{const[n,a]=_.useState(null),i=s=>{a(n===s?null:s)};return l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-y-auto max-h-screen",children:e.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"No se encontraron plantillas. Agrega una para comenzar."}):l.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>l.jsxs("li",{className:"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center",children:[s.name,s.position!==null&&l.jsxs("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:["#",s.position+(s.category||"")+(s.isRequired===!0?" Requerido":" Opcional")]})]}),s.description&&l.jsx("p",{className:`mt-1 text-sm text-gray-600 ${n===s.id?"":"line-clamp-2"}`,children:s.description})]}),l.jsxs("div",{className:"flex space-x-2 items-center",children:[s.description&&l.jsx("button",{onClick:()=>i(s.id),className:"p-1.5 text-gray-600 hover:bg-gray-200 rounded-md transition-colors","aria-label":"Ver más",children:l.jsx(Qx,{size:18})}),l.jsx("button",{onClick:()=>t(s),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-md transition-colors","aria-label":"Editar plantilla",children:l.jsx(nJ,{size:18})}),l.jsx("button",{onClick:()=>r(s.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-md transition-colors","aria-label":"Eliminar plantilla",children:l.jsx(Mo,{size:18})})]})]},s.id))})})},GO=Uv.map(e=>e.name);function R$e({category:e,setCategory:t}){const[r,n]=_.useState([]),[a,i]=_.useState("select"),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(!1),[p,m]=_.useState(!1),[h,g]=_.useState(null),[x,v]=_.useState(""),[b,y]=_.useState("");_.useEffect(()=>{k()},[]);const k=async()=>{f(!0);try{const T=await tc();n(T)}catch(T){console.error("Error obteniendo las categorías",T)}finally{f(!1)}},E=async()=>{if(!(!s.trim()||!c.trim())){f(!0);try{(await zY({name:s,type:c})).success&&(k(),o(""),u(""),m(!1))}catch(T){console.error("Error al agregar la categoría",T)}finally{f(!1)}}},S=async T=>{if(!(!x.trim()||!b.trim())){f(!0);try{(await qY({categoryId:T,name:x,type:b})).success&&(k(),g(null))}catch(C){console.error("Error actualizando la categoría",C)}finally{f(!1)}}},w=async(T,C)=>{confirm(`¿Eliminar categoría "${C}"?`)&&await j(T,k,()=>alert("Error al eliminar."))},j=async(T,C,A)=>{try{(await UY({categoryId:T})).success?C():A()}catch(N){console.error("Error al eliminar",N),A()}};return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex border-b mb-6",children:[l.jsx("button",{className:`px-4 py-2 -mb-px font-medium border-b-2 transition ${a==="select"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>i("select"),children:"Seleccionar Producto"}),l.jsx("button",{className:`ml-4 px-4 py-2 -mb-px font-medium border-b-2 transition ${a==="manage"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>i("manage"),children:"Gestionar Productos"})]}),a==="select"&&l.jsx("div",{className:"space-y-2",children:l.jsxs("select",{value:(e==null?void 0:e.id)||"",onChange:T=>{const C=r.find(A=>A.id===T.target.value)||null;t(C)},className:"w-full border p-2 rounded",children:[l.jsx("option",{value:"",children:"-- Selecciona --"}),r.map(T=>l.jsx("option",{value:T.id,children:`${T.name} (${T.type})`},T.id))]})}),a==="manage"&&l.jsxs("div",{children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"+ Nuevo producto"})}),d?l.jsx("p",{className:"text-gray-500",children:"Cargando categorías..."}):l.jsx("div",{className:"space-y-6",children:Object.entries(r.reduce((T,C)=>{const A=C.type||"Sin vertical";return T[A]=T[A]||[],T[A].push(C),T},{})).map(([T,C])=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:T}),l.jsx("ul",{className:"space-y-2",children:C.map(A=>l.jsx("li",{className:"bg-gray-100 px-4 py-2 rounded flex justify-between items-center",children:h===A.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{value:x,onChange:N=>v(N.target.value),className:"border rounded px-2 py-1 mr-2 w-1/3"}),l.jsx("select",{value:b,onChange:N=>y(N.target.value),className:"border rounded px-2 py-1 w-1/3",children:GO.map((N,I)=>l.jsx("option",{value:N,children:N},I))}),l.jsx("button",{onClick:()=>S(A.id),className:"text-green-700 font-semibold ml-2",children:"Guardar"}),l.jsx("button",{onClick:()=>g(null),className:"text-gray-500 font-semibold ml-2",children:"Cancelar"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:A.name}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{g(A.id),v(A.name||""),y(A.type||"")},className:"text-yellow-600",children:"Editar"}),l.jsx("button",{onClick:()=>w(A.id,A.name||""),className:"text-red-600",children:"Eliminar"})]})]})},A.id))})]},T))})]}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/30 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Agregar Categoría"}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-600",children:"×"})]}),l.jsx("input",{value:s,onChange:T=>o(T.target.value),placeholder:"Nombre del producto",className:"border rounded w-full p-2 mb-3"}),l.jsxs("select",{value:c,onChange:T=>u(T.target.value),className:"border rounded w-full p-2 mb-4",children:[l.jsx("option",{value:"",children:"Selecciona una vertical"}),GO.map((T,C)=>l.jsx("option",{value:T,children:T},C))]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>m(!1),className:"bg-gray-200 px-4 py-2 rounded",children:"Cancelar"}),l.jsx("button",{onClick:E,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:d?"Guardando...":"Guardar"})]})]})})]})}function D$e(){const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(null),[s,o]=_.useState(null),[c,u]=_.useState(null),d=Qt(),f=()=>{if(!a)return;const v=e.length>0?Math.max(...e.map(b=>b.position??0)):0;o({id:"",name:"",description:"",position:v+1,isRequired:!1,categoryName:a.name??"",categoryType:a.type??""}),u("add")},p=v=>{o({...v}),u("edit")},m=()=>{o(null),u(null)},h=async()=>{if(!(!s||!a||s.name.trim()==="")){if(n(!0),c==="add"){const v=await PY({name:s.name,description:s.description??"",position:s.position??1,categoryId:a.id,isRequired:s.isRequired??!1});v.success&&(Pf.remove(),t(b=>[...b,{...s,id:v.Id}]),m())}else c==="edit"&&(await OY({documentTemplateId:s.id,name:s.name,description:s.description??"",position:s.position??1,categoryId:a.id,isRequired:s.isRequired??!1})).success&&(Pf.remove(),t(b=>b.map(y=>y.id===s.id?s:y)),m());n(!1)}},g=async v=>{(await IY({documentTemplateId:v})).success&&(Pf.remove(),t(y=>y.filter(k=>k.id!==v)))},x=async()=>{if(!a)return;const b=(await ZF({CategoryId:a.id})).map(y=>({...y,categoryName:a.name??"",categoryType:a.type??""}));t(b.sort((y,k)=>(y.position??0)-(k.position??0)))};return _.useEffect(()=>{x()},[a]),l.jsxs("div",{className:"max-w-5xl mx-auto p-6 text-gray-800 space-y-6",children:[l.jsx("button",{onClick:()=>d(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:l.jsx(ud,{className:"w-6 h-6"})}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-5",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selección de productos"}),l.jsx(R$e,{category:a,setCategory:i})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-5",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:["Plantillas de Documentos",a!=null&&a.name?`: ${a.name}`:""]}),a&&c===null&&l.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:[l.jsx(Jn,{size:18}),l.jsx("span",{children:"Agregar Plantilla"})]})]}),a?l.jsx(O$e,{templates:e,handleEditClick:p,handleDeleteTemplate:g}):l.jsx("div",{className:"text-gray-500 italic",children:"Comienza seleccionando un producto para ver y agregar plantillas."})]}),c&&s&&l.jsx(F$e,{formData:s,setFormData:o,onClose:m,onSave:h,isLoading:r,mode:c})]})}function F$e({formData:e,setFormData:t,onClose:r,onSave:n,isLoading:a,mode:i}){const s=c=>{const{name:u,value:d}=c.target;t(f=>f&&{...f,[u]:d})},o=c=>{const u=c.target.value;t(d=>d&&{...d,isRequired:u==="required"})};return l.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-xl relative",children:[l.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:l.jsx(Dt,{size:20})}),l.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[i==="edit"?"Editar Plantilla ":"Agregar Plantilla ",e.categoryName," ",l.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["# ",e.position]})]}),l.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,className:"w-full mb-3 p-2 border rounded",placeholder:"Nombre",required:!0}),l.jsx("textarea",{name:"description",value:e.description||"",onChange:s,className:"w-full mb-3 p-2 border rounded",placeholder:"Descripción",rows:3}),l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de template"}),l.jsxs("select",{value:e.isRequired?"required":"optional",onChange:o,className:"w-full mb-4 p-2 border rounded",children:[l.jsx("option",{value:"required",children:"Requerido"}),l.jsx("option",{value:"optional",children:"Opcional"})]}),l.jsxs("button",{onClick:n,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 flex justify-center items-center",disabled:a,children:[a?l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}):l.jsx(Dl,{size:18,className:"mr-2"}),a?"Procesando...":i==="edit"?"Actualizar":"Agregar"]})]})})}function M$e(){return l.jsx(Qn,{children:l.jsx(D$e,{})})}const kx=class kx{static getText(t){return kx.mappings[t]||"Texto no asignado"}};nh(kx,"mappings",{1:"Registro Prospecto",2:"Recepcion Inteligente",3:"Mesa de control"});let Ex=kx;function L$e({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return l.jsxs("div",{className:"w-full mx-auto p-4",children:[l.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>l.jsxs("div",{className:"flex items-center w-full",children:[l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),l.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):l.jsx("span",{className:"font-bold",children:n})}),a<t&&l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),l.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>l.jsx("div",{className:"flex flex-col text-center w-full",children:l.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:Ex.getText(n)})},n))})]})}function $$e({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=_.useState(""),{selectedClient:s}=It(),o=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!0,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await dc({chatId:s.chatId,content:a,isAdmin:!0});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return l.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Usuario"}),l.jsx("button",{onClick:e,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>l.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[l.jsx("div",{children:u.content}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!0&&l.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),l.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[l.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),l.jsx("button",{onClick:o,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:l.jsx(pd,{size:20})})]})]})}function B$e({notifications:e,onClose:t}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),l.jsx("button",{onClick:t,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>l.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:l.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?l.jsx(zi,{size:20,className:"text-blue-500"}):l.jsx(mr,{size:20,className:"text-green-500"}),l.jsx("span",{children:r.content})]})},r.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const z$e=({content:e,type:t="info",duration:r,onClose:n})=>{const[a,i]=_.useState(!0);return _.useEffect(()=>{const s=setTimeout(()=>{i(!1),n()},r);return()=>clearTimeout(s)},[r,n]),a?l.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg flex items-center gap-4 border-l-4 border-blue-500 max-w-lg w-full",children:[t==="info"?l.jsx(zi,{size:24,className:"text-blue-500"}):l.jsx(mr,{size:24,className:"text-green-500"}),l.jsx("span",{className:"text-lg",children:e}),l.jsx("button",{onClick:()=>{i(!1),n()},className:"absolute right-4 top-4 text-gray-500",children:l.jsx(Dt,{size:20})})]}):null},U$e=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=_.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},j2=async(e,t)=>{const r=await rM({productRequestId:t,flowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success};async function A2(e,t){try{console.log("generado token");const n={uid:(await Am({email:e??""})).Id??""};return{success:!0,token:(await S$(n,t??"")).token}}catch(r){return console.error("Error generating token:",r),{success:!1,token:""}}}function q$e(e,t,r){return`
    <!doctype html>
    <html lang="es">

    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
        <title>Broxel</title>
    
        <meta name="color-scheme" content="light dark">
        <style type="text/css">
            @media (prefers-color-scheme: dark) {
                .darkmode {
                    background-color: #1e1e1e !important;
                }
    
                .darkmode p {
                    color: #777777 !important;
                }
            }
        </style>
    
    
    
        <style type="text/css">
            body,
            #bodyTable,
            #bodyCell {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }
    
            #templateBody {
                /*background-color:  #f1f3f5 !important;*/
                background-color: #f1f3f5 !important;
                border-top: 0;
                border-bottom: 0;
            }
    
    
            #bodyBackground {
                border-collapse: separate !important;
                background-color: #FFFFFF !important;
                border: 1px solid #eeeeee !important;
                border-radius: 12px;
            }
    
            #templateHeader {
                /*@editable*/
                background-color: #f1f3f5 !important;
                /*@editable*/
                padding-top: 10px;
                /*@editable*/
                padding-bottom: 10px;
            }
    
    
    
            @media only screen and (max-width: 580px) {
                body {
                    width: 100% !important;
                    min-width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .templateContainer {
                    max-width: 580px !important;
                    width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .mcnImage {
                    height: auto !important;
                    width: 100% !important;
                }
    
            }
    
    
    
    
            /*CircularStdBlack*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 800;
                font-style: normal;
            }
    
            /*CircularStdBold*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 600;
                font-style: normal;
            }
    
            /*CircularStdMedium*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 500;
                font-style: normal;
            }
    
            /*CircularStdBook*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 400;
                font-style: normal;
            }
    
    
            h1 {
                font-size: 58px !important;
                line-height: 64px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h2 {
                font-size: 46px !important;
                line-height: 55px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h3 {
                font-size: 40px !important;
                line-height: 49px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h4 {
                font-size: 32px !important;
                line-height: 40px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h5 {
                font-size: 27px !important;
                line-height: 33px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                text-transform: none !important;
                letter-spacing: 0px !important;
            }
    
            h6 {
                font-size: 21px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-weight: 800 !important;
                text-transform: none !important;
                color: #001E30 !important;
                letter-spacing: 0px !important;
                margin-bottom: -11px;
            }
    
            p {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400 !important;
                letter-spacing: 0px !important;
            }
    
    
            li {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            ol {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            a {
                color: #0075ff !important;
                font-weight: 700 !important;
                text-decoration: none !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
    
            span.linkfooter {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-size: 12px;
                font-weight: 300;
                color: #0075ff;
            }
    
            b {
                font-weight: 800 !important;
            }
    
            ul {
                margin-left: -11px;
                margin-top: 30px !important;
            }
    
            @media only screen and (max-width: 480px) {
                .contenedor {
                    background-color: #ffffff !important;
                    width: 96% !important;
                    max-width: 580px !important;
                    overflow: hidden !important;
                    border-radius: 3px !important;
                    padding: 40px 0px !important;
                    margin-top: 40px !important;
                }
            }
        </style>
    
    
    
    
    </head>
    
    
    
    <body lang="es" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
        <style type="text/css">
            body,
            table,
            td,
            h1,
            h2,
            h3,
            h4,
            h5,
            ol,
            ul,
            p {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
        </style>
    
    
        <!-- PREHEADER AQUÍ-->
        <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la
            plataforma y completa tus datos</span>
        <!-- PREHEADER AQUÍ-->
    
        <center>
            <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                <tr>
                    <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                        <!-- BEGIN TEMPLATE // -->
    
    
    
    
                        <!-- BEGIN HEADER // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                            <tr>
                                <td align="center" valign="top">
                                    <span style="line-height:1px;">&nbsp;</span>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER -->
    
    
    
    
    
    
    
                        <!-- BEGIN HEADER LOGO // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                    <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                    <tr>
                                                        <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">
    
    
    
                                                            <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">
    
    
    
    
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER LOGO -->
    
    
    
    
    
    
                        <!-- BEGIN BODY // -->
                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding: 7px 7px;">
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                    <tr>
    
    
    
    
                                                        <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                        <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                            <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->
    
    
    
    
    
                                                            <!-- IMAGEN SUPERIOR EN BODY // -->
                                                            <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                            <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;"
                                                                            class="mcnImage">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
    
                                                            <!-- FIN IMAGEN SUPERIOR EN BODY // -->
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">
    
    
                                                                            <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->
    
    
    
    
                                                                            <!-- TITLE HEADER BODY // -->
    
                                                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                                <tr>
                                                                                    <td class="fallback-text" align="center">
                                                                                        <h2 style="
      font-size: 40px !important;
      line-height: 51px !important;
      font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
      color: #001E30 !important;
      font-weight: 800 !important; 
      text-align: center !important;
      max-width: 480px !important;
      letter-spacing: 0px !important;"> Notificación TENGO!: ${e}<span style="color:#00a6f5">.</span>
                                                                                        </h2>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- FIN TITLE HEADER BODY // -->
    
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">
    
    
    
    
                                                                            <!-- BEGIN CONTENT // -->
    
                                                                            <p style="
    font-size: 18px !important;
    line-height: 30px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    text-align: center !important;
    font-weight: 400;
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;
    max-width: 480px;
    margin: auto;">
    
    
                                                                                ${t}
    
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
                                                                                </table>
                                                                                <!--FIN UN ESPACIO-->
    
    
    
                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
    font-size: 1em !important;
    line-height: 30px !important;
    font-family: 'CircularStd', 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 400; 
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;">
    
    
    
    
    
    
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
    
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!--TEXTO DESTACADO-->
    
                                                                                    <h5 style="font-size: 27px !important;
    line-height: 33px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 800 !important;
    text-transform: none !important;
    margin: 3px auto 10px;
    max-width: 420px !important;
    letter-spacing: 0px !important;
    text-align:center !important;">
                                                                                    Ingresa a la plataforma ahora.</h5>
    
                                                                                    <!--FIN TEXTO DESTACADO-->
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!-- TABLA BOTON-->
                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">
    
    
    
                                                                                                    <!--BOTON-->
                                                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                        <tbody class="mcnButtonBlockOuter">
                                                                                                            <tr>
                                                                                                                <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                    <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                    <a href=${r} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                    <!--BOTON-->
    
    
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <!-- FIN TABLA BOTON-->
    
    
    
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
    
                                                                                    <!-- END CONTENT // -->
    
                                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
    
                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">
    
    
    
                                                                                <!-- END CONTENIDO EN BODY // -->
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
    
    
                                                                </td>
                                                    </tr>
                                                    </table>
    
    
                                                    </td>
                                        </tr>
                                        </table>
                                        </td>
                            </tr>
                            </table>
                            <!-- // END BODY -->
    
    
    
    
    
    
                            <!-- BEGIN FOOTER // -->
                            <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
    
                                <!-- FOOTER -->
                                <tr>
                                    <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">
    
    
                                        <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                            <tbody>
    
    
                                                <tr>
                                                    <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">
    
    
                                                        <p style="
                            font-size: 13px!important;
                            line-height: 21px!important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400; margin-top: 7px!important;
                            text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                            letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                            <b>¿Necesitas ayuda?</b><br>
                                                            Llámanos desde México o Estados Unidos al
                                                            <a href="tel: 5593700536"
                                                                style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                            Este correo es automatizado, favor&nbsp;de&nbsp;no responder
    
    
    
    
    
    
    
                                                            <br>&nbsp;<br>&nbsp;
                                                            <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important;">Aviso de Privacidad</a>
    
                                                    </p>
                                                </td>
    
                                            </tr>
    
                                            <tr>
                                                <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">
    
    
                                                    <!-- CONTENIDO PARRAFO LEGALES
    
                            <p style="font-size: 10px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            line-height: 19px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            This is an automated email.
                        </span>
                                                        </p>
    
    
                                                        <p style="font-size: 10px !important;
                            line-height: 19px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>
    
                            The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>
    
                            Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                            </span></p>
    
    
                                                        <p style="font-size: 13px!important;
                            line-height: 21px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400;
                            text-align: center !important;
                            letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                            <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                            Unsubscribe from these emails.
                            </a> CONTENIDO PARRAFO LEGALES-->
    
    
    
    
    
                                                            <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">
    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
    
                                    </td>
                                </tr>
                                <!-- FIN FOOTER -->
    
                            </table>
                            <!-- // END FOOTER -->
    
    
    
    
    
    
    
                            <!-- // END TEMPLATE -->
                            </td>
                </tr>
                </table>
        </center>
    </body>
    
    </html>
    `}const yy=(e,t,r)=>q$e(e,t,r),V$e=({name:e,numAprobados:t,numRechazados:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Hola <b>${e}</b>,<br><br>
    
    Te informamos que hay una <b>actualización</b> en la revisión de los documentos de tu solicitud <b>TENGO!</b>.<br><br>
    
    <b>Resumen de la revisión</b>:<br>
    - <b>Documentos aprobados</b>: ${t}<br>
    - <b>Documentos rechazados</b>: ${r}<br><br>
    
    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
    `;return yy(a,i,n)},H$e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    Hola <b>${e}</b>,<br><br>
    
    Nos complace informarte que el equipo de <b>TENGO!</b> ha completado la revisión y validación de los documentos para tu solicitud.<br><br>
    
    En breve recibirás instrucciones detalladas sobre los siguientes pasos y el resultado de tu solicitud. Te recomendamos estar atento a tu correo electrónico y a las notificaciones en nuestra plataforma.<br><br>
    
    Atentamente,<br>
    <b>El equipo de TENGO!</b>
`;return yy(r,n,t)},W$e=({name:e,numAprobados:t,numRechazados:r,numPendientes:n,url:a})=>{const i="Actualización en tu trámite",s=`
    Hola <b>${e}</b>,<br><br>

    Te informamos que hay una actualización en la revisión de los documentos de tu solicitud de crédito con <b>TENGO!</b>.<br><br>

    <b>Resumen de la revisión:</b><br><br>

    - Documentos recibidos correctamente y enviados a mesa de control: ${t}<br>
    - Documentos rechazados: ${r}<br>
    - Documentos pendientes de envío: ${n}<br><br>

    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
`;return yy(i,s,a)},G$e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    <b>${e}</b> Nos complace informarte que la recepción de documentos se completo con éxito,  comenzaremos la revisión y nos pondremos en contacto contigo en las próximas horas.

    `;return yy(r,n,t)},X$e=({onSelectDocument:e,isSectionComplete:t,setIsSectionComplete:r})=>{const[n,a]=_.useState({requiredDocuments:[]}),[i,s]=_.useState(null),[o,c]=_.useState(!1),[u,d]=_.useState(null),{selectedClient:f}=It(),[p,m]=_.useState(!1),[h,g]=_.useState(!1),[x,v]=_.useState(!1),{user:b}=Nt(),y=_.useRef(null);_.useEffect(()=>{const C=A=>{y.current&&!y.current.contains(A.target)&&s(null)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const k=async()=>{const C=f==null?void 0:f.name,I=`https://documentaihostingpage-269526555085.us-central1.run.app/${(await A2((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??"")).token}`,M=H$e({name:C??"",url:I});await ax((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",M)?ce.success("Sección completa, Cliente notificado"):ce.error("Ocurrió un error al enviar el correo")},E=async()=>{const C=f==null?void 0:f.name,I=`https://documentaihostingpage-269526555085.us-central1.run.app/${(await A2((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??"")).token}`,M=n.requiredDocuments.filter(V=>V.isApproved).length,F=n.requiredDocuments.filter(V=>V.isRejected).length,q=V$e({name:C??"",numAprobados:M,numRechazados:F,url:I});await ax((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",q)?ce.success("Cliente notificado"):ce.error("Ocurrió un error")};_.useEffect(()=>{(async()=>{if(!f){ce.error("No hay una empresa seleccionada.");return}try{const A=await Bi({productRequestId:f.id});A&&a(A)}catch(A){ce.error("Ocurrió un error al obtener los documentos."),console.error("Error fetching documents:",A)}})()},[f]);const S=async C=>{if(m(!0),C.id)try{if((await Yr({id:C.id,isApproved:!0,isRejected:!1,rejectReason:""})).success){const N=[...n.requiredDocuments],I=N.findIndex(M=>M.id===C.id);I!==-1&&(N[I]={...N[I],isApproved:!0,isRejected:!1,rejectReason:""},a({requiredDocuments:N}),ce.success("Documento aprobado con éxito."))}else ce.error("Error al aprobar el documento.")}catch(A){console.error("Error al aprobar el documento:",A),ce.error("Ocurrió un error.")}},w=async C=>{if(m(!0),u)try{if((await Yr({id:u.id,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:C})).success){const N=[...n.requiredDocuments],I=N.findIndex(M=>M.id===u.id);I!==-1&&(N[I]={...N[I],isRejected:!0,rejectReason:C,isApproved:!1},a({requiredDocuments:N}),ce.success("Documento rechazado con éxito."))}else ce.error("Error al rechazar el documento.")}catch(A){console.error("Error al rechazar el documento:",A),ce.error("Ocurrió un error.")}finally{c(!1),d(null),s(null)}},j=C=>{d(C),c(!0)},T=async C=>{n.requiredDocuments.length>0&&n.requiredDocuments.every(A=>A.isApproved)?r(!0):C&&(await j2(3,(f==null?void 0:f.id)??""),r(!1))};return _.useEffect(()=>{T(t)},[n]),l.jsxs("div",{children:[l.jsx("div",{className:"text-center mb-8 mt-8",children:l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Documentos"})}),p&&l.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}),l.jsxs("div",{className:"grid gap-4 mt-4 max-h-[400px] overflow-y-auto pb-24",children:[n.requiredDocuments.map(C=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg relative ${C.isRejected?"bg-red-100":C.isApproved?"bg-green-100":C.isUploaded?"bg-blue-100":"bg-white"}`,children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:C.documentTemplate.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("div",{title:C.isUploaded?"Documento subido":"Esperando subida",children:C.isUploaded?l.jsx(mM,{className:"text-green-500 w-5 h-5"}):l.jsx(ma,{className:"text-yellow-500 w-5 h-5"})}),l.jsx("div",{title:C.isPreApproved?"Pre-aprobado":"Pendiente de pre-aprobación",children:C.isPreApproved?l.jsx(xp,{className:"text-blue-500 w-5 h-5"}):l.jsx(ma,{className:"text-yellow-500 w-5 h-5"})}),l.jsx("div",{title:C.isApproved?"Aprobado":"Pendiente de aprobación",children:C.isApproved?l.jsx(mr,{className:"text-green-500 w-5 h-5"}):l.jsx(ma,{className:"text-yellow-500 w-5 h-5"})})]}),C.isRejected&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Motivo de rechazo: ",C.rejectReason]})]}),l.jsx("div",{className:"flex gap-2 items-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>s(A=>A===C.id?null:C.id),children:"Opciones"}),i===C.id&&l.jsx("div",{ref:y,className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-lg w-48 z-10",children:l.jsx("ul",{children:C.isUploaded?l.jsxs(l.Fragment,{children:[l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>e(C),children:"Ver Documento"})}),l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>{S(C),s(null)},children:"Aprobar"})}),l.jsx("li",{className:"border-t border-gray-200",children:l.jsx("button",{className:"w-full px-4 py-2 text-left text-red-500 hover:bg-gray-100",onClick:()=>j(C),children:"Rechazar"})})]}):l.jsx("li",{children:l.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"Documento no disponible"})})})})]})})]},C.id)),l.jsx(U$e,{isOpen:o,onClose:()=>c(!1),onConfirm:w}),l.jsx(qr,{})]}),l.jsxs("div",{className:"flex gap-2 relative mt-4",children:[l.jsxs("button",{onClick:async()=>{g(!0),await k(),g(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[h?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(rJ,{className:"w-5 h-5"}),"Aprobar la recepción documental",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Establece esta sección como completa y notifica al cliente por correo que sus documentos fueron aprobados"})]}),l.jsxs("button",{onClick:async()=>{v(!0),await E(),v(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[x?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(pd,{className:"w-5 h-5"}),"Notificar al usuario de un cambio",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Envía una notificación al usuario sobre actualizaciones en su solicitud"})]})]})]})},K$e=({fileUrl:e,fileType:t})=>{const r=()=>{const n=t==null?void 0:t.toLowerCase();return n==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):n==="xlsx"||n==="xls"?l.jsx(Y$e,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center overflow-hidden",children:r()})},Y$e=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%] w-full",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})},XO=1,J$e=({selectedDocument:e})=>{var M,F;const[t,r]=_.useState(null),[n,a]=_.useState(null),[i,s]=_.useState(!1),[o,c]=_.useState(!1),[,u]=_.useState(!1),[d,f]=_.useState({}),[p,m]=_.useState({}),[h,g]=_.useState(null),[x,v]=_.useState(null),[b,y]=_.useState(!1),[k,E]=_.useState(!1),S=[{label:"Validar firma individual",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas con facultad de firma individual. Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombre completo y cargo (si aplica) de quienes pueden firmar sin otra persona. Si no hay firmantes individuales, indica claramente la ausencia o si la firma es exclusivamente mancomunada."},{label:"Validar firma mancomunada",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas que deben firmar en conjunto (régimen mancomunado). Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombres completos y cargos (si aplica) de quienes deben firmar en conjunto. Si no hay régimen mancomunado, indícalo explícitamente."},{label:"Validar si una persona puede firmar",value:"Analiza el Acta Constitutiva en PDF para verificar si [Nombre de la persona] tiene facultad de firma para obligar a la sociedad. Busca su nombre en las secciones relevantes y determina si puede firmar, si lo hace individualmente o junto con otros. Si no tiene facultad o no aparece, indícalo explícitamente."}];_.useEffect(()=>{e&&j(e.id,e.isUploaded??!1,e.fileName??"")},[e]);const w=q=>{const W=String(q);navigator.clipboard.writeText(W).then(()=>{g(W),setTimeout(()=>g(null),1500)})},j=async(q,W,V)=>{var R;const B=((R=V.split(".").pop())==null?void 0:R.toLowerCase())??"";if(s(W),W){const z=await gi("view","documentos",q,"token",B);z.data?(r(z.data),a(B)):ce.error("Error al visualizar el documento.")}},T=async()=>{c(!0);try{if(e!=null&&e.id){const W=await N$(e.id,"documentos","");W&&W.extracted?(m(W.extracted),u(!0)):(m({"Análisis de entidades":[{name:"Datos no encontrados",value:0}]}),ce.error("Error al extraer datos, reintente."),u(!1))}ce.success("Extracción completada.")}catch(q){console.log(q)}finally{c(!1)}},C=async()=>{c(!0);try{if(e!=null&&e.id){const W=await C$(e.id,"documentos","");W&&typeof W.extracted=="object"&&Object.keys(W.extracted).length>0?(f(W.extracted),ce.success("Extracción completada."),u(!0)):(f({"Análisis de entidades":{tableTitle:"Análisis de entidades",columns:["Nombre","Valor"],rows:[["Datos no encontrados","0"]]}}),u(!1),ce.warning("No se encontraron datos válidos para extraer."))}}catch(q){console.log(q),ce.error("Error al extraer datos")}finally{c(!1)}},A=()=>{if(Object.keys(p).length===0){ce.error("No hay entidades para exportar.");return}const q=pn.book_new();Object.entries(p).forEach(([W,V])=>{const B=[["Nombre","Valor"],...V.map(ne=>[ne.name,ne.value])],R=pn.aoa_to_sheet(B);pn.book_append_sheet(q,R,W.substring(0,31))}),x2(q,"entidades_extraidas.xlsx")},N=()=>{if(Object.keys(d).length===0){ce.error("No hay tablas para exportar.");return}const q=pn.book_new();Object.keys(d).forEach(W=>{const V=d[W];if(V.rows.length===0)return;const B=V.tableTitle.substring(0,31),R=pn.aoa_to_sheet([V.columns,...V.rows]);pn.book_append_sheet(q,R,B)}),x2(q,"tablas_extraidas.xlsx")},I=async q=>{y(!0);try{if(e!=null&&e.id){const V=await k$(e.id,"documentos","",q);v(V||"❌ Vaya, algo no salió bien")}}catch(W){console.log(W)}finally{y(!1)}};return l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("div",{className:"col-span-2 bg-gray-100 rounded-lg shadow-md",children:l.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center",children:i?t?l.jsx(K$e,{fileUrl:t,fileType:n??"pdf"}):l.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[l.jsx($t,{className:"animate-spin h-5 w-5"}),l.jsx("span",{children:"Cargando vista previa..."})]}):l.jsx("span",{className:"text-red-500",children:"El usuario no ha subido este documento."})})}),l.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-center",children:"Entidades Extraídas"}),l.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[l.jsx("button",{onClick:T,disabled:o,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:o?"Extrayendo...":"Extraer Todo"}),l.jsx("button",{onClick:C,disabled:o,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:o?"Extrayendo...":"Extraer Tablas"})]}),l.jsxs("div",{className:"space-y-4",children:[!b&&l.jsxs("div",{className:"bg-white rounded-full px-4 py-2 shadow flex items-center gap-2 border border-gray-300",children:[l.jsx("input",{type:"text",placeholder:"Pregunta lo que quieras...",className:"flex-1 outline-none bg-transparent text-sm",onKeyDown:q=>{q.key==="Enter"&&q.currentTarget.value.trim()!==""&&(I(q.currentTarget.value.trim()),q.currentTarget.value="")}}),l.jsx("button",{onClick:q=>{var V;const W=(V=q.currentTarget.parentElement)==null?void 0:V.querySelector("input");W!=null&&W.value.trim()&&(I(W.value.trim()),W.value="")},className:"text-gray-600 hover:text-blue-600",children:l.jsx(eJ,{className:"w-5 h-5"})})]}),!b&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:((F=(M=e==null?void 0:e.documentTemplate)==null?void 0:M.name)==null?void 0:F.toLowerCase().includes("constitutiva"))&&l.jsxs(l.Fragment,{children:[(k?S:S.slice(0,XO)).map((q,W)=>l.jsx("button",{onClick:()=>I(q.value),className:"text-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-full transition whitespace-nowrap",children:q.label},W)),S.length>XO&&l.jsxs("button",{onClick:()=>E(!k),className:"text-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-full transition flex items-center gap-1",children:[l.jsx(Qx,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:k?"Ocultar":"Más"})]})]})}),x&&l.jsx("div",{className:"bg-white p-4 rounded border border-gray-200 relative",children:l.jsx(vy,{children:x})})]}),b&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[l.jsx($t,{className:"animate-spin h-5 w-5"}),l.jsx("span",{children:"Analizando..."})]})]}),l.jsxs("div",{className:"max-h-[65vh] min-h-96 overflow-y-auto grid grid-cols-1 gap-6",children:[Object.keys(d).length>0&&l.jsx("button",{onClick:()=>N(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center justify-center",title:"Exportar Tablas",children:l.jsx(gp,{className:"w-5 h-5"})}),Object.keys(d).map((q,W)=>{const V=d[q];return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-bold mb-3",children:V.tableTitle}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[l.jsx("thead",{className:"bg-gray-200",children:l.jsx("tr",{children:V.columns.map((B,R)=>l.jsx("th",{className:"border border-gray-300 p-2 text-left",children:B},R))})}),l.jsx("tbody",{children:V.rows.map((B,R)=>l.jsx("tr",{className:"hover:bg-gray-100",children:B.map((ne,z)=>l.jsx("td",{className:"border border-gray-300 p-2",children:ne},z))},R))})]})})]},W)}),Object.keys(p).length>0&&l.jsx("button",{onClick:()=>A(),className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center justify-center",title:"Exportar Entidades",children:l.jsx(gp,{className:"w-5 h-5"})}),Object.entries(p).map(([q,W])=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-2",children:[l.jsx("h3",{className:"text-md font-bold mb-2",children:q}),l.jsx("ul",{children:W.map((V,B)=>l.jsxs("li",{className:"border-b py-1 flex justify-between items-center",children:[l.jsx("span",{children:V.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:V.value}),l.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>w(V.value),children:h===V.value?l.jsx(Ro,{className:"w-4 h-4 text-green-500"}):l.jsx(pM,{className:"w-4 h-4"})})]})]},B))})]},q))]})]})]})},o7=({goToBackStep:e,goToNextStep:t,currentStep:r,totalSteps:n})=>l.jsxs("div",{className:"flex items-center justify-between pt-4",children:[l.jsx("button",{onClick:e,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r>2?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r<3,children:"Volver"}),l.jsx("button",{onClick:t,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r<n?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r>=n,children:r<n?"Siguiente":"Finalizado"})]}),l7=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a})=>e?l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),l.jsx("p",{className:"mb-4",children:a}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:t,children:"Cancelar"}),l.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:r,children:"Confirmar"})]})]})}):null,Q$e=async e=>{if(!e){console.error("No se proporcionó un ID válido.");return}try{const t=await Bi({productRequestId:e});if(!t||!t.requiredDocuments){console.warn("No se encontraron documentos requeridos.");return}return t.requiredDocuments.map((r,n)=>{var a;return[`Documento #${n+1}`,`Nombre de plantilla: ${((a=r.documentTemplate)==null?void 0:a.name)??"Sin nombre"}`,`Estado: ${r.status??"Sin estado"}`,`Obligatorio: ${r.isRequired?"Sí":"No"}`,`Subido: ${r.isUploaded?"Sí":"No"}`,`Aprobado: ${r.isApproved?"Sí":"No"}`,`Pre-Aprobado: ${r.isPreApproved?"Sí":"No"}`,`Rechazado: ${r.isRejected?"Sí":"No"}`,`Rechazado por IA: ${r.isRejectedByAI?"Sí":"No"}`,`Motivo de Rechazo: ${r.rejectReason??""}`,`Motivo de Rechazo IA: ${r.IaRejectedReason??""}`].filter(Boolean).join(" , ")}).join(" | ")}catch(t){console.error("Error al obtener los documentos:",t)}},Z$e=`
Analiza la lista de documentos proporcionada y genera un reporte estructurado estrictamente en el siguiente formato utilizando Markdown. Cumple todas las instrucciones exactamente como se indican:

---

# 📄 Análisis de Documentos

## 1. Conteo de documentos por estado

Genera una tabla en Markdown con las siguientes columnas:
- **Estado**: Muestra los estados "✅ Aprobados", "🟡 Preaprobados", "❌ Rechazados" y "⏳ Pendientes", en ese orden exacto.
- **Cantidad**: Indica el número de documentos correspondientes a cada estado. Si no hay documentos en algún estado, muestra "0".

---

## 2. Resumen general

Incluye:
- **Total de documentos analizados**: número total de documentos procesados.
- **Estado general del proceso**: conclusión breve basada en el análisis global (por ejemplo: "Todos los documentos están pendientes", "La mayoría de los documentos fueron aprobados", etc.).

---

## Reglas estrictas:

- **Formato obligatorio**: Mantén exactamente el mismo orden de secciones, encabezados, y estilo de Markdown.
- **Datos faltantes**: Si no hay datos para una sección, indícalo usando "0" o "Ninguno", según corresponda.
- **Redacción**: Utiliza frases claras, neutrales y concisas.
- **Consistencia**: No inventes datos, no omitas secciones, no alteres el diseño.
- **Contenido**: No muestres nombres de variables, estructuras internas o referencias de programación en el reporte.
- **Presentación**: Entrega el resultado en un formato limpio, bien alineado y completamente legible.

---
`;function eBe(){const[e,t]=_.useState(""),[r,n]=_.useState(!1),[a,i]=_.useState(!1),{selectedClient:s}=It();_.useEffect(()=>{(async()=>{if(s!=null&&s.id){n(!0),t("");try{const u=await Q$e(s.id),d=JSON.stringify({documents:u}),f=await E$(Z$e,d);t(f.summary||"No se pudo generar el resumen.")}catch(u){console.error("Error al obtener el resumen:",u),t("Ocurrió un error al generar el resumen. Intenta nuevamente.")}finally{n(!1)}}})()},[s==null?void 0:s.id]);const o=()=>{navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)};return l.jsxs("div",{className:"rounded-md",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Análisis inteligente"})}),l.jsx("div",{className:"",children:l.jsx("div",{className:"",children:r?l.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[l.jsx($t,{className:"w-6 h-6 animate-spin mb-2"}),l.jsx("p",{children:"Cargando..."})]}):e?l.jsxs("div",{className:"bg-white p-4 rounded-md  relative",children:[l.jsx(vy,{remarkPlugins:[a7],children:e}),l.jsx("button",{onClick:o,className:"absolute top-2 right-2 p-2 bg-gray-200 rounded-full hover:bg-gray-300","aria-label":"Copiar al portapapeles",children:a?l.jsx(mr,{size:15,className:"text-green-500"}):l.jsx(HE,{size:15,className:"text-gray-600"})})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No se encontró información para mostrar."})})})]})}function tBe(){const[t,r]=_.useState(null),{selectedClient:n,selectClient:a}=It(),[i,s]=_.useState(!1),[o,c]=_.useState(!1),u=()=>{i?n&&console.log("goToNextStep ejecutado: flowStatus actualizado a 4"):f()},d=()=>{n&&(a({flowStatus:2}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},f=()=>{c(!0)},p=()=>{c(!1)},m=()=>{console.log("Confirmación aceptada"),n&&console.log("handleConfirm ejecutado: flowStatus actualizado a 4"),c(!1)},h=async()=>{const g=await Bi({productRequestId:(n==null?void 0:n.id)??""});g&&(g.requiredDocuments.length>0&&g.requiredDocuments.every(x=>x.isApproved)?s(!0):s(!1))};return _.useEffect(()=>{h()},[]),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[l.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[l.jsx(eBe,{}),l.jsx("div",{className:"mt-4 mb-4",children:t!==null?l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"flex justify-start mb-4",children:l.jsx("div",{className:"flex justify-start mb-4",children:l.jsx("button",{onClick:()=>r(null),className:"flex items-center justify-center bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:l.jsx(ud,{size:20})})})}),l.jsx(J$e,{selectedDocument:t})]}):l.jsx(X$e,{onSelectDocument:r,isSectionComplete:i,setIsSectionComplete:s})})]}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(o7,{goToBackStep:d,goToNextStep:u,currentStep:3,totalSteps:7})}),l.jsx(l7,{isOpen:o,onClose:p,onConfirm:m,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const rBe=({isOpen:e,onClose:t,rejectReason:r})=>e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4 text-red-600",children:"Razón del Rechazo"}),l.jsx("p",{className:"text-sm text-gray-700 mb-4",children:r||"No se ha proporcionado una razón para el rechazo."}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Cerrar"})})]})}):null,nBe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",aBe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",iBe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",sBe=(e,t)=>{const r={rechazado:`border-red-500 ${iBe}`,requerido:`border-blue-500 ${aBe}`,opcional:`border-blue-300 ${nBe}`};return e?r.rechazado:t?r.requerido:r.opcional},oBe=(e,t,r,n)=>e?l.jsx(Ro,{className:"w-6 h-6 text-green-600"}):t?l.jsx(dd,{className:"w-6 h-6 text-red-600"}):r?l.jsx(l.Fragment,{children:l.jsx("div",{className:"",children:l.jsx("div",{title:"Análisis:"+n,children:l.jsx(Do,{className:"w-6 h-6 text-red-500","aria-label":"Advertencia"})})})}):l.jsx(ma,{className:"w-6 h-6 text-yellow-500"}),lBe=(e,t)=>e?"Aprobado":t?"Rechazado":"Revisar",cBe=(e,t)=>l.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded w-full mb-2 text-center",children:[l.jsx("p",{className:"truncate",children:e}),l.jsx("p",{children:t})]}),uBe=e=>l.jsxs(l.Fragment,{children:[l.jsx(Fo,{className:"w-10 h-10 text-gray-400 mb-2"}),l.jsxs("label",{className:"w-full bg-gray-100 text-gray-600 text-xs text-center border rounded py-1 cursor-pointer hover:bg-gray-200",children:["Cargar archivo",l.jsx("input",{type:"file",className:"hidden",disabled:!1,onChange:e})]})]}),dBe=e=>l.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),l.jsx("span",{className:"text-blue-700 font-medium",children:"Cargando..."})]}),typeof e=="number"&&l.jsxs("div",{className:"w-full mt-1",children:[l.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e}%`}})}),l.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[e.toFixed(0),"%"]})]})]}),fBe=(e,t,r,n,a,i,s,o,c)=>l.jsxs("div",{className:"absolute top-10 right-4 w-32 bg-white border border-gray-200 rounded shadow-lg z-10",children:[e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),a&&a()},children:[l.jsx(gp,{className:"w-4 h-4 mr-2"}),"Descargar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),i&&i()},children:[l.jsx(fd,{className:"w-4 h-4 mr-2"}),"Ver"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),s&&s()},children:[l.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),o&&o()},children:[l.jsx(dd,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),t&&l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),n(!0)},children:[l.jsx(hM,{className:"w-4 h-4 mr-2"}),"Detalles"]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),c&&c()},children:[l.jsx(rg,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),l.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>r(!1),children:[l.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]});function pBe({title:e,isUploaded:t,isLoading:r,isApproved:n,isRejected:a,rejectReason:i,fileName:s,fileSize:o,isRequired:c,isRejectedByAI:u,IaRejectedReason:d,onUpload:f,uploadProgress:p,isBusy:m,onDownload:h,onDelete:g,onView:x,onApprove:v,onReject:b}){const[y,k]=_.useState(!1),[E,S]=_.useState(!1),w=_.useRef(null);_.useEffect(()=>{const T=C=>{w.current&&!w.current.contains(C.target)&&k(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const j=T=>{var A;const C=(A=T.target.files)==null?void 0:A[0];C&&f&&f(C)};return l.jsxs("div",{ref:w,className:`w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg p-4 flex flex-col shadow-sm relative border-2 ${sBe(a,c)}`,title:e,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("h3",{className:"text-sm font-medium text-gray-800 max-w-full break-words whitespace-normal",title:e,children:e})}),l.jsx("button",{className:"py-1 px-2 bg-gray-50 text-gray-600 rounded-full text-xs font-medium hover:bg-gray-100 transition-colors",onClick:()=>k(!y),"aria-label":"Opciones",children:l.jsx(Qx,{size:20})})]}),y&&fBe(t,a,k,S,h,x,v,b,g),l.jsx("h3",{className:`${c?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:c?"Requerido":"Opcional"}),l.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:r?l.jsx(l.Fragment,{children:dBe(p)}):l.jsx(l.Fragment,{children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${n?"bg-green-100 border border-green-300":a?"bg-red-100 border border-red-300":"bg-yellow-100 border border-yellow-300"}`,children:oBe(n,a,u,d)}),l.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-green-600":a?"text-red-600":"text-yellow-500"}`,children:lBe(n,a)}),cBe(s,o)]}):m?l.jsx("p",{className:"text-blue-500 text-xs",children:"ocupado..."}):uBe(j)})}),l.jsx(rBe,{isOpen:E,onClose:()=>S(!1),rejectReason:i||"No se especificó una razón para el rechazo."})]})}const mBe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=_.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),l.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},hBe=({isOpen:e,onCancel:t,onConfirm:r})=>{const[n,a]=_.useState(!1);if(!e)return null;const i=async()=>{a(!0);try{await r()}finally{a(!1)}};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"¿Estás seguro?"}),l.jsx("p",{className:"mb-4",children:"Esta acción eliminará el archivo permanentemente."}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:t,disabled:n,children:"Cancelar"}),l.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center justify-center",onClick:i,disabled:n,children:n?l.jsx($t,{className:"animate-spin h-5 w-5 mr-2"}):"Eliminar"})]})]})})},gBe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=_.useState(!1),i=()=>{a(!n)},s=()=>{const o=t==null?void 0:t.toLowerCase();return o==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):o==="xlsx"||o==="xls"?l.jsx(xBe,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[l.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?l.jsx(Pm,{className:"w-5 h-5"}):l.jsx(Im,{className:"w-5 h-5"})}),s()]})})},xBe=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})};function vBe({onPlaceholderClick:e}){return l.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:l.jsx(Jn,{className:"w-6 h-6 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Solicitar otro documento"})]})}const yBe=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await Bi({productRequestId:e});return!t||!t.requiredDocuments?(console.warn("No se encontraron documentos requeridos"),[]):t.requiredDocuments.map(n=>({documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??"",category:""}))}catch(t){return console.error("Error al obtener los documentos:",t),[]}},bBe=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,o){return o.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>Yx(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},c7=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=_.useState(!0),[i,s]=_.useState(""),o=f=>{t(p=>p.some(h=>h.id===f)?p.filter(h=>h.id!==f):[...p,{id:f,isRequired:!1}])},c=f=>{t(p=>p.map(m=>m.id===f?{...m,isRequired:!m.isRequired}:m))},u=()=>{a(f=>!f)};_.useEffect(()=>{t(f=>{const p=r.filter(m=>m.isRequired===!0).filter(m=>!f.some(h=>h.id===m.id)).map(m=>({id:m.id,isRequired:!0}));return p.length===0?f:[...f,...p]})},[r,t]);const d=[...r].sort((f,p)=>{const m=f.position??Number.MAX_SAFE_INTEGER,h=p.position??Number.MAX_SAFE_INTEGER;return m-h});return l.jsxs("div",{className:"mb-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),l.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:l.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(p=>p.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const p=e.find(h=>h.id===f.id),m=(p==null?void 0:p.isRequired)??!1;return l.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${m?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",checked:!!p,onChange:()=>o(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("div",{children:l.jsx("span",{className:`font-medium ${m?"text-green-800":"text-gray-800"}`,children:f.name})})]}),p&&l.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${m?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:m?"Hacer opcional":"Hacer obligatorio",children:m?"Obligatorio":"Opcional"})]},f.id)})})}),l.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function wBe({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,c]=_.useState("processing"),[u,d]=_.useState({title:"",message:"",details:void 0}),[f,p]=_.useState(!1);_.useEffect(()=>{e&&m()},[e]);const m=async()=>{const x=await Zx();s(x)},h=async()=>{c("processing");const v=await bBe({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),p(!0)},g=x=>{x.preventDefault(),h()};return e?l.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[l.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Solicitar otro documento"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Selecciona el documento adicional a solicitar."}),l.jsx("div",{className:" mb-4",children:l.jsx(c7,{documents:n,setDocuments:a,docTemplates:i})}),l.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[l.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Solicitar documento adicional"}),l.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&l.jsx(Ea,{onClose:t,status:o,messages:u})]}):null}function SBe(){const{selectedClient:e}=It(),[t,r]=_.useState([]),[n,a]=_.useState(!1),[i,s]=_.useState(null),[o,c]=_.useState(null),[u,d]=_.useState(null),[f,p]=_.useState(!1),[m,h]=_.useState(null),[g,x]=_.useState(null),[v,b]=_.useState(null),[y,k]=_.useState(!1),[E,S]=_.useState(!1),[w,j]=_.useState(!1),[T,C]=_.useState(!1),[A,N]=_.useState(!1),[I,M]=_.useState(null),[F,q]=_.useState(!1),{user:W}=Nt(),V=()=>t.length>0&&t.every(K=>K.isPreApproved),B=async K=>{t.length>0&&t.every(O=>O.isPreApproved)?S(!0):K&&(await j2(3,(e==null?void 0:e.id)??""),S(!1))},R=async()=>{let K="";const O=V(),pe=e==null?void 0:e.name,ie=await A2((e==null?void 0:e.email)??"",(W==null?void 0:W.idToken)??""),ye="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+ie.token;if(O===!1){const Le=t.filter(zt=>zt.isPreApproved).length,ct=t.filter(zt=>zt.isRejected).length,Kt=t.filter(zt=>zt.isUploaded===!1).length;K=W$e({name:pe??"",numAprobados:Le,numRechazados:ct,numPendientes:Kt,url:ye})}else K=G$e({name:pe??"",url:ye}),await j2(3,(e==null?void 0:e.id)??"");await ax((e==null?void 0:e.email)??"",e==null?void 0:e.ccemail,"Actualización en tu trámite",K)?O===!1?ce.success("cliente notificado"):ce.success("Seccion completa, cliente notificado"):ce.error("Ocurrió un error, intente de nuevo mas tarde")},ne=async(K,O)=>{if(j(!0),O)if((await Yr({id:O,isPreApproved:!0,isRejected:!1,rejectReason:""})).success){const ie=[...t];ie[K]={...ie[K],isPreApproved:!0,isRejected:!1,rejectReason:""},r(ie),console.log("Documento aprobado")}else ce.error("Error al aprobar el documento. Inténtalo de nuevo.")},z=(K,O)=>{a(!0),s(K),b(O)},P=async K=>{if(j(!0),v)if((await Yr({id:v,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:K})).success){if(i!==null){const pe=[...t];pe[i]={...pe[i],isRejected:!0,isPreApproved:!1,rejectReason:K},r(pe),console.log(`Documento rechazado: ${pe[i].documentTemplate.name}, Razón: ${K}`)}}else ce.error("Error al rechazar el documento. Inténtalo de nuevo.");a(!1),s(null)},G=(K,O,pe)=>{p(!0),h(K),x(O),k(pe)},J=async()=>{var K,O;if(j(!0),m!==null)if(g&&y){const ie=((O=(K=t[m].fileName)==null?void 0:K.split(".").pop())==null?void 0:O.toLowerCase())??"",de=`${g}.${ie}`,ye=await Yv(de,"documentos");if(console.log(ye?"Archivo eliminado en bucket":"Error al eliminar archivo en bucket"),(await Yr({id:g,isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:"",fileSize:"",isRejectedByAI:!1,IaRejectedReason:""})).success){const Le=[...t];Le[m]={...Le[m],isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:void 0,fileSize:void 0,fileUrl:void 0,isRejectedByAI:!1,IaRejectedReason:void 0},r(Le),console.log("Archivo eliminado en índice")}else ce.error("Error al eliminar el documento. Inténtalo de nuevo.")}else g&&((await Kx({requiredDocument:g})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),r(ie=>ie.filter(de=>de.id!==g)),ce.success("Documento requerido eliminado")):ce.error("Error al eliminar el documento. Inténtalo de nuevo."));p(!1),x(null),h(null)},te=async(K,O)=>{var pe;if(r(ie=>ie.map(de=>de.id===K?{...de,isLoading:!0}:de)),K){const ie=((pe=O.split(".").pop())==null?void 0:pe.toLowerCase())??"",me=await gi("view","documentos",K,"token",ie);me.data?(c(me.data),d(ie)):ce.error("Error al visualizar el documento. Inténtalo de nuevo.")}r(ie=>ie.map(de=>de.id===K?{...de,isLoading:!1}:de))},re=()=>c(null);_.useEffect(()=>{const K=async()=>{if(!(e!=null&&e.id)){ce.error("No hay una empresa seleccionada.");return}const O=await yBe(e.id),pe=O.length>0&&O.every(ie=>ie.isPreApproved);S(pe),r(O),console.log("Documentos actualizados:",O)};I===null&&K(),I===!0&&A===!1&&K(),M(A)},[A]),_.useEffect(()=>{B(E)},[t]);const D=async(K,O)=>{var pe;r(ie=>ie.map(de=>de.id===K?{...de,isLoading:!0}:de));try{const ie=((pe=O.split(".").pop())==null?void 0:pe.toLowerCase())??"";(await gi("download","documentos",K,"token",ie,O)).success?ce.success("Archivo descargado"):ce.error("Error al descargar el documento. Inténtalo de nuevo.")}catch(ie){console.log(ie),ce.error("Error al descargar el documento. Inténtalo de nuevo.")}r(ie=>ie.map(de=>de.id===K?{...de,isLoading:!1}:de))},H=(K,O)=>{r(pe=>pe.map(ie=>ie.id===K?{...ie,...O}:ie))},L=async(K,O)=>{var ye;if(!O)return;let pe="";const ie=["pdf","xls","xlsx"],de=(ye=O.name.split(".").pop())==null?void 0:ye.toLowerCase();if(!de||!ie.includes(de)){H(K,{isRejectedByAI:!0,isLoading:!1,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}H(K,{isLoading:!0,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,uploadProgress:0});try{if(q(!0),!await vc(K,O,"documentos",Le=>{H(K,{uploadProgress:Le})}))throw pe="Error al subir el archivo.",new Error("Error al subir el archivo.");await Yr({id:K,isUploaded:!0,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""}),H(K,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100}),q(!1)}catch(me){console.error("Error al manejar el documento:",me),H(K,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:pe,isLoading:!1,uploadProgress:0})}finally{q(!1)}};return l.jsxs("div",{children:[l.jsxs("div",{className:"",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center w-full",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Documentos subidos: ",t.filter(K=>K.isUploaded).length,"/",t.length]}),F?"Subiendo documentos, espere un momento...":null,E?l.jsxs("div",{className:"relative flex items-center gap-1 text-green-600 group",children:[l.jsx(mr,{size:20}),l.jsx("span",{children:"Completado"}),l.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"Esta sección ha sido completada."})]}):l.jsxs("div",{className:"relative flex items-center gap-1 text-orange-600 group",children:[l.jsx(ma,{size:20}),l.jsx("span",{children:"En proceso"}),l.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"En proceso de recepción documental, el estado cambia cuando validas todos los documentos."})]})]}),w?l.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,l.jsxs("div",{className:"max-h-[600px] overflow-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 mt-4",children:[t.map((K,O)=>l.jsx(pBe,{title:K.documentTemplate.name,isUploaded:K.isUploaded,isApproved:K.isPreApproved,isRejected:K.isRejected,rejectReason:K.rejectReason,fileName:K.fileName,fileSize:K.fileSize,isLoading:K.isLoading,isRequired:K.isRequired,onApprove:()=>ne(O,K.id),onReject:()=>z(O,K.id),onDelete:()=>G(O,K.id,K.isUploaded),onDownload:()=>D(K.id,K.fileName??""),onUpload:pe=>L(K.id,pe),uploadProgress:K.uploadProgress,onView:()=>te(K.id,K.fileName??""),isRejectedByAI:K.isRejectedByAI??!1,IaRejectedReason:K.IaRejectedReason??"",isBusy:!1},K.id)),l.jsx(vBe,{onPlaceholderClick:()=>N(!0)})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:async()=>{C(!0),await R(),C(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[T?l.jsx($t,{className:"w-5 h-5 animate-spin"}):l.jsx(mr,{className:"w-5 h-5"}),E?"Informar sección completa":"Informar cambio en Recepción",l.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:E?"Informa al cliente por correo que sus documentos han sido recibidos, activa la siguiente sección":"Informa al cliente por correo que el estado de sus documentos ha cambiado"})]})}),l.jsx(mBe,{isOpen:n,onClose:()=>a(!1),onConfirm:P}),l.jsx(hBe,{isOpen:f,onCancel:()=>p(!1),onConfirm:J}),o&&l.jsx(gBe,{fileUrl:o,onClose:re,fileType:u??"pdf"})]}),l.jsx(qr,{})]}),l.jsx("div",{children:A&&l.jsx(wBe,{isOpen:A,onClose:()=>N(!1),selectedProductId:(e==null?void 0:e.id)??""})})]})}function EBe(){const[e,t]=_.useState(1),{selectedClient:r,selectClient:n}=It(),[a,i]=_.useState(!1),s=2,o=()=>{r&&n({flowStatus:s+1})},c=()=>{r&&n({flowStatus:s-1})},u=()=>{i(!1)},d=()=>{r&&n({flowStatus:s+1}),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[l.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[l.jsx("header",{className:"flex items-center justify-between py-4",children:l.jsx("h1",{className:"text-xl font-semibold",children:"Detalles de solicitud"})}),l.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Documentos Requeridos"].map((f,p)=>l.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===p+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>t(p+1),children:f},p))}),l.jsx("div",{className:"mt-4 mb-4",children:e===1&&l.jsx(SBe,{})})]}),l.jsx(qr,{})]}),l.jsx("div",{children:l.jsx(o7,{goToBackStep:c,goToNextStep:o,currentStep:s,totalSteps:7})}),l.jsx(l7,{isOpen:a,onClose:u,onConfirm:d,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const _Be=()=>{const[e,t]=_.useState(2),[r,n]=_.useState(!1),a=3,{selectedClient:i}=It(),s=Qt(),[o,c]=_.useState([]),[u,d]=_.useState([]),[f,p]=_.useState(!1),[m,h]=_.useState(!1),[g,x]=_.useState(!1),v=_.useRef(null),b=async()=>{},y=()=>{s(-1)};_.useEffect(()=>{console.log("actualización recibida en onboarding"),t(w=>{const j=(i==null?void 0:i.flowStatus)??0;return w!==j?j:w})},[i]),_.useEffect(()=>{async function w(){if(i!=null&&i.chatId)try{const j=await Jv({chatId:(i==null?void 0:i.chatId)??""});if(j){const T=j.messages.filter(C=>!C.isRead&&!C.isSenderAdmin);if(T.length>0){const C={id:i.id,content:`Tienes ${T.length} nuevos mensajes sin leer.`,type:"info",read:!1,createdAt:new Date};d([C]),console.log("se llamo a toast"),h(!0)}c(j.messages)}}catch(j){console.log("error",j)}}w()},[]);const k=async()=>{if(i!=null&&i.chatId)try{if(o&&o.filter(j=>!j.isRead&&!j.isSenderAdmin).length>0){const j=o.map(T=>!T.isRead&&!T.isSenderAdmin?(console.log("marcando como leído",T),Qv({messageId:T.id,isRead:!0}),{...T,isRead:!0}):T);d([]),c(j)}}catch(w){console.log("Error al marcar mensajes como leídos:",w)}},E=()=>{n(!0),k(),console.log("El chat con el admin se abrió.")};_.useEffect(()=>{function w(j){v.current&&!v.current.contains(j.target)&&n(!1)}return r&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[r]);function S(){x(!g),Z0.removeAll(),eg.removeAll(),Pf.removeAll(),window.location.reload()}return l.jsxs("div",{className:"flex flex-col",children:[i&&l.jsxs("div",{className:"flex w-full items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:y,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:l.jsx(ud,{size:24})}),l.jsxs("div",{className:"flex items-center space-x-3 bg-white p-3 rounded-lg ",children:[l.jsx("span",{className:"text-gray-800 font-semibold",children:i.company}),l.jsx("span",{className:"text-gray-600",children:i.email})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex justify-center flex-1",children:l.jsxs("button",{className:"relative w-auto bg-gradient-to-r from-green-400 to-green-500 text-white py-2 px-5 rounded-full flex items-center gap-2 transition-transform transform hover:scale-105",onClick:()=>E(),children:[l.jsx(zi,{size:22}),"Chat con usuario",u.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.length})]})}),l.jsxs("div",{className:"relative group",children:[l.jsx("button",{onClick:S,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:l.jsx(gM,{size:24,className:`transition-transform duration-500 transform ${g?"rotate-180":""}`})}),l.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-2 py-1 text-xs text-white bg-blue-500 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:"Forzar actualización de datos"})]})]})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:l.jsx(L$e,{currentStep:e,totalSteps:a})}),l.jsxs("main",{className:"max-w-7xl flex-grow container mx-auto ",children:[e===2&&l.jsx(EBe,{}),e===3&&l.jsx(tBe,{})]}),f&&l.jsx(B$e,{notifications:u,onClose:()=>p(!1)}),m&&l.jsx(z$e,{content:"Tienes nuevos mensajes",duration:5e3,onClose:()=>h(!1)}),r&&l.jsx("div",{ref:v,children:l.jsx($$e,{onClose:()=>n(!1),onNewMessage:b,setMessages:c,messages:o})})]})};function NBe(){return l.jsx(Qn,{children:l.jsx(_Be,{})})}const kBe=({handleSubmit:e})=>l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-bold text-white bg-blue-500 rounded",onClick:e,children:"Registrar cliente y documentos"})});function CBe({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return l.jsxs("div",{className:"w-full mx-auto p-4",children:[l.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>l.jsxs("div",{className:"flex items-center w-full",children:[l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),l.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?l.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):l.jsx("span",{className:"font-bold",children:n})}),a<t&&l.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),l.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>l.jsx("div",{className:"flex flex-col text-center w-full",children:l.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:Ex.getText(n)})},n))})]})}const TBe=({razonSocial:e,setRazonSocial:t,userName:r,setUserName:n,userEmail:a,setUserEmail:i,rfc:s,setRfc:o,setFilledStatus:c})=>{const[u,d]=_.useState({}),[f,p]=_.useState({}),m=b=>/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(b.trim()),h=b=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b),g=()=>{const b={};e.trim()||(b.razonSocial="La razón social de la empresa es obligatoria."),s.trim()?m(s)||(b.rfc="El RFC no es válido."):b.rfc="El RFC es obligatorio.",a.trim()?h(a)||(b.userEmail="El correo electrónico no es válido."):b.userEmail="El correo electrónico es obligatorio.",d(b),c(Object.keys(b).length===0)};_.useEffect(()=>{g()},[e,s,r,a]);const x=b=>{p(y=>({...y,[b]:!0}))},v="w-full p-2 text-sm bg-gray-100 rounded border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400";return l.jsxs("div",{children:[l.jsxs("div",{className:"relative group mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información de la empresa"}),l.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Ingresa los datos básicos de tu empresa como el nombre."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Razón Social ",l.jsx("span",{className:"text-red-500",children:"*"}),f.razonSocial&&u.razonSocial&&l.jsx("span",{className:"text-red-500 text-xs",children:u.razonSocial})]}),l.jsx("input",{type:"text",value:e,onChange:b=>t(b.target.value),onBlur:()=>x("razonSocial"),className:v})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["RFC ",l.jsx("span",{className:"text-red-500",children:"*"}),f.rfc&&u.rfc&&l.jsx("span",{className:"text-red-500 text-xs",children:u.rfc})]}),l.jsx("input",{type:"text",value:s,onChange:b=>o(b.target.value),onBlur:()=>x("rfc"),className:v})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"flex items-center text-sm mb-1 gap-2",children:"Clave de cliente"}),l.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onBlur:()=>x("userName"),className:v})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Correo Electrónico ",l.jsx("span",{className:"text-red-500",children:"*"}),f.userEmail&&u.userEmail&&l.jsx("span",{className:"text-red-500 text-xs",children:u.userEmail})]}),l.jsx("input",{type:"email",value:a,onChange:b=>i(b.target.value),onBlur:()=>x("userEmail"),className:v})]})]})};async function jBe(e,t,r=12){const a=`${e.split("@")[0]}:${t}`,s=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(o));return btoa(String.fromCharCode(...c)).replace(/[^a-zA-Z0-9]/g,"").slice(0,r)}function ABe(e,t,r,n){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
                        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

                            <title>Broxel</title>

                            <meta name="color-scheme" content="light dark">
                                <style type="text/css">
                                    @media (prefers-color-scheme: dark) {
            .darkmode {background - color: #1e1e1e !important; }
                                    .darkmode p {color: #777777 !important; }
}

                                </style>



                                <style type="text/css">
                                    body,#bodyTable,#bodyCell{
                                        height:100%;
                                    margin:0;
                                    padding:0;
                                    width:100%;
    }

                                    #templateBody{
                                        /*background-color:  #f1f3f5 !important;*/
                                        background - color:  #f1f3f5 !important;
                                    border-top:0;
                                    border-bottom:0;
    }


                                    #bodyBackground{
                                        border - collapse:separate !important;
                                    background-color:#FFFFFF !important;
                                    border:1px solid #eeeeee !important;
                                    border-radius:12px;
    }
                                    #templateHeader{
        /*@editable*/background - color: #f1f3f5 !important;
        /*@editable*/padding-top:10px;
        /*@editable*/padding-bottom:10px;
    }


}   @media only screen and (max-width: 580px){
                                        body{
                                        width:100% !important;
                                    min-width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .templateContainer{
                                        max - width:580px !important;
                                    width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .mcnImage{
                                        height:auto !important;
                                    width:100% !important;
    }

}




                                    /*CircularStdBlack*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 800;
                                    font-style: normal;
}

                                    /*CircularStdBold*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 600;
                                    font-style: normal;
}

                                    /*CircularStdMedium*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 500;
                                    font-style: normal;
}

                                    /*CircularStdBook*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 400;
                                    font-style: normal;
}


                                    h1 {
                                        font - size: 58px !important;
                                    line-height: 64px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h2 {
                                        font - size: 46px !important;
                                    line-height: 55px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h3 {
                                        font - size: 40px !important;
                                    line-height: 49px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h4 {
                                        font - size: 32px !important;
                                    line-height: 40px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h5 {
                                        font - size: 27px !important;
                                    line-height: 33px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    letter-spacing: 0px !important;
}

                                    h6 {
                                        font - size: 21px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    color: #001E30 !important;
                                    letter-spacing: 0px !important;
                                    margin-bottom:-11px;
}

                                    p {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400 !important;
                                    letter-spacing: 0px !important;
}


                                    li {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    ol {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    a{
                                        color:#0075ff !important;
                                    font-weight:700 !important;
                                    text-decoration:none !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
}
                                    span.linkfooter{
                                        font - family:'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-size:12px;
                                    font-weight:300;
                                    color:#0075ff;
}

                                    b{
                                        font - weight:800 !important;
}

                                    ul{
                                        margin - left:-11px;
                                    margin-top:30px !important;
}

                                    @media only screen and (max-width: 480px){
.contenedor{
                                        background - color:#ffffff !important;
                                    width:96% !important;
                                    max-width:580px !important;
                                    overflow:hidden !important;
                                    border-radius:3px!important;
                                    padding:40px 0px!important;
                                    margin-top:40px!important;
}}








                                </style>




                            </head>



                            <body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
                                <style type="text/css">body, table, td, h1, h2, h3, h4, h5, ol, ul, p {font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; }</style>


                                <!-- PREHEADER AQUÍ-->
                                <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
                                <!-- PREHEADER AQUÍ-->

                                <center>
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                                        <tr>
                                            <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                                                <!-- BEGIN TEMPLATE // -->




                                                <!-- BEGIN HEADER // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader"><tr><td align="center" valign="top">
                                                    <span style="line-height:1px;">&nbsp;</span>
                                                </td></tr></table>
                                                <!-- // END HEADER -->







                                                <!-- BEGIN HEADER LOGO // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                                        <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                                    <tr><td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                                    </td></tr></table>
                                                            </td></tr></table>
                                                    </td></tr></table>
                                                <!-- // END HEADER LOGO -->






                                                <!-- BEGIN BODY // -->
                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding: 7px 7px;">
                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%"><tr>




                                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                            <tbody><tr><td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                                <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                                <!-- TITLE HEADER BODY // -->

                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;"><tr><td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> ¡Nos complace darte la bienvenida a Clientes TENGO! by Broxel!<span style="color:#00a6f5">.</span></h2></td></tr></table>
                                                                            </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TITLE HEADER BODY // -->




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                                <!-- BEGIN CONTENT // -->

                                                                                <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                    <b>${e}</b> te damos la bienvenida a la plataforma <b>TENGO.</b> A continuación te compartimos tus credenciales de acceso para completar los detalles de tu&nbsp;solicitud:




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->



                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                                Usuario:

                                                                                        </td>
                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                            <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                        </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>





                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                        </td>



                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->

                                                                                    <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                        En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu solicitud de manera rápida y sencilla.


                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!--TEXTO DESTACADO-->

                                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                                            Ingresa a la plataforma ahora.</h5>

                                                                                        <!--FIN TEXTO DESTACADO-->




                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!-- TABLA BOTON-->
                                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                                <!--BOTON-->
                                                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                    <tbody class="mcnButtonBlockOuter">
                                                                                                        <tr>
                                                                                                            <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                    <tbody>
                                                                                                                        <tr>
                                                                                                                            <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <!--BOTON-->


                                                                                            </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!-- FIN TABLA BOTON-->







                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->





                                                                                        <!-- END CONTENT // -->

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                            </table>

                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                    <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                                    </td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>


                                                                            </td>
                                                                        </tr>
                                                                    </table>


                                                                </td>
                                                                </tr>
                                                            </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                        <!-- // END BODY -->






                                                        <!-- BEGIN FOOTER // -->
                                                        <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                                                            <!-- FOOTER -->
                                                            <tr>
                                                                <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                                                    <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                                                        <tbody>


                                                                            <tr>
                                                                                <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                                                    <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                                                            <b>¿Necesitas ayuda?</b><br>
                                                                                                Llámanos desde México o Estados Unidos al
                                                                                                <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                                                                    Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                                                                    <br>&nbsp;<br>&nbsp;
                                                                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                                                                    </p>
                                                                                                    </td>

                                                                                                </tr>

                                                                                                <tr>
                                                                                                    <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                                                                        <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                                                                                    <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>

                                                                                                    </td>
                                                                                                </tr>
                                                                                                <!-- FIN FOOTER -->

                                                                                            </table>
                                                                                            <!-- // END FOOTER -->







                                                                                            <!-- // END TEMPLATE -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </center>
                                                                        </body>
                                                                    </html>

    `}const IBe=async(e,t,r,n,a,i,s=!1)=>{if(s)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const o=await aM(r.email);let c;r.password=await jBe(r.email,n.adminTeamId,12);let u=!1;if(o.exist&&o.uid)console.log("Usuario ya existe, no se registra en Firebase."),c=o.uid;else{console.log("Usuario no existe, se procede a registrarlo.");const b=await oN(r,n.id);if(!b.success)return{success:!1,message:"Falló el registro del usuario",details:b.message};if(c=b.uid||"",!(await QF({name:r.displayName,email:r.email,userAuthId:c})).success)return{success:!1,message:"Falló el registro de credenciales del usuario"};u=!0}const d=r.email,f="Bienvenido",p=ABe(t.businessName,r.email,r.password||"(Acceso ya habilitado)","https://documentaihostingpage-269526555085.us-central1.run.app");await ax(d,void 0,f,p);const m=await YF(e);if(!m.success)return{success:!1,message:"Falló el registro del representante legal"};t.representativeId=m.representativeId,t.userUid=c;const h=await HF(t);if(!h.success)return{success:!1,message:"Falló el registro de la empresa"};a.businessEntityId=h.id,a.userAuthId=c;const g=await eM(a);if(!g.success)return{success:!1,message:"Falló el registro de la solicitud de crédito"};const x=i.map(b=>({productRequestId:g.Id,documentTemplateId:b.id,isRequired:b.isRequired}));return await Promise.all(x.map(b=>Yx(b)))?(await tM({productRequestId:g.Id}),await R$({productRequestId:g.Id}),{success:!0,message:"El registro se realizó correctamente",details:u?"Usuario creado nuevo":"Usuario ya existente"}):{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(o){return console.error("Error en submitClientAndDocuments:",o),{success:!1,message:"Ha ocurrido un error inesperado"}}},PBe=({verticals:e,selected:t,setSelected:r})=>l.jsxs("div",{className:"my-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Vertical"}),l.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{const a=e.find(i=>i.id===n.target.value)||null;r({vertical:a,product:null})},children:[l.jsx("option",{value:"",children:"Seleccione una vertical"}),e.map(n=>l.jsx("option",{value:n.id,disabled:!n.isSelectable,children:n.name},n.id))]}),t.vertical&&l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Producto"}),l.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{var i;const a=((i=t.vertical)==null?void 0:i.products.find(s=>s.id===n.target.value))||null;r(s=>({...s,product:a}))},children:[l.jsx("option",{value:"",children:"Seleccione un producto"}),t.vertical.products.map(n=>l.jsx("option",{value:n.id,children:n.name},n.id))]})]})]}),OBe=()=>{const{user:e}=Nt(),t=Qt(),[r,n]=_.useState({vertical:null,product:null}),[a,i]=_.useState(1),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[p,m]=_.useState(""),[h,g]=_.useState(""),[x,v]=_.useState(!1),[b,y]=_.useState([]),[k,E]=_.useState([]),[S,w]=_.useState("processing"),[j,T]=_.useState({title:"",message:"",details:void 0}),[C,A]=_.useState(!1),N=async()=>{var V;const W=await AY({productName:((V=r.vertical)==null?void 0:V.name)??""});E(W)};_.useEffect(()=>{N()},[r.product]);const I=async W=>{var te,re,D,H;W.preventDefault(),A(!0),w("processing");const V={name:p,email:h},B={flowStatus:2,productName:((te=r.product)==null?void 0:te.name)??"",verticalName:((re=r.vertical)==null?void 0:re.name)??"",businessEntityId:"",userAuthId:""},R={address:void 0,businessName:d,economicSector:void 0,employeeCount:void 0,incorporationDate:void 0,name:d,phone:void 0,rfc:c,yearsActive:void 0,representativeId:"",userUid:"",iconUrl:void 0,adminTeamId:((D=e==null?void 0:e.adminTeam)==null?void 0:D.id)??"",ownerAdminUid:(e==null?void 0:e.uid)??""},ne=()=>{const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let K="";for(let O=0;O<8;O++)K+=L.charAt(Math.floor(Math.random()*L.length));return K},z={displayName:p!=null&&p.trim()?p:ne(),email:h,password:""},P={id:(e==null?void 0:e.idToken)||"",adminTeamId:((H=e==null?void 0:e.adminTeam)==null?void 0:H.id)||"",userAdminId:(e==null?void 0:e.uid)||""},G=(L,K)=>{T({title:L,message:K}),w("error")};if(!x)return G("Datos incompletos","Rellena todos los datos solicitados.");const J=await IBe(V,R,z,P,B,b,!1);console.log(b),J.success?(T({title:"Solicitud completada",message:"Has registrado correctamente un producto."}),w("success")):(T({title:"Error",message:J.message,details:J.details}),w("error"))},M=()=>{t(-1)},F=()=>{A(!1),S!="error"&&t(-1)};return l.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center ",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 w-[950px]",children:l.jsx(CBe,{totalSteps:3})}),l.jsx("div",{className:"w-[950px] bg-white rounded-lg shadow-md p-6 font-sans",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-medium mb-4",children:"Solicitud de Producto Tengo!"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"button",className:"border border-red-500 text-red-500 bg-transparent px-4 py-2 rounded shadow hover:bg-red-500 hover:text-white transition-colors duration-300",onClick:M,children:"Cancelar registro"}),!1]})]}),l.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Crear prospecto"].map((W,V)=>l.jsx("button",{className:`tab px-4 py-2 font-semibold ${a===V+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>i(V+1),children:W},V))}),l.jsx("div",{className:"mt-4",children:l.jsx("form",{onSubmit:I,children:a===1&&l.jsxs(l.Fragment,{children:[l.jsx(TBe,{companyName:s,setCompanyName:o,razonSocial:d,setRazonSocial:f,userName:p,setUserName:m,userEmail:h,setUserEmail:g,filledStatus:x,setFilledStatus:v,rfc:c,setRfc:u}),l.jsx(PBe,{verticals:I$,selected:r,setSelected:n}),l.jsxs("div",{className:"relative group mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-2",children:"Seleccionar documentos"}),l.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Selecciona los documentos que deseas solicitar"})]}),l.jsx("div",{className:"",children:l.jsx(c7,{documents:b,setDocuments:y,docTemplates:k})}),l.jsx(kBe,{handleSubmit:I})]})})})]})}),C&&l.jsx(Ea,{onClose:F,status:S,messages:j})]})};function RBe(){return l.jsx(Qn,{children:l.jsx(OBe,{})})}const DBe=({isUploaded:e,isLoading:t,isRejectedByAI:r,isRejected:n,processMessage:a,isPreApproved:i,isApproved:s,uploadProgress:o})=>t?l.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),l.jsx("span",{className:"text-blue-700 font-medium",children:a||"Subiendo archivo..."})]}),typeof o=="number"&&l.jsxs("div",{className:"w-full mt-1",children:[l.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o}%`}})}),l.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[o.toFixed(0),"%"]})]})]}):r&&!e?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Do,{className:"w-6 h-6 text-yellow-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Error"})]}):n?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"w-6 h-6 text-red-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-red-500",children:"Rechazado"})]}):s?l.jsxs("div",{className:"flex items-center",children:[l.jsx(xp,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Aprobado"})]}):i?l.jsxs("div",{className:"flex items-center",children:[l.jsx(xp,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Preaprobado"})]}):e&&r?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):e?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):l.jsx(Fo,{className:"w-6 h-6 text-blue-500"}),KO=({onClick:e})=>l.jsxs("button",{onClick:e,className:"bg-blue-50 text-blue-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-100 w-full flex items-center justify-center",children:[l.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Cargar archivos"]}),FBe=({onClick:e=()=>{}})=>l.jsxs("button",{onClick:e,className:"bg-blue-50 text-yellow-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-100 w-full flex items-center justify-center",children:[l.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Cargar de todas formas"]}),MBe=({fileName:e,fileSize:t,onRemove:r})=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"truncate max-w-[80%]",children:[l.jsx("p",{className:"text-xs text-gray-600",children:e}),l.jsx("p",{className:"text-xs text-gray-400",children:t})]}),l.jsx("button",{onClick:r,"aria-label":"Eliminar archivo",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1",children:l.jsx(Dt,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),LBe=({title:e,isUploaded:t,isLoading:r,isRejectedByAI:n,fileName:a,fileSize:i,IaRejectedReason:s,processMessage:o,onFileChange:c,onForceUpload:u,onRemove:d,onRemoveCard:f,description:p,isRejected:m,rejectedReason:h,isPreApproved:g,isApproved:x,isRequired:v,isBusy:b,id:y,isAddedByUser:k,uploadProgress:E})=>{const[S,w]=_.useState(null),[j,T]=_.useState(!1),C=B=>{var ne;const R=((ne=B.target.files)==null?void 0:ne[0])||null;w(R),c==null||c(R)},A=()=>{w(null),d==null||d()},N=B=>{var ne;B.preventDefault(),T(!1);const R=(ne=B.dataTransfer.files)==null?void 0:ne[0];R&&(w(R),c==null||c(R))},I="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",M="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",F="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,255,0,0.5),0px_3px_6px_-2px_rgba(0,255,0,0.5)] transition-shadow duration-200",q="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",W="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,165,0,0.5),0px_3px_6px_-2px_rgba(255,165,0,0.5)] transition-shadow duration-200",V=(B,R,ne,z,P)=>{const G={rechazado:`border-red-500 ${q}`,error:`border-orange-500 ${W}`,requerido:`border-blue-500 ${M}`,opcional:`border-blue-300 ${I}`,preAprobado:`border-green-500 ${F}`};return P?G.preAprobado:B?G.rechazado:!z&&R?G.error:z&&R||ne?G.requerido:G.opcional};return l.jsxs("div",{className:`relative border-2 ${V(m,n,v,t,g)} 
                rounded-lg overflow-hidden w-full max-w-[250px] min-h-[300px] flex flex-col 
                ${j?"border-dashed border-blue-400 bg-blue-50":""}`,title:p,onDragOver:B=>{B.preventDefault(),T(!0)},onDragLeave:B=>{B.preventDefault(),T(!1)},onDrop:N,children:[j&&l.jsx("div",{className:"absolute inset-0 bg-blue-100/80 backdrop-blur-sm flex items-center justify-center z-20 rounded-lg",children:l.jsxs("div",{className:"text-blue-600 text-sm font-semibold flex items-center gap-2",children:[l.jsx(Lo,{className:"w-5 h-5"}),"Suelta aquí para cargar el archivo"]})}),l.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[!t&&k&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:f,className:"p-1 bg-gray-300 text-white rounded-full hover:bg-red-700 transition","aria-label":"Eliminar tarjeta",children:l.jsx(Dt,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx(DBe,{isUploaded:t,isLoading:r,isRejectedByAI:n,processMessage:o,isRejected:m,isPreApproved:g,isApproved:x,uploadProgress:E}),l.jsx("h3",{className:"text-sm font-medium mt-2 text-center",children:e}),l.jsx("h3",{className:`${v?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:v?"Requerido":"Opcional"})]}),!r&&!t&&n&&!b&&l.jsx(FBe,{onClick:u}),!r&&!t&&!n&&!b&&l.jsx(KO,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}}),m&&h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-1 text-red-500",children:l.jsx("p",{className:"text-sm",children:h})}),l.jsx(KO,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}})]}),t&&n&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{title:"Análisis: "+s,children:l.jsx(Do,{className:"w-6 h-6 text-yellow-500"})}),l.jsx("p",{className:"text-sm text-yellow-500",children:"Este archivo podría contener errores"})]}),l.jsx("input",{id:`fileInput-${y}`,type:"file",onChange:C,className:"hidden","aria-label":`Cargar ${e}`})]}),(S||a)&&!m&&l.jsx("div",{className:"border-t border-blue-200 p-4",children:l.jsx(MBe,{fileName:S?S.name:a||"",fileSize:S?`${(S.size/1024/1024).toFixed(1)} MB`:i||"",onRemove:A})}),s&&!t&&l.jsx("div",{className:"border-t border-blue-200 p-4",children:l.jsx("p",{className:"text-yellow-500 text-xs",children:s})})]})};function $Be({onPlaceholderClick:e}){return l.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:l.jsx(Jn,{className:"w-6 h-6 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Agregar otro documento"})]})}const u7=_.createContext(void 0),Xo=()=>{const e=_.useContext(u7);if(!e)throw new Error("usePageStatus debe usarse dentro de un PageStatusProvider");return e},gk=async(e,t,r)=>t<e?((await gJ({productRequestId:r,userFlowStatus:e})).success?console.log("flujo actualizado"):console.log("error al acualizar el flujo"),!0):(console.log("el flujo ya esta actualizado"),!1),YO={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function JO(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function QO(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function BBe(e){const t=e.toLowerCase();return t.includes("solicitud de financiamiento")?"Solicitud de Financiamiento":t.includes("estados financieros auditados")?"Estados Financieros Auditados":t.includes("estados financieros internos")||t.includes("estado financiero")?"Estados Financieros Internos":t.includes("presentación corporativa")?"Presentación corporativa":t.includes("flujos indicativos")||t.includes("proyecciones")?"Proyecciones / Flujos indicativos":t.includes("buró de crédito")?"Buró de crédito":"Información adicional"}async function zBe(e){const t=await bM({productRequestId:e});return t!=null&&t.requiredDocuments?t.requiredDocuments.map(r=>{const n=BBe(r.documentTemplate.name);return{id:r.id,title:r.documentTemplate.name,description:r.documentTemplate.description,isUploaded:r.isUploaded??!1,isRequired:r.isRequired??!1,fileName:r.fileName??"",fileSize:r.fileSize??"",isRejected:r.isRejected??!1,rejectReason:r.rejectReason??"",isPreApproved:r.isPreApproved??!1,isApproved:r.isApproved??!1,isRejectedByAI:r.isRejectedByAI??!1,IaRejectedReason:r.IaRejectedReason??"",isAddedByUser:r.isAddedByUser??!1,category:n}}).sort((r,n)=>{const a=(YO[r.category]??99)-(YO[n.category]??99);return a!==0?a:r.category==="Estados Financieros Auditados"&&n.category==="Estados Financieros Auditados"?JO(r.title)-JO(n.title):r.category==="Estados Financieros Internos"&&n.category==="Estados Financieros Internos"?QO(r.title)-QO(n.title):0}):(console.warn("No se encontraron documentos requeridos."),[])}const UBe=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,o){return o.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>EM(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},qBe=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=_.useState(!0),[i,s]=_.useState(""),o=f=>{t(p=>p.some(h=>h.id===f)?p.filter(h=>h.id!==f):[...p,{id:f,isRequired:!0}])},c=f=>{t(p=>p.map(m=>m.id===f?{...m,isRequired:!m.isRequired}:m))},u=()=>{a(f=>!f)},d=[...r].sort((f,p)=>{const m=f.position??Number.MAX_SAFE_INTEGER,h=p.position??Number.MAX_SAFE_INTEGER;return m-h});return l.jsxs("div",{className:"mb-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),l.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:l.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(p=>p.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const p=e.find(h=>h.id===f.id),m=(p==null?void 0:p.isRequired)??!1;return l.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${m?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",checked:!!p,onChange:()=>o(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("div",{children:l.jsx("span",{className:`font-medium ${m?"text-green-800":"text-gray-800"}`,children:f.name})})]}),p&&l.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${m?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:m?"Hacer opcional":"Hacer obligatorio",children:m?"Obligatorio":"Opcional"})]},f.id)})})}),l.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function VBe({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,c]=_.useState("processing"),[u,d]=_.useState({title:"",message:"",details:void 0}),[f,p]=_.useState(!1);_.useEffect(()=>{e&&m()},[e]);const m=async()=>{const x=await Zx();s(x)},h=async()=>{c("processing");const v=await UBe({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),p(!0)},g=x=>{x.preventDefault(),h()};return e?l.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[l.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Agregar otro documento"}),l.jsx("p",{className:"text-m text-gray-600 mt-2 italic mb-4",children:'¿No sabes cuál elegir? Busca "información adicional".'}),l.jsx("div",{className:" mb-4",children:l.jsx(qBe,{documents:n,setDocuments:a,docTemplates:i})}),l.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[l.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Agregar"}),l.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&l.jsx(Ea,{onClose:t,status:o,messages:u})]}):null}const HBe=async({id:e,file:t,folder:r,docTitle:n,docDescription:a="",onProgress:i})=>{var s,o;try{const c=((s=t.name.split(".").pop())==null?void 0:s.toLowerCase())||"",u=`${e}.${c}`;if(!await vc(e,t,r,i))return{success:!1,error:"Error al subir el documento."};const p=(o=(await Qe.get(`${Yu.base}/generate-download-url`,{params:{file_name:u,folder:r},headers:{Authorization:`Bearer ${Yu.token}`}})).data)==null?void 0:o.downloadUrl;if(!p)return{success:!1,error:"No se pudo obtener la URL de descarga."};const m=await Jz(`${n} ${a}`,p);return!m||typeof m.esDocumentoValido!="boolean"?{success:!1,error:"No se pudo analizar el documento."}:{success:!0,result:m}}catch(c){return console.error("Error en analyzeUploadedDocument:",c),{success:!1,error:"Error inesperado"}}},WBe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(0),[s,o]=_.useState(0),[c,u]=_.useState(!1),[d,f]=_.useState(""),[p,m]=_.useState(null),{selectedProduct:h}=Sa(),{updateFormStatus:g,getStatusById:x}=Xo(),[v,b]=_.useState(!1),y=(N,I)=>{t(M=>M.map(F=>F.id===N?{...F,...I}:F))};async function k(N){await Yr({id:N,isUploaded:!0,fileName:p==null?void 0:p.name,fileSize:p?`${(p.size/1024/1024).toFixed(1)} MB`:void 0,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!0,IaRejectedReason:d,UserJustify:""}),y(N,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}const E=async(N,I,M,F)=>{var re,D;if(!I)return;let q=M,W="",V=!0,B;const R=H=>H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/gi,"").trim(),ne=R(F),P=["informacion adicional","info adicional","documento adicional","adicional","anexo adicional","inf adicional","adicionales"].some(H=>ne.includes(R(H)));let G="";P&&(q=!0,G="Documento adicional no fue analizado por IA.");const J=["pdf","xls","xlsx"],te=(re=I.name.split(".").pop())==null?void 0:re.toLowerCase();if(!te||!J.includes(te)){y(N,{isRejectedByAI:!0,isLoading:!1,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}y(N,{isLoading:!0,processMessage:"Procesando archivo",fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,...G&&{isRejectedByAI:!0,IaRejectedReason:G},uploadProgress:0}),u(!0);try{if(q){if(!await vc(N,I,"documentos",L=>{y(N,{uploadProgress:L})}))throw m(I),f("Error al subir el archivo."),W="Error al subir el archivo.",new Error("Error al subir el archivo.")}else{const H=e.find(ie=>ie.id===N),L=(H==null?void 0:H.description)??"",{success:K,result:O,error:pe}=await HBe({id:N,file:I,folder:"documentos",docTitle:F,docDescription:L,onProgress:ie=>{y(N,{uploadProgress:ie})}});if(!K||!O)throw m(I),f(pe??"Error desconocido"),W=pe??"Error desconocido",new Error(pe);if(V=O.esDocumentoValido,B=V?void 0:`Tu documento no es válido. Razón: ${((D=O.documentoDetectado)==null?void 0:D.split("False. ")[1])||O.documentoDetectado}`,!q&&te==="pdf"&&(y(N,{isRejectedByAI:!V,isLoading:!1,IaRejectedReason:B,uploadProgress:V?0:void 0}),!V)){f(B??""),m(I);return}}await Yr({id:N,isUploaded:!0,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:q||!V,IaRejectedReason:G||B,UserJustify:""}),y(N,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}catch(H){console.error("Error al manejar el documento:",H),y(N,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:W,isLoading:!1,uploadProgress:0})}finally{u(!1)}},S=async N=>{const I=e.find(M=>M.id===N);if(I)if(I.fileName){y(N,{isLoading:!0,processMessage:"Eliminando archivo"});const M=I.fileName.substring(I.fileName.lastIndexOf("."))||"",F=`${N}${M}`;if(!await Yv(F,"documentos")){ce.error("Error al eliminar el archivo del servidor"),y(N,{isLoading:!1});return}await Yr({id:N,isUploaded:!1,fileName:"",fileSize:"",fileFolder:"",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""})&&y(N,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isLoading:!1,processMessage:"",isUploaded:!1,isPreApproved:!1,isApproved:!1,isRejected:!1})}else y(N,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isUploaded:!1})},w=async N=>{if(!window.confirm("¿Estás seguro de que deseas eliminar este archivo?"))return;y(N,{isLoading:!0,processMessage:"Eliminando archivo"}),(await Kx({requiredDocument:N})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),t(F=>F.filter(q=>q.id!==N))):console.log("Error al eliminar el archivo")},j=async()=>{try{n(!0);const N=await zBe((h==null?void 0:h.id)??"");t(N);const M=N.filter(F=>F.isUploaded).length/N.length*100;console.log("progress",M),M===100?(g("uploadDocuments","isCompleted"),gk(3,2,(h==null?void 0:h.id)??"")):g("uploadDocuments","inProgress")}catch(N){console.error("Error al cargar los documentos:",N)}n(!1)},T=async()=>{console.log("solicitar revision"),h!=null&&h.chatId&&await dc({chatId:h.chatId,content:"Sección de carga de documentos finalizada por el usuario (Este es un mensaje automatizado)",isAdmin:!1})&&ce.success("Solicitud de revision enviada")};_.useEffect(()=>{j()},[v]),_.useEffect(()=>{const N=A(e);i(N);const I=C(e);o(I),N===100?g("uploadDocuments","isCompleted"):g("uploadDocuments","inProgress")},[e]);const C=N=>N.filter(M=>M.isUploaded).length,A=N=>N.filter(F=>F.isUploaded).length/N.length*100;return l.jsxs(l.Fragment,{children:[r?l.jsx(Om,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:l.jsxs("span",{children:[s," / ",e.length]})}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Sube o arrastra los siguientes documentos en PDF."}),c&&l.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"Subiendo archivos"}),l.jsxs("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-items-center mb-8",children:[e.map(N=>l.jsx(LBe,{id:N.id,title:N.title,isRejected:N.isRejected,rejectedReason:N.rejectReason,fileName:N.fileName,fileSize:N.fileSize,IaRejectedReason:N.IaRejectedReason,isUploaded:N.isUploaded,onFileChange:I=>E(N.id,I,N.isRejectedByAI??!1,N.title??""),onForceUpload:()=>k(N.id),onRemove:()=>S(N.id),onRemoveCard:()=>w(N.id),processMessage:N.processMessage,description:N.description??"",isLoading:N.isLoading??!1,isRejectedByAI:N.isRejectedByAI??!1,isPreApproved:N.isPreApproved??!1,isApproved:N.isApproved??!1,isRequired:N.isRequired,isAddedByUser:N.isAddedByUser??!1,isBusy:!1,uploadProgress:N.uploadProgress},N.id)),l.jsx($Be,{onPlaceholderClick:()=>b(!0)})]}),x("financingDetails")==="isCompleted"&&x("warrantyDetails")==="isCompleted"&&x("uploadDocuments")==="isCompleted"&&l.jsx("button",{className:"border-2 border-blue-500 text-blue-500 py-2 px-4 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:T,children:"Solicitar revisión"})]}),v&&l.jsx(VBe,{isOpen:v,onClose:()=>b(!1),selectedProductId:(h==null?void 0:h.id)??""})]}),l.jsx(qr,{})]})};function GBe({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=_.useState(""),{selectedProduct:s}=Sa(),o=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!1,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await dc({chatId:s.chatId,content:a,isAdmin:!1});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return l.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Admin"}),l.jsx("button",{onClick:e,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>l.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 mr-auto":"bg-gray-100 ml-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[l.jsx("div",{children:u.content}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!1&&l.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),l.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[l.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),l.jsx("button",{onClick:o,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:l.jsx(pd,{size:20})})]})]})}function XBe({notifications:e,onClose:t}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),l.jsx("button",{onClick:t,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>l.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:l.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?l.jsx(zi,{size:20,className:"text-blue-500"}):l.jsx(mr,{size:20,className:"text-green-500"}),l.jsx("span",{children:r.content})]})},r.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const KBe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=_.useState(!1),i=()=>{a(!n)},s=()=>{const o=t==null?void 0:t.toLowerCase();return o==="pdf"?l.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):o==="xlsx"||o==="xls"?l.jsx(YBe,{fileUrl:e}):l.jsx("p",{children:"Archivo no soportado"})};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:l.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[l.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?l.jsx(Pm,{className:"w-5 h-5"}):l.jsx(Im,{className:"w-5 h-5"})}),s()]})})},YBe=({fileUrl:e})=>{const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),o=Es(s,{type:"array"}),c=o.SheetNames.map(u=>{const d=o.Sheets[u],f=pn.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),l.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),l.jsxs("table",{className:"table-auto w-full",children:[l.jsx("thead",{children:l.jsx("tr",{children:Object.keys(n.data[0]).map(i=>l.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),l.jsx("tbody",{children:n.data.map((i,s)=>l.jsx("tr",{children:Object.values(i).map((o,c)=>l.jsx("td",{className:"px-4 py-2 border-b",children:o},c))},s))})]})]},a)):l.jsx("p",{children:"Cargando archivo Excel..."})})},JBe=()=>{const{selectedProduct:e}=Sa(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[i,s]=_.useState(null),[o,c]=_.useState(!1),[u,d]=_.useState(!1),{updateFormStatus:f}=Xo(),[p,m]=_.useState(null);if(_.useEffect(()=>{if(!(e!=null&&e.id)){s("No se ha seleccionado un producto válido."),a(!1);return}(async()=>{try{const b=await GE({productRequestId:e.id});b?(r(b),f("applicationResolution","isCompleted")):s("Aún no hay datos de resolución")}catch(b){console.error(b),s("Ocurrió un error al recuperar los datos de resolución.")}finally{a(!1)}})()},[e]),n)return l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx(iu,{className:"w-8 h-8 animate-spin text-blue-500"})});if(i)return l.jsxs("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-md flex items-center",children:[l.jsx(Do,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:i})]});if(!t)return l.jsx("div",{className:"p-6 bg-gray-100 border border-gray-300 rounded-md text-center",children:l.jsx("p",{className:"text-gray-600",children:"No se encontraron datos de resolución."})});const h=async()=>{c(!0);try{await gi("download","documentos",(e==null?void 0:e.id)??"","token","pdf","términos y condiciones.pdf")}catch(v){console.log(v)}finally{c(!1)}},g=()=>m(null),x=async()=>{var y;d(!0);const v=e==null?void 0:e.id,b="Terminos y condiciones.pdf";if(v){const k=((y=b.split(".").pop())==null?void 0:y.toLowerCase())??"",w=await gi("view","documentos",v,"token",k);w.data?m(w.data):ce.error("Error al visualizar el documento. Inténtalo de nuevo.")}d(!1)};return l.jsx("div",{className:"",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white",children:[l.jsx("div",{className:"px-4 py-5 sm:px-6",children:l.jsx("h2",{className:"text-xl leading-6 font-medium text-gray-900",children:t.product||"Producto Desconocido"})}),l.jsx("div",{className:"border-t border-gray-200",children:l.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[l.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estado"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.isAcepted?l.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[l.jsx(mr,{className:"mr-1.5 h-4 w-4"}),"Aceptado"]}):l.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[l.jsx(dd,{className:"mr-1.5 h-4 w-4"}),"Rechazado"]})})]}),l.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Comentarios"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.description||"No hay comentarios adicionales."})]}),t.isAcepted&&l.jsxs("div",{className:"py-4 sm:py-5 sm:px-6 flex flex-col items-center",children:[l.jsxs("div",{className:"flex flex-row gap-4",children:[l.jsx("button",{className:"px-4 py-2 text-blue-500 border border-blue-500 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:h,children:"Descargar Términos y Condiciones"}),l.jsx("button",{className:"px-4 py-2 text-blue-500 border border-blue-500 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:x,children:"Visualizar Términos y Condiciones"})]}),(o||u)&&l.jsxs("div",{className:"flex flex-row gap-4 mt-2",children:[o&&l.jsx(iu,{className:"w-6 h-6 animate-spin text-blue-500"}),u&&l.jsx(iu,{className:"w-6 h-6 animate-spin text-blue-500"})]})]})]})}),p&&l.jsx(KBe,{fileUrl:p,onClose:g,fileType:"pdf"})]})})})},QBe=async(e,t)=>{try{return{success:(await uJ({productRequestId:t,razonSocial:e.razonSocial??"",rfc:e.rfc??"",montoSolicitado:e.montoSolicitado??void 0,moneda:e.moneda??void 0,tipoCredito:e.tipoCredito??void 0,plazoCredito:parseInt(e.plazoCredito),periodoGracia:parseInt(e.periodoGracia),amortizacionCapital:e.amortizacionCapital??void 0,amortizacionCapitalOtro:e.amortizacionCapitalOtro??void 0,pagoIntereses:e.pagoIntereses??void 0,destinoRecursos:e.destinoRecursos??void 0,fuentePago:e.fuentePago??void 0,fuentePagoOtros:e.fuentePagoOtros??void 0,riesgoComun:e.riesgoComun??void 0,empresa:e.empresa??void 0,montoAutorizado:e.montoAutorizado??void 0,saldoVigente:e.saldoVigente??void 0,actividadRealizada:e.actividadRealizada??void 0,incidenciasLegales:e.incidenciasLegales??void 0,descripcionJuicio:e.descripcionJuicio??void 0,consecuencias:e.consecuencias??void 0,monto:e.monto??void 0,timing:e.timing??void 0,informacionAdicional:e.informacionAdicional??void 0,incorporationDate:e.incorporationDate??void 0,paisRegistro:e.paisRegistro??void 0,tipoProducto:e.tipoProducto??void 0,creditoSindicado:e.creditoSindicado??void 0,pepInvolucrado:e.pepInvolucrado??void 0,nombrePep:e.nombrePep??void 0,detallesCargoPep:e.detallesCargoPep??void 0,periodoDelCargo:e.periodoDelCargo??void 0,institucionDelCargoPep:e.institucionDelCargoPep??void 0,paisDeCargoPep:e.paisDeCargoPep??void 0,familiarFuncionPublica:e.familiarFuncionPublica??void 0,nombreFamiliarPep:e.nombreFamiliarPep??void 0,nombreSocioPep:e.nombreSocioPep??void 0,parentescoSocioPep:e.parentescoSocioPep??void 0,periodoCargoFamiliar:e.periodoCargoFamiliar??void 0,paisCargoFamiliar:e.paisCargoFamiliar??void 0,institucionCargoFamiliar:e.institucionCargoFamiliar??void 0})).success}}catch(r){throw console.error("Error al guardar los datos:",r),ce.error("Error al aprobar el documento. Inténtalo de nuevo."),r}},ZBe=async(e,t,r)=>{try{const n={financingFormId:r,razonSocial:e.razonSocial!==t.razonSocial?e.razonSocial:void 0,rfc:e.rfc!==t.rfc?e.rfc:void 0,montoSolicitado:parseFloat(e.montoSolicitado)!==t.montoSolicitado?parseFloat(e.montoSolicitado)||0:void 0,moneda:e.moneda!==t.moneda?e.moneda:void 0,tipoCredito:e.tipoCredito!==t.tipoCredito?e.tipoCredito:void 0,plazoCredito:parseInt(e.plazoCredito)!==t.plazoCredito?parseInt(e.plazoCredito)||0:void 0,periodoGracia:parseInt(e.periodoGracia)!==t.periodoGracia?parseInt(e.periodoGracia)||0:void 0,amortizacionCapital:e.amortizacionCapital!==t.amortizacionCapital?e.amortizacionCapital:void 0,amortizacionCapitalOtro:e.amortizacionCapitalOtro!==t.amortizacionCapitalOtro?e.amortizacionCapitalOtro:void 0,pagoIntereses:e.pagoIntereses!==t.pagoIntereses?e.pagoIntereses:void 0,destinoRecursos:e.destinoRecursos!==t.destinoRecursos?e.destinoRecursos:void 0,fuentePago:e.fuentePago!==t.fuentePago?e.fuentePago:void 0,fuentePagoOtros:e.fuentePagoOtros!==t.fuentePagoOtros?e.fuentePagoOtros:void 0,riesgoComun:!!e.riesgoComun!==t.riesgoComun?!!e.riesgoComun:void 0,empresa:e.empresa!==t.empresa?e.empresa:void 0,montoAutorizado:parseFloat(e.montoAutorizado)!==t.montoAutorizado?parseFloat(e.montoAutorizado)||0:void 0,saldoVigente:parseFloat(e.saldoVigente)!==t.saldoVigente?parseFloat(e.saldoVigente)||0:void 0,actividadRealizada:e.actividadRealizada!==t.actividadRealizada?e.actividadRealizada:void 0,incidenciasLegales:!!e.incidenciasLegales!==t.incidenciasLegales?!!e.incidenciasLegales:void 0,descripcionJuicio:e.descripcionJuicio!==t.descripcionJuicio?e.descripcionJuicio:void 0,consecuencias:e.consecuencias!==t.consecuencias?e.consecuencias:void 0,monto:parseFloat(e.monto)!==t.monto?parseFloat(e.monto)||0:void 0,timing:e.timing!==t.timing?e.timing:void 0,informacionAdicional:e.informacionAdicional!==t.informacionAdicional?e.informacionAdicional:void 0,incorporationDate:e.incorporationDate!==t.incorporationDate?e.incorporationDate:void 0,paisRegistro:e.paisRegistro!==t.paisRegistro?e.paisRegistro:void 0,tipoProducto:e.tipoProducto!==t.tipoProducto?e.tipoProducto:void 0,creditoSindicado:e.creditoSindicado!==t.creditoSindicado?e.creditoSindicado:void 0,pepInvolucrado:e.pepInvolucrado!==t.pepInvolucrado?e.pepInvolucrado:void 0,nombrePep:e.nombrePep!==t.nombrePep?e.nombrePep:void 0,detallesCargoPep:e.detallesCargoPep!==t.detallesCargoPep?e.detallesCargoPep:void 0,periodoDelCargo:e.periodoDelCargo!==t.periodoDelCargo?e.periodoDelCargo:void 0,institucionDelCargoPep:e.institucionDelCargoPep!==t.institucionDelCargoPep?e.institucionDelCargoPep:void 0,paisDeCargoPep:e.paisDeCargoPep!==t.paisDeCargoPep?e.paisDeCargoPep:void 0,familiarFuncionPublica:e.familiarFuncionPublica!==t.familiarFuncionPublica?e.familiarFuncionPublica:void 0,nombreFamiliarPep:e.nombreFamiliarPep!==t.nombreFamiliarPep?e.nombreFamiliarPep:void 0,nombreSocioPep:e.nombreSocioPep!==t.nombreSocioPep?e.nombreSocioPep:void 0,parentescoSocioPep:e.parentescoSocioPep!==t.parentescoSocioPep?e.parentescoSocioPep:void 0,periodoCargoFamiliar:e.periodoCargoFamiliar!==t.periodoCargoFamiliar?e.periodoCargoFamiliar:void 0,paisCargoFamiliar:e.paisCargoFamiliar!==t.paisCargoFamiliar?e.paisCargoFamiliar:void 0,institucionCargoFamiliar:e.institucionCargoFamiliar!==t.institucionCargoFamiliar?e.institucionCargoFamiliar:void 0},a=Object.fromEntries(Object.entries(n).filter(([,s])=>s!==void 0));return Object.keys(a).length===1?{success:!0}:{success:(await dJ(a)).success}}catch(n){throw console.error("Error al guardar los datos:",n),ce.error("Error al aprobar el documento. Inténtalo de nuevo."),n}},xk=async e=>{const t=await fJ({productRequestId:e});return t?{id:t.id,razonSocial:t.razonSocial||"",rfc:t.rfc||"",montoSolicitado:t.montoSolicitado||0,moneda:t.moneda||"MXN",tipoCredito:t.tipoCredito||"",plazoCredito:t.plazoCredito||0,periodoGracia:t.periodoGracia||0,amortizacionCapital:t.amortizacionCapital||"",amortizacionCapitalOtro:t.amortizacionCapitalOtro||"",pagoIntereses:t.pagoIntereses||"",destinoRecursos:t.destinoRecursos||"",fuentePago:t.fuentePago||"contratos",fuentePagoOtros:t.fuentePagoOtros||"",riesgoComun:t.riesgoComun||!1,empresa:t.empresa||"",montoAutorizado:t.montoAutorizado||0,saldoVigente:t.saldoVigente||0,actividadRealizada:t.actividadRealizada||"",incidenciasLegales:t.incidenciasLegales||!1,descripcionJuicio:t.descripcionJuicio||"",consecuencias:t.consecuencias||"",monto:t.monto||0,timing:t.timing||"",informacionAdicional:t.informacionAdicional||"",incorporationDate:t.incorporationDate||"",paisRegistro:t.paisRegistro||"",tipoProducto:t.tipoProducto||"",creditoSindicado:t.creditoSindicado||"",pepInvolucrado:t.pepInvolucrado||"",nombrePep:t.nombrePep||"",detallesCargoPep:t.detallesCargoPep||"",periodoDelCargo:t.periodoDelCargo||"",institucionDelCargoPep:t.institucionDelCargoPep||"",paisDeCargoPep:t.paisDeCargoPep||"",familiarFuncionPublica:t.familiarFuncionPublica||"",nombreFamiliarPep:t.nombreFamiliarPep||"",nombreSocioPep:t.nombreSocioPep||"",parentescoSocioPep:t.parentescoSocioPep||"",periodoCargoFamiliar:t.periodoCargoFamiliar||"",paisCargoFamiliar:t.paisCargoFamiliar||"",institucionCargoFamiliar:t.institucionCargoFamiliar||""}:(console.log("No se encontraron datos de financiamiento."),null)},g1=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:o})=>{const c=p=>{const m=parseFloat(p.replace(/,/g,""));return isNaN(m)?"":m.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})},[u,d]=_.useState(c(e)),f=p=>{const m=p.target.value.replace(/,/g,"");if(m===""||m==="."||m==="-"){d(""),t("");return}/^-?\d*(\.\d{0,2})?$/.test(m)&&(d(m.replace(/\B(?=(\d{3})+(?!\d))/g,",")),t(m))};return _.useEffect(()=>{d(c(e))},[e]),l.jsxs(l.Fragment,{children:[s&&l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:`flex items-center ${a}`,children:[l.jsx("input",{type:"text",value:u,onChange:f,disabled:r,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),l.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),o]})},eze=(e,t,r,n)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"garantia":return typeof t=="string"&&t.trim()===""?"Debe seleccionar un tipo de garantía":"";case"descripcion":return typeof t=="string"&&t.trim()===""?"La descripción de la garantía es obligatoria":"";case"ubicacion":return n?"":typeof t=="string"&&t.trim()===""?"La ubicación es obligatoria":"";case"propietario":return n?"":typeof t=="string"&&t.trim()===""?"El propietario es obligatorio":"";case"fechaAdquisicion":return n?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar la fecha de adquisición":"";case"valorAdquisicion":return n?"":typeof t=="string"&&Number(t)<=0?"El valor de adquisición debe ser mayor a 0":"";case"valorActual":return n?"":typeof t=="string"&&Number(t)<=0?"El valor actual debe ser mayor a 0":"";case"fechaValor":return n?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar la fecha del último avalúo":"";case"moneda":return typeof t=="string"&&t.trim()===""?"Debe seleccionar una moneda":"";case"sinGravamen":return typeof t!="boolean"?"Debe indicar si la garantía tiene gravamen":"";case"gravamenConQuien":return r?"":typeof t=="string"&&t.trim()===""?"Debe especificar con quién tiene el gravamen":"";case"gravamenDescripcion":return r?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar una descripción del gravamen":"";case"garante":return typeof t=="string"&&t.trim()===""?"Debe indicar el garante":"";case"obligadoSolidario":return n&&typeof t=="string"&&t.trim()===""?"Debe indicar el obligado solidario":"";case"valorPatrimonial":return n&&typeof t=="string"&&Number(t)<=0?"El valor patrimonial debe ser mayor a 0":"";default:return""}},ZO=e=>{const t={};return Object.keys(e).forEach(r=>{const n=eze(r,e[r],e.sinGravamen,e.garantia==="Obligación solidaria");n&&(t[r]=n)}),t},tze=["Avalúos inmobiliarios","Escrituras de propiedad","Cesión de derechos","Obligación solidaria","Prenda","Maquinaria y equipo","Patentes y marcas","Acciones","Otros bienes muebles","Otros"],rze=({onAddResumen:e,onCancel:t,onUpdateResumen:r,initialData:n,selectedFormId:a})=>{const[i,s]=_.useState({garantia:"",descripcion:"",ubicacion:"",propietario:"",fechaAdquisicion:"",valorAdquisicion:"",valorActual:"",fechaValor:"",moneda:"MXN",sinGravamen:!0,gravamenConQuien:"",gravamenDescripcion:"",garante:"",obligadoSolidario:"",valorPatrimonial:""}),[o,c]=_.useState(0),[u,d]=_.useState(""),[f,p]=_.useState(0),[m,h]=_.useState(!1),[g,x]=_.useState(!1),[v,b]=_.useState({}),{selectedProduct:y}=Sa();let k=0;i.garantia==="Obligación solidaria"?k=i.moneda==="USD"&&f>0?Number(i.valorPatrimonial)*f:Number(i.valorPatrimonial):k=i.moneda==="USD"&&f>0?Number(i.valorActual)*f:Number(i.valorActual);const E=u==="USD"&&f>0?Number(o)*f:Number(o),S=E>0?k/E:0,w=()=>S>1.5?"bg-green-500":S>=1&&S<=1.5?"bg-yellow-500":"bg-red-500",j=A=>{const{name:N,value:I,type:M}=A.target;s(q=>({...q,[N]:M==="checkbox"?A.target.checked:I}));const F=N;b(q=>({...q,[F]:ZO({...i,[F]:I})[F]||""}))},T=async A=>{A.preventDefault();{const I=ZO(i);if(Object.keys(I).length>0){b(I),ce.error("Hay errores en el formulario. Por favor, revisa los campos."),console.log(Object.keys(I));return}}const N=I=>I===""?void 0:I;if(a){const I={warrantyFormId:a,garantia:i.garantia,descripcion:i.descripcion,ubicacion:N(i.ubicacion),propietario:N(i.propietario),fechaAdquisicion:N(i.fechaAdquisicion),valorAdquisicion:Number(i.valorAdquisicion)||void 0,valorActual:Number(i.valorActual)||void 0,fechaValor:N(i.fechaValor),moneda:i.moneda||"MXN",sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:N(i.gravamenConQuien),gravamenDescripcion:i.sinGravamen?void 0:N(i.gravamenDescripcion),garante:N(i.garante),obligadoSolidario:N(i.obligadoSolidario),valorPatrimonial:Number(i.valorPatrimonial)||void 0,indiceGarantia:S},M={warrantyFormId:a,garantia:i.garantia,descripcion:i.descripcion,ubicacion:i.ubicacion,propietario:i.propietario,fechaAdquisicion:i.fechaAdquisicion,valorAdquisicion:Number(i.valorAdquisicion),valorActual:Number(i.valorActual),fechaValor:i.fechaValor,moneda:i.moneda,sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:i.gravamenConQuien,gravamenDescripcion:i.sinGravamen?void 0:i.gravamenDescripcion,garante:i.garante,obligadoSolidario:i.obligadoSolidario,valorPatrimonial:Number(i.valorPatrimonial),indiceGarantia:S};(await mJ(I)).success?(ce.success("Edición correctamente"),r(a,M),console.log("datos actualizados")):ce.error("Ocurrió un error al enviar las garantias")}else{const I={productRequestId:(y==null?void 0:y.id)??"",garantia:i.garantia,descripcion:i.descripcion,ubicacion:N(i.ubicacion),propietario:N(i.propietario),fechaAdquisicion:N(i.fechaAdquisicion),valorAdquisicion:Number(i.valorAdquisicion)||void 0,valorActual:Number(i.valorActual)||void 0,fechaValor:N(i.fechaValor),moneda:i.moneda||"MXN",sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:N(i.gravamenConQuien),gravamenDescripcion:i.sinGravamen?void 0:N(i.gravamenDescripcion),garante:N(i.garante),obligadoSolidario:N(i.obligadoSolidario),valorPatrimonial:Number(i.valorPatrimonial)||void 0,indiceGarantia:S},M=await pJ(I);if(M.success){console.log("garantias enviadas"),ce.success("Todas las garantías han sido enviadas correctamente");const F={...I,id:M.id??""};e(F),s({garantia:"",descripcion:"",ubicacion:"",propietario:"",fechaAdquisicion:"",valorAdquisicion:"",valorActual:"",fechaValor:"",moneda:"MXN",sinGravamen:!0,gravamenConQuien:"",gravamenDescripcion:"",garante:"",obligadoSolidario:"",valorPatrimonial:""})}else console.log("error al anviar la garantia"),ce.error("Ocurrió un error al enviar las garantias")}},C=(A,N)=>{if(!A)return"";const I=parseFloat(A);return isNaN(I)?"":N==="MXN"?(I/f).toFixed(2):N==="USD"?(I*f).toFixed(2):A};return _.useEffect(()=>{(async()=>{const N=await L3e();p(Number(N));const I=await xk((y==null?void 0:y.id)??"");I&&I.montoSolicitado&&(c(I.montoSolicitado),d(I.moneda)),n&&s({garantia:n.garantia??"",descripcion:n.descripcion??"",ubicacion:n.ubicacion??"",propietario:n.propietario??"",fechaAdquisicion:n.fechaAdquisicion??"",valorAdquisicion:n.valorAdquisicion?String(n.valorAdquisicion):"",valorActual:n.valorActual?String(n.valorActual):"",fechaValor:n.fechaValor??"",moneda:n.moneda??"MXN",sinGravamen:n.sinGravamen??!0,gravamenConQuien:n.sinGravamen?"":n.gravamenConQuien??"",gravamenDescripcion:n.sinGravamen?"":n.gravamenDescripcion??"",garante:n.garante??"",obligadoSolidario:n.obligadoSolidario??"",valorPatrimonial:n.valorPatrimonial?String(n.valorPatrimonial):""})})()},[]),l.jsxs("form",{onSubmit:T,className:"mb-6  p-10 rounded-lg bg-gray-50",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Garantías Indicativas Propuestas"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione el tipo de garantía que se aplicará.",children:["Tipo de Garantía ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:"garantia",className:"w-full p-3 border border-gray-300 rounded-md",value:i.garantia,onChange:j,title:"Seleccione una opción de garantía de la lista desplegable.",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione una garantía"}),tze.map(A=>l.jsx("option",{value:A,children:A},A))]}),v.garantia&&l.jsx("span",{className:"text-red-500",children:v.garantia})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese una descripción detallada de la garantía financiera.",children:["Descripción ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"descripcion",className:"w-full p-4 border border-gray-300 rounded-md",placeholder:"Escriba una descripción detallada...",rows:3,value:i.descripcion,onChange:j,title:"Escriba una descripción detallada de la garantía."}),v.descripcion&&l.jsx("span",{className:"text-red-500",children:v.descripcion})]}),i.garantia==="Obligación solidaria"?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese el nombre completo del obligado solidario.",children:["Obligado Solidario ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"obligadoSolidario",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre del obligado solidario...",value:i.obligadoSolidario,onChange:j,title:"Ingrese el nombre completo del obligado solidario."}),v.obligadoSolidario&&l.jsx("span",{className:"text-red-500",children:v.obligadoSolidario})]}),l.jsx(g1,{name:"Valor patrimonial",value:i.valorPatrimonial,onChange:A=>s(N=>({...N,valorPatrimonial:A})),disabled:!1,title:"Valor patrimonial de el obligado solidario",currency:i.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:v.valorPatrimonial?l.jsx("span",{className:"text-red-500",children:v.valorPatrimonial}):""})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Indique la ubicación exacta de la garantía.",children:["Ubicación ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"ubicacion",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese la ubicación de la garantía...",value:i.ubicacion,onChange:j,title:"Ingrese la ubicación de la garantía."}),v.ubicacion&&l.jsx("span",{className:"text-red-500",children:v.ubicacion})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese el nombre completo del propietario del bien.",children:["Propietario del Bien ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"propietario",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre del propietario del bien...",value:i.propietario,onChange:j,title:"Ingrese el nombre completo del propietario del bien."}),v.propietario&&l.jsx("span",{className:"text-red-500",children:v.propietario})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si el bien está libre de gravamen.",children:"¿Libre de Gravamen?"}),l.jsxs("select",{name:"sinGravamen",value:i.sinGravamen?"si":"no",onChange:A=>s({...i,sinGravamen:A.target.value==="si"}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Seleccione 'Sí' si el bien está libre de gravamen o 'No' si tiene algún adeudo.",children:[l.jsx("option",{value:"si",children:"Sí"}),l.jsx("option",{value:"no",children:"No"})]})]}),!i.sinGravamen&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona o entidad que tiene el gravamen sobre el bien.",children:["¿Quién tiene el gravamen? ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"gravamenConQuien",value:i.gravamenConQuien,onChange:j,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Nombre de la persona o entidad con el gravamen."}),v.gravamenConQuien&&l.jsx("span",{className:"text-red-500",children:v.gravamenConQuien})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Proporcione una descripción detallada del adeudo.",children:["Descripción del adeudo ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"gravamenDescripcion",value:i.gravamenDescripcion,onChange:j,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Describa el adeudo asociado al gravamen."}),v.gravamenDescripcion&&l.jsx("span",{className:"text-red-500",children:v.gravamenDescripcion})]})]}),l.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-sm text-center text-sm mb-4",children:[l.jsx("h3",{className:"text-gray-700 font-medium",children:"Tipo de Cambio"}),l.jsxs("p",{className:"text-base font-semibold text-blue-600",children:["1 USD = ",f," MXN"]}),l.jsx("small",{className:"text-gray-500",children:"Fuente: Banxico"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block font-medium mb-2",title:"Seleccione la moneda en la que se expresan los valores del bien.",children:"Moneda"}),l.jsxs("select",{name:"moneda",className:"w-full p-2 border border-gray-300 rounded-md",value:i.moneda,onChange:j,title:"Especifique la moneda utilizada para expresar los valores del bien.",children:[l.jsx("option",{value:"MXN",children:"MXN"}),l.jsx("option",{value:"USD",children:"USD"})]})]}),i.garantia==="Obligación solidaria"?l.jsx(l.Fragment,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Ver conversión",children:["Valor de Adquisición  ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>h(!m),children:l.jsx(ET,{size:18})})]}),l.jsx(g1,{value:i.valorAdquisicion,onChange:A=>s(N=>({...N,valorAdquisicion:A})),disabled:!1,title:"Valor patrimonial de el obligado solidario",currency:i.moneda,className:"w-full border rounded-md h-11 pl-1",errorSection:v.valorAdquisicion?l.jsx("span",{className:"text-red-500",children:v.valorAdquisicion}):""}),m&&l.jsx("div",{className:"p-2 bg-gray-100 border border-gray-300 rounded-md mt-2",children:l.jsxs("p",{className:"text-sm",children:["Equivalente en ",l.jsx("strong",{children:i.moneda=="MXN"?"USD":"MXN"}),": ",l.jsx("span",{className:"font-semibold",children:C(i.valorAdquisicion,i.moneda)||"N/A"})]})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione la fecha en la que se adquirió el bien.",children:["Fecha de Adquisición  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"fechaAdquisicion",className:"w-full p-2 border border-gray-300 rounded-md",value:i.fechaAdquisicion,onChange:j,title:"Indique la fecha de compra del bien."}),v.fechaAdquisicion&&l.jsx("span",{className:"text-red-500",children:v.fechaAdquisicion})]})]}),l.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Ver conversión",children:["Valor Actual ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>x(!g),children:l.jsx(ET,{size:18})})]}),l.jsx(g1,{value:i.valorActual,onChange:A=>s(N=>({...N,valorActual:A})),disabled:!1,title:"Indique el valor actual del bien basado en avalúos recientes.",currency:i.moneda,className:"w-full border rounded-md h-11 pl-1",errorSection:""}),v.valorActual&&l.jsx("span",{className:"text-red-500",children:v.valorActual}),g&&l.jsx("div",{className:"p-2 bg-gray-100 border border-gray-300 rounded-md mt-1",children:l.jsxs("p",{className:"text-sm",children:["Equivalente en ",l.jsx("strong",{children:i.moneda=="MXN"?"USD":"MXN"}),": ",l.jsx("span",{className:"font-semibold",children:C(i.valorActual,i.moneda)||"N/A"})]})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione la fecha del último avalúo del bien.",children:["Fecha del Último Avalúo ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"fechaValor",className:"w-full p-2 border border-gray-300 rounded-md",value:i.fechaValor,onChange:j,title:"Fecha en la que se realizó el último avalúo del bien."}),v.fechaValor&&l.jsx("span",{className:"text-red-500",children:v.fechaValor})]})]})]}),l.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[l.jsx("div",{className:"font-medium",title:"El índice de garantía se calcula en función del monto solicitado y el valor actual del bien.",children:"Índice de Garantía:"}),l.jsx("div",{className:`w-6 h-6 rounded-full ${w()}`,title:"El color indica la solidez de la garantía: verde (favorable), amarillo (moderado) y rojo (riesgoso)."}),l.jsx("div",{className:"text-gray-700",title:`Valor calculado del índice de garantía: ${S.toFixed(2)}`,children:S.toFixed(2)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"block font-medium mb-4",title:"Indique si existe una obligación solidaria o un garante en la operación financiera.",children:["Obligación Solidaria / Garante ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"garante",className:"w-full p-4 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre o razón social del garante(s), su relación con el acreditado...",rows:2,value:i.garante,onChange:j,title:"Especifique el nombre o razón social del garante, y su relación con el acreditado."}),v.garante&&l.jsx("span",{className:"text-red-500",children:v.garante}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Nota: Posible solicitud de Estados Financieros anuales dictaminados (2 años) y Estados Financieros Internos."})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500",children:"Guardar Garantía"}),l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500",children:"Cancelar"})]})]})},nze=()=>l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Garantías no elegibles:"}),l.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:[l.jsx("li",{children:"Maquinaria y equipo que se interne al país como importación temporal."}),l.jsx("li",{children:"Bienes ubicados en el extranjero, salvo cesión de derechos con control de flujos en cuenta escrow, fideicomiso o mecanismo similar."}),l.jsx("li",{children:"Predios rústicos o rurales, salvo cuando en ellos se encuentren instalaciones del solicitante."}),l.jsx("li",{children:"Predios en zonas donde usos y costumbres impidan plena propiedad y disposición."}),l.jsx("li",{children:"Bienes que no cumplan con la normatividad bancaria aplicable."})]})]}),eR=({indiceGarantia:e})=>{const t=()=>e>1.5?"bg-green-500":e>=1&&e<=1.5?"bg-yellow-500":"bg-red-500";return l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${t()}`,children:"$"})},aze=({isOpen:e,onConfirm:t,onCancel:r,itemName:n="esta garantía"})=>e?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 text-center",children:["¿Eliminar ",n,"?"]}),l.jsx("p",{className:"mb-6 text-sm text-gray-600 text-center",children:"Esta acción no se puede deshacer."}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded",children:"Cancelar"}),l.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded",children:"Eliminar"})]})]})}):null,Qh=[{key:"descripcion",label:"Descripción"},{key:"propietario",label:"Propietario"},{key:"fechaAdquisicion",label:"Fecha Adquisición"},{key:"valorAdquisicion",label:"Valor Adquisición"},{key:"valorActual",label:"Valor Actual"},{key:"fechaValor",label:"Fecha Avalúo"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Entidad Gravamen"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"garante",label:"Garante"},{key:"indiceGarantia",label:"Índice Garantia"},{key:"obligadoSolidario",label:"Obligado Solidario"},{key:"valorPatrimonial",label:"Valor Patrimonial"}],tR=[{key:"descripcion",label:"Descripción"},{key:"obligadoSolidario",label:"obligadoSolidario"},{key:"valorPatrimonial",label:"valorPatrimonial"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Entidad Gravamen"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"indiceGarantia",label:"indiceGarantia"}],ize=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(Qh.map(C=>C.key)),[s,o]=_.useState(!1),[c,u]=_.useState(null),{selectedProduct:d}=Sa(),[f]=_.useState(!0),{updateFormStatus:p}=Xo(),[m,h]=_.useState(!1),[g,x]=_.useState(null),v=C=>{t([...e,C]),p("warrantyDetails","isCompleted"),gk(2,1,(d==null?void 0:d.id)??""),n(!1),u(null)},b=(C,A)=>{t(N=>N.map(I=>I.id===C?{...I,...A}:I)),n(!1),u(null)},y=C=>{x(C),h(!0)},k=async()=>{if(g===null)return;const C=e[g];if(!(C!=null&&C.id)){ce.error("No se encontró el ID de la garantía.");return}(await hJ(C.id)).success?(t(N=>N.filter((I,M)=>M!==g)),ce.success("Garantía eliminada correctamente.")):ce.error("Error al eliminar la garantía."),h(!1),x(null)},E=(C,A)=>{u({id:C,index:A}),n(!0),console.log("edits",C)},S=C=>{i(A=>A.includes(C)?A.filter(N=>N!==C):[...A,C])};_.useEffect(()=>{(async()=>{if(d!=null&&d.id){const A=await SM({productRequestId:d==null?void 0:d.id});A&&(A==null?void 0:A.length)>0&&(t(A),p("warrantyDetails","isCompleted"))}else ce.error("Hubo un problema al obtener las garantías. Inténtalo de nuevo.")})()},[d]);function w(){n(!0)}const j=e.filter(C=>C.garantia==="Obligación solidaria"),T=e.filter(C=>C.garantia!=="Obligación solidaria");return l.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Gestión de Garantías"}),l.jsxs("div",{className:"flex justify-end mb-4 relative",children:[l.jsx("button",{onClick:()=>o(!s),className:"p-2 bg-gray-200 rounded hover:bg-gray-300 relative",children:l.jsx(uM,{size:20})}),s&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white shadow-lg rounded p-2 z-50 border border-gray-300",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2 px-2",children:"* La selección de columnas solo afecta la visualización, no el envío de datos."}),Qh.map(C=>l.jsxs("label",{className:"flex items-center space-x-2 p-1",children:[l.jsx("input",{type:"checkbox",checked:a.includes(C.key),onChange:()=>S(C.key)}),l.jsx("span",{children:C.label})]},C.key))]})]}),l.jsxs("div",{className:"mt-6",children:[T.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Garantías Agregadas"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[Qh.map(C=>a.includes(C.key)&&l.jsx("th",{className:"border border-gray-300 p-2 min-w-[200px]",children:C.label},C.key)),l.jsx("th",{className:"border border-gray-300 p-2",children:"Indice"}),l.jsx("th",{className:"border border-gray-300 p-2",children:"Acciones"})]})}),l.jsx("tbody",{children:T.map((C,A)=>l.jsxs("tr",{className:`${A%2===0?"bg-gray-50":""}`,children:[Qh.map(N=>a.includes(N.key)&&l.jsx("td",{className:"p-2",children:N.key==="sinGravamen"?C.sinGravamen?"Sí":"No":C[N.key]??"N/A"},N.key)),l.jsx("td",{className:"p-2 text-center",children:l.jsx(eR,{indiceGarantia:C.indiceGarantia??0})}),l.jsxs("td",{className:"p-2 text-center flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>y(A),disabled:!f,className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:l.jsx(rg,{size:16})}),l.jsx("button",{onClick:()=>E(C.id,A),disabled:!f,className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:l.jsx(tg,{size:16})})]})]},A))})]})})]}),j.length>0&&l.jsx("div",{className:"mt-6",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[tR.map(C=>l.jsx("th",{className:"border border-gray-300 p-2 min-w-[200px]",children:C.label},C.key)),l.jsx("th",{className:"border border-gray-300 p-2",children:"Indice"}),l.jsx("th",{className:"border border-gray-300 p-2",children:"Acciones"})]})}),l.jsx("tbody",{children:j.map((C,A)=>l.jsxs("tr",{className:`${A%2===0?"bg-gray-50":""}`,children:[tR.map(N=>l.jsx("td",{className:"p-2",children:N.key==="sinGravamen"?C.sinGravamen?"Sí":"No":C[N.key]??"N/A"},N.key)),l.jsx("td",{className:"p-2 text-center",children:l.jsx(eR,{indiceGarantia:C.indiceGarantia??0})}),l.jsxs("td",{className:"p-2 text-center flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>y(A),disabled:!f,className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:l.jsx(rg,{size:16})}),l.jsx("button",{onClick:()=>E(C.id,A),disabled:!f,className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:l.jsx(tg,{size:16})})]})]},A))})]})})}),!r&&l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx("button",{onClick:()=>w(),disabled:!f,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 ${!f&&"opacity-50 cursor-not-allowed"}`,children:"Agregar nueva garantía"})})]}),r&&l.jsx("div",{className:"mt-6",children:l.jsx(rze,{onAddResumen:v,onCancel:()=>n(!1),initialData:(c==null?void 0:c.index)!==void 0?e[c.index]:void 0,onUpdateResumen:b,selectedFormId:c==null?void 0:c.id})}),l.jsx(aze,{isOpen:m,onCancel:()=>h(!1),onConfirm:k}),l.jsx(nze,{}),l.jsx(qr,{})]})},rR=e=>{},sze=(e,t,r,n,a)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"razonSocial":return typeof t=="string"&&t.trim()===""?"La razón social es obligatoria":"";case"rfc":return typeof t=="string"&&!/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(t)?"RFC inválido":"";case"destinoRecursos":return typeof t=="string"&&t.trim()===""?"El destino de los recursos es obligatorio":"";case"incorporationDate":return typeof t=="string"&&t.trim()===""?"La fecha de incorporación es obligatoria":"";case"montoSolicitado":return typeof t=="number"&&t<=0?"El monto solicitado debe ser mayor a 0":"";case"plazoCredito":return console.log(t),Number(t)<1?"El plazo de crédito debe ser al menos 1 año.":a==="Revolvente"&&Number(t)>4?"El plazo máximo permitido para créditos revolventes es 4 años.":"";case"periodoGracia":return typeof t=="number"&&t<0?"El período de gracia no puede ser negativo":"";case"empresa":return r&&typeof t=="string"&&t.trim()===""?"El nombre de la empresa es obligatorio":"";case"montoAutorizado":return r&&typeof t=="number"&&t<=0?"El monto autorizado debe ser mayor a 0":"";case"saldoVigente":return r&&typeof t=="number"&&t<=0?"El saldo vigente debe ser mayor a 0":"";case"nombre":return n&&typeof t=="string"&&t.trim()===""?"El nombre de la persona es obligatorio":"";case"actividadRealizada":return n&&typeof t=="string"&&t.trim()===""?"El nombre de la actividad realizada es obligatoria":"";case"timing":return typeof t=="string"&&t.trim()===""?"Debe proporcionar una fecha estimada":"";default:return""}},nR=e=>{const t={};return Object.keys(e).forEach(r=>{const n=sze(r,e[r],e.riesgoComun??!1,e.personasExpuestas??!1,e.tipoCredito??"");n&&(t[r]=n)}),t},oze=Number.MAX_SAFE_INTEGER,Zh=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:o})=>{const c=p=>p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),[u,d]=_.useState(c(e)),f=p=>{const m=p.target.value.replace(/,/g,"");if(m===""||m==="."||m==="-"){d(""),t(0);return}if(!/^-?\d*(\.\d{0,2})?$/.test(m))return;const h=parseFloat(m);isNaN(h)?d(m):(t(h),d(m.replace(/\B(?=(\d{3})+(?!\d))/g,",")))};return l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-lg bg-gray-100 ${a}`,children:[l.jsx("input",{type:"text",value:r?e:u,onChange:f,disabled:r,maxLength:oze.toString().length,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),l.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),o]})},x1=({name:e,value:t,onChange:r,options:n=[],label:a,required:i=!1,disabled:s=!1,error:o,title:c,otherPlaceholder:u="Especifique..."})=>{const d=t.startsWith("otro:"),[f,p]=_.useState(d?t.replace("otro:",""):""),m=g=>{g.target.value==="otros"?(p(""),r({target:{name:e,value:"otro:"}})):(p(""),r(g))},h=g=>{const x=`otro:${g.target.value}`;p(g.target.value),r({target:{name:e,value:x}})};return l.jsxs("div",{className:"mb-4",children:[a&&l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:c,children:[a," ",i&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:e,value:d?"otros":t,onChange:m,required:i,disabled:s,title:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione una opción"}),n.map(g=>l.jsx("option",{value:g.code,children:g.name},g.code)),l.jsx("option",{value:"otros",children:"Otros"})]}),d&&l.jsx("input",{type:"text",name:e,value:f,onChange:h,placeholder:u,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o&&l.jsx("span",{className:"text-red-500",children:o})]})},lze=({name:e,value:t,onChange:r,label:n,required:a=!1,disabled:i=!1,error:s,title:o,reasonPlaceholder:c="Especifique el motivo..."})=>{const u=t.startsWith("si"),d=u?t.replace(/^si:\s*/,""):"",f=m=>{const h=m.target.value;r({target:{name:e,value:h==="si"?`si: ${d}`:"no"}})},p=m=>{const h=m.target.value;r({target:{name:e,value:`si: ${h}`}})};return l.jsxs("div",{className:"mb-4",children:[n&&l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:o,children:[n," ",a&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{name:e,value:u?"si":"no",onChange:f,required:a,disabled:i,title:o,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]}),u&&l.jsx("input",{type:"text",name:`${e}_reason`,value:d,onChange:p,placeholder:c,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s&&l.jsx("span",{className:"text-red-500",children:s})]})},cze=({handleBackStep:e,handleNextStep:t})=>l.jsxs("div",{className:"mt-8 border-t pt-4 flex justify-between items-center",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Volver"}),l.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Siguiente"})]}),uze=({isOpen:e,onClose:t,onConfirm:r,onContinueWithoutSaving:n})=>e?l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"¿Guardar los cambios?"}),l.jsx("p",{className:"mb-4",children:"¿Quieres guardar los cambios antes de seguir?"}),l.jsxs("div",{className:"flex justify-end gap-2 min-w-max",children:[l.jsx("button",{className:"px-3 py-1.5 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 whitespace-nowrap",onClick:t,children:"Cancelar"}),l.jsx("button",{className:"px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 whitespace-nowrap",onClick:n,children:"No guardar"}),l.jsx("button",{className:"px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 whitespace-nowrap",onClick:r,children:"Guardar"})]})]})}):null,dze=()=>{const[e,t]=_.useState({id:"",razonSocial:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"Simple",plazoCredito:0,periodoGracia:0,amortizacionCapital:"mensual",amortizacionCapitalOtro:"",pagoIntereses:"mensual",destinoRecursos:"",fuentePago:"contratos",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",paisRegistro:"",tipoProducto:"",creditoSindicado:""}),[r,n]=_.useState({id:"",razonSocial:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"Simple",plazoCredito:0,periodoGracia:0,amortizacionCapital:"mensual",amortizacionCapitalOtro:"",pagoIntereses:"mensual",destinoRecursos:"",fuentePago:"contratos",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",paisRegistro:"",tipoProducto:"",creditoSindicado:""}),[a,i]=_.useState(!1),[s,o]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState({}),{selectedProduct:p,selectProduct:m}=Sa(),{updateFormStatus:h,getStatusById:g}=Xo(),[x,v]=_.useState(!1),[b,y]=_.useState(!1),k=F=>{if(!s)return;const{name:q,value:W}=F.target,V=q;t({...e,[V]:W}),f(B=>({...B,[V]:nR({...e,[V]:W})[V]||""}))},[E,S]=_.useState(void 0),w=()=>{const F=g("financingDetails");S(F),h("financingDetails","inProgress"),y(!1),o(!0)},j=()=>{h("financingDetails",E??"isCompleted"),y(E!=="inProgress"),o(!1)},T=async()=>{if(!p){ce.error("No se seleccionó un producto");return}{const F=nR(e);if(Object.keys(F).length>0){f(F);const q=Object.values(F).filter(Boolean).join(", ");ce.error(`Errores: ${q}`),console.log(Object.keys(F)),i(!1);return}}if(c){i(!0);try{(await ZBe(e,r,r.id)).success?(ce.success("Financiamiento actualizado con éxito"),o(!1),u(!0),rR(!0),h("financingDetails","isCompleted"),y(!0)):ce.error("Hubo un error al actualizar el financiamiento")}catch(F){console.error("Error al actualizar el formulario:",F),ce.error("Ocurrió un error inesperado")}i(!1)}else{i(!0);try{(await QBe(e,(p==null?void 0:p.id)??"")).success?(ce.success("Financiamiento guardado con éxito"),o(!1),u(!0),rR(!0),t(e),h("financingDetails","isCompleted"),y(!0),gk(1,0,p.id),m({flowStatus:1})):ce.error("Hubo un error al guardar el financiamiento")}catch(F){console.error("Error al enviar el formulario:",F),ce.error("Ocurrió un error inesperado")}i(!1)}},C=async F=>{F.preventDefault(),await T()};function A(){m({flowStatus:0})}const N=()=>{b?m({flowStatus:1}):v(!0)},I=async()=>{await T(),m({flowStatus:1}),v(!1)},M=()=>{m({flowStatus:1}),v(!1)};return _.useEffect(()=>{(async()=>{const q=await xk((p==null?void 0:p.id)??"");q&&q.id&&(t({...e,...q}),console.log("financiamiento",q),n(q),o(!1),u(!0),y(!0))})()},[]),l.jsxs("div",{children:[l.jsxs("form",{className:"max-w-4xl mx-auto bg-white",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Detalles de la Solicitud de Financiamiento"}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Solicitante"}),l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Razón Social",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"razonSocial",value:e.razonSocial,onChange:k,required:!0,disabled:!s,title:"Ingresa la razón social de la empresa",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.razonSocial&&l.jsx("span",{className:"text-red-500",children:d.razonSocial})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["RFC",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"rfc",value:e.rfc,onChange:k,required:!0,disabled:!s,title:"Ingrese el Registro Federal de Contribuyentes (RFC) de la empresa o persona física.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.rfc&&l.jsx("span",{className:"text-red-500",children:d.rfc})]}),l.jsx(x1,{label:"País de registro del solicitante",title:"Seleccione el país de registro de la empresa o persona física.",name:"paisRegistro",value:e.paisRegistro,onChange:k,options:[{code:"México",name:"México"}],otherPlaceholder:"Especifique el pais de registro",required:!0,disabled:!s,error:d.paisRegistro}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha correspondiente a la fecha de constitucion de su empresa",children:["Fecha de constitucion",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"incorporationDate",value:e.incorporationDate,onChange:k,required:!0,disabled:!s,title:"Seleccione la fecha correspondiente.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.incorporationDate&&l.jsx("span",{className:"text-red-500",children:d.incorporationDate})]}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Características de la operación"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el propósito o uso que se dará a los recursos solicitados.",children:["Destino de Recursos ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"destinoRecursos",value:e.destinoRecursos,onChange:k,required:!0,disabled:!s,title:"Describa el propósito o uso de los recursos solicitados en la solicitud de financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.destinoRecursos&&l.jsx("span",{className:"text-red-500",children:d.destinoRecursos})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la moneda en la que desea recibir el financiamiento.",children:"Moneda:"}),l.jsxs("select",{name:"moneda",value:e.moneda,onChange:k,required:!0,disabled:!s,title:"Elija entre Pesos (MXN) o Dólares (USD) para el financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione"}),l.jsx("option",{value:"MXN",children:"Pesos"}),l.jsx("option",{value:"USD",children:"Dólares"})]})]}),l.jsx(Zh,{name:"Monto Solicitado",value:e.montoSolicitado??0,onChange:F=>t(q=>({...q,montoSolicitado:F})),disabled:!s,title:"Monto total solicitado para el financiamiento, en la moneda seleccionada.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoSolicitado?l.jsx("span",{className:"text-red-500",children:d.montoSolicitado}):""}),l.jsx(x1,{label:"Tipo de producto financiero",title:"Seleccione el tipo de producto financiero.",name:"tipoProducto",value:e.tipoProducto??"",onChange:k,options:[{code:"Corporativo",name:"Corporativo"},{code:"Proyecto de inversión",name:"Proyecto de inversión"}],otherPlaceholder:"Especifique el tipo de producto",required:!0,disabled:!s,error:d.tipoProducto}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione el tipo de crédito que mejor se adapte a sus necesidades financieras.",children:"Tipo de Crédito:"}),l.jsxs("select",{name:"tipoCredito",value:e.tipoCredito,onChange:k,required:!0,disabled:!s,title:"Elija entre Crédito Simple, Revolvente o Mixto según sus necesidades.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Seleccione"}),l.jsx("option",{value:"Simple",children:"Simple"}),l.jsx("option",{value:"Revolvente",children:"Revolvente"}),l.jsx("option",{value:"Mixto",children:"Mixto"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique la duración del crédito en años, dentro del rango permitido.",children:["Plazo de Crédito (en años)",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"plazoCredito",value:e.plazoCredito,onChange:k,min:"1",...e.tipoCredito==="Revolvente"?{max:4}:{},required:!0,disabled:!s,title:"Ingrese el número de años del crédito",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.plazoCredito&&l.jsx("span",{className:"text-red-500",children:d.plazoCredito})]}),e.tipoCredito!=="Revolvente"&&l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el período durante el cual no se pagará el capital del crédito, solo los intereses.",children:["Período de Gracia de Capital (en meses)",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"periodoGracia",value:e.periodoGracia,onChange:k,onInput:F=>{const q=F.target;q.value=q.value.replace(/[^0-9]/g,"")},required:!0,title:"Ingrese la cantidad de meses de gracia antes de comenzar a pagar el capital.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoGracia&&l.jsx("span",{className:"text-red-500",children:d.periodoGracia})]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la frecuencia con la que realizará pagos de capital del crédito.",children:"Amortización de Capital:"}),l.jsxs("select",{name:"amortizacionCapital",value:e.amortizacionCapital,onChange:k,disabled:!s,title:"Elija la periodicidad para el pago del capital: mensual, trimestral, semestral, al vencimiento u otro.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"mensual",children:"Mensual"}),l.jsx("option",{value:"trimestral",children:"Trimestral"}),l.jsx("option",{value:"semestral",children:"Semestral"}),l.jsx("option",{value:"al_vencimiento",children:"Al vencimiento"}),l.jsx("option",{value:"otro",children:"Otro"})]})]}),e.amortizacionCapital==="otro"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Especifique otro tipo de amortización si no está en la lista anterior.",children:"Especifica la amortización:"}),l.jsx("input",{type:"text",name:"amortizacionCapitalOtro",value:e.amortizacionCapitalOtro,onChange:k,disabled:!s,title:"Indique el esquema de amortización personalizado.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la frecuencia con la que se realizará el pago de los intereses del crédito.",children:"Pago de Intereses:"}),l.jsxs("select",{name:"pagoIntereses",value:e.pagoIntereses,onChange:k,disabled:!s,title:"Elija la periodicidad del pago de intereses: mensual, trimestral o semestral.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"mensual",children:"Mensual"}),l.jsx("option",{value:"trimestral",children:"Trimestral"}),l.jsx("option",{value:"semestral",children:"Semestral"})]})]}),l.jsx(x1,{label:"Fuente de Pago",title:"Seleccione la fuente principal con la que se realizará el pago del crédito.",name:"fuentePago",value:e.fuentePago??"",onChange:k,options:[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}],otherPlaceholder:"Seleccione una opción",required:!0,disabled:!s,error:d.fuentePago}),e.fuentePago==="otros"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique otra fuente de pago si no está en la lista anterior.",children:"Especificar Fuente de Pago:"}),l.jsx("textarea",{name:"fuentePagoOtros",value:e.fuentePagoOtros,onChange:k,disabled:!s,title:"Describa la fuente de pago alternativa que utilizará para cubrir el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx(lze,{name:"creditoSindicado",value:e.creditoSindicado??"",onChange:k,label:"¿El crédito es sindicado?",title:"indique si el crédito crédito es sindicado",required:!0,reasonPlaceholder:"¿Quién es el Banco Agente?"}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Riesgo común"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera.",children:"Riesgo Común: Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera"}),l.jsxs("select",{name:"riesgoComun",value:e.riesgoComun?"true":"false",disabled:!s,onChange:F=>{t({...e,riesgoComun:F.target.value==="true"})},title:"Seleccione 'Sí' si el crédito está asociado con otras empresas en términos de riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"false",children:"No"}),l.jsx("option",{value:"true",children:"Sí"})]})]}),e.riesgoComun&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la empresa con la que se comparte el riesgo.",children:["Nombre de la Empresa:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"empresa",value:e.empresa||"",onChange:k,disabled:!s,title:"Especifique la empresa con la que se comparte el riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.empresa&&l.jsx("span",{className:"text-red-500",children:d.empresa})]}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Zh,{name:"Monto Autorizado",value:e.montoAutorizado??0,onChange:F=>t(q=>({...q,montoAutorizado:F})),disabled:!s,title:"Ingrese el saldo autorizado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoAutorizado?l.jsx("span",{className:"text-red-500",children:d.montoAutorizado}):""})}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Zh,{name:"Saldo Vigente",value:e.saldoVigente??0,onChange:F=>t(q=>({...q,saldoVigente:F})),disabled:!s,title:"Ingrese el saldo actual que aún no ha sido pagado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.saldoVigente?l.jsx("span",{className:"text-red-500",children:d.saldoVigente}):""})})]}),l.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Determinación inicial de Grado de Riesgo PLD/FT"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero.",children:"Alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),l.jsxs("select",{name:"pepInvolucrado",value:e.pepInvolucrado,disabled:!s,onChange:k,title:"Seleccione 'Sí' si alguna persona políticamente expuesta está relacionada con la solicitud.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]})]}),e.pepInvolucrado==="si"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombrePep",value:e.nombrePep||"",onChange:k,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombrePep&&l.jsx("span",{className:"text-red-500",children:d.nombrePep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"detallesCargoPep",value:e.detallesCargoPep||"",onChange:k,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.detallesCargoPep&&l.jsx("span",{className:"text-red-500",children:d.detallesCargoPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del accionista o directivo.",children:["Periodo del cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"periodoDelCargo",value:e.periodoDelCargo||"",onChange:k,disabled:!s,title:"Escriba el periodo del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoDelCargo&&l.jsx("span",{className:"text-red-500",children:d.periodoDelCargo})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del accionista o directivo",children:["Institucion del cargo público del accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"institucionDelCargoPep",value:e.institucionDelCargoPep||"",onChange:k,disabled:!s,title:"Escriba la Institucion del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.institucionDelCargoPep&&l.jsx("span",{className:"text-red-500",children:d.institucionDelCargoPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"paisDeCargoPep",value:e.paisDeCargoPep||"",onChange:k,disabled:!s,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.paisDeCargoPep&&l.jsx("span",{className:"text-red-500",children:d.paisDeCargoPep})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero.",children:"Alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),l.jsxs("select",{name:"familiarFuncionPublica",value:e.familiarFuncionPublica,disabled:!s,onChange:F=>{t({...e,familiarFuncionPublica:F.target.value})},title:"Seleccione 'Sí' si algun familiar esta políticamente expuesta",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]})]}),e.familiarFuncionPublica==="si"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del familiar del socio, accionista o directivo.",children:["Nombre del familiar del socio, accionista o directivo:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombreFamiliarPep",value:e.nombreFamiliarPep||"",onChange:k,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombreFamiliarPep&&l.jsx("span",{className:"text-red-500",children:d.nombreFamiliarPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo :",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombreSocioPep",value:e.nombreSocioPep||"",onChange:k,disabled:!s,title:"Escriba el nombre completo del socio accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombreSocioPep&&l.jsx("span",{className:"text-red-500",children:d.nombreSocioPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Parentesco del socio, accionista o directivo con el familiar:",children:["Parentesco del socio, accionista o directivo con el familiar:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"parentescoSocioPep",value:e.parentescoSocioPep||"",onChange:k,disabled:!s,title:"Escriba el parentesco del socio, accionista o directivo con el familiar:",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.parentescoSocioPep&&l.jsx("span",{className:"text-red-500",children:d.parentescoSocioPep})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del familiar.",children:["Periodo del cargo público del familiar",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"periodoCargoFamiliar",value:e.periodoCargoFamiliar||"",onChange:k,disabled:!s,title:"Escriba el periodo del cargo público del familiar.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:d.periodoCargoFamiliar})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del familiar",children:["Institucion del cargo público del familiar:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"institucionCargoFamiliar",value:e.institucionCargoFamiliar||"",onChange:k,disabled:!s,title:"Escriba la Institucion del cargo público del familiar",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.institucionCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:d.institucionCargoFamiliar})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"paisCargoFamiliar",value:e.paisCargoFamiliar||"",onChange:k,disabled:!s,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.paisCargoFamiliar&&l.jsx("span",{className:"text-red-500",children:d.paisCargoFamiliar})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si la empresa tiene incidencias legales en curso o pasadas.",children:"Incidencias Legales:"}),l.jsxs("select",{name:"incidenciasLegales",value:e.incidenciasLegales?"si":"no",disabled:!s,onChange:F=>{t({...e,incidenciasLegales:F.target.value==="si"})},required:!0,title:"Seleccione 'Sí' si la empresa tiene incidencias legales o 'No' en caso contrario.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"si",children:"Sí"})]})]}),e.incidenciasLegales&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Describa brevemente el juicio o litigio relacionado con la empresa.",children:"Descripción Juicio:"}),l.jsx("textarea",{name:"descripcionJuicio",value:e.descripcionJuicio,onChange:k,required:!0,disabled:!s,title:"Ingrese una descripción del juicio o litigio en el que está involucrada la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique las posibles consecuencias del juicio para la empresa.",children:"Posibles Consecuencias:"}),l.jsx("textarea",{name:"consecuencias",value:e.consecuencias,onChange:k,required:!0,disabled:!s,title:"Describa las posibles consecuencias legales o económicas que pueda enfrentar la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:l.jsx(Zh,{name:"monto",value:e.monto??0,onChange:F=>t(q=>({...q,monto:F})),disabled:!s,title:"Ingrese el monto estimado asociado a la incidencia legal.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoAutorizado?l.jsx("span",{className:"text-red-500",children:d.montoAutorizado}):""})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha en la que estima contratar el crédito.",children:["Fecha estimada de contratación de crédito:",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"timing",value:e.timing,onChange:k,disabled:!s,title:"Ingrese la fecha en la que planea solicitar el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.timing&&l.jsx("span",{className:"text-red-500",children:d.timing})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Proporcione cualquier información adicional relevante para la solicitud de crédito.",children:"Información Adicional:"}),l.jsx("textarea",{name:"informacionAdicional",value:e.informacionAdicional,onChange:k,disabled:!s,title:"Ingrese detalles adicionales que considere importantes para la solicitud de crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{type:"button",onClick:s?C:c?w:C,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 flex items-center justify-center gap-2 ${a&&"opacity-50 cursor-not-allowed"}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx(iu,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):s?"Enviar formulario":c?"Editar":"Enviar formulario"}),s&&l.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center justify-center",children:"Cancelar"})]}),l.jsx(qr,{})]}),l.jsx(cze,{handleBackStep:A,handleNextStep:N}),l.jsx(uze,{isOpen:x,onClose:()=>v(!1),onConfirm:I,onContinueWithoutSaving:M})]})};function fze(){const{selectedProduct:e}=Sa(),[t,r]=_.useState(null),[n,a]=_.useState(!1),{updateFormStatus:i}=Xo(),s=async c=>{var d;const u=(d=c.target.files)==null?void 0:d[0];if(u){a(!0);try{await vc((e==null?void 0:e.id)||"",u,"documentos"),r(u.name),i("termsAdnConditions","isCompleted"),o()}catch(f){console.error("Error al subir el archivo:",f)}finally{a(!1)}}},o=async()=>{console.log("solicitar revision"),e!=null&&e.chatId&&await dc({chatId:e.chatId,content:"Términos y condicones firmados cargados al sistema (Este es un mensaje automatizado)",isAdmin:!1})};return l.jsx("div",{className:"min-h-min py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{id:"terms-content",className:"prose max-w-none text-gray-700 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Términos y Condiciones"}),l.jsx("p",{children:"Estos Términos y Condiciones regulan el uso del servicio proporcionado por nuestra empresa. Al acceder o utilizar nuestro servicio, usted acepta estar sujeto a estos Términos. Si no está de acuerdo con alguna parte de los términos, no podrá acceder al servicio."})]}),l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("div",{className:"p-4 shadow rounded-md bg-yellow-50 flex flex-col space-y-2 transition-colors duration-500 mb-4",children:[l.jsx("h3",{className:"font-medium",children:"Subir términos y condiciones firmados"}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n?l.jsxs("span",{className:"text-gray-600 text-sm flex items-center",children:[l.jsx(iu,{className:"w-5 h-5 animate-spin mr-2"})," Subiendo..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Lo,{className:"w-5 h-5 text-blue-600"}),l.jsx("span",{className:"text-blue-600 hover:underline text-sm",children:t?`Archivo subido: ${t}`:"Cargar archivo"})]}),l.jsx("input",{type:"file",className:"hidden",onChange:s,disabled:n})]})]})})]})})})})}function pze(){var N;const[e,t]=_.useState("financingDetails"),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[s,o]=_.useState(null),[c,u]=_.useState(null),[d]=_.useState([{id:"financingDetails",label:"Detalles de la solicitud",component:dze},{id:"warrantyDetails",label:"Detalles de la garantias",component:ize},{id:"uploadDocuments",label:"Subir Documentos",component:WBe},{id:"applicationResolution",label:"Resolucion de solicitud",component:JBe},{id:"termsAdnConditions",label:"Términos y condiciones",component:fze}]),[f,p]=_.useState([]),[m,h]=_.useState([]),{getStatusById:g,addFormStatus:x,updateFormStatus:v}=Xo(),b=_.useRef(null),{selectedProduct:y}=Sa();_.useEffect(()=>{x({id:"financingDetails",status:"inProgress"}),x({id:"warrantyDetails",status:"inProgress"}),x({id:"uploadDocuments",status:"inProgress"}),x({id:"applicationResolution",status:"inProgress"}),x({id:"termsAdnConditions",status:"inProgress"})},[y==null?void 0:y.id]);const k=I=>{t(I)},E=()=>{const I=d.findIndex(M=>M.id===e);I<d.length-1&&t(d[I+1].id)};_.useEffect(()=>{(async()=>{console.log(y==null?void 0:y.flowStatus),t(d[(y==null?void 0:y.flowStatus)??1].id);const M=(y==null?void 0:y.id)??"",[F,q,W]=await Promise.all([xk(M),SM({productRequestId:M}),GE({productRequestId:M})]),V=!!(F!=null&&F.id),B=!!(q!=null&&q.length),R=!!(W!=null&&W.id);V?(v("financingDetails","isCompleted"),console.log("hay datos")):(console.log("no hay datos"),v("financingDetails","inProgress")),B?v("warrantyDetails","isCompleted"):v("warrantyDetails","inProgress"),R?v("applicationResolution","isCompleted"):v("applicationResolution","inProgress")})()},[]),_.useEffect(()=>{async function I(){t(d[(y==null?void 0:y.flowStatus)??1].id)}I()},[y,d]),_.useEffect(()=>{async function I(){if(y!=null&&y.chatId)try{const M=await Jv({chatId:(y==null?void 0:y.chatId)??""});if(M){const F=M.messages.filter(q=>!q.isRead&&q.isSenderAdmin);if(F.length>0){const q={id:y.id,content:`Tienes ${F.length} nuevos mensajes sin leer del administrador.`,type:"info",read:!1,createdAt:new Date};p([q])}h(M.messages)}}catch(M){console.log("error",M)}}I()},[y==null?void 0:y.chatId]);const S=async()=>{if(y!=null&&y.chatId)try{if(m&&m.filter(M=>!M.isRead&&M.isSenderAdmin).length>0){const M=m.map(F=>!F.isRead&&F.isSenderAdmin?(console.log("marcando como leído",F),Qv({messageId:F.id,isRead:!0}),{...F,isRead:!0}):F);p([]),h(M)}}catch(I){console.log("Error al marcar mensajes como leídos:",I)}},w=async()=>{};_.useEffect(()=>{async function I(){try{const M=await wM({productRequestId:(y==null?void 0:y.id)??""});o((M==null?void 0:M.name)||"Empresa Desconocida"),(M==null?void 0:M.iconUrl)!==void 0&&M.iconUrl!==null&&u(M.iconUrl)}catch(M){console.error("Error fetching credit request data:",M),o("Error al cargar nombre de la empresa"),ce.error("No se pudieron obtener los datos")}}I()},[]);const j=((N=d.find(I=>I.id===e))==null?void 0:N.component)||(()=>l.jsx("div",{children:"No encontrado"}));function T(){const I=d.findIndex(M=>M.id===e);I>0&&t(d[I-1].id)}const C=()=>{n(!0),S(),console.log("El chat con el admin se abrió.")};_.useEffect(()=>{function I(M){b.current&&!b.current.contains(M.target)&&n(!1)}return r?document.addEventListener("mousedown",I):document.removeEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[r]);const A=d.findIndex(I=>I.id===e);return l.jsxs("div",{className:"bg-gray-100 p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 w-40",children:[c?l.jsx("img",{src:c,alt:"Icono de la empresa",className:"w-24"}):l.jsx(dM,{className:"w-full h-full text-orange-600"}),l.jsx("h1",{className:"text-2xl font-bold",children:s})]}),l.jsxs("button",{className:"relative bg-gray-200 rounded-full p-2 hover:bg-gray-300",onClick:()=>i(!0),children:[l.jsx(JY,{size:24,className:"text-gray-600"}),f.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.length})]})]}),l.jsxs("div",{className:"mx-auto p-6 bg-white shadow rounded-lg",children:[l.jsx("div",{className:"border-b mb-6 flex",children:d.map(I=>l.jsxs("button",{className:`flex-1 text-center py-2 flex items-center justify-center gap-2 ${e===I.id?"border-b-2 border-blue-500 font-semibold":"text-gray-500"}`,onClick:()=>k(I.id),children:[I.label,g(I.id)==="inProgress"&&l.jsx(ma,{size:16,className:"text-yellow-500"}),g(I.id)==="isCompleted"&&l.jsx(Ro,{size:16,className:"text-green-500"})]},I.id))}),l.jsx("div",{className:"pt-6",children:l.jsx(j,{})}),A>0&&l.jsxs("div",{className:"mt-8 border-t pt-4 flex justify-between items-center",children:[l.jsx("button",{onClick:T,disabled:A===0,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Volver"}),l.jsxs("button",{className:"relative bg-green-300 text-gray-700 py-2 px-4 rounded hover:bg-green-400 flex items-center gap-2",onClick:C,children:[l.jsx(zi,{size:20}),"Chat con Admin"]}),l.jsx("button",{onClick:E,disabled:A===d.length-1,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Siguiente"})]})]}),r&&l.jsx("div",{ref:b,children:l.jsx(GBe,{onClose:()=>n(!1),onNewMessage:w,setMessages:h,messages:m})}),a&&l.jsx(XBe,{notifications:f,onClose:()=>i(!1)}),l.jsx(qr,{})]})}function mze(){return l.jsx(Qn,{children:l.jsx(pze,{})})}const hze=({isUploaded:e,isLoading:t,isRejectedByAI:r,isRejected:n,processMessage:a,isPreApproved:i,isApproved:s,uploadProgress:o})=>t?l.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),l.jsx("span",{className:"text-blue-700 font-medium",children:a||"Subiendo archivo..."})]}),typeof o=="number"&&l.jsxs("div",{className:"w-full mt-1",children:[l.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o}%`}})}),l.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[o.toFixed(0),"%"]})]})]}):r&&!e?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Do,{className:"w-6 h-6 text-yellow-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Error"})]}):n?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"w-6 h-6 text-red-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-red-500",children:"Rechazado"})]}):s?l.jsxs("div",{className:"flex items-center",children:[l.jsx(xp,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Aprobado"})]}):i?l.jsxs("div",{className:"flex items-center",children:[l.jsx(xp,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Preaprobado"})]}):e&&r?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):e?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"w-6 h-6 text-green-500"}),l.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):l.jsx(Fo,{className:"w-6 h-6 text-blue-500"}),aR=({onClick:e})=>l.jsxs("button",{onClick:e,className:"bg-blue-50 text-blue-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-100 w-full flex items-center justify-center",children:[l.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Cargar archivos"]}),gze=({onClick:e=()=>{}})=>l.jsxs("button",{onClick:e,className:"bg-blue-50 text-yellow-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-100 w-full flex items-center justify-center",children:[l.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Cargar de todas formas"]}),xze=({fileName:e,fileSize:t,onRemove:r})=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"truncate max-w-[80%]",children:[l.jsx("p",{className:"text-xs text-gray-600",children:e}),l.jsx("p",{className:"text-xs text-gray-400",children:t})]}),l.jsx("button",{onClick:r,"aria-label":"Eliminar archivo",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1",children:l.jsx(Dt,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),vze=({title:e,isUploaded:t,isLoading:r,isRejectedByAI:n,fileName:a,fileSize:i,IaRejectedReason:s,processMessage:o,onFileChange:c,onForceUpload:u,onRemove:d,onRemoveCard:f,description:p,isRejected:m,rejectedReason:h,isPreApproved:g,isApproved:x,isRequired:v,isBusy:b,id:y,isAddedByUser:k,uploadProgress:E})=>{const[S,w]=_.useState(null),[j,T]=_.useState(!1),C=B=>{var ne;const R=((ne=B.target.files)==null?void 0:ne[0])||null;w(R),c==null||c(R)},A=()=>{w(null),d==null||d()},N=B=>{var ne;B.preventDefault(),T(!1);const R=(ne=B.dataTransfer.files)==null?void 0:ne[0];R&&(w(R),c==null||c(R))},I="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",M="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",F="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,255,0,0.5),0px_3px_6px_-2px_rgba(0,255,0,0.5)] transition-shadow duration-200",q="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",W="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,165,0,0.5),0px_3px_6px_-2px_rgba(255,165,0,0.5)] transition-shadow duration-200",V=(B,R,ne,z,P)=>{const G={rechazado:`border-red-500 ${q}`,error:`border-orange-500 ${W}`,requerido:`border-blue-500 ${M}`,opcional:`border-blue-300 ${I}`,preAprobado:`border-green-500 ${F}`};return P?G.preAprobado:B?G.rechazado:!z&&R?G.error:z&&R||ne?G.requerido:G.opcional};return l.jsxs("div",{className:`relative border-2 ${V(m,n,v,t,g)} 
                rounded-lg overflow-hidden w-full max-w-[250px] min-h-[300px] flex flex-col 
                ${j?"border-dashed border-blue-400 bg-blue-50":""}`,title:p,onDragOver:B=>{B.preventDefault(),T(!0)},onDragLeave:B=>{B.preventDefault(),T(!1)},onDrop:N,children:[j&&l.jsx("div",{className:"absolute inset-0 bg-blue-100/80 backdrop-blur-sm flex items-center justify-center z-20 rounded-lg",children:l.jsxs("div",{className:"text-blue-600 text-sm font-semibold flex items-center gap-2",children:[l.jsx(Lo,{className:"w-5 h-5"}),"Suelta aquí para cargar el archivo"]})}),l.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[!t&&k&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:f,className:"p-1 bg-gray-300 text-white rounded-full hover:bg-red-700 transition","aria-label":"Eliminar tarjeta",children:l.jsx(Dt,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx(hze,{isUploaded:t,isLoading:r,isRejectedByAI:n,processMessage:o,isRejected:m,isPreApproved:g,isApproved:x,uploadProgress:E}),l.jsx("h3",{className:"text-sm font-medium mt-2 text-center",children:e}),l.jsx("h3",{className:`${v?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:v?"Requerido":"Opcional"})]}),!r&&!t&&n&&!b&&l.jsx(gze,{onClick:u}),!r&&!t&&!n&&!b&&l.jsx(aR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}}),m&&h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-1 text-red-500",children:l.jsx("p",{className:"text-sm",children:h})}),l.jsx(aR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}})]}),t&&n&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{title:"Análisis: "+s,children:l.jsx(Do,{className:"w-6 h-6 text-yellow-500"})}),l.jsx("p",{className:"text-sm text-yellow-500",children:"Este archivo podría contener errores"})]}),l.jsx("input",{id:`fileInput-${y}`,type:"file",onChange:C,className:"hidden","aria-label":`Cargar ${e}`})]}),(S||a)&&!m&&l.jsx("div",{className:"border-t border-blue-200 p-4",children:l.jsx(xze,{fileName:S?S.name:a||"",fileSize:S?`${(S.size/1024/1024).toFixed(1)} MB`:i||"",onRemove:A})}),s&&!t&&l.jsx("div",{className:"border-t border-blue-200 p-4",children:l.jsx("p",{className:"text-yellow-500 text-xs",children:s})})]})};function yze({onPlaceholderClick:e}){return l.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:l.jsx(Jn,{className:"w-6 h-6 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Agregar otro documento"})]})}const iR={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function sR(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function oR(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function bze(e){const t=e.toLowerCase();return t.includes("solicitud de financiamiento")?"Solicitud de Financiamiento":t.includes("estados financieros auditados")?"Estados Financieros Auditados":t.includes("estados financieros internos")||t.includes("estado financiero")?"Estados Financieros Internos":t.includes("presentación corporativa")?"Presentación corporativa":t.includes("flujos indicativos")||t.includes("proyecciones")?"Proyecciones / Flujos indicativos":t.includes("buró de crédito")?"Buró de crédito":"Información adicional"}async function wze(e){const t=await bM({productRequestId:e});return t!=null&&t.requiredDocuments?t.requiredDocuments.map(r=>{const n=bze(r.documentTemplate.name);return{id:r.id,title:r.documentTemplate.name,description:r.documentTemplate.description,isUploaded:r.isUploaded??!1,isRequired:r.isRequired??!1,fileName:r.fileName??"",fileSize:r.fileSize??"",isRejected:r.isRejected??!1,rejectReason:r.rejectReason??"",isPreApproved:r.isPreApproved??!1,isApproved:r.isApproved??!1,isRejectedByAI:r.isRejectedByAI??!1,IaRejectedReason:r.IaRejectedReason??"",isAddedByUser:r.isAddedByUser??!1,category:n}}).sort((r,n)=>{const a=(iR[r.category]??99)-(iR[n.category]??99);return a!==0?a:r.category==="Estados Financieros Auditados"&&n.category==="Estados Financieros Auditados"?sR(r.title)-sR(n.title):r.category==="Estados Financieros Internos"&&n.category==="Estados Financieros Internos"?oR(r.title)-oR(n.title):0}):(console.warn("No se encontraron documentos requeridos."),[])}const Sze=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,o){return o.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>EM(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},Eze=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=_.useState(!0),[i,s]=_.useState(""),o=f=>{t(p=>p.some(h=>h.id===f)?p.filter(h=>h.id!==f):[...p,{id:f,isRequired:!0}])},c=f=>{t(p=>p.map(m=>m.id===f?{...m,isRequired:!m.isRequired}:m))},u=()=>{a(f=>!f)},d=[...r].sort((f,p)=>{const m=f.position??Number.MAX_SAFE_INTEGER,h=p.position??Number.MAX_SAFE_INTEGER;return m-h});return l.jsxs("div",{className:"mb-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),l.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:l.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(p=>p.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const p=e.find(h=>h.id===f.id),m=(p==null?void 0:p.isRequired)??!1;return l.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${m?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",checked:!!p,onChange:()=>o(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("div",{children:l.jsx("span",{className:`font-medium ${m?"text-green-800":"text-gray-800"}`,children:f.name})})]}),p&&l.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${m?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:m?"Hacer opcional":"Hacer obligatorio",children:m?"Obligatorio":"Opcional"})]},f.id)})})}),l.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function _ze({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,c]=_.useState("processing"),[u,d]=_.useState({title:"",message:"",details:void 0}),[f,p]=_.useState(!1);_.useEffect(()=>{e&&m()},[e]);const m=async()=>{const x=await Zx();s(x)},h=async()=>{c("processing");const v=await Sze({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),p(!0)},g=x=>{x.preventDefault(),h()};return e?l.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[l.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Agregar otro documento"}),l.jsx("p",{className:"text-m text-gray-600 mt-2 italic mb-4",children:'¿No sabes cuál elegir? Busca "información adicional".'}),l.jsx("div",{className:" mb-4",children:l.jsx(Eze,{documents:n,setDocuments:a,docTemplates:i})}),l.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[l.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Agregar"}),l.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&l.jsx(Ea,{onClose:t,status:o,messages:u})]}):null}const Nze=async({id:e,file:t,folder:r,docTitle:n,docDescription:a="",onProgress:i})=>{var s,o;try{const c=((s=t.name.split(".").pop())==null?void 0:s.toLowerCase())||"",u=`${e}.${c}`;if(!await vc(e,t,r,i))return{success:!1,error:"Error al subir el documento."};const p=(o=(await Qe.get(`${Yu.base}/generate-download-url`,{params:{file_name:u,folder:r},headers:{Authorization:`Bearer ${Yu.token}`}})).data)==null?void 0:o.downloadUrl;if(!p)return{success:!1,error:"No se pudo obtener la URL de descarga."};const m=await Jz(`${n} ${a}`,p);return!m||typeof m.esDocumentoValido!="boolean"?{success:!1,error:"Respuesta inválida del análisis."}:{success:!0,result:m}}catch(c){return console.error("Error en analyzeUploadedDocument:",c),{success:!1,error:"Error inesperado durante el análisis."}}},kze=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(0),[s,o]=_.useState(0),[c,u]=_.useState(!1),[d,f]=_.useState(""),[p,m]=_.useState(null),{selectedProduct:h}=Sa(),{updateFormStatus:g,getStatusById:x}=Xo(),[v,b]=_.useState(!1),y=(N,I)=>{t(M=>M.map(F=>F.id===N?{...F,...I}:F))};async function k(N){await Yr({id:N,isUploaded:!0,fileName:p==null?void 0:p.name,fileSize:p?`${(p.size/1024/1024).toFixed(1)} MB`:void 0,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!0,IaRejectedReason:d,UserJustify:""}),y(N,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}const E=async(N,I,M,F)=>{var re,D;if(!I)return;let q=M,W="",V=!0,B;const R=H=>H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/gi,"").trim(),ne=R(F),P=["informacion adicional","info adicional","documento adicional","adicional","anexo adicional","inf adicional","adicionales"].some(H=>ne.includes(R(H)));let G="";P&&(q=!0,G="Documento adicional no fue analizado por IA.");const J=["pdf","xls","xlsx"],te=(re=I.name.split(".").pop())==null?void 0:re.toLowerCase();if(!te||!J.includes(te)){y(N,{isRejectedByAI:!0,isLoading:!1,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}y(N,{isLoading:!0,processMessage:"Procesando archivo",fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,...G&&{isRejectedByAI:!0,IaRejectedReason:G},uploadProgress:0}),u(!0);try{if(q){if(!await vc(N,I,"documentos",L=>{y(N,{uploadProgress:L})}))throw m(I),f("Error al subir el archivo."),W="Error al subir el archivo.",new Error("Error al subir el archivo.")}else{const H=e.find(ie=>ie.id===N),L=(H==null?void 0:H.description)??"",{success:K,result:O,error:pe}=await Nze({id:N,file:I,folder:"documentos",docTitle:F,docDescription:L,onProgress:ie=>{y(N,{uploadProgress:ie})}});if(!K||!O)throw m(I),f(pe??"Error desconocido"),W=pe??"Error desconocido",new Error(pe);if(V=O.esDocumentoValido,B=V?void 0:`Tu documento no es válido. Razón: ${((D=O.documentoDetectado)==null?void 0:D.split("False. ")[1])||O.documentoDetectado}`,!q&&te==="pdf"&&(y(N,{isRejectedByAI:!V,isLoading:!1,IaRejectedReason:B,uploadProgress:V?0:void 0}),!V)){f(B??""),m(I);return}}await Yr({id:N,isUploaded:!0,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:q||!V,IaRejectedReason:G||B,UserJustify:""}),y(N,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}catch(H){console.error("Error al manejar el documento:",H),y(N,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:W,isLoading:!1,uploadProgress:0})}finally{u(!1)}},S=async N=>{const I=e.find(M=>M.id===N);if(I)if(I.fileName){y(N,{isLoading:!0,processMessage:"Eliminando archivo"});const M=I.fileName.substring(I.fileName.lastIndexOf("."))||"",F=`${N}${M}`;if(!await Yv(F,"documentos")){ce.error("Error al eliminar el archivo del servidor"),y(N,{isLoading:!1});return}await Yr({id:N,isUploaded:!1,fileName:"",fileSize:"",fileFolder:"",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""})&&y(N,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isLoading:!1,processMessage:"",isUploaded:!1,isPreApproved:!1,isApproved:!1,isRejected:!1})}else y(N,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isUploaded:!1})},w=async N=>{if(!window.confirm("¿Estás seguro de que deseas eliminar este archivo?"))return;y(N,{isLoading:!0,processMessage:"Eliminando archivo"}),(await Kx({requiredDocument:N})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),t(F=>F.filter(q=>q.id!==N))):console.log("Error al eliminar el archivo")},j=async()=>{try{n(!0);const N=await wze((h==null?void 0:h.id)??"");t(N);const I=N.filter(q=>q.isUploaded).length,M=N.filter(q=>q.isRejected).length;I/N.length*100===100&&M===0?g("uploadDocuments","isCompleted"):(M>0,g("uploadDocuments","inProgress"))}catch(N){console.error("Error al cargar los documentos:",N)}n(!1)},T=async()=>{console.log("solicitar revision"),h!=null&&h.chatId&&await dc({chatId:h.chatId,content:"Sección de carga de documentos finalizada por el usuario (Este es un mensaje automatizado)",isAdmin:!1})&&ce.success("Solicitud de revision enviada")};_.useEffect(()=>{j()},[v]),_.useEffect(()=>{const N=A(e),I=e.filter(F=>F.isRejected).length;i(N);const M=C(e);o(M),N===100&&I===0?g("uploadDocuments","isCompleted"):(I>0,g("uploadDocuments","inProgress"))},[e]);const C=N=>N.filter(M=>M.isUploaded).length,A=N=>N.filter(F=>F.isUploaded).length/N.length*100;return l.jsxs(l.Fragment,{children:[r?l.jsx(Om,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:l.jsxs("span",{children:[s," / ",e.length]})}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Sube o arrastra los siguientes documentos en PDF."}),c&&l.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"Subiendo archivos"}),l.jsxs("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-items-center mb-8",children:[e.map(N=>l.jsx(vze,{id:N.id,title:N.title,isRejected:N.isRejected,rejectedReason:N.rejectReason,fileName:N.fileName,fileSize:N.fileSize,IaRejectedReason:N.IaRejectedReason,isUploaded:N.isUploaded,onFileChange:I=>E(N.id,I,N.isRejectedByAI??!1,N.title??""),onForceUpload:()=>k(N.id),onRemove:()=>S(N.id),onRemoveCard:()=>w(N.id),processMessage:N.processMessage,description:N.description??"",isLoading:N.isLoading??!1,isRejectedByAI:N.isRejectedByAI??!1,isPreApproved:N.isPreApproved??!1,isApproved:N.isApproved??!1,isRequired:N.isRequired,isAddedByUser:N.isAddedByUser??!1,isBusy:!1,uploadProgress:N.uploadProgress},N.id)),l.jsx(yze,{onPlaceholderClick:()=>b(!0)})]}),x("uploadDocuments")==="isCompleted"&&l.jsx("button",{className:"border-2 border-blue-500 text-blue-500 py-2 px-4 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:T,children:"Solicitar revisión"})]}),v&&l.jsx(_ze,{isOpen:v,onClose:()=>b(!1),selectedProductId:(h==null?void 0:h.id)??""})]}),l.jsx(qr,{})]})};function Cze({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=_.useState(""),{selectedProduct:s}=Sa(),o=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!1,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await dc({chatId:s.chatId,content:a,isAdmin:!1});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return l.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Admin"}),l.jsx("button",{onClick:e,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>l.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 mr-auto":"bg-gray-100 ml-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[l.jsx("div",{children:u.content}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!1&&l.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),l.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[l.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),l.jsx("button",{onClick:o,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:l.jsx(pd,{size:20})})]})]})}function Tze({notifications:e,onClose:t}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),l.jsx("button",{onClick:t,className:"text-white",children:l.jsx(Dt,{size:20})})]}),l.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>l.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:l.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?l.jsx(zi,{size:20,className:"text-blue-500"}):l.jsx(mr,{size:20,className:"text-green-500"}),l.jsx("span",{children:r.content})]})},r.id)):l.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}function jze(){var j;const[e,t]=_.useState("uploadDocuments"),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[s,o]=_.useState(null),[c,u]=_.useState(null),[d]=_.useState([{id:"uploadDocuments",label:"Subir Documentos",component:kze}]),[f,p]=_.useState([]),[m,h]=_.useState([]),{getStatusById:g,addFormStatus:x}=Xo(),v=_.useRef(null),{selectedProduct:b}=Sa();_.useEffect(()=>{x({id:"uploadDocuments",status:"inProgress"})},[b==null?void 0:b.id]);const y=T=>{t(T)};_.useEffect(()=>{async function T(){if(b!=null&&b.chatId)try{const C=await Jv({chatId:(b==null?void 0:b.chatId)??""});if(C){const A=C.messages.filter(N=>!N.isRead&&N.isSenderAdmin);if(A.length>0){const N={id:b.id,content:`Tienes ${A.length} nuevos mensajes sin leer del administrador.`,type:"info",read:!1,createdAt:new Date};p([N])}h(C.messages)}}catch(C){console.log("error",C)}}T()},[b==null?void 0:b.chatId]);const k=async()=>{if(b!=null&&b.chatId)try{if(m&&m.filter(C=>!C.isRead&&C.isSenderAdmin).length>0){const C=m.map(A=>!A.isRead&&A.isSenderAdmin?(console.log("marcando como leído",A),Qv({messageId:A.id,isRead:!0}),{...A,isRead:!0}):A);p([]),h(C)}}catch(T){console.log("Error al marcar mensajes como leídos:",T)}},E=async()=>{};_.useEffect(()=>{async function T(){try{const C=await wM({productRequestId:(b==null?void 0:b.id)??""});o((C==null?void 0:C.name)||"Empresa Desconocida"),(C==null?void 0:C.iconUrl)!==void 0&&C.iconUrl!==null&&u(C.iconUrl)}catch(C){console.error("Error fetching credit request data:",C),o("Error al cargar nombre de la empresa"),ce.error("No se pudieron obtener los datos")}}T()},[]);const S=((j=d.find(T=>T.id===e))==null?void 0:j.component)||(()=>l.jsx("div",{children:"No encontrado"})),w=()=>{n(!0),k(),console.log("El chat con el admin se abrió.")};return _.useEffect(()=>{function T(C){v.current&&!v.current.contains(C.target)&&n(!1)}return r?document.addEventListener("mousedown",T):document.removeEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[r]),l.jsxs("div",{className:"bg-gray-100 p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 w-40",children:[c?l.jsx("img",{src:c,alt:"Icono de la empresa",className:"w-24"}):l.jsx(dM,{className:"w-full h-full text-orange-600"}),l.jsx("h1",{className:"text-2xl font-bold",children:s})]}),l.jsxs("button",{className:"relative bg-green-300 text-gray-700 py-2 px-4 rounded hover:bg-green-400 flex items-center gap-2",onClick:w,children:[l.jsx(zi,{size:20}),f.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.length}),"Chat con Admin"]})]}),l.jsxs("div",{className:"mx-auto p-6 bg-white shadow rounded-lg",children:[l.jsx("div",{className:"border-b mb-6 flex",children:d.map(T=>l.jsxs("button",{className:`flex-1 text-center py-2 flex items-center justify-center gap-2 ${e===T.id?"border-b-2 border-blue-500 font-semibold":"text-gray-500"}`,onClick:()=>y(T.id),children:[T.label,g(T.id)==="inProgress"&&l.jsx(ma,{size:16,className:"text-yellow-500"}),g(T.id)==="isCompleted"&&l.jsx(Ro,{size:16,className:"text-green-500"})]},T.id))}),l.jsx("div",{className:"pt-6",children:l.jsx(S,{})})]}),r&&l.jsx("div",{ref:v,children:l.jsx(Cze,{onClose:()=>n(!1),onNewMessage:E,setMessages:h,messages:m})}),a&&l.jsx(Tze,{notifications:f,onClose:()=>i(!1)}),l.jsx(qr,{})]})}function Aze(){return l.jsx(Qn,{children:l.jsx(jze,{})})}function Ize(){var n;const{selectedProduct:e}=Sa(),t=((n=e==null?void 0:e.verticalName)==null?void 0:n.toLowerCase())||"",r=()=>t.includes("nafin")||t.includes("document ai")?l.jsx(mze,{}):t.includes("tengo")?l.jsx(Aze,{}):l.jsxs("p",{children:["Tu producto no existe: ",e==null?void 0:e.verticalName]});return l.jsx(l.Fragment,{children:r()})}const Pze=()=>{const e=Qt(),t=()=>{window.location.reload(),e(-1)};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 text-center max-w-md",children:[l.jsx("div",{className:"flex justify-center animate-pulse",children:l.jsx(QY,{size:64,className:"text-red-500"})}),l.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:"Sin conexión"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"No se pudo establecer conexión con el servidor. Por favor, verifica tu conexión a internet o intenta nuevamente más tarde."}),l.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Reintentar"})]})})},Oze=({children:e})=>{const{isLogging:t,conectionError:r}=Nt(),n=Qt();return t?l.jsx(Om,{}):r?l.jsx(l.Fragment,{children:e}):(n(-1),null)};function Rze(){const{user:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState(!1),[i,s]=_.useState(null),[o,c]=_.useState(""),[u,d]=_.useState("viewer"),[f,p]=_.useState(""),[m,h]=_.useState(!1),[g,x]=_.useState(!1),[v,b]=_.useState("processing"),[y,k]=_.useState({title:"",message:"",details:void 0}),E=async T=>{T.preventDefault(),x(!0),b("processing");try{if(!(e!=null&&e.uid)){ce.error("No se encontró UID del administrador.");return}(m?await nM({adminTeamMemberId:f,adminTeamId:o,role:u}):await qE({adminUid:e.uid,adminTeamId:o,role:u})).success?(b("success"),k({title:m?"Actualización exitosa":"Registro exitoso",message:m?"Se actualizó el miembro del equipo correctamente.":"Se agregó el miembro al equipo correctamente."}),ce.success(m?"¡Actualización exitosa!":"¡Registro exitoso!")):(b("error"),k({title:"Error",message:"Ocurrió un error al procesar la solicitud."}),ce.error("Error al procesar."))}catch(C){console.error(C),b("error"),ce.error("Ocurrió un error.")}},S=()=>{x(!1)},w=async()=>{a(!0);try{const T=await cd();r(T)}catch(T){console.error("Error obteniendo equipos",T),s("No se pudieron cargar los equipos.")}finally{a(!1)}},j=async()=>{a(!0);try{const T=await KF();T.id!==""?(h(!0),c(T.id)):h(!1)}catch(T){console.error("Error obteniendo el equipo",T),s("No se pudo obtener tu equipo.")}finally{a(!1)}};return _.useEffect(()=>{w(),j()},[]),i?l.jsx("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[l.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"Error"}),l.jsx("p",{className:"text-center text-red-600",children:i})]})}):l.jsxs("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:[n&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsx($t,{className:"w-10 h-10 text-white animate-spin"})}),l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:m?"Actualizar Miembro de Equipo":"Agregar Miembro a Equipo"}),l.jsxs("div",{className:"flex justify-center mb-4",children:[l.jsx("label",{className:"mr-2 font-semibold",children:"Modo:"}),l.jsxs("select",{value:m?"update":"create",onChange:T=>h(T.target.value==="update"),className:"border border-gray-300 rounded-md px-2 py-1",children:[l.jsx("option",{value:"create",children:"Crear"}),l.jsx("option",{value:"update",children:"Actualizar"})]})]}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m&&l.jsx("input",{type:"text",placeholder:"ID del Miembro del Equipo",value:f,onChange:T=>p(T.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!m&&l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block mb-1 font-medium",children:"Equipo"}),l.jsxs("select",{value:o,onChange:T=>c(T.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Selecciona un equipo"}),t.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),l.jsxs("div",{className:"relative mt-4",children:[l.jsx("label",{className:"block mb-1 font-medium",children:"Rol"}),l.jsxs("select",{value:u,onChange:T=>d(T.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"owner",children:"Owner"}),l.jsx("option",{value:"editor",children:"Editor"}),l.jsx("option",{value:"viewer",children:"Viewer"})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:m?"Actualizar Miembro":"Agregar Miembro"})]})]}),g&&l.jsx(Ea,{onClose:S,status:v,reload:!0,route:"/",messages:y})]})}async function Dze(e,t){try{const r=await oN({displayName:e.displayName,email:e.email,password:e.password},t);return!r.success||!r.uid?{success:!1,error:"Error al registrar el usuario en Firebase"}:(await _Ee(e.email,t)).success?(await WF({name:e.displayName,email:e.email,phone:e.phone,role:e.role,isInternal:e.isInternal,isSuperAdmin:e.isSuperAdmin,isMasterAdmin:e.isMasterAdmin,isSupportAdmin:e.isSupportAdmin,authUid:r.uid})).success?e.adminTeamId&&e.teamRole&&!(await qE({adminUid:r.uid,adminTeamId:e.adminTeamId,role:e.teamRole})).success?{success:!1,error:"Error al agregar al administrador al equipo"}:{success:!0,message:"Administrador registrado exitosamente"}:{success:!1,error:"Error al insertar las credenciales del administrador"}:{success:!1,error:"Error al asignar el rol del administrador"}}catch(r){return console.error(r),{success:!1,error:"Ocurrió un error inesperado durante el registro"}}}function Fze({onClose:e}){const[t,r]=_.useState(""),[n,a]=_.useState(""),[i,s]=_.useState(""),[o,c]=_.useState(""),[u,d]=_.useState(""),[f]=_.useState("Owner"),[p,m]=_.useState(""),[h]=_.useState(!0),[g,x]=_.useState(!1),[v,b]=_.useState(!1),[y,k]=_.useState(!1),[E,S]=_.useState([]),[w,j]=_.useState([]),[T,C]=_.useState(""),[A,N]=_.useState(!1),[I,M]=_.useState(null),[F,q]=_.useState(null),[W,V]=_.useState(!1),[B,R]=_.useState(!1),{user:ne}=Nt(),[z,P]=_.useState(v?"master":g?"super":y?"support":"");_.useEffect(()=>{b(z==="master"),x(z==="super"),k(z==="support")},[z]);const G={"":"Superusuario: puede registrar y dar seguimiento a solicitudes de su equipo, pero no puede eliminarlas. Ideal para usuarios operativos que solo gestionan su propio equipo.",super:"Administrador: puede registrar, dar seguimiento y eliminar solicitudes dentro de su equipo. Ideal para líderes o responsables con control completo sobre su equipo.",master:"Superadministrador: acceso total a solicitudes de todos los equipos. Puede gestionar plantillas, ver estadísticas y administrar equipos. Ideal para usuarios con responsabilidades globales o de coordinación general.",support:"Administrador de soporte: puede registrar y crear otros administradores, pero no tiene acceso a datos de equipos ni estadísticas. Ideal para personal de soporte o gestión de usuarios."},J=({text:L})=>l.jsxs("div",{className:"group relative inline-block ml-1",children:[l.jsx(fM,{className:"w-4 h-4 text-gray-500 hover:text-blue-500 transition-colors duration-200"}),l.jsx("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-blue-500 text-white text-m font-semibold rounded-md px-4 py-2 w-[300px] text-center shadow-md",children:L})]}),te=L=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/.test(L);_.useEffect(()=>{(async()=>{try{const[K,O]=await Promise.all([tc(),cd()]);S(K),j(O)}catch(K){M("Error al cargar roles o equipos."),console.error(K)}})()},[]);const re=Array.from(new Set(E.map(L=>L.type).filter(Boolean))),D=E.filter(L=>L.type===T),H=async L=>{if(L.preventDefault(),M(null),q(null),!(ne!=null&&ne.idToken)){M("Ocurrió un error interno, recargue la página.");return}N(!0);try{const O=await Dze({displayName:t,email:n,password:i,phone:o,role:u,isInternal:h,isSuperAdmin:v?!1:g,isMasterAdmin:v,isSupportAdmin:y,teamRole:f||void 0,adminTeamId:p||void 0},ne.idToken);O.success?(q(O.message||"Administrador registrado exitosamente."),setTimeout(()=>e(),1500)):M(O.error||"Ocurrió un error.")}catch(K){console.error("Error inesperado:",K),M("Ocurrió un error inesperado.")}finally{N(!1)}};return l.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-start overflow-y-auto px-4 py-10",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl p-8 relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:l.jsx(Dt,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Agregar nuevo administrador"}),I&&l.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-100 rounded-md p-3",children:I}),F&&l.jsx("div",{className:"mb-4 text-sm text-green-700 bg-green-100 rounded-md p-3",children:F}),l.jsxs("form",{onSubmit:H,className:"space-y-8",children:[l.jsxs("section",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(xM,{className:"w-5 h-5"})," Información personal"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Nombre ",l.jsx(J,{text:"Nombre completo del administrador que estás registrando."})]}),l.jsx("input",{type:"text",value:t,onChange:L=>r(L.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:A,required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Teléfono ",l.jsx(J,{text:"Número de contacto del administrador (opcional)."})]}),l.jsx("input",{type:"text",value:o,onChange:L=>c(L.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:A})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Correo electrónico ",l.jsx(J,{text:"Correo que  usará el nuevo administrador."})]}),l.jsx("input",{type:"email",value:n,onChange:L=>a(L.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:A,required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Contraseña ",l.jsx(J,{text:"Debe tener al menos 8 caracteres, incluyendo mayúsculas, minúsculas, números y símbolos."})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:B?"text":"password",value:i,onChange:L=>s(L.target.value),onBlur:()=>V(!0),className:"w-full border rounded-md px-3 py-2 text-sm pr-10",disabled:A,required:!0}),l.jsx("button",{type:"button",onClick:()=>R(!B),className:"absolute right-3 top-2.5 text-gray-500",children:B?l.jsx(WE,{className:"w-4 h-4"}):l.jsx(fd,{className:"w-4 h-4"})})]}),W&&!te(i)&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un símbolo."})]})]})]}),l.jsxs("section",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(tJ,{className:"w-5 h-5"})," Rol y permisos"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selecciona el rol de administrador:"}),l.jsx("div",{className:"flex flex-wrap gap-4",children:[{label:"Super usuario",value:""},{label:"Administrador",value:"super"},{label:"Super Administrador",value:"master"},{label:"Soporte",value:"support"}].map(({label:L,value:K})=>l.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[l.jsx(J,{text:G[K]}),l.jsx("button",{type:"button",onClick:()=>P(K),className:`px-3 py-1 rounded-full text-sm border transition ${z===K?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:L})]},K))})]}),!v&&!y&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Vertical ",l.jsx(J,{text:"Categoría general del producto que administrará."})]}),l.jsxs("select",{value:T,onChange:L=>{C(L.target.value),d("")},className:"w-full border rounded-md px-3 py-2 text-sm",disabled:A,required:!0,children:[l.jsx("option",{value:"",children:"Seleccione una vertical"}),re.map(L=>l.jsx("option",{value:L,children:L},L))]})]}),!v&&!y&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Producto ",l.jsx(J,{text:"Producto específico dentro de la vertical seleccionada."})]}),l.jsxs("select",{value:u,onChange:L=>d(L.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:!T||A,required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un producto"}),D.map(L=>l.jsx("option",{value:L.id,children:L.name||"Sin nombre"},L.id))]})]})]})]}),!v&&!y&&l.jsxs("section",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(md,{className:"w-5 h-5"})," Equipo (opcional)"]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Equipo ",l.jsx(J,{text:"Al asignar un equipo, se habilita la colaboración en solicitudes dentro del mismo grupo. Si no se asigna un equipo, el administrador trabajará de forma aislada."}),"                                "]}),l.jsxs("select",{value:p,onChange:L=>m(L.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:A,children:[l.jsx("option",{value:"",children:"Sin equipo"}),w.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))]})]})})]}),l.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:A||!te(i),children:A?"Guardando...":"Guardar"}),l.jsx("button",{type:"button",onClick:e,className:"text-gray-600 hover:underline",children:"Cancelar"})]})]})]})})}async function Mze(e){try{if(!(await GF({name:e.displayName,email:e.email,phone:e.phone,role:e.role,isInternal:e.isInternal,isSuperAdmin:e.isSuperAdmin,isMasterAdmin:e.isMasterAdmin,isSupportAdmin:e.isSupportAdmin,isEditor:e.isEditor,isViewer:e.isViewer,adminUid:e.uid})).success)return{success:!1,error:"Error al actualizar las credenciales del administrador."};if(e.adminTeamId&&e.teamRole){if(e.adminTeamMemberId){if(!(await nM({adminTeamMemberId:e.adminTeamMemberId,adminTeamId:e.adminTeamId,role:e.teamRole})).success)return{success:!1,error:"Error al actualizar el rol del administrador en el equipo."}}else if(!(await qE({adminUid:e.uid,adminTeamId:e.adminTeamId,role:e.teamRole})).success)return{success:!1,error:"Error al agregar al administrador al equipo."}}return{success:!0,message:"Administrador actualizado correctamente."}}catch(t){return console.error("Error en updateAdminInfo:",t),{success:!1,error:"Ocurrió un error inesperado durante la actualización."}}}function Lze({admin:e,onClose:t}){var ne,z;const[r,n]=_.useState(e.name||""),[a]=_.useState(e.email||""),[i,s]=_.useState(e.role||""),[o,c]=_.useState(((ne=e.adminTeamMember_on_admin)==null?void 0:ne.adminTeamId)||""),[u,d]=_.useState(((z=e.adminTeamMember_on_admin)==null?void 0:z.role)||""),[f]=_.useState(e.isInternal),[p,m]=_.useState(e.isSuperAdmin),[h,g]=_.useState(e.isMasterAdmin),[x,v]=_.useState(e.isSupportAdmin),[b,y]=_.useState([]),[k,E]=_.useState([]),[S,w]=_.useState(""),[j,T]=_.useState(!1),[C,A]=_.useState(null),[N,I]=_.useState(null),[M,F]=_.useState(h?"master":p?"super":x?"support":"");_.useEffect(()=>{g(M==="master"),m(M==="super"),v(M==="support")},[M]);const q={"":"Superusuario: puede registrar y dar seguimiento a solicitudes de su equipo, pero no puede eliminarlas. Ideal para usuarios operativos que solo gestionan su propio equipo.",super:"Administrador: puede registrar, dar seguimiento y eliminar solicitudes dentro de su equipo. Ideal para líderes o responsables con control completo sobre su equipo.",master:"Superadministrador: acceso total a solicitudes de todos los equipos. Puede gestionar plantillas, ver estadísticas y administrar equipos. Ideal para usuarios con responsabilidades globales o de coordinación general.",support:"Administrador de soporte: puede registrar y crear otros administradores, pero no tiene acceso a datos de equipos ni estadísticas. Ideal para personal de soporte o gestión de usuarios."},W=({text:P})=>l.jsxs("div",{className:"group relative inline-block ml-1",children:[l.jsx(fM,{className:"w-4 h-4 text-gray-500 hover:text-blue-500 transition-colors duration-200"}),l.jsx("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-blue-500 text-white text-m font-semibold rounded-md px-4 py-2 w-[300px] text-center shadow-md",children:P})]});_.useEffect(()=>{(async()=>{try{const[G,J]=await Promise.all([tc(),cd()]);y(G),E(J);const te=G.find(re=>re.id===e.role);te!=null&&te.type&&w(te.type)}catch(G){I("Error al cargar roles o equipos."),console.error(G)}})()},[]);const V=Array.from(new Set(b.map(P=>P.type).filter(Boolean))),B=b.filter(P=>P.type===S),R=async P=>{var G;P.preventDefault(),I(null),A(null),T(!0);try{const J=await Mze({uid:e.uid,displayName:r,role:i,isInternal:f,isSuperAdmin:p,isMasterAdmin:h,isSupportAdmin:x,isEditor:u==="editor",isViewer:u==="viewer",adminTeamId:o||void 0,adminTeamMemberId:((G=e.adminTeamMember_on_admin)==null?void 0:G.id)||void 0,teamRole:u||void 0});J.success?(A(J.message||"Administrador actualizado correctamente."),setTimeout(()=>t(),1500)):I(J.error||"Ocurrió un error.")}catch(J){I("Ocurrió un error inesperado."),console.error(J)}finally{T(!1)}};return l.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 overflow-y-auto flex justify-center items-start py-10 px-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl p-8 relative max-h-screen overflow-y-auto",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-xl",children:"✕"}),l.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Actualizar administrador"}),N&&l.jsx("div",{className:"mb-4 p-3 text-sm text-red-700 bg-red-100 rounded-md",children:N}),C&&l.jsx("div",{className:"mb-4 p-3 text-sm text-green-700 bg-green-100 rounded-md",children:C}),l.jsxs("form",{onSubmit:R,className:"space-y-8 divide-y divide-gray-200",children:[l.jsxs("fieldset",{className:"",children:[l.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Información personal"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:"Nombre",value:r,onChange:P=>n(P.target.value),className:"mt-1 w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:j||h||x}),l.jsx("input",{type:"email",placeholder:"Correo electrónico",value:a,readOnly:!0,disabled:!0,className:"mt-1 w-full border bg-gray-100 rounded-md px-3 py-2 text-sm text-gray-600"})]})]}),l.jsxs("fieldset",{className:"",children:[l.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Rol y permisos"}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selecciona el rol de administrador:"}),l.jsx("div",{className:"flex flex-wrap gap-4",children:[{label:"Super usuario",value:""},{label:"Administrador",value:"super"},{label:"Super Administrador",value:"master"},{label:"Soporte",value:"support"}].map(({label:P,value:G})=>l.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[l.jsx(W,{text:q[G]}),l.jsx("button",{type:"button",onClick:()=>F(G),className:`px-3 py-1 rounded-full text-sm border transition ${M===G?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:P})]},G))})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:!h&&!x&&l.jsxs(l.Fragment,{children:[l.jsxs("select",{value:S,onChange:P=>{w(P.target.value),s("")},className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:j||h||x,children:[l.jsx("option",{value:"",children:"Seleccione una vertical"}),V.map(P=>l.jsx("option",{value:P,children:P},P))]}),l.jsxs("select",{value:i,onChange:P=>s(P.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:!S||j||h||x,children:[l.jsx("option",{value:"",children:"Seleccione un producto"}),B.map(P=>l.jsx("option",{value:P.id,children:P.name||"Sin nombre"},P.id))]})]})})]}),!h&&!x&&l.jsx(l.Fragment,{children:l.jsxs("fieldset",{className:"",children:[l.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Equipo (opcional)"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("select",{value:o,onChange:P=>c(P.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",disabled:j,children:[l.jsx("option",{value:"",children:"Sin equipo"}),k.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]}),o&&l.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:j,children:[l.jsx("option",{value:"",children:"Seleccione un rol"}),l.jsx("option",{value:"owner",children:"Owner"}),l.jsx("option",{value:"editor",children:"Editor"}),l.jsx("option",{value:"viewer",children:"Viewer"})]})]})]})}),l.jsxs("div",{className:"pt-6 flex justify-end items-center gap-4",children:[j&&l.jsx("span",{className:"text-sm text-gray-500",children:"Actualizando..."}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:!i||j,children:j?"Guardando...":"Actualizar"})]})]})]})})}function $ze({admin:e,onClose:t}){var f;const[r,n]=_.useState([]),[a,i]=_.useState([]),[s,o]=_.useState(""),c=p=>p.isSupportAdmin?{label:"Soporte"}:p.isMasterAdmin?{label:"Super Administrador"}:p.isSuperAdmin?{label:"Administrador"}:{label:"Super usuario"};_.useEffect(()=>{(async()=>{const[m,h]=await Promise.all([tc(),cd()]);n(m),i(h);const g=m.find(x=>x.id===e.role);g!=null&&g.type&&o(g.type)})()},[e]);const u=r.find(p=>p.id===e.role),d=a.find(p=>{var m;return p.id===((m=e.adminTeamMember_on_admin)==null?void 0:m.adminTeamId)});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6 space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Detalles del administrador"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",e.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Correo:"})," ",e.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tipo:"})," ",e.isInternal?"Interno":"Externo"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rol:"})," ",c(e).label]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Vertical:"})," ",s||"No definida"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Producto:"})," ",(u==null?void 0:u.name)||"Sin producto"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Equipo:"})," ",(d==null?void 0:d.name)||"Sin equipo"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rol en equipo:"})," ",((f=e.adminTeamMember_on_admin)==null?void 0:f.role)||"No asignado"]})]}),l.jsx("div",{className:"pt-4 text-right",children:l.jsx("button",{onClick:t,className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cerrar"})})]})})}function Bze({adminName:e,onConfirm:t,onCancel:r,isLoading:n}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"¿Eliminar administrador?"}),l.jsxs("p",{className:"text-sm mb-6 text-gray-600",children:["¿Estás seguro de que deseas eliminar a ",l.jsx("strong",{children:e}),"? Esta acción no se puede deshacer."]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:r,disabled:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50",children:"Cancelar"}),l.jsx("button",{onClick:t,disabled:n,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center gap-2 disabled:opacity-50",children:n?l.jsxs(l.Fragment,{children:[l.jsx($t,{className:"w-4 h-4 animate-spin"}),"Eliminando..."]}):"Confirmar"})]})]})})}async function zze({adminUid:e,adminToken:t}){try{return(await TY({adminUid:e})).success?(await Kv({uid:e},t)).success?{success:!0,message:"Administrador eliminado correctamente."}:{success:!1,message:"Falló la eliminación del usuario en Firebase",error:"Error desconocido"}:{success:!1,error:"No se pudo eliminar el administrador en la base de datos"}}catch(r){return console.error("Error al eliminar al administrador:",r),{success:!1,error:"Error inesperado al eliminar el administrador."}}}function Uze(){const[e,t]=_.useState(!1),[r,n]=_.useState(null),[a,i]=_.useState(null),[s,o]=_.useState(null),[c,u]=_.useState([]),[d,f]=_.useState([]),[,p]=_.useState([]),[m,h]=_.useState(!0),[g,x]=_.useState(!1),{user:v}=Nt(),b=Qt(),[y,k]=_.useState(null),[E,S]=_.useState("asc");_.useEffect(()=>{(async()=>{h(!0);const[N,I,M]=await Promise.all([oM(),tc(),cd()]);u(N),f(I),p(M),h(!1)})()},[e,r]);const w=A=>A.isSupportAdmin?{label:"Soporte",color:"red"}:A.isMasterAdmin?{label:"Super Administrador",color:"green"}:A.isSuperAdmin?{label:"Administrador",color:"blue"}:{label:"Super usuario",color:"gray"},j=A=>{y===A?S(N=>N==="asc"?"desc":"asc"):(k(A),S("asc"))},T=[...c].sort((A,N)=>{if(!y)return 0;let I="",M="";if(y==="role"){const F=q=>q.isMasterAdmin?3:q.isSuperAdmin?2:1;return E==="asc"?F(A)-F(N):F(N)-F(A)}else if(y==="type")I=A.isInternal?"Interno":"Externo",M=N.isInternal?"Interno":"Externo";else if(y==="vertical"){const F=d.find(W=>W.id===A.role),q=d.find(W=>W.id===N.role);I=`${(F==null?void 0:F.type)||""} ${(F==null?void 0:F.name)||""}`,M=`${(q==null?void 0:q.type)||""} ${(q==null?void 0:q.name)||""}`}return E==="asc"?I.localeCompare(M):M.localeCompare(I)}),C=async()=>{if(!a||!(v!=null&&v.idToken))return;x(!0);const A=await zze({adminUid:a.uid,adminToken:v.idToken});x(!1),A.success?u(N=>N.filter(I=>I.id!==a.id)):alert(A.error||"Error al eliminar administrador"),i(null)};return l.jsxs("div",{className:"min-h-screen text-gray-800 py-10 px-4 sm:px-6 lg:px-8",children:[l.jsx("button",{onClick:()=>b(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:l.jsx(ud,{className:"w-6 h-6"})}),l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Administradores"}),l.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition",children:"Nuevo administrador"})]}),l.jsxs("section",{className:"bg-white border rounded-xl shadow-sm",children:[l.jsx("div",{className:"px-6 py-4 border-b",children:l.jsx("h3",{className:"text-lg font-medium",children:"Lista de administradores"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 text-left text-xs text-gray-500 uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Nombre"}),l.jsx("th",{className:"px-6 py-3",children:"Correo"}),l.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>j("role"),children:["Rol"," ",y==="role"&&(E==="asc"?l.jsx(Oi,{size:12}):l.jsx(Qr,{size:12}))]}),l.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>j("type"),children:["Tipo"," ",y==="type"&&(E==="asc"?l.jsx(Oi,{size:12}):l.jsx(Qr,{size:12}))]}),l.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>j("vertical"),children:["Vertical"," ",y==="vertical"&&(E==="asc"?l.jsx(Oi,{size:12}):l.jsx(Qr,{size:12}))]}),l.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:m?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:"Cargando administradores..."})}):T.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No hay administradores registrados."})}):T.map(A=>{const N=w(A);return l.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:I=>{I.target.tagName!=="BUTTON"&&o(A)},children:[l.jsx("td",{className:"px-6 py-4 font-medium",children:A.name}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:A.email}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full bg-${N.color}-100 text-${N.color}-800`,children:N.label})}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:A.isInternal?"Interno":"Externo"}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:(()=>{const I=d.find(M=>M.id===A.role);return I?`${I.type??"Sin vertical"} / ${I.name??"Sin producto"}`:"No Aplica"})()}),l.jsxs("td",{className:"px-6 py-4 space-x-3",children:[l.jsx("button",{onClick:()=>n(A),className:"text-blue-600 hover:underline",children:"Editar"}),l.jsx("button",{onClick:()=>i(A),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},A.id)})})]})})]})]}),e&&l.jsx(Fze,{onClose:()=>t(!1)}),r&&l.jsx(Lze,{admin:r,onClose:()=>n(null)}),a&&l.jsx(Bze,{adminName:a.name,onConfirm:C,onCancel:()=>i(null),isLoading:g}),s&&l.jsx($ze,{admin:s,onClose:()=>o(null)})]})}function qze(){return l.jsx(Qn,{children:l.jsx(Uze,{})})}function Vze({onClose:e,onCreate:t,isLoading:r}){const[n,a]=_.useState(""),i=()=>{n.trim()&&t(n.trim())};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:l.jsx(Dt,{size:20})}),l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nuevo equipo"}),l.jsx("input",{type:"text",placeholder:"Nombre del equipo",value:n,onChange:s=>a(s.target.value),className:"w-full border px-3 py-2 rounded mb-4",autoFocus:!0}),l.jsxs("button",{onClick:i,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2",children:[l.jsx(Jn,{size:16})," Crear equipo"]})]})})}function Hze(){const[e,t]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(!0),[s,o]=_.useState(!1),[c,u]=_.useState(null),[d,f]=_.useState(""),[p,m]=_.useState(!1),h=Qt();_.useEffect(()=>{g()},[]);const g=async()=>{i(!0);const[k,E]=await Promise.all([oM(),cd()]);t(k),n(E),i(!1)},x=k=>e.filter(E=>{var S;return((S=E.adminTeamMember_on_admin)==null?void 0:S.adminTeamId)===k}),v=async k=>{if(x(k).length>0){alert("No puedes eliminar un equipo con integrantes asignados.");return}if(!window.confirm("¿Estás seguro que deseas eliminar este equipo?"))return;(await HY(k)).success?await g():alert("Error al eliminar el equipo")},b=k=>{u(k.id),f(k.name)},y=async()=>{if(!c||!d.trim())return;(await WY({adminTeamId:c,name:d.trim()})).success?(u(null),await g()):alert("Error al actualizar el equipo")};return l.jsxs("div",{className:"min-h-screen text-gray-800 py-10 px-4 sm:px-6 lg:px-8",children:[l.jsx("button",{onClick:()=>h(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:l.jsx(ud,{className:"w-6 h-6"})}),l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Equipos de Administradores"}),l.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm flex items-center gap-2",children:[l.jsx(Jn,{size:16})," Nuevo equipo"]})]}),a?l.jsx("p",{className:"text-gray-500",children:"Cargando equipos..."}):r.length===0?l.jsx("p",{className:"text-gray-500",children:"No hay equipos registrados."}):l.jsx("div",{className:"space-y-4",children:r.map(k=>{const E=x(k.id),S=c===k.id;return l.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(md,{className:"text-blue-500"}),S?l.jsx("input",{type:"text",value:d,onChange:w=>f(w.target.value),className:"border px-2 py-1 text-sm rounded"}):l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:k.name})]}),l.jsx("div",{className:"flex gap-2",children:S?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:y,className:"text-green-600 hover:text-green-800",children:l.jsx(Dl,{size:18})}),l.jsx("button",{onClick:()=>u(null),className:"text-gray-600 hover:text-gray-800",children:l.jsx(Dt,{size:18})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>b(k),className:"text-gray-600 hover:text-gray-800",title:"Editar nombre",children:l.jsx(tg,{size:18})}),l.jsx("button",{onClick:()=>v(k.id),className:"text-red-600 hover:text-red-800",title:"Eliminar equipo",children:l.jsx(Mo,{size:18})})]})})]}),E.length>0?l.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 pl-2",children:E.map(w=>l.jsxs("li",{children:[w.name," (",w.email,")"]},w.id))}):l.jsx("p",{className:"text-gray-500 text-sm pl-1",children:"Sin integrantes."})]},k.id)})})]}),p&&l.jsx(Vze,{onClose:()=>m(!1),isLoading:s,onCreate:async k=>{o(!0),(await VY({name:k})).success?(m(!1),await g()):alert("Error al crear el equipo"),o(!1)}})]})}function Wze(){return l.jsx(Qn,{children:l.jsx(Hze,{})})}const Gze=()=>l.jsxs(UV,{children:[l.jsx(sr,{path:"/",element:l.jsx(NT,{})}),l.jsx(sr,{path:"/:magicToken",element:l.jsx(NT,{})}),l.jsx(sr,{path:"/register",element:l.jsx(iJ,{})}),l.jsx(sr,{path:"/not-authorized",element:l.jsx(VEe,{})}),l.jsx(sr,{path:"/offline",element:l.jsx(Oze,{children:l.jsx(Pze,{})})}),l.jsx(sr,{path:"/user/dashboard",element:l.jsx(ib,{children:l.jsx(Ize,{})})}),l.jsx(sr,{path:"/user/welcome",element:l.jsx(ib,{children:l.jsx(kT,{})})}),l.jsx(sr,{path:"/user/welcome/:productSelectedId",element:l.jsx(ib,{children:l.jsx(kT,{})})}),l.jsxs(sr,{path:"/admin",children:[l.jsx(sr,{path:"dashboard",element:l.jsx(Yo,{children:l.jsx(qEe,{})})}),l.jsx(sr,{path:"credentials",element:l.jsx(P$e,{})}),l.jsx(sr,{path:"teams",element:l.jsx(Rze,{})}),l.jsx(sr,{path:"teams/overview",element:l.jsx(Wze,{})}),l.jsx(sr,{path:"templates/management",element:l.jsx(Yo,{children:l.jsx(M$e,{})})}),l.jsx(sr,{path:"management",element:l.jsx(Yo,{children:l.jsx(qze,{})})}),l.jsxs(sr,{path:"nafin",children:[l.jsx(sr,{path:"product/request",element:l.jsx(Yo,{children:l.jsx(YEe,{})})}),l.jsx(sr,{path:"product/onboarding",element:l.jsx(Yo,{children:l.jsx(I$e,{})})})]}),l.jsxs(sr,{path:"tengo",children:[l.jsx(sr,{path:"product/request",element:l.jsx(Yo,{children:l.jsx(RBe,{})})}),l.jsx(sr,{path:"product/onboarding",element:l.jsx(Yo,{children:l.jsx(NBe,{})})})]})]})]}),Xze=({children:e})=>{const[t,r]=_.useState(()=>{const i=sessionStorage.getItem("selectedProduct");return i?JSON.parse(i):null});_.useEffect(()=>{t?sessionStorage.setItem("selectedProduct",JSON.stringify(t)):sessionStorage.removeItem("selectedProduct")},[t]);const n=i=>{r(s=>s?{...s,...i}:i)},a=()=>r(null);return l.jsx(_M.Provider,{value:{selectedProduct:t,selectProduct:n,deselectProduct:a},children:e})},Kze=({children:e})=>{const[t,r]=_.useState(()=>{const o=sessionStorage.getItem("formStatuses");return o?JSON.parse(o):[]});_.useEffect(()=>{sessionStorage.setItem("formStatuses",JSON.stringify(t))},[t]);const n=o=>{r(c=>[...c,{...o,updatedAt:new Date}])},a=(o,c)=>{r(u=>u.map(d=>d.id===o?{...d,status:c,updatedAt:new Date}:d))},i=o=>{r(c=>c.filter(u=>u.id!==o))},s=o=>{const c=t.find(u=>u.id===o);return c?c.status:void 0};return l.jsx(u7.Provider,{value:{formStatuses:t,addFormStatus:n,updateFormStatus:a,removeFormStatus:i,getStatusById:s},children:e})};function Yze(){return l.jsxs(HV,{children:[l.jsx(Kze,{children:l.jsx(Xze,{children:l.jsx(WV,{children:l.jsx(GY,{children:l.jsx(Gze,{})})})})}),l.jsx(qr,{})]})}const Jze={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYZE_API_TOKEN:"codigodeacceso",VITE_ANALYZE_SERVER_BASE_URL:"https://documentaiservices-269526555085.us-central1.run.app",VITE_API_BASE_URL:"https://documentaibackend-269526555085.us-central1.run.app",VITE_API_FRONT_URL:"https://documentaihostingpage-269526555085.us-central1.run.app",VITE_BUCKETDOCS_API_TOKEN:"tokendebucket",VITE_BUCKETDOCS_BASE_URL:"https://bucketdocs-269526555085.us-central1.run.app",VITE_EMAIL_API_TOKEN:"tokendemailer",VITE_EMAIL_SERVER_BASE_URL:"https://sendtwiliomails-269526555085.us-central1.run.app",VITE_FIREBASE_API_KEY:"AIzaSyAxQuDj03p8iXzTpjJb1_XTT_AuamQ_EU0",VITE_FIREBASE_APP_ID:"1:269526555085:web:7e886c2ea8e85ac9530c84",VITE_FIREBASE_AUTH_DOMAIN:"logintest-441321.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"269526555085",VITE_FIREBASE_PROJECT_ID:"logintest-441321",VITE_FIREBASE_STORAGE_BUCKET:"logintest-441321.firebasestorage.app",VITE_OPENAI_API_TOKEN:"codigodeacceso",VITE_OPENAI_SERVER_BASE_URL:"https://openaianalizer-269526555085.us-central1.run.app",VITE_PDFGENERATOR_API_TOKEN:"tokenpdfgenerator",VITE_PDF_GENERATOR_BASE_URL:"https://pdfformatgenerator-269526555085.us-central1.run.app",VITE_STORAGE_ROOT_FOLDER:"documentos"};function en(e){const t=Jze[e];if(!t)throw new Error(`❌ FALTA variable de entorno: ${e}`);return t}en("VITE_FIREBASE_API_KEY");en("VITE_FIREBASE_AUTH_DOMAIN");en("VITE_FIREBASE_PROJECT_ID");en("VITE_FIREBASE_STORAGE_BUCKET");en("VITE_FIREBASE_MESSAGING_SENDER_ID");en("VITE_FIREBASE_APP_ID");en("VITE_API_FRONT_URL");en("VITE_STORAGE_ROOT_FOLDER");en("VITE_API_BASE_URL");en("VITE_EMAIL_SERVER_BASE_URL");en("VITE_EMAIL_API_TOKEN");en("VITE_ANALYZE_SERVER_BASE_URL");en("VITE_ANALYZE_API_TOKEN");en("VITE_BUCKETDOCS_BASE_URL");en("VITE_BUCKETDOCS_API_TOKEN");en("VITE_PDF_GENERATOR_BASE_URL");en("VITE_PDFGENERATOR_API_TOKEN");bD(document.getElementById("root")).render(l.jsx(_.StrictMode,{children:l.jsx(Yze,{})}));
