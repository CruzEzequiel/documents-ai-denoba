var mU=Object.defineProperty;var pU=(e,t,r)=>t in e?mU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cf=(e,t,r)=>pU(e,typeof t!="symbol"?t+"":t,r);function hU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e5={exports:{}},av={},t5={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=Symbol.for("react.element"),gU=Symbol.for("react.portal"),xU=Symbol.for("react.fragment"),vU=Symbol.for("react.strict_mode"),yU=Symbol.for("react.profiler"),bU=Symbol.for("react.provider"),wU=Symbol.for("react.context"),SU=Symbol.for("react.forward_ref"),NU=Symbol.for("react.suspense"),EU=Symbol.for("react.memo"),jU=Symbol.for("react.lazy"),ik=Symbol.iterator;function _U(e){return e===null||typeof e!="object"?null:(e=ik&&e[ik]||e["@@iterator"],typeof e=="function"?e:null)}var r5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n5=Object.assign,a5={};function Ed(e,t,r){this.props=e,this.context=t,this.refs=a5,this.updater=r||r5}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i5(){}i5.prototype=Ed.prototype;function sN(e,t,r){this.props=e,this.context=t,this.refs=a5,this.updater=r||r5}var oN=sN.prototype=new i5;oN.constructor=sN;n5(oN,Ed.prototype);oN.isPureReactComponent=!0;var sk=Array.isArray,s5=Object.prototype.hasOwnProperty,lN={current:null},o5={key:!0,ref:!0,__self:!0,__source:!0};function l5(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)s5.call(t,n)&&!o5.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Vp,type:e,key:i,ref:s,props:a,_owner:lN.current}}function kU(e,t){return{$$typeof:Vp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vp}function CU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ok=/\/+/g;function Yy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CU(""+e.key):t.toString(36)}function F0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vp:case gU:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Yy(s,0):n,sk(a)?(r="",e!=null&&(r=e.replace(ok,"$&/")+"/"),F0(a,t,r,"",function(u){return u})):a!=null&&(cN(a)&&(a=kU(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(ok,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",sk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Yy(i,l);s+=F0(i,t,r,c,a)}else if(c=_U(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Yy(i,l++),s+=F0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Mh(e,t,r){if(e==null)return e;var n=[],a=0;return F0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function TU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},M0={transition:null},AU={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:M0,ReactCurrentOwner:lN};function c5(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Mh,forEach:function(e,t,r){Mh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mh(e,function(){t++}),t},toArray:function(e){return Mh(e,function(t){return t})||[]},only:function(e){if(!cN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Ed;ft.Fragment=xU;ft.Profiler=yU;ft.PureComponent=sN;ft.StrictMode=vU;ft.Suspense=NU;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AU;ft.act=c5;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n5({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=lN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)s5.call(t,c)&&!o5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Vp,type:e.type,key:a,ref:i,props:n,_owner:s}};ft.createContext=function(e){return e={$$typeof:wU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bU,_context:e},e.Consumer=e};ft.createElement=l5;ft.createFactory=function(e){var t=l5.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:SU,render:e}};ft.isValidElement=cN;ft.lazy=function(e){return{$$typeof:jU,_payload:{_status:-1,_result:e},_init:TU}};ft.memo=function(e,t){return{$$typeof:EU,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=M0.transition;M0.transition={};try{e()}finally{M0.transition=t}};ft.unstable_act=c5;ft.useCallback=function(e,t){return qn.current.useCallback(e,t)};ft.useContext=function(e){return qn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return qn.current.useEffect(e,t)};ft.useId=function(){return qn.current.useId()};ft.useImperativeHandle=function(e,t,r){return qn.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return qn.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return qn.current.useReducer(e,t,r)};ft.useRef=function(e){return qn.current.useRef(e)};ft.useState=function(e){return qn.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return qn.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return qn.current.useTransition()};ft.version="18.3.1";t5.exports=ft;var w=t5.exports;const ae=Ot(w),IU=hU({__proto__:null,default:ae},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU=w,OU=Symbol.for("react.element"),RU=Symbol.for("react.fragment"),DU=Object.prototype.hasOwnProperty,FU=PU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MU={key:!0,ref:!0,__self:!0,__source:!0};function u5(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)DU.call(t,n)&&!MU.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:OU,type:e,key:i,ref:s,props:a,_owner:FU.current}}av.Fragment=RU;av.jsx=u5;av.jsxs=u5;e5.exports=av;var o=e5.exports,d5={exports:{}},Ea={},f5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,B){var F=q.length;q.push(B);e:for(;0<F;){var ne=F-1>>>1,U=q[ne];if(0<a(U,B))q[ne]=B,q[F]=U,F=ne;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var B=q[0],F=q.pop();if(F!==B){q[0]=F;e:for(var ne=0,U=q.length,R=U>>>1;ne<R;){var K=2*(ne+1)-1,J=q[K],te=K+1,re=q[te];if(0>a(J,F))te<U&&0>a(re,J)?(q[ne]=re,q[te]=F,ne=te):(q[ne]=J,q[K]=F,ne=K);else if(te<U&&0>a(re,F))q[ne]=re,q[te]=F,ne=te;else break e}}return B}function a(q,B){var F=q.sortIndex-B.sortIndex;return F!==0?F:q.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,h=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=q)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(q){if(g=!1,y(q),!h)if(r(c)!==null)h=!0,W(E);else{var B=r(u);B!==null&&H(j,B.startTime-q)}}function E(q,B){h=!1,g&&(g=!1,v(T),T=-1),p=!0;var F=m;try{for(y(B),f=r(c);f!==null&&(!(f.expirationTime>B)||q&&!A());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var U=ne(f.expirationTime<=B);B=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),y(B)}else n(c);f=r(c)}if(f!==null)var R=!0;else{var K=r(u);K!==null&&H(j,K.startTime-B),R=!1}return R}finally{f=null,m=F,p=!1}}var N=!1,S=null,T=-1,C=5,k=-1;function A(){return!(e.unstable_now()-k<C)}function _(){if(S!==null){var q=e.unstable_now();k=q;var B=!0;try{B=S(!0,q)}finally{B?I():(N=!1,S=null)}}else N=!1}var I;if(typeof b=="function")I=function(){b(_)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=_,I=function(){L.postMessage(null)}}else I=function(){x(_,0)};function W(q){S=q,N||(N=!0,I())}function H(q,B){T=x(function(){q(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,W(E))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var F=m;m=B;try{return q()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var F=m;m=q;try{return B()}finally{m=F}},e.unstable_scheduleCallback=function(q,B,F){var ne=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ne+F:ne):F=ne,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,q={id:d++,callback:B,priorityLevel:q,startTime:F,expirationTime:U,sortIndex:-1},F>ne?(q.sortIndex=F,t(u,q),r(c)===null&&q===r(u)&&(g?(v(T),T=-1):g=!0,H(j,F-ne))):(q.sortIndex=U,t(c,q),h||p||(h=!0,W(E))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var B=m;return function(){var F=m;m=B;try{return q.apply(this,arguments)}finally{m=F}}}})(m5);f5.exports=m5;var LU=f5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U=w,Sa=LU;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p5=new Set,vm={};function yc(e,t){Lu(e,t),Lu(e+"Capture",t)}function Lu(e,t){for(vm[e]=t,e=0;e<t.length;e++)p5.add(t[e])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G1=Object.prototype.hasOwnProperty,BU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lk={},ck={};function zU(e){return G1.call(ck,e)?!0:G1.call(lk,e)?!1:BU.test(e)?ck[e]=!0:(lk[e]=!0,!1)}function UU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qU(e,t,r,n){if(t===null||typeof t>"u"||UU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var uN=/[\-:]([a-z])/g;function dN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uN,dN);sn[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uN,dN);sn[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uN,dN);sn[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fN(e,t,r,n){var a=sn.hasOwnProperty(t)?sn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qU(t,r,a,n)&&(r=null),n||a===null?zU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $s=$U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lh=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),mN=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),h5=Symbol.for("react.provider"),g5=Symbol.for("react.context"),pN=Symbol.for("react.forward_ref"),K1=Symbol.for("react.suspense"),Y1=Symbol.for("react.suspense_list"),hN=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),x5=Symbol.for("react.offscreen"),uk=Symbol.iterator;function uf(e){return e===null||typeof e!="object"?null:(e=uk&&e[uk]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Jy;function Of(e){if(Jy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jy=t&&t[1]||""}return`
`+Jy+e}var Qy=!1;function Zy(e,t){if(!e||Qy)return"";Qy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Qy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Of(e):""}function VU(e){switch(e.tag){case 5:return Of(e.type);case 16:return Of("Lazy");case 13:return Of("Suspense");case 19:return Of("SuspenseList");case 0:case 2:case 15:return e=Zy(e.type,!1),e;case 11:return e=Zy(e.type.render,!1),e;case 1:return e=Zy(e.type,!0),e;default:return""}}function J1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jc:return"Fragment";case Yc:return"Portal";case X1:return"Profiler";case mN:return"StrictMode";case K1:return"Suspense";case Y1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g5:return(e.displayName||"Context")+".Consumer";case h5:return(e._context.displayName||"Context")+".Provider";case pN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hN:return t=e.displayName||null,t!==null?t:J1(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return J1(e(t))}catch{}}return null}function HU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J1(t);case 8:return t===mN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WU(e){var t=v5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $h(e){e._valueTracker||(e._valueTracker=WU(e))}function y5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=v5(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q1(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Lo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function b5(e,t){t=t.checked,t!=null&&fN(e,"checked",t,!1)}function Z1(e,t){b5(e,t);var r=Lo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ew(e,t.type,r):t.hasOwnProperty("defaultValue")&&ew(e,t.type,Lo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ew(e,t,r){(t!=="number"||ig(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rf=Array.isArray;function hu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Lo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function tw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ne(92));if(Rf(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Lo(r)}}function w5(e,t){var r=Lo(t.value),n=Lo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bh,N5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ym(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GU=["Webkit","ms","Moz","O"];Object.keys(Hf).forEach(function(e){GU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hf[t]=Hf[e]})});function E5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hf.hasOwnProperty(e)&&Hf[e]?(""+t).trim():t+"px"}function j5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=E5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var XU=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nw(e,t){if(t){if(XU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function aw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iw=null;function gN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sw=null,gu=null,xu=null;function hk(e){if(e=Gp(e)){if(typeof sw!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=cv(t),sw(e.stateNode,e.type,t))}}function _5(e){gu?xu?xu.push(e):xu=[e]:gu=e}function k5(){if(gu){var e=gu,t=xu;if(xu=gu=null,hk(e),t)for(e=0;e<t.length;e++)hk(t[e])}}function C5(e,t){return e(t)}function T5(){}var eb=!1;function A5(e,t,r){if(eb)return e(t,r);eb=!0;try{return C5(e,t,r)}finally{eb=!1,(gu!==null||xu!==null)&&(T5(),k5())}}function bm(e,t){var r=e.stateNode;if(r===null)return null;var n=cv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ne(231,t,typeof r));return r}var ow=!1;if(_s)try{var df={};Object.defineProperty(df,"passive",{get:function(){ow=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{ow=!1}function KU(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wf=!1,sg=null,og=!1,lw=null,YU={onError:function(e){Wf=!0,sg=e}};function JU(e,t,r,n,a,i,s,l,c){Wf=!1,sg=null,KU.apply(YU,arguments)}function QU(e,t,r,n,a,i,s,l,c){if(JU.apply(this,arguments),Wf){if(Wf){var u=sg;Wf=!1,sg=null}else throw Error(Ne(198));og||(og=!0,lw=u)}}function bc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function I5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gk(e){if(bc(e)!==e)throw Error(Ne(188))}function ZU(e){var t=e.alternate;if(!t){if(t=bc(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return gk(a),e;if(i===n)return gk(a),t;i=i.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?e:t}function P5(e){return e=ZU(e),e!==null?O5(e):null}function O5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O5(e);if(t!==null)return t;e=e.sibling}return null}var R5=Sa.unstable_scheduleCallback,xk=Sa.unstable_cancelCallback,eq=Sa.unstable_shouldYield,tq=Sa.unstable_requestPaint,wr=Sa.unstable_now,rq=Sa.unstable_getCurrentPriorityLevel,xN=Sa.unstable_ImmediatePriority,D5=Sa.unstable_UserBlockingPriority,lg=Sa.unstable_NormalPriority,nq=Sa.unstable_LowPriority,F5=Sa.unstable_IdlePriority,iv=null,Bi=null;function aq(e){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(iv,e,void 0,(e.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:oq,iq=Math.log,sq=Math.LN2;function oq(e){return e>>>=0,e===0?32:31-(iq(e)/sq|0)|0}var zh=64,Uh=4194304;function Df(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Df(l):(i&=s,i!==0&&(n=Df(i)))}else s=r&~a,s!==0?n=Df(s):i!==0&&(n=Df(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pi(t),a=1<<r,n|=e[r],t&=~a;return n}function lq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cq(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-pi(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=lq(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function cw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function M5(){var e=zh;return zh<<=1,!(zh&4194240)&&(zh=64),e}function tb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pi(t),e[t]=r}function uq(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function vN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pt=0;function L5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $5,yN,B5,z5,U5,uw=!1,qh=[],jo=null,_o=null,ko=null,wm=new Map,Sm=new Map,co=[],dq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vk(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":wm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sm.delete(t.pointerId)}}function ff(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Gp(t),t!==null&&yN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fq(e,t,r,n,a){switch(t){case"focusin":return jo=ff(jo,e,t,r,n,a),!0;case"dragenter":return _o=ff(_o,e,t,r,n,a),!0;case"mouseover":return ko=ff(ko,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return wm.set(i,ff(wm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Sm.set(i,ff(Sm.get(i)||null,e,t,r,n,a)),!0}return!1}function q5(e){var t=_l(e.target);if(t!==null){var r=bc(t);if(r!==null){if(t=r.tag,t===13){if(t=I5(r),t!==null){e.blockedOn=t,U5(e.priority,function(){B5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function L0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);iw=n,r.target.dispatchEvent(n),iw=null}else return t=Gp(r),t!==null&&yN(t),e.blockedOn=r,!1;t.shift()}return!0}function yk(e,t,r){L0(e)&&r.delete(t)}function mq(){uw=!1,jo!==null&&L0(jo)&&(jo=null),_o!==null&&L0(_o)&&(_o=null),ko!==null&&L0(ko)&&(ko=null),wm.forEach(yk),Sm.forEach(yk)}function mf(e,t){e.blockedOn===t&&(e.blockedOn=null,uw||(uw=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,mq)))}function Nm(e){function t(a){return mf(a,e)}if(0<qh.length){mf(qh[0],e);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jo!==null&&mf(jo,e),_o!==null&&mf(_o,e),ko!==null&&mf(ko,e),wm.forEach(t),Sm.forEach(t),r=0;r<co.length;r++)n=co[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<co.length&&(r=co[0],r.blockedOn===null);)q5(r),r.blockedOn===null&&co.shift()}var vu=$s.ReactCurrentBatchConfig,ug=!0;function pq(e,t,r,n){var a=Pt,i=vu.transition;vu.transition=null;try{Pt=1,bN(e,t,r,n)}finally{Pt=a,vu.transition=i}}function hq(e,t,r,n){var a=Pt,i=vu.transition;vu.transition=null;try{Pt=4,bN(e,t,r,n)}finally{Pt=a,vu.transition=i}}function bN(e,t,r,n){if(ug){var a=dw(e,t,r,n);if(a===null)db(e,t,n,dg,r),vk(e,n);else if(fq(a,e,t,r,n))n.stopPropagation();else if(vk(e,n),t&4&&-1<dq.indexOf(e)){for(;a!==null;){var i=Gp(a);if(i!==null&&$5(i),i=dw(e,t,r,n),i===null&&db(e,t,n,dg,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else db(e,t,n,null,r)}}var dg=null;function dw(e,t,r,n){if(dg=null,e=gN(n),e=_l(e),e!==null)if(t=bc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=I5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dg=e,null}function V5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rq()){case xN:return 1;case D5:return 4;case lg:case nq:return 16;case F5:return 536870912;default:return 16}default:return 16}}var yo=null,wN=null,$0=null;function H5(){if($0)return $0;var e,t=wN,r=t.length,n,a="value"in yo?yo.value:yo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return $0=a.slice(e,1<n?1-n:void 0)}function B0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vh(){return!0}function bk(){return!1}function ja(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vh:bk,this.isPropagationStopped=bk,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),t}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SN=ja(jd),Wp=mr({},jd,{view:0,detail:0}),gq=ja(Wp),rb,nb,pf,sv=mr({},Wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pf&&(pf&&e.type==="mousemove"?(rb=e.screenX-pf.screenX,nb=e.screenY-pf.screenY):nb=rb=0,pf=e),rb)},movementY:function(e){return"movementY"in e?e.movementY:nb}}),wk=ja(sv),xq=mr({},sv,{dataTransfer:0}),vq=ja(xq),yq=mr({},Wp,{relatedTarget:0}),ab=ja(yq),bq=mr({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),wq=ja(bq),Sq=mr({},jd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nq=ja(Sq),Eq=mr({},jd,{data:0}),Sk=ja(Eq),jq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kq[e])?!!t[e]:!1}function NN(){return Cq}var Tq=mr({},Wp,{key:function(e){if(e.key){var t=jq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=B0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_q[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NN,charCode:function(e){return e.type==="keypress"?B0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?B0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Aq=ja(Tq),Iq=mr({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nk=ja(Iq),Pq=mr({},Wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NN}),Oq=ja(Pq),Rq=mr({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dq=ja(Rq),Fq=mr({},sv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mq=ja(Fq),Lq=[9,13,27,32],EN=_s&&"CompositionEvent"in window,Gf=null;_s&&"documentMode"in document&&(Gf=document.documentMode);var $q=_s&&"TextEvent"in window&&!Gf,W5=_s&&(!EN||Gf&&8<Gf&&11>=Gf),Ek=" ",jk=!1;function G5(e,t){switch(e){case"keyup":return Lq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qc=!1;function Bq(e,t){switch(e){case"compositionend":return X5(t);case"keypress":return t.which!==32?null:(jk=!0,Ek);case"textInput":return e=t.data,e===Ek&&jk?null:e;default:return null}}function zq(e,t){if(Qc)return e==="compositionend"||!EN&&G5(e,t)?(e=H5(),$0=wN=yo=null,Qc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W5&&t.locale!=="ko"?null:t.data;default:return null}}var Uq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _k(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uq[e.type]:t==="textarea"}function K5(e,t,r,n){_5(n),t=fg(t,"onChange"),0<t.length&&(r=new SN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xf=null,Em=null;function qq(e){s3(e,0)}function ov(e){var t=tu(e);if(y5(t))return e}function Vq(e,t){if(e==="change")return t}var Y5=!1;if(_s){var ib;if(_s){var sb="oninput"in document;if(!sb){var kk=document.createElement("div");kk.setAttribute("oninput","return;"),sb=typeof kk.oninput=="function"}ib=sb}else ib=!1;Y5=ib&&(!document.documentMode||9<document.documentMode)}function Ck(){Xf&&(Xf.detachEvent("onpropertychange",J5),Em=Xf=null)}function J5(e){if(e.propertyName==="value"&&ov(Em)){var t=[];K5(t,Em,e,gN(e)),A5(qq,t)}}function Hq(e,t,r){e==="focusin"?(Ck(),Xf=t,Em=r,Xf.attachEvent("onpropertychange",J5)):e==="focusout"&&Ck()}function Wq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ov(Em)}function Gq(e,t){if(e==="click")return ov(t)}function Xq(e,t){if(e==="input"||e==="change")return ov(t)}function Kq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Si=typeof Object.is=="function"?Object.is:Kq;function jm(e,t){if(Si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!G1.call(t,a)||!Si(e[a],t[a]))return!1}return!0}function Tk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ak(e,t){var r=Tk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tk(r)}}function Q5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z5(){for(var e=window,t=ig();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ig(e.document)}return t}function jN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yq(e){var t=Z5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Q5(r.ownerDocument.documentElement,r)){if(n!==null&&jN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Ak(r,i);var s=Ak(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jq=_s&&"documentMode"in document&&11>=document.documentMode,Zc=null,fw=null,Kf=null,mw=!1;function Ik(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mw||Zc==null||Zc!==ig(n)||(n=Zc,"selectionStart"in n&&jN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kf&&jm(Kf,n)||(Kf=n,n=fg(fw,"onSelect"),0<n.length&&(t=new SN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zc)))}function Hh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var eu={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},ob={},e3={};_s&&(e3=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function lv(e){if(ob[e])return ob[e];if(!eu[e])return e;var t=eu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in e3)return ob[e]=t[r];return e}var t3=lv("animationend"),r3=lv("animationiteration"),n3=lv("animationstart"),a3=lv("transitionend"),i3=new Map,Pk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yo(e,t){i3.set(e,t),yc(t,[e])}for(var lb=0;lb<Pk.length;lb++){var cb=Pk[lb],Qq=cb.toLowerCase(),Zq=cb[0].toUpperCase()+cb.slice(1);Yo(Qq,"on"+Zq)}Yo(t3,"onAnimationEnd");Yo(r3,"onAnimationIteration");Yo(n3,"onAnimationStart");Yo("dblclick","onDoubleClick");Yo("focusin","onFocus");Yo("focusout","onBlur");Yo(a3,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ff));function Ok(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,QU(n,t,void 0,e),e.currentTarget=null}function s3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Ok(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Ok(a,l,u),i=c}}}if(og)throw e=lw,og=!1,lw=null,e}function Gt(e,t){var r=t[vw];r===void 0&&(r=t[vw]=new Set);var n=e+"__bubble";r.has(n)||(o3(t,e,2,!1),r.add(n))}function ub(e,t,r){var n=0;t&&(n|=4),o3(r,e,n,t)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[Wh]){e[Wh]=!0,p5.forEach(function(r){r!=="selectionchange"&&(eV.has(r)||ub(r,!1,e),ub(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wh]||(t[Wh]=!0,ub("selectionchange",!1,t))}}function o3(e,t,r,n){switch(V5(t)){case 1:var a=pq;break;case 4:a=hq;break;default:a=bN}r=a.bind(null,t,r,e),a=void 0,!ow||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function db(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=_l(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}A5(function(){var u=i,d=gN(r),f=[];e:{var m=i3.get(e);if(m!==void 0){var p=SN,h=e;switch(e){case"keypress":if(B0(r)===0)break e;case"keydown":case"keyup":p=Aq;break;case"focusin":h="focus",p=ab;break;case"focusout":h="blur",p=ab;break;case"beforeblur":case"afterblur":p=ab;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Oq;break;case t3:case r3:case n3:p=wq;break;case a3:p=Dq;break;case"scroll":p=gq;break;case"wheel":p=Mq;break;case"copy":case"cut":case"paste":p=Nq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nk}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var b=u,y;b!==null;){y=b;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=bm(b,v),j!=null&&g.push(km(b,j,y)))),x)break;b=b.return}0<g.length&&(m=new p(m,h,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==iw&&(h=r.relatedTarget||r.fromElement)&&(_l(h)||h[ks]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?_l(h):null,h!==null&&(x=bc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(g=wk,j="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Nk,j="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?m:tu(p),y=h==null?m:tu(h),m=new g(j,b+"leave",p,r,d),m.target=x,m.relatedTarget=y,j=null,_l(d)===u&&(g=new g(v,b+"enter",h,r,d),g.target=y,g.relatedTarget=x,j=g),x=j,p&&h)t:{for(g=p,v=h,b=0,y=g;y;y=Fc(y))b++;for(y=0,j=v;j;j=Fc(j))y++;for(;0<b-y;)g=Fc(g),b--;for(;0<y-b;)v=Fc(v),y--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Fc(g),v=Fc(v)}g=null}else g=null;p!==null&&Rk(f,m,p,g,!1),h!==null&&x!==null&&Rk(f,x,h,g,!0)}}e:{if(m=u?tu(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=Vq;else if(_k(m))if(Y5)E=Xq;else{E=Wq;var N=Hq}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Gq);if(E&&(E=E(e,u))){K5(f,E,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&ew(m,"number",m.value)}switch(N=u?tu(u):window,e){case"focusin":(_k(N)||N.contentEditable==="true")&&(Zc=N,fw=u,Kf=null);break;case"focusout":Kf=fw=Zc=null;break;case"mousedown":mw=!0;break;case"contextmenu":case"mouseup":case"dragend":mw=!1,Ik(f,r,d);break;case"selectionchange":if(Jq)break;case"keydown":case"keyup":Ik(f,r,d)}var S;if(EN)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qc?G5(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(W5&&r.locale!=="ko"&&(Qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qc&&(S=H5()):(yo=d,wN="value"in yo?yo.value:yo.textContent,Qc=!0)),N=fg(u,T),0<N.length&&(T=new Sk(T,e,null,r,d),f.push({event:T,listeners:N}),S?T.data=S:(S=X5(r),S!==null&&(T.data=S)))),(S=$q?Bq(e,r):zq(e,r))&&(u=fg(u,"onBeforeInput"),0<u.length&&(d=new Sk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}s3(f,t)})}function km(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=bm(e,r),i!=null&&n.unshift(km(e,i,a)),i=bm(e,t),i!=null&&n.push(km(e,i,a))),e=e.return}return n}function Fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rk(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=bm(r,i),c!=null&&s.unshift(km(r,c,l))):a||(c=bm(r,i),c!=null&&s.push(km(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var tV=/\r\n?/g,rV=/\u0000|\uFFFD/g;function Dk(e){return(typeof e=="string"?e:""+e).replace(tV,`
`).replace(rV,"")}function Gh(e,t,r){if(t=Dk(t),Dk(e)!==t&&r)throw Error(Ne(425))}function mg(){}var pw=null,hw=null;function gw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xw=typeof setTimeout=="function"?setTimeout:void 0,nV=typeof clearTimeout=="function"?clearTimeout:void 0,Fk=typeof Promise=="function"?Promise:void 0,aV=typeof queueMicrotask=="function"?queueMicrotask:typeof Fk<"u"?function(e){return Fk.resolve(null).then(e).catch(iV)}:xw;function iV(e){setTimeout(function(){throw e})}function fb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nm(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _d=Math.random().toString(36).slice(2),Di="__reactFiber$"+_d,Cm="__reactProps$"+_d,ks="__reactContainer$"+_d,vw="__reactEvents$"+_d,sV="__reactListeners$"+_d,oV="__reactHandles$"+_d;function _l(e){var t=e[Di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ks]||r[Di]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mk(e);e!==null;){if(r=e[Di])return r;e=Mk(e)}return t}e=r,r=e.parentNode}return null}function Gp(e){return e=e[Di]||e[ks],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function cv(e){return e[Cm]||null}var yw=[],ru=-1;function Jo(e){return{current:e}}function Qt(e){0>ru||(e.current=yw[ru],yw[ru]=null,ru--)}function Vt(e,t){ru++,yw[ru]=e.current,e.current=t}var $o={},En=Jo($o),Jn=Jo(!1),Gl=$o;function $u(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qn(e){return e=e.childContextTypes,e!=null}function pg(){Qt(Jn),Qt(En)}function Lk(e,t,r){if(En.current!==$o)throw Error(Ne(168));Vt(En,t),Vt(Jn,r)}function l3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ne(108,HU(e)||"Unknown",a));return mr({},r,n)}function hg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Gl=En.current,Vt(En,e),Vt(Jn,Jn.current),!0}function $k(e,t,r){var n=e.stateNode;if(!n)throw Error(Ne(169));r?(e=l3(e,t,Gl),n.__reactInternalMemoizedMergedChildContext=e,Qt(Jn),Qt(En),Vt(En,e)):Qt(Jn),Vt(Jn,r)}var cs=null,uv=!1,mb=!1;function c3(e){cs===null?cs=[e]:cs.push(e)}function lV(e){uv=!0,c3(e)}function Qo(){if(!mb&&cs!==null){mb=!0;var e=0,t=Pt;try{var r=cs;for(Pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cs=null,uv=!1}catch(a){throw cs!==null&&(cs=cs.slice(e+1)),R5(xN,Qo),a}finally{Pt=t,mb=!1}}return null}var nu=[],au=0,gg=null,xg=0,$a=[],Ba=0,Xl=null,us=1,ds="";function vl(e,t){nu[au++]=xg,nu[au++]=gg,gg=e,xg=t}function u3(e,t,r){$a[Ba++]=us,$a[Ba++]=ds,$a[Ba++]=Xl,Xl=e;var n=us;e=ds;var a=32-pi(n)-1;n&=~(1<<a),r+=1;var i=32-pi(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,us=1<<32-pi(t)+a|r<<a|n,ds=i+e}else us=1<<i|r<<a|n,ds=e}function _N(e){e.return!==null&&(vl(e,1),u3(e,1,0))}function kN(e){for(;e===gg;)gg=nu[--au],nu[au]=null,xg=nu[--au],nu[au]=null;for(;e===Xl;)Xl=$a[--Ba],$a[Ba]=null,ds=$a[--Ba],$a[Ba]=null,us=$a[--Ba],$a[Ba]=null}var ya=null,va=null,tr=!1,ci=null;function d3(e,t){var r=Ua(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xl!==null?{id:us,overflow:ds}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ua(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ya=e,va=null,!0):!1;default:return!1}}function bw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ww(e){if(tr){var t=va;if(t){var r=t;if(!Bk(e,t)){if(bw(e))throw Error(Ne(418));t=Co(r.nextSibling);var n=ya;t&&Bk(e,t)?d3(n,r):(e.flags=e.flags&-4097|2,tr=!1,ya=e)}}else{if(bw(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,tr=!1,ya=e}}}function zk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function Xh(e){if(e!==ya)return!1;if(!tr)return zk(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gw(e.type,e.memoizedProps)),t&&(t=va)){if(bw(e))throw f3(),Error(Ne(418));for(;t;)d3(e,t),t=Co(t.nextSibling)}if(zk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=Co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?Co(e.stateNode.nextSibling):null;return!0}function f3(){for(var e=va;e;)e=Co(e.nextSibling)}function Bu(){va=ya=null,tr=!1}function CN(e){ci===null?ci=[e]:ci.push(e)}var cV=$s.ReactCurrentBatchConfig;function hf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,e))}return e}function Kh(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uk(e){var t=e._init;return t(e._payload)}function m3(e){function t(v,b){if(e){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=Po(v,b),v.index=0,v.sibling=null,v}function i(v,b,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,y,j){return b===null||b.tag!==6?(b=bb(y,v.mode,j),b.return=v,b):(b=a(b,y),b.return=v,b)}function c(v,b,y,j){var E=y.type;return E===Jc?d(v,b,y.props.children,j,y.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===so&&Uk(E)===b.type)?(j=a(b,y.props),j.ref=hf(v,b,y),j.return=v,j):(j=G0(y.type,y.key,y.props,null,v.mode,j),j.ref=hf(v,b,y),j.return=v,j)}function u(v,b,y,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=wb(y,v.mode,j),b.return=v,b):(b=a(b,y.children||[]),b.return=v,b)}function d(v,b,y,j,E){return b===null||b.tag!==7?(b=Ml(y,v.mode,j,E),b.return=v,b):(b=a(b,y),b.return=v,b)}function f(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=bb(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lh:return y=G0(b.type,b.key,b.props,null,v.mode,y),y.ref=hf(v,null,b),y.return=v,y;case Yc:return b=wb(b,v.mode,y),b.return=v,b;case so:var j=b._init;return f(v,j(b._payload),y)}if(Rf(b)||uf(b))return b=Ml(b,v.mode,y,null),b.return=v,b;Kh(v,b)}return null}function m(v,b,y,j){var E=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(v,b,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lh:return y.key===E?c(v,b,y,j):null;case Yc:return y.key===E?u(v,b,y,j):null;case so:return E=y._init,m(v,b,E(y._payload),j)}if(Rf(y)||uf(y))return E!==null?null:d(v,b,y,j,null);Kh(v,y)}return null}function p(v,b,y,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,l(b,v,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Lh:return v=v.get(j.key===null?y:j.key)||null,c(b,v,j,E);case Yc:return v=v.get(j.key===null?y:j.key)||null,u(b,v,j,E);case so:var N=j._init;return p(v,b,y,N(j._payload),E)}if(Rf(j)||uf(j))return v=v.get(y)||null,d(b,v,j,E,null);Kh(b,j)}return null}function h(v,b,y,j){for(var E=null,N=null,S=b,T=b=0,C=null;S!==null&&T<y.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var k=m(v,S,y[T],j);if(k===null){S===null&&(S=C);break}e&&S&&k.alternate===null&&t(v,S),b=i(k,b,T),N===null?E=k:N.sibling=k,N=k,S=C}if(T===y.length)return r(v,S),tr&&vl(v,T),E;if(S===null){for(;T<y.length;T++)S=f(v,y[T],j),S!==null&&(b=i(S,b,T),N===null?E=S:N.sibling=S,N=S);return tr&&vl(v,T),E}for(S=n(v,S);T<y.length;T++)C=p(S,v,T,y[T],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?T:C.key),b=i(C,b,T),N===null?E=C:N.sibling=C,N=C);return e&&S.forEach(function(A){return t(v,A)}),tr&&vl(v,T),E}function g(v,b,y,j){var E=uf(y);if(typeof E!="function")throw Error(Ne(150));if(y=E.call(y),y==null)throw Error(Ne(151));for(var N=E=null,S=b,T=b=0,C=null,k=y.next();S!==null&&!k.done;T++,k=y.next()){S.index>T?(C=S,S=null):C=S.sibling;var A=m(v,S,k.value,j);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(v,S),b=i(A,b,T),N===null?E=A:N.sibling=A,N=A,S=C}if(k.done)return r(v,S),tr&&vl(v,T),E;if(S===null){for(;!k.done;T++,k=y.next())k=f(v,k.value,j),k!==null&&(b=i(k,b,T),N===null?E=k:N.sibling=k,N=k);return tr&&vl(v,T),E}for(S=n(v,S);!k.done;T++,k=y.next())k=p(S,v,T,k.value,j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?T:k.key),b=i(k,b,T),N===null?E=k:N.sibling=k,N=k);return e&&S.forEach(function(_){return t(v,_)}),tr&&vl(v,T),E}function x(v,b,y,j){if(typeof y=="object"&&y!==null&&y.type===Jc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Lh:e:{for(var E=y.key,N=b;N!==null;){if(N.key===E){if(E=y.type,E===Jc){if(N.tag===7){r(v,N.sibling),b=a(N,y.props.children),b.return=v,v=b;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===so&&Uk(E)===N.type){r(v,N.sibling),b=a(N,y.props),b.ref=hf(v,N,y),b.return=v,v=b;break e}r(v,N);break}else t(v,N);N=N.sibling}y.type===Jc?(b=Ml(y.props.children,v.mode,j,y.key),b.return=v,v=b):(j=G0(y.type,y.key,y.props,null,v.mode,j),j.ref=hf(v,b,y),j.return=v,v=j)}return s(v);case Yc:e:{for(N=y.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(v,b.sibling),b=a(b,y.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=wb(y,v.mode,j),b.return=v,v=b}return s(v);case so:return N=y._init,x(v,b,N(y._payload),j)}if(Rf(y))return h(v,b,y,j);if(uf(y))return g(v,b,y,j);Kh(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,y),b.return=v,v=b):(r(v,b),b=bb(y,v.mode,j),b.return=v,v=b),s(v)):r(v,b)}return x}var zu=m3(!0),p3=m3(!1),vg=Jo(null),yg=null,iu=null,TN=null;function AN(){TN=iu=yg=null}function IN(e){var t=vg.current;Qt(vg),e._currentValue=t}function Sw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yu(e,t){yg=e,TN=iu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(TN!==e)if(e={context:e,memoizedValue:t,next:null},iu===null){if(yg===null)throw Error(Ne(308));iu=e,yg.dependencies={lanes:0,firstContext:e}}else iu=iu.next=e;return t}var kl=null;function PN(e){kl===null?kl=[e]:kl.push(e)}function h3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,PN(t)):(r.next=a.next,a.next=r),t.interleaved=r,Cs(e,n)}function Cs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oo=!1;function ON(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cs(e,r)}return a=n.interleaved,a===null?(t.next=t,PN(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cs(e,r)}function z0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vN(e,r)}}function qk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bg(e,t,r,n){var a=e.updateQueue;oo=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,g=l;switch(m=t,p=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){f=h.call(p,f,m);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,m=typeof h=="function"?h.call(p,f,m):h,m==null)break e;f=mr({},f,m);break e;case 2:oo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yl|=s,e.lanes=s,e.memoizedState=f}}function Vk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ne(191,a));a.call(n)}}}var Xp={},zi=Jo(Xp),Tm=Jo(Xp),Am=Jo(Xp);function Cl(e){if(e===Xp)throw Error(Ne(174));return e}function RN(e,t){switch(Vt(Am,t),Vt(Tm,e),Vt(zi,Xp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rw(t,e)}Qt(zi),Vt(zi,t)}function Uu(){Qt(zi),Qt(Tm),Qt(Am)}function x3(e){Cl(Am.current);var t=Cl(zi.current),r=rw(t,e.type);t!==r&&(Vt(Tm,e),Vt(zi,r))}function DN(e){Tm.current===e&&(Qt(zi),Qt(Tm))}var or=Jo(0);function wg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pb=[];function FN(){for(var e=0;e<pb.length;e++)pb[e]._workInProgressVersionPrimary=null;pb.length=0}var U0=$s.ReactCurrentDispatcher,hb=$s.ReactCurrentBatchConfig,Kl=0,fr=null,Fr=null,Vr=null,Sg=!1,Yf=!1,Im=0,uV=0;function dn(){throw Error(Ne(321))}function MN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Si(e[r],t[r]))return!1;return!0}function LN(e,t,r,n,a,i){if(Kl=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U0.current=e===null||e.memoizedState===null?pV:hV,e=r(n,a),Yf){i=0;do{if(Yf=!1,Im=0,25<=i)throw Error(Ne(301));i+=1,Vr=Fr=null,t.updateQueue=null,U0.current=gV,e=r(n,a)}while(Yf)}if(U0.current=Ng,t=Fr!==null&&Fr.next!==null,Kl=0,Vr=Fr=fr=null,Sg=!1,t)throw Error(Ne(300));return e}function $N(){var e=Im!==0;return Im=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?fr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function Xa(){if(Fr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var t=Vr===null?fr.memoizedState:Vr.next;if(t!==null)Vr=t,Fr=e;else{if(e===null)throw Error(Ne(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Vr===null?fr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function Pm(e,t){return typeof t=="function"?t(e):t}function gb(e){var t=Xa(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=Fr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((Kl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,fr.lanes|=d,Yl|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Si(n,t.memoizedState)||(Kn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,fr.lanes|=i,Yl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xb(e){var t=Xa(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Si(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function v3(){}function y3(e,t){var r=fr,n=Xa(),a=t(),i=!Si(n.memoizedState,a);if(i&&(n.memoizedState=a,Kn=!0),n=n.queue,BN(S3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Vr!==null&&Vr.memoizedState.tag&1){if(r.flags|=2048,Om(9,w3.bind(null,r,n,a,t),void 0,null),Kr===null)throw Error(Ne(349));Kl&30||b3(r,t,a)}return a}function b3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function w3(e,t,r,n){t.value=r,t.getSnapshot=n,N3(t)&&E3(e)}function S3(e,t,r){return r(function(){N3(t)&&E3(e)})}function N3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Si(e,r)}catch{return!0}}function E3(e){var t=Cs(e,1);t!==null&&hi(t,e,1,-1)}function Hk(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:e},t.queue=e,e=e.dispatch=mV.bind(null,fr,e),[t.memoizedState,e]}function Om(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j3(){return Xa().memoizedState}function q0(e,t,r,n){var a=Oi();fr.flags|=e,a.memoizedState=Om(1|t,r,void 0,n===void 0?null:n)}function dv(e,t,r,n){var a=Xa();n=n===void 0?null:n;var i=void 0;if(Fr!==null){var s=Fr.memoizedState;if(i=s.destroy,n!==null&&MN(n,s.deps)){a.memoizedState=Om(t,r,i,n);return}}fr.flags|=e,a.memoizedState=Om(1|t,r,i,n)}function Wk(e,t){return q0(8390656,8,e,t)}function BN(e,t){return dv(2048,8,e,t)}function _3(e,t){return dv(4,2,e,t)}function k3(e,t){return dv(4,4,e,t)}function C3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T3(e,t,r){return r=r!=null?r.concat([e]):null,dv(4,4,C3.bind(null,t,e),r)}function zN(){}function A3(e,t){var r=Xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function I3(e,t){var r=Xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function P3(e,t,r){return Kl&21?(Si(r,t)||(r=M5(),fr.lanes|=r,Yl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=r)}function dV(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var n=hb.transition;hb.transition={};try{e(!1),t()}finally{Pt=r,hb.transition=n}}function O3(){return Xa().memoizedState}function fV(e,t,r){var n=Io(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R3(e))D3(t,r);else if(r=h3(e,t,r,n),r!==null){var a=$n();hi(r,e,n,a),F3(r,t,n)}}function mV(e,t,r){var n=Io(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R3(e))D3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Si(l,s)){var c=t.interleaved;c===null?(a.next=a,PN(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=h3(e,t,a,n),r!==null&&(a=$n(),hi(r,e,n,a),F3(r,t,n))}}function R3(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function D3(e,t){Yf=Sg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vN(e,r)}}var Ng={readContext:Ga,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},pV={readContext:Ga,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:Wk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,q0(4194308,4,C3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return q0(4194308,4,e,t)},useInsertionEffect:function(e,t){return q0(4,2,e,t)},useMemo:function(e,t){var r=Oi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Oi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fV.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:Hk,useDebugValue:zN,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Hk(!1),t=e[0];return e=dV.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,a=Oi();if(tr){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=t(),Kr===null)throw Error(Ne(349));Kl&30||b3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Wk(S3.bind(null,n,i,e),[e]),n.flags|=2048,Om(9,w3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Oi(),t=Kr.identifierPrefix;if(tr){var r=ds,n=us;r=(n&~(1<<32-pi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Im++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hV={readContext:Ga,useCallback:A3,useContext:Ga,useEffect:BN,useImperativeHandle:T3,useInsertionEffect:_3,useLayoutEffect:k3,useMemo:I3,useReducer:gb,useRef:j3,useState:function(){return gb(Pm)},useDebugValue:zN,useDeferredValue:function(e){var t=Xa();return P3(t,Fr.memoizedState,e)},useTransition:function(){var e=gb(Pm)[0],t=Xa().memoizedState;return[e,t]},useMutableSource:v3,useSyncExternalStore:y3,useId:O3,unstable_isNewReconciler:!1},gV={readContext:Ga,useCallback:A3,useContext:Ga,useEffect:BN,useImperativeHandle:T3,useInsertionEffect:_3,useLayoutEffect:k3,useMemo:I3,useReducer:xb,useRef:j3,useState:function(){return xb(Pm)},useDebugValue:zN,useDeferredValue:function(e){var t=Xa();return Fr===null?t.memoizedState=e:P3(t,Fr.memoizedState,e)},useTransition:function(){var e=xb(Pm)[0],t=Xa().memoizedState;return[e,t]},useMutableSource:v3,useSyncExternalStore:y3,useId:O3,unstable_isNewReconciler:!1};function si(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fv={isMounted:function(e){return(e=e._reactInternals)?bc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$n(),a=Io(e),i=ys(n,a);i.payload=t,r!=null&&(i.callback=r),t=To(e,i,a),t!==null&&(hi(t,e,a,n),z0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$n(),a=Io(e),i=ys(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=To(e,i,a),t!==null&&(hi(t,e,a,n),z0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$n(),n=Io(e),a=ys(r,n);a.tag=2,t!=null&&(a.callback=t),t=To(e,a,n),t!==null&&(hi(t,e,n,r),z0(t,e,n))}};function Gk(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!jm(r,n)||!jm(a,i):!0}function M3(e,t,r){var n=!1,a=$o,i=t.contextType;return typeof i=="object"&&i!==null?i=Ga(i):(a=Qn(t)?Gl:En.current,n=t.contextTypes,i=(n=n!=null)?$u(e,a):$o),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fv.enqueueReplaceState(t,t.state,null)}function Ew(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ON(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ga(i):(i=Qn(t)?Gl:En.current,a.context=$u(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nw(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&fv.enqueueReplaceState(a,a.state,null),bg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qu(e,t){try{var r="",n=t;do r+=VU(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function vb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xV=typeof WeakMap=="function"?WeakMap:Map;function L3(e,t,r){r=ys(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jg||(jg=!0,Dw=n),jw(e,t)},r}function $3(e,t,r){r=ys(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jw(e,t),typeof n!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Kk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IV.bind(null,e,t,r),t.then(e,e))}function Yk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ys(-1,1),t.tag=2,To(r,t,1))),r.lanes|=1),e)}var vV=$s.ReactCurrentOwner,Kn=!1;function In(e,t,r,n){t.child=e===null?p3(t,null,r,n):zu(t,e.child,r,n)}function Qk(e,t,r,n,a){r=r.render;var i=t.ref;return yu(t,a),n=LN(e,t,r,n,i,a),r=$N(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ts(e,t,a)):(tr&&r&&_N(t),t.flags|=1,In(e,t,n,a),t.child)}function Zk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!KN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,B3(e,t,i,n,a)):(e=G0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:jm,r(s,n)&&e.ref===t.ref)return Ts(e,t,a)}return t.flags|=1,e=Po(i,n),e.ref=t.ref,e.return=t,t.child=e}function B3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(jm(i,n)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,Ts(e,t,a)}return _w(e,t,r,n,a)}function z3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(ou,ua),ua|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(ou,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Vt(ou,ua),ua|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Vt(ou,ua),ua|=n;return In(e,t,a,r),t.child}function U3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _w(e,t,r,n,a){var i=Qn(r)?Gl:En.current;return i=$u(t,i),yu(t,a),r=LN(e,t,r,n,i,a),n=$N(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ts(e,t,a)):(tr&&n&&_N(t),t.flags|=1,In(e,t,r,a),t.child)}function eC(e,t,r,n,a){if(Qn(r)){var i=!0;hg(t)}else i=!1;if(yu(t,a),t.stateNode===null)V0(e,t),M3(t,r,n),Ew(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ga(u):(u=Qn(r)?Gl:En.current,u=$u(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Xk(t,s,n,u),oo=!1;var m=t.memoizedState;s.state=m,bg(t,n,s,a),c=t.memoizedState,l!==n||m!==c||Jn.current||oo?(typeof d=="function"&&(Nw(t,r,d,n),c=t.memoizedState),(l=oo||Gk(t,r,l,n,m,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,g3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:si(t.type,l),s.props=u,f=t.pendingProps,m=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ga(c):(c=Qn(r)?Gl:En.current,c=$u(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Xk(t,s,n,c),oo=!1,m=t.memoizedState,s.state=m,bg(t,n,s,a);var h=t.memoizedState;l!==f||m!==h||Jn.current||oo?(typeof p=="function"&&(Nw(t,r,p,n),h=t.memoizedState),(u=oo||Gk(t,r,u,n,m,h,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return kw(e,t,r,n,i,a)}function kw(e,t,r,n,a,i){U3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&$k(t,r,!1),Ts(e,t,i);n=t.stateNode,vV.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=zu(t,e.child,null,i),t.child=zu(t,null,l,i)):In(e,t,l,i),t.memoizedState=n.state,a&&$k(t,r,!0),t.child}function q3(e){var t=e.stateNode;t.pendingContext?Lk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lk(e,t.context,!1),RN(e,t.containerInfo)}function tC(e,t,r,n,a){return Bu(),CN(a),t.flags|=256,In(e,t,r,n),t.child}var Cw={dehydrated:null,treeContext:null,retryLane:0};function Tw(e){return{baseLanes:e,cachePool:null,transitions:null}}function V3(e,t,r){var n=t.pendingProps,a=or.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vt(or,a&1),e===null)return ww(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=hv(s,n,0,null),e=Ml(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tw(r),t.memoizedState=Cw,e):UN(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return yV(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Po(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Po(l,i):(i=Ml(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Tw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Cw,n}return i=e.child,e=i.sibling,n=Po(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function UN(e,t){return t=hv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yh(e,t,r,n){return n!==null&&CN(n),zu(t,e.child,null,r),e=UN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yV(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=vb(Error(Ne(422))),Yh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=hv({mode:"visible",children:n.children},a,0,null),i=Ml(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&zu(t,e.child,null,s),t.child.memoizedState=Tw(s),t.memoizedState=Cw,i);if(!(t.mode&1))return Yh(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ne(419)),n=vb(i,n,void 0),Yh(e,t,s,n)}if(l=(s&e.childLanes)!==0,Kn||l){if(n=Kr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cs(e,a),hi(n,e,a,-1))}return XN(),n=vb(Error(Ne(421))),Yh(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=PV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,va=Co(a.nextSibling),ya=t,tr=!0,ci=null,e!==null&&($a[Ba++]=us,$a[Ba++]=ds,$a[Ba++]=Xl,us=e.id,ds=e.overflow,Xl=t),t=UN(t,n.children),t.flags|=4096,t)}function rC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sw(e.return,t,r)}function yb(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function H3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(In(e,t,n.children,r),n=or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rC(e,r,t);else if(e.tag===19)rC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vt(or,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&wg(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),yb(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wg(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}yb(t,!0,r,null,i);break;case"together":yb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function V0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ts(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,r=Po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bV(e,t,r){switch(t.tag){case 3:q3(t),Bu();break;case 5:x3(t);break;case 1:Qn(t.type)&&hg(t);break;case 4:RN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Vt(vg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vt(or,or.current&1),t.flags|=128,null):r&t.child.childLanes?V3(e,t,r):(Vt(or,or.current&1),e=Ts(e,t,r),e!==null?e.sibling:null);Vt(or,or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return H3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vt(or,or.current),n)break;return null;case 22:case 23:return t.lanes=0,z3(e,t,r)}return Ts(e,t,r)}var W3,Aw,G3,X3;W3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aw=function(){};G3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Cl(zi.current);var i=null;switch(r){case"input":a=Q1(e,a),n=Q1(e,n),i=[];break;case"select":a=mr({},a,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":a=tw(e,a),n=tw(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mg)}nw(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};X3=function(e,t,r,n){r!==n&&(t.flags|=4)};function gf(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wV(e,t,r){var n=t.pendingProps;switch(kN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Qn(t.type)&&pg(),fn(t),null;case 3:return n=t.stateNode,Uu(),Qt(Jn),Qt(En),FN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ci!==null&&(Lw(ci),ci=null))),Aw(e,t),fn(t),null;case 5:DN(t);var a=Cl(Am.current);if(r=t.type,e!==null&&t.stateNode!=null)G3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ne(166));return fn(t),null}if(e=Cl(zi.current),Xh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Di]=t,n[Cm]=i,e=(t.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(a=0;a<Ff.length;a++)Gt(Ff[a],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":dk(n,i),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",n);break;case"textarea":mk(n,i),Gt("invalid",n)}nw(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gh(n.textContent,l,e),a=["children",""+l]):vm.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Gt("scroll",n)}switch(r){case"input":$h(n),fk(n,i,!0);break;case"textarea":$h(n),pk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Di]=t,e[Cm]=n,W3(e,t,!1,!1),t.stateNode=e;e:{switch(s=aw(r,n),r){case"dialog":Gt("cancel",e),Gt("close",e),a=n;break;case"iframe":case"object":case"embed":Gt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ff.length;a++)Gt(Ff[a],e);a=n;break;case"source":Gt("error",e),a=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=n;break;case"details":Gt("toggle",e),a=n;break;case"input":dk(e,n),a=Q1(e,n),Gt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mr({},n,{value:void 0}),Gt("invalid",e);break;case"textarea":mk(e,n),a=tw(e,n),Gt("invalid",e);break;default:a=n}nw(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?j5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N5(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ym(e,c):typeof c=="number"&&ym(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&fN(e,i,c,s))}switch(r){case"input":$h(e),fk(e,n,!1);break;case"textarea":$h(e),pk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Lo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hu(e,!!n.multiple,i,!1):n.defaultValue!=null&&hu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)X3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ne(166));if(r=Cl(Am.current),Cl(zi.current),Xh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Di]=t,(i=n.nodeValue!==r)&&(e=ya,e!==null))switch(e.tag){case 3:Gh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Di]=t,t.stateNode=n}return fn(t),null;case 13:if(Qt(or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&va!==null&&t.mode&1&&!(t.flags&128))f3(),Bu(),t.flags|=98560,i=!1;else if(i=Xh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ne(317));i[Di]=t}else Bu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else ci!==null&&(Lw(ci),ci=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Lr===0&&(Lr=3):XN())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Uu(),Aw(e,t),e===null&&_m(t.stateNode.containerInfo),fn(t),null;case 10:return IN(t.type._context),fn(t),null;case 17:return Qn(t.type)&&pg(),fn(t),null;case 19:if(Qt(or),i=t.memoizedState,i===null)return fn(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)gf(i,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wg(e),s!==null){for(t.flags|=128,gf(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vt(or,or.current&1|2),t.child}e=e.sibling}i.tail!==null&&wr()>Vu&&(t.flags|=128,n=!0,gf(i,!1),t.lanes=4194304)}else{if(!n)if(e=wg(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tr)return fn(t),null}else 2*wr()-i.renderingStartTime>Vu&&r!==1073741824&&(t.flags|=128,n=!0,gf(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wr(),t.sibling=null,r=or.current,Vt(or,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return GN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ua&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function SV(e,t){switch(kN(t),t.tag){case 1:return Qn(t.type)&&pg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uu(),Qt(Jn),Qt(En),FN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DN(t),null;case 13:if(Qt(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(or),null;case 4:return Uu(),null;case 10:return IN(t.type._context),null;case 22:case 23:return GN(),null;case 24:return null;default:return null}}var Jh=!1,xn=!1,NV=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function su(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hr(e,t,n)}else r.current=null}function Iw(e,t,r){try{r()}catch(n){hr(e,t,n)}}var nC=!1;function EV(e,t){if(pw=ug,e=Z5(),jN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=s),m===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hw={focusedElem:e,selectionRange:r},ug=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,x=h.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:si(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(j){hr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return h=nC,nC=!1,h}function Jf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Iw(t,r,i)}a=a.next}while(a!==n)}}function mv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function K3(e){var t=e.alternate;t!==null&&(e.alternate=null,K3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Di],delete t[Cm],delete t[vw],delete t[sV],delete t[oV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Y3(e){return e.tag===5||e.tag===3||e.tag===4}function aC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ow(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mg));else if(n!==4&&(e=e.child,e!==null))for(Ow(e,t,r),e=e.sibling;e!==null;)Ow(e,t,r),e=e.sibling}function Rw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rw(e,t,r),e=e.sibling;e!==null;)Rw(e,t,r),e=e.sibling}var en=null,oi=!1;function to(e,t,r){for(r=r.child;r!==null;)J3(e,t,r),r=r.sibling}function J3(e,t,r){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(iv,r)}catch{}switch(r.tag){case 5:xn||su(r,t);case 6:var n=en,a=oi;en=null,to(e,t,r),en=n,oi=a,en!==null&&(oi?(e=en,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(oi?(e=en,r=r.stateNode,e.nodeType===8?fb(e.parentNode,r):e.nodeType===1&&fb(e,r),Nm(e)):fb(en,r.stateNode));break;case 4:n=en,a=oi,en=r.stateNode.containerInfo,oi=!0,to(e,t,r),en=n,oi=a;break;case 0:case 11:case 14:case 15:if(!xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Iw(r,t,s),a=a.next}while(a!==n)}to(e,t,r);break;case 1:if(!xn&&(su(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){hr(r,t,l)}to(e,t,r);break;case 21:to(e,t,r);break;case 22:r.mode&1?(xn=(n=xn)||r.memoizedState!==null,to(e,t,r),xn=n):to(e,t,r);break;default:to(e,t,r)}}function iC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NV),t.forEach(function(n){var a=OV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ni(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,oi=!1;break e;case 3:en=l.stateNode.containerInfo,oi=!0;break e;case 4:en=l.stateNode.containerInfo,oi=!0;break e}l=l.return}if(en===null)throw Error(Ne(160));J3(i,s,a),en=null,oi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){hr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Q3(t,e),t=t.sibling}function Q3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ni(t,e),Ti(e),n&4){try{Jf(3,e,e.return),mv(3,e)}catch(g){hr(e,e.return,g)}try{Jf(5,e,e.return)}catch(g){hr(e,e.return,g)}}break;case 1:ni(t,e),Ti(e),n&512&&r!==null&&su(r,r.return);break;case 5:if(ni(t,e),Ti(e),n&512&&r!==null&&su(r,r.return),e.flags&32){var a=e.stateNode;try{ym(a,"")}catch(g){hr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&b5(a,i),aw(l,s);var u=aw(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?j5(a,f):d==="dangerouslySetInnerHTML"?N5(a,f):d==="children"?ym(a,f):fN(a,d,f,u)}switch(l){case"input":Z1(a,i);break;case"textarea":w5(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?hu(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?hu(a,!!i.multiple,i.defaultValue,!0):hu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cm]=i}catch(g){hr(e,e.return,g)}}break;case 6:if(ni(t,e),Ti(e),n&4){if(e.stateNode===null)throw Error(Ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){hr(e,e.return,g)}}break;case 3:if(ni(t,e),Ti(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nm(t.containerInfo)}catch(g){hr(e,e.return,g)}break;case 4:ni(t,e),Ti(e);break;case 13:ni(t,e),Ti(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(HN=wr())),n&4&&iC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xn=(u=xn)||d,ni(t,e),xn=u):ni(t,e),Ti(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Fe=e,d=e.child;d!==null;){for(f=Fe=d;Fe!==null;){switch(m=Fe,p=m.child,m.tag){case 0:case 11:case 14:case 15:Jf(4,m,m.return);break;case 1:su(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){hr(n,r,g)}}break;case 5:su(m,m.return);break;case 22:if(m.memoizedState!==null){oC(f);continue}}p!==null?(p.return=m,Fe=p):oC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=E5("display",s))}catch(g){hr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){hr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ni(t,e),Ti(e),n&4&&iC(e);break;case 21:break;default:ni(t,e),Ti(e)}}function Ti(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Y3(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ym(a,""),n.flags&=-33);var i=aC(e);Rw(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=aC(e);Ow(e,l,s);break;default:throw Error(Ne(161))}}catch(c){hr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jV(e,t,r){Fe=e,Z3(e)}function Z3(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var a=Fe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Jh;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Jh;var u=xn;if(Jh=s,(xn=c)&&!u)for(Fe=a;Fe!==null;)s=Fe,c=s.child,s.tag===22&&s.memoizedState!==null?lC(a):c!==null?(c.return=s,Fe=c):lC(a);for(;i!==null;)Fe=i,Z3(i),i=i.sibling;Fe=a,Jh=l,xn=u}sC(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Fe=i):sC(e)}}function sC(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xn||mv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:si(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vk(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vk(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}xn||t.flags&512&&Pw(t)}catch(m){hr(t,t.return,m)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function oC(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function lC(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mv(4,t)}catch(c){hr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){hr(t,a,c)}}var i=t.return;try{Pw(t)}catch(c){hr(t,i,c)}break;case 5:var s=t.return;try{Pw(t)}catch(c){hr(t,s,c)}}}catch(c){hr(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var _V=Math.ceil,Eg=$s.ReactCurrentDispatcher,qN=$s.ReactCurrentOwner,Va=$s.ReactCurrentBatchConfig,xt=0,Kr=null,Ar=null,an=0,ua=0,ou=Jo(0),Lr=0,Rm=null,Yl=0,pv=0,VN=0,Qf=null,Gn=null,HN=0,Vu=1/0,ls=null,jg=!1,Dw=null,Ao=null,Qh=!1,bo=null,_g=0,Zf=0,Fw=null,H0=-1,W0=0;function $n(){return xt&6?wr():H0!==-1?H0:H0=wr()}function Io(e){return e.mode&1?xt&2&&an!==0?an&-an:cV.transition!==null?(W0===0&&(W0=M5()),W0):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:V5(e.type)),e):1}function hi(e,t,r,n){if(50<Zf)throw Zf=0,Fw=null,Error(Ne(185));Hp(e,r,n),(!(xt&2)||e!==Kr)&&(e===Kr&&(!(xt&2)&&(pv|=r),Lr===4&&uo(e,an)),Zn(e,n),r===1&&xt===0&&!(t.mode&1)&&(Vu=wr()+500,uv&&Qo()))}function Zn(e,t){var r=e.callbackNode;cq(e,t);var n=cg(e,e===Kr?an:0);if(n===0)r!==null&&xk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xk(r),t===1)e.tag===0?lV(cC.bind(null,e)):c3(cC.bind(null,e)),aV(function(){!(xt&6)&&Qo()}),r=null;else{switch(L5(n)){case 1:r=xN;break;case 4:r=D5;break;case 16:r=lg;break;case 536870912:r=F5;break;default:r=lg}r=oD(r,eD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eD(e,t){if(H0=-1,W0=0,xt&6)throw Error(Ne(327));var r=e.callbackNode;if(bu()&&e.callbackNode!==r)return null;var n=cg(e,e===Kr?an:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kg(e,n);else{t=n;var a=xt;xt|=2;var i=rD();(Kr!==e||an!==t)&&(ls=null,Vu=wr()+500,Fl(e,t));do try{TV();break}catch(l){tD(e,l)}while(!0);AN(),Eg.current=i,xt=a,Ar!==null?t=0:(Kr=null,an=0,t=Lr)}if(t!==0){if(t===2&&(a=cw(e),a!==0&&(n=a,t=Mw(e,a))),t===1)throw r=Rm,Fl(e,0),uo(e,n),Zn(e,wr()),r;if(t===6)uo(e,n);else{if(a=e.current.alternate,!(n&30)&&!kV(a)&&(t=kg(e,n),t===2&&(i=cw(e),i!==0&&(n=i,t=Mw(e,i))),t===1))throw r=Rm,Fl(e,0),uo(e,n),Zn(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ne(345));case 2:yl(e,Gn,ls);break;case 3:if(uo(e,n),(n&130023424)===n&&(t=HN+500-wr(),10<t)){if(cg(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xw(yl.bind(null,e,Gn,ls),t);break}yl(e,Gn,ls);break;case 4:if(uo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-pi(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_V(n/1960))-n,10<n){e.timeoutHandle=xw(yl.bind(null,e,Gn,ls),n);break}yl(e,Gn,ls);break;case 5:yl(e,Gn,ls);break;default:throw Error(Ne(329))}}}return Zn(e,wr()),e.callbackNode===r?eD.bind(null,e):null}function Mw(e,t){var r=Qf;return e.current.memoizedState.isDehydrated&&(Fl(e,t).flags|=256),e=kg(e,t),e!==2&&(t=Gn,Gn=r,t!==null&&Lw(t)),e}function Lw(e){Gn===null?Gn=e:Gn.push.apply(Gn,e)}function kV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Si(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function uo(e,t){for(t&=~VN,t&=~pv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pi(t),n=1<<r;e[r]=-1,t&=~n}}function cC(e){if(xt&6)throw Error(Ne(327));bu();var t=cg(e,0);if(!(t&1))return Zn(e,wr()),null;var r=kg(e,t);if(e.tag!==0&&r===2){var n=cw(e);n!==0&&(t=n,r=Mw(e,n))}if(r===1)throw r=Rm,Fl(e,0),uo(e,t),Zn(e,wr()),r;if(r===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yl(e,Gn,ls),Zn(e,wr()),null}function WN(e,t){var r=xt;xt|=1;try{return e(t)}finally{xt=r,xt===0&&(Vu=wr()+500,uv&&Qo())}}function Jl(e){bo!==null&&bo.tag===0&&!(xt&6)&&bu();var t=xt;xt|=1;var r=Va.transition,n=Pt;try{if(Va.transition=null,Pt=1,e)return e()}finally{Pt=n,Va.transition=r,xt=t,!(xt&6)&&Qo()}}function GN(){ua=ou.current,Qt(ou)}function Fl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nV(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(kN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pg();break;case 3:Uu(),Qt(Jn),Qt(En),FN();break;case 5:DN(n);break;case 4:Uu();break;case 13:Qt(or);break;case 19:Qt(or);break;case 10:IN(n.type._context);break;case 22:case 23:GN()}r=r.return}if(Kr=e,Ar=e=Po(e.current,null),an=ua=t,Lr=0,Rm=null,VN=pv=Yl=0,Gn=Qf=null,kl!==null){for(t=0;t<kl.length;t++)if(r=kl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}kl=null}return e}function tD(e,t){do{var r=Ar;try{if(AN(),U0.current=Ng,Sg){for(var n=fr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Sg=!1}if(Kl=0,Vr=Fr=fr=null,Yf=!1,Im=0,qN.current=null,r===null||r.return===null){Lr=1,Rm=t,Ar=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Yk(s);if(p!==null){p.flags&=-257,Jk(p,s,l,i,t),p.mode&1&&Kk(i,u,t),t=p,c=u;var h=t.updateQueue;if(h===null){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}else{if(!(t&1)){Kk(i,u,t),XN();break e}c=Error(Ne(426))}}else if(tr&&l.mode&1){var x=Yk(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Jk(x,s,l,i,t),CN(qu(c,l));break e}}i=c=qu(c,l),Lr!==4&&(Lr=2),Qf===null?Qf=[i]:Qf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=L3(i,c,t);qk(i,v);break e;case 1:l=c;var b=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ao===null||!Ao.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=$3(i,l,t);qk(i,j);break e}}i=i.return}while(i!==null)}aD(r)}catch(E){t=E,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function rD(){var e=Eg.current;return Eg.current=Ng,e===null?Ng:e}function XN(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Kr===null||!(Yl&268435455)&&!(pv&268435455)||uo(Kr,an)}function kg(e,t){var r=xt;xt|=2;var n=rD();(Kr!==e||an!==t)&&(ls=null,Fl(e,t));do try{CV();break}catch(a){tD(e,a)}while(!0);if(AN(),xt=r,Eg.current=n,Ar!==null)throw Error(Ne(261));return Kr=null,an=0,Lr}function CV(){for(;Ar!==null;)nD(Ar)}function TV(){for(;Ar!==null&&!eq();)nD(Ar)}function nD(e){var t=sD(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?aD(e):Ar=t,qN.current=null}function aD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SV(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Ar=null;return}}else if(r=wV(r,t,ua),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Lr===0&&(Lr=5)}function yl(e,t,r){var n=Pt,a=Va.transition;try{Va.transition=null,Pt=1,AV(e,t,r,n)}finally{Va.transition=a,Pt=n}return null}function AV(e,t,r,n){do bu();while(bo!==null);if(xt&6)throw Error(Ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uq(e,i),e===Kr&&(Ar=Kr=null,an=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qh||(Qh=!0,oD(lg,function(){return bu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Va.transition,Va.transition=null;var s=Pt;Pt=1;var l=xt;xt|=4,qN.current=null,EV(e,r),Q3(r,e),Yq(hw),ug=!!pw,hw=pw=null,e.current=r,jV(r),tq(),xt=l,Pt=s,Va.transition=i}else e.current=r;if(Qh&&(Qh=!1,bo=e,_g=a),i=e.pendingLanes,i===0&&(Ao=null),aq(r.stateNode),Zn(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jg)throw jg=!1,e=Dw,Dw=null,e;return _g&1&&e.tag!==0&&bu(),i=e.pendingLanes,i&1?e===Fw?Zf++:(Zf=0,Fw=e):Zf=0,Qo(),null}function bu(){if(bo!==null){var e=L5(_g),t=Va.transition,r=Pt;try{if(Va.transition=null,Pt=16>e?16:e,bo===null)var n=!1;else{if(e=bo,bo=null,_g=0,xt&6)throw Error(Ne(331));var a=xt;for(xt|=4,Fe=e.current;Fe!==null;){var i=Fe,s=i.child;if(Fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Fe=u;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Jf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Fe=f;else for(;Fe!==null;){d=Fe;var m=d.sibling,p=d.return;if(K3(d),d===u){Fe=null;break}if(m!==null){m.return=p,Fe=m;break}Fe=p}}}var h=i.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Fe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Fe=s;else e:for(;Fe!==null;){if(i=Fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Fe=v;break e}Fe=i.return}}var b=e.current;for(Fe=b;Fe!==null;){s=Fe;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Fe=y;else e:for(s=b;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mv(9,l)}}catch(E){hr(l,l.return,E)}if(l===s){Fe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Fe=j;break e}Fe=l.return}}if(xt=a,Qo(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(iv,e)}catch{}n=!0}return n}finally{Pt=r,Va.transition=t}}return!1}function uC(e,t,r){t=qu(r,t),t=L3(e,t,1),e=To(e,t,1),t=$n(),e!==null&&(Hp(e,1,t),Zn(e,t))}function hr(e,t,r){if(e.tag===3)uC(e,e,r);else for(;t!==null;){if(t.tag===3){uC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ao===null||!Ao.has(n))){e=qu(r,e),e=$3(t,e,1),t=To(t,e,1),e=$n(),t!==null&&(Hp(t,1,e),Zn(t,e));break}}t=t.return}}function IV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$n(),e.pingedLanes|=e.suspendedLanes&r,Kr===e&&(an&r)===r&&(Lr===4||Lr===3&&(an&130023424)===an&&500>wr()-HN?Fl(e,0):VN|=r),Zn(e,t)}function iD(e,t){t===0&&(e.mode&1?(t=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):t=1);var r=$n();e=Cs(e,t),e!==null&&(Hp(e,t,r),Zn(e,r))}function PV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iD(e,r)}function OV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(t),iD(e,r)}var sD;sD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jn.current)Kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kn=!1,bV(e,t,r);Kn=!!(e.flags&131072)}else Kn=!1,tr&&t.flags&1048576&&u3(t,xg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;V0(e,t),e=t.pendingProps;var a=$u(t,En.current);yu(t,r),a=LN(null,t,n,e,a,r);var i=$N();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(n)?(i=!0,hg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ON(t),a.updater=fv,t.stateNode=a,a._reactInternals=t,Ew(t,n,e,r),t=kw(null,t,n,!0,i,r)):(t.tag=0,tr&&i&&_N(t),In(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(V0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=DV(n),e=si(n,e),a){case 0:t=_w(null,t,n,e,r);break e;case 1:t=eC(null,t,n,e,r);break e;case 11:t=Qk(null,t,n,e,r);break e;case 14:t=Zk(null,t,n,si(n.type,e),r);break e}throw Error(Ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),_w(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),eC(e,t,n,a,r);case 3:e:{if(q3(t),e===null)throw Error(Ne(387));n=t.pendingProps,i=t.memoizedState,a=i.element,g3(e,t),bg(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qu(Error(Ne(423)),t),t=tC(e,t,n,r,a);break e}else if(n!==a){a=qu(Error(Ne(424)),t),t=tC(e,t,n,r,a);break e}else for(va=Co(t.stateNode.containerInfo.firstChild),ya=t,tr=!0,ci=null,r=p3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bu(),n===a){t=Ts(e,t,r);break e}In(e,t,n,r)}t=t.child}return t;case 5:return x3(t),e===null&&ww(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,gw(n,a)?s=null:i!==null&&gw(n,i)&&(t.flags|=32),U3(e,t),In(e,t,s,r),t.child;case 6:return e===null&&ww(t),null;case 13:return V3(e,t,r);case 4:return RN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zu(t,null,n,r):In(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),Qk(e,t,n,a,r);case 7:return In(e,t,t.pendingProps,r),t.child;case 8:return In(e,t,t.pendingProps.children,r),t.child;case 12:return In(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Vt(vg,n._currentValue),n._currentValue=s,i!==null)if(Si(i.value,s)){if(i.children===a.children&&!Jn.current){t=Ts(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ys(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Sw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ne(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Sw(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}In(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,yu(t,r),a=Ga(a),n=n(a),t.flags|=1,In(e,t,n,r),t.child;case 14:return n=t.type,a=si(n,t.pendingProps),a=si(n.type,a),Zk(e,t,n,a,r);case 15:return B3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),V0(e,t),t.tag=1,Qn(n)?(e=!0,hg(t)):e=!1,yu(t,r),M3(t,n,a),Ew(t,n,a,r),kw(null,t,n,!0,e,r);case 19:return H3(e,t,r);case 22:return z3(e,t,r)}throw Error(Ne(156,t.tag))};function oD(e,t){return R5(e,t)}function RV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,r,n){return new RV(e,t,r,n)}function KN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DV(e){if(typeof e=="function")return KN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pN)return 11;if(e===hN)return 14}return 2}function Po(e,t){var r=e.alternate;return r===null?(r=Ua(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function G0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")KN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jc:return Ml(r.children,a,i,t);case mN:s=8,a|=8;break;case X1:return e=Ua(12,r,t,a|2),e.elementType=X1,e.lanes=i,e;case K1:return e=Ua(13,r,t,a),e.elementType=K1,e.lanes=i,e;case Y1:return e=Ua(19,r,t,a),e.elementType=Y1,e.lanes=i,e;case x5:return hv(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h5:s=10;break e;case g5:s=9;break e;case pN:s=11;break e;case hN:s=14;break e;case so:s=16,n=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Ua(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ml(e,t,r,n){return e=Ua(7,e,n,t),e.lanes=r,e}function hv(e,t,r,n){return e=Ua(22,e,n,t),e.elementType=x5,e.lanes=r,e.stateNode={isHidden:!1},e}function bb(e,t,r){return e=Ua(6,e,null,t),e.lanes=r,e}function wb(e,t,r){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function YN(e,t,r,n,a,i,s,l,c){return e=new FV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ua(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ON(i),e}function MV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lD(e){if(!e)return $o;e=e._reactInternals;e:{if(bc(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var r=e.type;if(Qn(r))return l3(e,r,t)}return t}function cD(e,t,r,n,a,i,s,l,c){return e=YN(r,n,!0,e,a,i,s,l,c),e.context=lD(null),r=e.current,n=$n(),a=Io(r),i=ys(n,a),i.callback=t??null,To(r,i,a),e.current.lanes=a,Hp(e,a,n),Zn(e,n),e}function gv(e,t,r,n){var a=t.current,i=$n(),s=Io(a);return r=lD(r),t.context===null?t.context=r:t.pendingContext=r,t=ys(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=To(a,t,s),e!==null&&(hi(e,a,s,i),z0(e,a,s)),s}function Cg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function JN(e,t){dC(e,t),(e=e.alternate)&&dC(e,t)}function LV(){return null}var uD=typeof reportError=="function"?reportError:function(e){console.error(e)};function QN(e){this._internalRoot=e}xv.prototype.render=QN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));gv(e,t,null,null)};xv.prototype.unmount=QN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jl(function(){gv(null,e,null,null)}),t[ks]=null}};function xv(e){this._internalRoot=e}xv.prototype.unstable_scheduleHydration=function(e){if(e){var t=z5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<co.length&&t!==0&&t<co[r].priority;r++);co.splice(r,0,e),r===0&&q5(e)}};function ZN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fC(){}function $V(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Cg(s);i.call(u)}}var s=cD(t,n,e,0,null,!1,!1,"",fC);return e._reactRootContainer=s,e[ks]=s.current,_m(e.nodeType===8?e.parentNode:e),Jl(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Cg(c);l.call(u)}}var c=YN(e,0,!1,null,null,!1,!1,"",fC);return e._reactRootContainer=c,e[ks]=c.current,_m(e.nodeType===8?e.parentNode:e),Jl(function(){gv(t,c,r,n)}),c}function yv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Cg(s);l.call(c)}}gv(t,s,e,a)}else s=$V(r,t,e,a,n);return Cg(s)}$5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Df(t.pendingLanes);r!==0&&(vN(t,r|1),Zn(t,wr()),!(xt&6)&&(Vu=wr()+500,Qo()))}break;case 13:Jl(function(){var n=Cs(e,1);if(n!==null){var a=$n();hi(n,e,1,a)}}),JN(e,1)}};yN=function(e){if(e.tag===13){var t=Cs(e,134217728);if(t!==null){var r=$n();hi(t,e,134217728,r)}JN(e,134217728)}};B5=function(e){if(e.tag===13){var t=Io(e),r=Cs(e,t);if(r!==null){var n=$n();hi(r,e,t,n)}JN(e,t)}};z5=function(){return Pt};U5=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};sw=function(e,t,r){switch(t){case"input":if(Z1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=cv(n);if(!a)throw Error(Ne(90));y5(n),Z1(n,a)}}}break;case"textarea":w5(e,r);break;case"select":t=r.value,t!=null&&hu(e,!!r.multiple,t,!1)}};C5=WN;T5=Jl;var BV={usingClientEntryPoint:!1,Events:[Gp,tu,cv,_5,k5,WN]},xf={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zV={bundleType:xf.bundleType,version:xf.version,rendererPackageName:xf.rendererPackageName,rendererConfig:xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=P5(e),e===null?null:e.stateNode},findFiberByHostInstance:xf.findFiberByHostInstance||LV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{iv=Zh.inject(zV),Bi=Zh}catch{}}Ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BV;Ea.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZN(t))throw Error(Ne(200));return MV(e,t,null,r)};Ea.createRoot=function(e,t){if(!ZN(e))throw Error(Ne(299));var r=!1,n="",a=uD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=YN(e,1,!1,null,null,r,!1,n,a),e[ks]=t.current,_m(e.nodeType===8?e.parentNode:e),new QN(t)};Ea.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=P5(t),e=e===null?null:e.stateNode,e};Ea.flushSync=function(e){return Jl(e)};Ea.hydrate=function(e,t,r){if(!vv(t))throw Error(Ne(200));return yv(null,e,t,!0,r)};Ea.hydrateRoot=function(e,t,r){if(!ZN(e))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=uD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=cD(t,null,e,1,r??null,a,!1,i,s),e[ks]=t.current,_m(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new xv(t)};Ea.render=function(e,t,r){if(!vv(t))throw Error(Ne(200));return yv(null,e,t,!1,r)};Ea.unmountComponentAtNode=function(e){if(!vv(e))throw Error(Ne(40));return e._reactRootContainer?(Jl(function(){yv(null,null,e,!1,function(){e._reactRootContainer=null,e[ks]=null})}),!0):!1};Ea.unstable_batchedUpdates=WN;Ea.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vv(r))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return yv(e,t,r,!1,n)};Ea.version="18.3.1-next-f1338f8080-20240426";function dD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dD)}catch(e){console.error(e)}}dD(),d5.exports=Ea;var UV=d5.exports,fD,mC=UV;fD=mC.createRoot,mC.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}var wo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wo||(wo={}));const pC="popstate";function qV(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return $w("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:pD(a)}return HV(t,r,null,e)}function Ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VV(){return Math.random().toString(36).substr(2,8)}function hC(e,t){return{usr:e.state,key:e.key,idx:t}}function $w(e,t,r,n){return r===void 0&&(r=null),Dm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kd(t):t,{state:r,key:t&&t.key||n||VV()})}function pD(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function HV(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=wo.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Dm({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=wo.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:v})}function m(x,v){l=wo.Push;let b=$w(g.location,x,v);u=d()+1;let y=hC(b,u),j=g.createHref(b);try{s.pushState(y,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(x,v){l=wo.Replace;let b=$w(g.location,x,v);u=d();let y=hC(b,u),j=g.createHref(b);s.replaceState(y,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function h(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:pD(x);return b=b.replace(/ $/,"%20"),Ir(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return l},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(pC,f),c=x,()=>{a.removeEventListener(pC,f),c=null}},createHref(x){return t(a,x)},createURL:h,encodeLocation(x){let v=h(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(x){return s.go(x)}};return g}var gC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gC||(gC={}));function WV(e,t,r){return r===void 0&&(r="/"),GV(e,t,r,!1)}function GV(e,t,r,n){let a=typeof t=="string"?kd(t):t,i=xD(a.pathname||"/",r);if(i==null)return null;let s=hD(e);XV(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=iH(i);l=nH(s[c],u,n)}return l}function hD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ll([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ir(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tH(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of gD(i.path))a(i,s,c)}),t}function gD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=gD(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function XV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rH(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const KV=/^:[\w-]+$/,YV=3,JV=2,QV=1,ZV=10,eH=-2,xC=e=>e==="*";function tH(e,t){let r=e.split("/"),n=r.length;return r.some(xC)&&(n+=eH),t&&(n+=JV),r.filter(a=>!xC(a)).reduce((a,i)=>a+(KV.test(i)?YV:i===""?QV:ZV),n)}function rH(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function nH(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=vC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Ll([i,f.pathname]),pathnameBase:cH(Ll([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ll([i,f.pathnameBase]))}return s}function vC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aH(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[f];return p&&!h?u[m]=void 0:u[m]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function aH(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function iH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sH(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?kd(e):e;return{pathname:r?r.startsWith("/")?r:oH(r,t):t,search:uH(n),hash:dH(a)}}function oH(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vD(e,t){let r=lH(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yD(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=kd(e):(a=Dm({},e),Ir(!a.pathname||!a.pathname.includes("?"),Sb("?","pathname","search",a)),Ir(!a.pathname||!a.pathname.includes("#"),Sb("#","pathname","hash",a)),Ir(!a.search||!a.search.includes("#"),Sb("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=sH(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ll=e=>e.join("/").replace(/\/\/+/g,"/"),cH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bD=["post","put","patch","delete"];new Set(bD);const mH=["get",...bD];new Set(mH);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}const eE=w.createContext(null),pH=w.createContext(null),Kp=w.createContext(null),bv=w.createContext(null),Zo=w.createContext({outlet:null,matches:[],isDataRoute:!1}),wD=w.createContext(null);function Yp(){return w.useContext(bv)!=null}function tE(){return Yp()||Ir(!1),w.useContext(bv).location}function SD(e){w.useContext(Kp).static||w.useLayoutEffect(e)}function Mt(){let{isDataRoute:e}=w.useContext(Zo);return e?kH():hH()}function hH(){Yp()||Ir(!1);let e=w.useContext(eE),{basename:t,future:r,navigator:n}=w.useContext(Kp),{matches:a}=w.useContext(Zo),{pathname:i}=tE(),s=JSON.stringify(vD(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return SD(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=yD(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ll([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function ND(){let{matches:e}=w.useContext(Zo),t=e[e.length-1];return t?t.params:{}}function gH(e,t){return xH(e,t)}function xH(e,t,r,n){Yp()||Ir(!1);let{navigator:a}=w.useContext(Kp),{matches:i}=w.useContext(Zo),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=tE(),d;if(t){var f;let x=typeof t=="string"?kd(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ir(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let h=WV(e,{pathname:p}),g=SH(h&&h.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ll([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ll([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?w.createElement(bv.Provider,{value:{location:Fm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wo.Pop}},g):g}function vH(){let e=_H(),t=fH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const yH=w.createElement(vH,null);class bH extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Zo.Provider,{value:this.props.routeContext},w.createElement(wD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wH(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(eE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Zo.Provider,{value:t},n)}function SH(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ir(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,h=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let p,h=!1,g=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||yH,c&&(u<0&&m===0?(h=!0,x=null):u===m&&(h=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,m+1)),b=()=>{let y;return p?y=g:h?y=x:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,w.createElement(wH,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(bH,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var ED=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ED||{}),Tg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tg||{});function NH(e){let t=w.useContext(eE);return t||Ir(!1),t}function EH(e){let t=w.useContext(pH);return t||Ir(!1),t}function jH(e){let t=w.useContext(Zo);return t||Ir(!1),t}function jD(e){let t=jH(),r=t.matches[t.matches.length-1];return r.route.id||Ir(!1),r.route.id}function _H(){var e;let t=w.useContext(wD),r=EH(Tg.UseRouteError),n=jD(Tg.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kH(){let{router:e}=NH(ED.UseNavigateStable),t=jD(Tg.UseNavigateStable),r=w.useRef(!1);return SD(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Fm({fromRouteId:t},i)))},[e,t])}const yC={};function CH(e,t){yC[t]||(yC[t]=!0,console.warn(t))}const bC=(e,t,r)=>CH(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function TH(e,t){e!=null&&e.v7_startTransition||bC("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&bC("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function em(e){let{to:t,replace:r,state:n,relative:a}=e;Yp()||Ir(!1);let{future:i,static:s}=w.useContext(Kp),{matches:l}=w.useContext(Zo),{pathname:c}=tE(),u=Mt(),d=yD(t,vD(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Xt(e){Ir(!1)}function AH(e){let{basename:t="/",children:r=null,location:n,navigationType:a=wo.Pop,navigator:i,static:s=!1,future:l}=e;Yp()&&Ir(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:s,future:Fm({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=kd(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:h="default"}=n,g=w.useMemo(()=>{let x=xD(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:h},navigationType:a}},[c,d,f,m,p,h,a]);return g==null?null:w.createElement(Kp.Provider,{value:u},w.createElement(bv.Provider,{children:r,value:g}))}function IH(e){let{children:t,location:r}=e;return gH(Bw(t),r)}new Promise(()=>{});function Bw(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Bw(n.props.children,i));return}n.type!==Xt&&Ir(!1),!n.props.index||!n.props.children||Ir(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Bw(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PH="6";try{window.__reactRouterVersion=PH}catch{}const OH="startTransition",wC=IU[OH];function RH(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=qV({window:a,v5Compat:!0}));let s=i.current,[l,c]=w.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&wC?wC(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.useEffect(()=>TH(n),[n]),w.createElement(AH,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}var SC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SC||(SC={}));var NC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(NC||(NC={}));const _D=w.createContext(void 0),DH=({children:e})=>{const[t,r]=w.useState(null);w.useEffect(()=>{const i=sessionStorage.getItem("selectedClient");i&&r(JSON.parse(i))},[]),w.useEffect(()=>{t?sessionStorage.setItem("selectedClient",JSON.stringify(t)):sessionStorage.removeItem("selectedClient")},[t]);const n=i=>{r(s=>s?{...s,...i}:i)},a=()=>r(null);return o.jsx(_D.Provider,{value:{selectedClient:t,selectClient:n,deselectClient:a},children:e})},FH=()=>{};var EC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},MH=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],l=e[r++],c=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},CD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,l=s?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,s||(m=64)),n.push(r[d],r[f],r[m],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||l==null||u==null||f==null)throw new LH;const m=i<<2|l>>4;if(n.push(m),u!==64){const p=l<<4&240|u>>2;if(n.push(p),f!==64){const h=u<<6&192|f;n.push(h)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class LH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $H=function(e){const t=kD(e);return CD.encodeByteArray(t,!0)},TD=function(e){return $H(e).replace(/\./g,"")},AD=function(e){try{return CD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=()=>BH().__FIREBASE_DEFAULTS__,UH=()=>{if(typeof process>"u"||typeof EC>"u")return;const e=EC.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&AD(e[1]);return t&&JSON.parse(t)},rE=()=>{try{return FH()||zH()||UH()||qH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},VH=e=>{var t,r;return(r=(t=rE())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},ID=()=>{var e;return(e=rE())===null||e===void 0?void 0:e.config},PD=e=>{var t;return(t=rE())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function GH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function KH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YH(){const e=zn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function JH(){try{return typeof indexedDB=="object"}catch{return!1}}function QH(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="FirebaseError";class Bs extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=ZH,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jp.prototype.create)}}class Jp{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?eW(i,n):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new Bs(a,l,n)}}function eW(e,t){return e.replace(tW,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const tW=/\{\$([^}]+)}/g;function rW(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hu(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(jC(i)&&jC(s)){if(!Hu(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function jC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Mf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function Lf(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function nW(e,t){const r=new aW(e,t);return r.subscribe.bind(r)}class aW{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");iW(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=Nb),a.error===void 0&&(a.error=Nb),a.complete===void 0&&(a.complete=Nb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iW(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Nb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e){return e&&e._delegate?e._delegate:e}class Ql{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new HH;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lW(t))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=bl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bl){return this.instances.has(t)}getOptions(t=bl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oW(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=bl){return this.component?this.component.multipleInstances?t:bl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oW(e){return e===bl?void 0:e}function lW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new sW(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const uW={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},dW=Lt.INFO,fW={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},mW=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=fW[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nE{constructor(t){this.name=t,this._logLevel=dW,this._logHandler=mW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uW[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const pW=(e,t)=>t.some(r=>e instanceof r);let _C,kC;function hW(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gW(){return kC||(kC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OD=new WeakMap,zw=new WeakMap,RD=new WeakMap,Eb=new WeakMap,aE=new WeakMap;function xW(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Oo(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&OD.set(r,e)}).catch(()=>{}),aE.set(t,e),t}function vW(e){if(zw.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});zw.set(e,t)}let Uw={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return zw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||RD.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oo(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yW(e){Uw=e(Uw)}function bW(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(jb(this),t,...r);return RD.set(n,t.sort?t.sort():[t]),Oo(n)}:gW().includes(e)?function(...t){return e.apply(jb(this),t),Oo(OD.get(this))}:function(...t){return Oo(e.apply(jb(this),t))}}function wW(e){return typeof e=="function"?bW(e):(e instanceof IDBTransaction&&vW(e),pW(e,hW())?new Proxy(e,Uw):e)}function Oo(e){if(e instanceof IDBRequest)return xW(e);if(Eb.has(e))return Eb.get(e);const t=wW(e);return t!==e&&(Eb.set(e,t),aE.set(t,e)),t}const jb=e=>aE.get(e);function SW(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),l=Oo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Oo(s.result),c.oldVersion,c.newVersion,Oo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const NW=["get","getKey","getAll","getAllKeys","count"],EW=["put","add","delete","clear"],_b=new Map;function CC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_b.get(t))return _b.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=EW.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||NW.includes(r)))return;const i=async function(s,...l){const c=this.transaction(s,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return _b.set(t,i),i}yW(e=>({...e,get:(t,r,n)=>CC(t,r)||e.get(t,r,n),has:(t,r)=>!!CC(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_W(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _W(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qw="@firebase/app",TC="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new nE("@firebase/app"),kW="@firebase/app-compat",CW="@firebase/analytics-compat",TW="@firebase/analytics",AW="@firebase/app-check-compat",IW="@firebase/app-check",PW="@firebase/auth",OW="@firebase/auth-compat",RW="@firebase/database",DW="@firebase/data-connect",FW="@firebase/database-compat",MW="@firebase/functions",LW="@firebase/functions-compat",$W="@firebase/installations",BW="@firebase/installations-compat",zW="@firebase/messaging",UW="@firebase/messaging-compat",qW="@firebase/performance",VW="@firebase/performance-compat",HW="@firebase/remote-config",WW="@firebase/remote-config-compat",GW="@firebase/storage",XW="@firebase/storage-compat",KW="@firebase/firestore",YW="@firebase/vertexai",JW="@firebase/firestore-compat",QW="firebase",ZW="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",eG={[qw]:"fire-core",[kW]:"fire-core-compat",[TW]:"fire-analytics",[CW]:"fire-analytics-compat",[IW]:"fire-app-check",[AW]:"fire-app-check-compat",[PW]:"fire-auth",[OW]:"fire-auth-compat",[RW]:"fire-rtdb",[DW]:"fire-data-connect",[FW]:"fire-rtdb-compat",[MW]:"fire-fn",[LW]:"fire-fn-compat",[$W]:"fire-iid",[BW]:"fire-iid-compat",[zW]:"fire-fcm",[UW]:"fire-fcm-compat",[qW]:"fire-perf",[VW]:"fire-perf-compat",[HW]:"fire-rc",[WW]:"fire-rc-compat",[GW]:"fire-gcs",[XW]:"fire-gcs-compat",[KW]:"fire-fst",[JW]:"fire-fst-compat",[YW]:"fire-vertex","fire-js":"fire-js",[QW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,tG=new Map,Vw=new Map;function AC(e,t){try{e.container.addComponent(t)}catch(r){As.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Wu(e){const t=e.name;if(Vw.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;Vw.set(t,e);for(const r of Mm.values())AC(r,e);for(const r of tG.values())AC(r,e);return!0}function wv(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function rG(e,t,r=Ag){wv(e,t).clearInstance(r)}function pa(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new Jp("app","Firebase",nG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=ZW;function DD(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Ro.create("bad-app-name",{appName:String(a)});if(r||(r=ID()),!r)throw Ro.create("no-options");const i=Mm.get(a);if(i){if(Hu(r,i.options)&&Hu(n,i.config))return i;throw Ro.create("duplicate-app",{appName:a})}const s=new cW(a);for(const c of Vw.values())s.addComponent(c);const l=new aG(r,n,s);return Mm.set(a,l),l}function Hw(e=Ag){const t=Mm.get(e);if(!t&&e===Ag&&ID())return DD();if(!t)throw Ro.create("no-app",{appName:e});return t}function IC(){return Array.from(Mm.values())}function Do(e,t,r){var n;let a=(n=eG[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const l=[`Unable to register library "${a}" with version "${t}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(l.join(" "));return}Wu(new Ql(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="firebase-heartbeat-database",sG=1,Lm="firebase-heartbeat-store";let kb=null;function FD(){return kb||(kb=SW(iG,sG,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Lm)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ro.create("idb-open",{originalErrorMessage:e.message})})),kb}async function oG(e){try{const r=(await FD()).transaction(Lm),n=await r.objectStore(Lm).get(MD(e));return await r.done,n}catch(t){if(t instanceof Bs)As.warn(t.message);else{const r=Ro.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});As.warn(r.message)}}}async function PC(e,t){try{const n=(await FD()).transaction(Lm,"readwrite");await n.objectStore(Lm).put(t,MD(e)),await n.done}catch(r){if(r instanceof Bs)As.warn(r.message);else{const n=Ro.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});As.warn(n.message)}}}function MD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=1024,cG=30;class uG{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fG(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>cG){const s=mG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){As.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=OC(),{heartbeatsToSend:n,unsentEntries:a}=dG(this._heartbeatsCache.heartbeats),i=TD(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return As.warn(r),""}}}function OC(){return new Date().toISOString().substring(0,10)}function dG(e,t=lG){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),RC(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),RC(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class fG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JH()?QH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await oG(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return PC(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return PC(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function RC(e){return TD(JSON.stringify({version:2,heartbeats:e})).length}function mG(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(e){Wu(new Ql("platform-logger",t=>new jW(t),"PRIVATE")),Wu(new Ql("heartbeat",t=>new uG(t),"PRIVATE")),Do(qw,TC,e),Do(qw,TC,"esm2017"),Do("fire-js","")}pG("");function iE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function LD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hG=LD,$D=new Jp("auth","Firebase",LD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new nE("@firebase/auth");function gG(e,...t){Ig.logLevel<=Lt.WARN&&Ig.warn(`Auth (${Cd}): ${e}`,...t)}function X0(e,...t){Ig.logLevel<=Lt.ERROR&&Ig.error(`Auth (${Cd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e,...t){throw sE(e,...t)}function Ui(e,...t){return sE(e,...t)}function BD(e,t,r){const n=Object.assign(Object.assign({},hG()),{[t]:r});return new Jp("auth","Firebase",n).create(t,{appName:e.name})}function qi(e){return BD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sE(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return $D.create(e,...t)}function Xe(e,t,...r){if(!e)throw sE(t,...r)}function fs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw X0(t),new Error(t)}function Is(e,t){e||fs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function xG(){return DC()==="http:"||DC()==="https:"}function DC(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xG()||XH()||"connection"in navigator)?navigator.onLine:!0}function yG(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,r){this.shortDelay=t,this.longDelay=r,Is(r>t,"Short delay should be less than long delay!"),this.isMobile=WH()||KH()}get(){return vG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e,t){Is(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=new Zp(3e4,6e4);function zs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Us(e,t,r,n,a={}){return UD(e,a,async()=>{let i={},s={};n&&(t==="GET"?s=n:i={body:JSON.stringify(n)});const l=Qp(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},i);return GH()||(u.referrerPolicy="no-referrer"),zD.fetch()(qD(e,e.config.apiHost,r,l),u)})}async function UD(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},bG),t);try{const a=new NG(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw e0(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const l=i.ok?s.errorMessage:s.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw e0(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw e0(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw e0(e,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BD(e,d,u);Ni(e,d)}}catch(a){if(a instanceof Bs)throw a;Ni(e,"network-request-failed",{message:String(a)})}}async function Td(e,t,r,n,a={}){const i=await Us(e,t,r,n,a);return"mfaPendingCredential"in i&&Ni(e,"multi-factor-auth-required",{_serverResponse:i}),i}function qD(e,t,r,n){const a=`${t}${r}?${n}`;return e.config.emulator?oE(e.config,a):`${e.config.apiScheme}://${a}`}function SG(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ui(this.auth,"network-request-failed")),wG.get())})}}function e0(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Ui(e,t,n);return a.customData._tokenResponse=r,a}function FC(e){return e!==void 0&&e.enterprise!==void 0}class EG{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return SG(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jG(e,t){return Us(e,"GET","/v2/recaptchaConfig",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G(e,t){return Us(e,"POST","/v1/accounts:delete",t)}async function VD(e,t){return Us(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kG(e,t=!1){const r=Yi(e),n=await r.getIdToken(t),a=lE(n);Xe(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:tm(Cb(a.auth_time)),issuedAtTime:tm(Cb(a.iat)),expirationTime:tm(Cb(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cb(e){return Number(e)*1e3}function lE(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return X0("JWT malformed, contained fewer than 3 sections"),null;try{const a=AD(r);return a?JSON.parse(a):(X0("Failed to decode base64 JWT payload"),null)}catch(a){return X0("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function MC(e){const t=lE(e);return Xe(t,"internal-error"),Xe(typeof t.exp<"u","internal-error"),Xe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Bs&&CG(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function CG({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=tm(this.lastLoginAt),this.creationTime=tm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(e){var t;const r=e.auth,n=await e.getIdToken(),a=await Gu(e,VD(r,{idToken:n}));Xe(a==null?void 0:a.users.length,r,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const s=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?HD(i.providerUserInfo):[],l=IG(e.providerData,s),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Gw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function AG(e){const t=Yi(e);await Pg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IG(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function HD(e){return e.map(t=>{var{providerId:r}=t,n=iE(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(e,t){const r=await UD(e,{},async()=>{const n=Qp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,s=qD(e,a,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",zD.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function OG(e,t){return Us(e,"POST","/v2/accounts:revokeToken",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Xe(t.idToken,"internal-error"),Xe(typeof t.idToken<"u","internal-error"),Xe(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):MC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Xe(t.length!==0,"internal-error");const r=MC(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await PG(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new wu;return n&&(Xe(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),a&&(Xe(typeof a=="string","internal-error",{appName:t}),s.accessToken=a),i&&(Xe(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e,t){Xe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ms{constructor(t){var{uid:r,auth:n,stsTokenManager:a}=t,i=iE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return Xe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return kG(this,t)}reload(){return AG(this)}_assign(t){this!==t&&(Xe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new ms(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Pg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pa(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await Gu(this,_G(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,a,i,s,l,c,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,m=(a=r.email)!==null&&a!==void 0?a:void 0,p=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,h=(s=r.photoURL)!==null&&s!==void 0?s:void 0,g=(l=r.tenantId)!==null&&l!==void 0?l:void 0,x=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:j,isAnonymous:E,providerData:N,stsTokenManager:S}=r;Xe(y&&S,t,"internal-error");const T=wu.fromJSON(this.name,S);Xe(typeof y=="string",t,"internal-error"),ro(f,t.name),ro(m,t.name),Xe(typeof j=="boolean",t,"internal-error"),Xe(typeof E=="boolean",t,"internal-error"),ro(p,t.name),ro(h,t.name),ro(g,t.name),ro(x,t.name),ro(v,t.name),ro(b,t.name);const C=new ms({uid:y,auth:t,email:m,emailVerified:j,displayName:f,isAnonymous:E,photoURL:h,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:b});return N&&Array.isArray(N)&&(C.providerData=N.map(k=>Object.assign({},k))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(t,r,n=!1){const a=new wu;a.updateFromServerResponse(r);const i=new ms({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await Pg(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];Xe(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?HD(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),l=new wu;l.updateFromIdToken(n);const c=new ms({uid:a.localId,auth:t,stsTokenManager:l,isAnonymous:s}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Gw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Map;function ps(e){Is(e instanceof Function,"Expected a class definition");let t=LC.get(e);return t?(Is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,LC.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}WD.type="NONE";const $C=WD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(e,t,r){return`firebase:${e}:${t}:${r}`}class Su{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=K0(this.userKey,a.apiKey,i),this.fullPersistenceKey=K0("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ms._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Su(ps($C),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=a[0]||ps($C);const s=K0(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(s);if(d){const f=ms._fromJSON(t,d);u!==i&&(l=f),i=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Su(i,t,n):(i=c[0],l&&await i._set(s,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(s)}catch{}})),new Su(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QD(t))return"Blackberry";if(ZD(t))return"Webos";if(XD(t))return"Safari";if((t.includes("chrome/")||KD(t))&&!t.includes("edge/"))return"Chrome";if(JD(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function GD(e=zn()){return/firefox\//i.test(e)}function XD(e=zn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KD(e=zn()){return/crios\//i.test(e)}function YD(e=zn()){return/iemobile/i.test(e)}function JD(e=zn()){return/android/i.test(e)}function QD(e=zn()){return/blackberry/i.test(e)}function ZD(e=zn()){return/webos/i.test(e)}function cE(e=zn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function RG(e=zn()){var t;return cE(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function DG(){return YH()&&document.documentMode===10}function eF(e=zn()){return cE(e)||JD(e)||ZD(e)||QD(e)||/windows phone/i.test(e)||YD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e,t=[]){let r;switch(e){case"Browser":r=BC(zn());break;case"Worker":r=`${BC(zn())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Cd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((s,l)=>{try{const c=t(i);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MG(e,t={}){return Us(e,"GET","/v2/passwordPolicy",zs(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=6;class $G{constructor(t){var r,n,a,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:LG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,a,i,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zC(this),this.idTokenSubscription=new zC(this),this.beforeStateQueue=new FG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$D,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=ps(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await Su.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await VD(this,{idToken:t}),n=await ms._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(pa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=a==null?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===l)&&(c!=null&&c.user)&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Pg(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yG()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pa(this.app))return Promise.reject(qi(this));const r=t?Yi(t):null;return r&&Xe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Xe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pa(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pa(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MG(this),r=new $G(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Jp("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await OG(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&ps(t)||this._popupRedirectResolver;Xe(r,this,"argument-error"),this.redirectPersistenceManager=await Su.create(this,[ps(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(l,this,"internal-error"),l.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,a);return()=>{s=!0,c()}}else{const c=t.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var t;if(pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&gG(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function el(e){return Yi(e)}class zC{constructor(t){this.auth=t,this.observer=null,this.addObserver=nW(r=>this.observer=r)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zG(e){Sv=e}function rF(e){return Sv.loadJS(e)}function UG(){return Sv.recaptchaEnterpriseScript}function qG(){return Sv.gapiScript}function VG(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class HG{constructor(){this.enterprise=new WG}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class WG{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const GG="recaptcha-enterprise",nF="NO_RECAPTCHA";class XG{constructor(t){this.type=GG,this.auth=el(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,l)=>{jG(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new EG(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,s(u.siteKey)}}).catch(c=>{l(c)})})}function a(i,s,l){const c=window.grecaptcha;FC(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{s(u)}).catch(()=>{s(nF)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HG().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(l=>{if(!r&&FC(window.grecaptcha))a(l,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=UG();c.length!==0&&(c+=l),rF(c).then(()=>{a(l,i,s)}).catch(u=>{s(u)})}}).catch(l=>{s(l)})})}}async function UC(e,t,r,n=!1,a=!1){const i=new XG(e);let s;if(a)s=nF;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const l=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Xw(e,t,r,n,a){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await UC(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await UC(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(e,t){const r=wv(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Hu(i,t??{}))return a;Ni(a,"already-initialized")}return r.initialize({options:t})}function YG(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ps);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function JG(e,t,r){const n=el(e);Xe(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=aF(t),{host:s,port:l}=QG(t),c=l===null?"":`:${l}`,u={url:`${i}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Xe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Xe(Hu(u,n.config.emulator)&&Hu(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,ZG()}function aF(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QG(e){const t=aF(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:qC(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:qC(s)}}}function qC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ZG(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,r){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function eX(e,t){return Us(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(e,t){return Td(e,"POST","/v1/accounts:signInWithPassword",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(e,t){return Td(e,"POST","/v1/accounts:signInWithEmailLink",zs(e,t))}async function nX(e,t){return Td(e,"POST","/v1/accounts:signInWithEmailLink",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends uE{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new $m(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new $m(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(t,r,"signInWithPassword",tX);case"emailLink":return rX(t,{email:this._email,oobCode:this._password});default:Ni(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(t,n,"signUpPassword",eX);case"emailLink":return nX(t,{idToken:r,email:this._email,oobCode:this._password});default:Ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(e,t){return Td(e,"POST","/v1/accounts:signInWithIdp",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX="http://localhost";class Zl extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Zl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ni("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a}=r,i=iE(r,["providerId","signInMethod"]);if(!n||!a)return null;const s=new Zl(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return Nu(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Nu(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Nu(t,r)}buildRequest(){const t={requestUri:aX,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Qp(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sX(e){const t=Mf(Lf(e)).link,r=t?Mf(Lf(t)).deep_link_id:null,n=Mf(Lf(e)).deep_link_id;return(n?Mf(Lf(n)).link:null)||n||r||t||e}class dE{constructor(t){var r,n,a,i,s,l;const c=Mf(Lf(t)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,f=iX((a=c.mode)!==null&&a!==void 0?a:null);Xe(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const r=sX(t);try{return new dE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.providerId=Ad.PROVIDER_ID}static credential(t,r){return $m._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=dE.parseLink(r);return Xe(n,"argument-error"),$m._fromEmailAndCode(t,n.code,n.tenantId)}}Ad.PROVIDER_ID="password";Ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends iF{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends eh{constructor(){super("facebook.com")}static credential(t){return Zl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fo.credentialFromTaggedObject(t)}static credentialFromError(t){return fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fo.credential(t.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Zl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return mo.credentialFromTaggedObject(t)}static credentialFromError(t){return mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return mo.credential(r,n)}catch{return null}}}mo.GOOGLE_SIGN_IN_METHOD="google.com";mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends eh{constructor(){super("github.com")}static credential(t){return Zl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return po.credentialFromTaggedObject(t)}static credentialFromError(t){return po.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return po.credential(t.oauthAccessToken)}catch{return null}}}po.GITHUB_SIGN_IN_METHOD="github.com";po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends eh{constructor(){super("twitter.com")}static credential(t,r){return Zl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return ho.credentialFromTaggedObject(t)}static credentialFromError(t){return ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return ho.credential(r,n)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oX(e,t){return Td(e,"POST","/v1/accounts:signUp",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await ms._fromIdTokenResponse(t,n,a),s=VC(n);return new Bo({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=VC(n);return new Bo({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function VC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Bs{constructor(t,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Og.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new Og(t,r,n,a)}}function sF(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Og._fromErrorAndOperation(e,i,t,n):i})}async function lX(e,t,r=!1){const n=await Gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Bo._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cX(e,t,r=!1){const{auth:n}=e;if(pa(n.app))return Promise.reject(qi(n));const a="reauthenticate";try{const i=await Gu(e,sF(n,a,t,e),r);Xe(i.idToken,n,"internal-error");const s=lE(i.idToken);Xe(s,n,"internal-error");const{sub:l}=s;return Xe(e.uid===l,n,"user-mismatch"),Bo._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ni(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(e,t,r=!1){if(pa(e.app))return Promise.reject(qi(e));const n="signIn",a=await sF(e,n,t),i=await Bo._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function uX(e,t){return oF(el(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX(e,t){return Td(e,"POST","/v1/accounts:signInWithCustomToken",zs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fX(e,t){if(pa(e.app))return Promise.reject(qi(e));const r=el(e),n=await dX(r,{token:t,returnSecureToken:!0}),a=await Bo._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(e){const t=el(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mX(e,t,r){if(pa(e.app))return Promise.reject(qi(e));const n=el(e),s=await Xw(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oX).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&lF(e),c}),l=await Bo._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function pX(e,t,r){return pa(e.app)?Promise.reject(qi(e)):uX(Yi(e),Ad.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lF(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hX(e,t){return Us(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gX(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Yi(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await Gu(n,hX(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function xX(e,t,r,n){return Yi(e).onIdTokenChanged(t,r,n)}function vX(e,t,r){return Yi(e).beforeAuthStateChanged(t,r)}function yX(e,t,r,n){return Yi(e).onAuthStateChanged(t,r,n)}function bX(e){return Yi(e).signOut()}const Rg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Rg,"1"),this.storage.removeItem(Rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=1e3,SX=10;class uF extends cF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);DG()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,SX):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},wX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}uF.type="LOCAL";const NX=uF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF extends cF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}dF.type="SESSION";const fF=dF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new Nv(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const l=Array.from(s).map(async u=>u(r.origin,i)),c=await EX(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((l,c)=>{const u=fE("",20);a.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function _X(e){Vi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function kX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CX(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function TX(){return mF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="firebaseLocalStorageDb",AX=1,Dg="firebaseLocalStorage",hF="fbase_key";class th{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ev(e,t){return e.transaction([Dg],t?"readwrite":"readonly").objectStore(Dg)}function IX(){const e=indexedDB.deleteDatabase(pF);return new th(e).toPromise()}function Kw(){const e=indexedDB.open(pF,AX);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Dg,{keyPath:hF})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Dg)?t(n):(n.close(),await IX(),t(await Kw()))})})}async function HC(e,t,r){const n=Ev(e,!0).put({[hF]:t,value:r});return new th(n).toPromise()}async function PX(e,t){const r=Ev(e,!1).get(t),n=await new th(r).toPromise();return n===void 0?null:n.value}function WC(e,t){const r=Ev(e,!0).delete(t);return new th(r).toPromise()}const OX=800,RX=3;class gF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kw(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>RX)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nv._getInstance(TX()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await kX(),!this.activeServiceWorker)return;this.sender=new jX(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kw();return await HC(t,Rg,"1"),await WC(t,Rg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>HC(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>PX(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>WC(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=Ev(a,!1).getAll();return new th(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gF.type="LOCAL";const DX=gF;new Zp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(e,t){return t?ps(t):(Xe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends uE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nu(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Nu(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function MX(e){return oF(e.auth,new mE(e),e.bypassAuthState)}function LX(e){const{auth:t,user:r}=e;return Xe(r,t,"internal-error"),cX(r,new mE(e),e.bypassAuthState)}async function $X(e){const{auth:t,user:r}=e;return Xe(r,t,"internal-error"),lX(r,new mE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:l}=t;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return MX;case"linkViaPopup":case"linkViaRedirect":return $X;case"reauthViaPopup":case"reauthViaRedirect":return LX;default:Ni(this.auth,"internal-error")}}resolve(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=new Zp(2e3,1e4);class lu extends xF{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,lu.currentPopupAction&&lu.currentPopupAction.cancel(),lu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Xe(t,this.auth,"internal-error"),t}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const t=fE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BX.get())};t()}}lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX="pendingRedirect",Y0=new Map;class UX extends xF{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Y0.get(this.auth._key());if(!t){try{const n=await qX(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Y0.set(this.auth._key(),t)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qX(e,t){const r=WX(t),n=HX(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function VX(e,t){Y0.set(e._key(),t)}function HX(e){return ps(e._redirectPersistence)}function WX(e){return K0(zX,e.config.apiKey,e.name)}async function GX(e,t,r=!1){if(pa(e.app))return Promise.reject(qi(e));const n=el(e),a=FX(n,t),s=await new UX(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=10*60*1e3;class KX{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YX(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!vF(t)){const a=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ui(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XX&&this.cachedEventUids.clear(),this.cachedEventUids.has(GC(t))}saveEventToCache(t){this.cachedEventUids.add(GC(t)),this.lastProcessedEventTime=Date.now()}}function GC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function vF({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function YX(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vF(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JX(e,t={}){return Us(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZX=/^https?/;async function eK(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JX(e);for(const r of t)try{if(tK(r))return}catch{}Ni(e,"unauthorized-domain")}function tK(e){const t=Ww(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!ZX.test(r))return!1;if(QX.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=new Zp(3e4,6e4);function XC(){const e=Vi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function nK(e){return new Promise((t,r)=>{var n,a,i;function s(){XC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XC(),r(Ui(e,"network-request-failed"))},timeout:rK.get()})}if(!((a=(n=Vi().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((i=Vi().gapi)===null||i===void 0)&&i.load)s();else{const l=VG("iframefcb");return Vi()[l]=()=>{gapi.load?s():r(Ui(e,"network-request-failed"))},rF(`${qG()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw J0=null,t})}let J0=null;function aK(e){return J0=J0||nK(e),J0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new Zp(5e3,15e3),sK="__/auth/iframe",oK="emulator/auth/iframe",lK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uK(e){const t=e.config;Xe(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?oE(t,oK):`https://${e.config.authDomain}/${sK}`,n={apiKey:t.apiKey,appName:e.name,v:Cd},a=cK.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Qp(n).slice(1)}`}async function dK(e){const t=await aK(e),r=Vi().gapi;return Xe(r,e,"internal-error"),t.open({where:document.body,url:uK(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lK,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=Ui(e,"network-request-failed"),l=Vi().setTimeout(()=>{i(s)},iK.get());function c(){Vi().clearTimeout(l),a(n)}n.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mK=500,pK=600,hK="_blank",gK="http://localhost";class KC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xK(e,t,r,n=mK,a=pK){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},fK),{width:n.toString(),height:a.toString(),top:i,left:s}),u=zn().toLowerCase();r&&(l=KD(u)?hK:r),GD(u)&&(t=t||gK,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,h])=>`${m}${p}=${h},`,"");if(RG(u)&&l!=="_self")return vK(t||"",l),new KC(null);const f=window.open(t||"",l,d);Xe(f,e,"popup-blocked");try{f.focus()}catch{}return new KC(f)}function vK(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="__/auth/handler",bK="emulator/auth/handler",wK=encodeURIComponent("fac");async function YC(e,t,r,n,a,i){Xe(e.config.authDomain,e,"auth-domain-config-required"),Xe(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Cd,eventId:a};if(t instanceof iF){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",rW(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(t instanceof eh){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${wK}=${encodeURIComponent(c)}`:"";return`${SK(e)}?${Qp(l).slice(1)}${u}`}function SK({config:e}){return e.emulator?oE(e,bK):`https://${e.authDomain}/${yK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="webStorageSupport";class NK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fF,this._completeRedirectFn=GX,this._overrideRedirectResult=VX}async _openPopup(t,r,n,a){var i;Is((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await YC(t,r,n,Ww(),a);return xK(t,s,fE())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await YC(t,r,n,Ww(),a);return _X(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Is(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await dK(t),n=new KX(t);return r.register("authEvent",a=>(Xe(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Tb,{type:Tb},a=>{var i;const s=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[Tb];s!==void 0&&r(!!s),Ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=eK(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return eF()||XD()||cE()}}const EK=NK;var JC="@firebase/auth",QC="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kK(e){Wu(new Ql("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;Xe(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tF(e)},u=new BG(n,a,i,c);return YG(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Wu(new Ql("auth-internal",t=>{const r=el(t.getProvider("auth").getImmediate());return(n=>new jK(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Do(JC,QC,_K(e)),Do(JC,QC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=5*60,TK=PD("authIdTokenMaxAge")||CK;let ZC=null;const AK=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>TK)return;const a=r==null?void 0:r.token;ZC!==a&&(ZC=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function eT(e=Hw()){const t=wv(e,"auth");if(t.isInitialized())return t.getImmediate();const r=KG(e,{popupRedirectResolver:EK,persistence:[DX,NX,fF]}),n=PD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=AK(i.toString());vX(r,s,()=>s(r.currentUser)),xX(r,l=>s(l))}}const a=VH("auth");return a&&JG(r,`http://${a}`),r}function IK(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}zG({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=Ui("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",IK().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kK("Browser");var PK="firebase",OK="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(PK,OK,"app");var tT={};const rT="@firebase/data-connect",nT="0.3.2";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv="";function RK(e){jv=e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(t,r){this.appCheckProvider=r,pa(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n).catch()}getToken(){return this.serverAppAppCheckToken?Promise.resolve({token:this.serverAppAppCheckToken}):this.appCheck?this.appCheck.getToken():new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken().then(t,r):t(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn={OTHER:"other",ALREADY_INITIALIZED:"already-initialized",NOT_INITIALIZED:"not-initialized",NOT_SUPPORTED:"not-supported",INVALID_ARGUMENT:"invalid-argument",PARTIAL_ERROR:"partial-error",UNAUTHORIZED:"unauthorized"};class Xn extends Bs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new nE("@firebase/data-connect");function gi(e){yF.debug(`DataConnect (${jv}): ${e}`)}function Xu(e){yF.error(`DataConnect (${jv}): ${e}`)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(t,r,n){this._appName=t,this._options=r,this._authProvider=n,this._auth=n.getImmediate({optional:!0}),this._auth||n.onInit(a=>this._auth=a)}getToken(t){return this._auth?this._auth.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(gi("Got auth/token-not-initialized error.  Treating as null token."),null):(Xu("Error received when attempting to retrieve token: "+JSON.stringify(r)),Promise.reject(r))):new Promise((r,n)=>{setTimeout(()=>{this._auth?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this._auth)===null||r===void 0||r.addAuthTokenListener(t)}removeTokenChangeListener(t){this._authProvider.get().then(r=>r.removeAuthTokenListener(t)).catch(r=>Xu(r))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="query",MK="mutation",Yw="SERVER",Ab="CACHE";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0;function LK(e){Q0=e}LK(e=>JSON.stringify(e));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(e,t,r){e.has(t)||e.set(t,r)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e,t,r){return function(){return{data:t,refInfo:{name:e.name,variables:e.variables,connectorConfig:Object.assign({projectId:e.dataConnect.app.options.projectId},e.dataConnect.getSettings())},fetchTime:Date.now().toLocaleString(),source:r}}}class BK{constructor(t){this.transport=t,this._queries=new Map}track(t,r,n){const a={name:t,variables:r,refType:$f},i=Q0(a),s={ref:a,subscriptions:[],currentCache:n||null,lastError:null};return $K(this._queries,i,s),this._queries.get(i)}addSubscription(t,r,n,a){const i=Q0({name:t.name,variables:t.variables,refType:$f}),s=this._queries.get(i),l={userCallback:r,errCallback:n},c=()=>{const u=this._queries.get(i);u.subscriptions=u.subscriptions.filter(d=>d!==l)};if(a&&s.currentCache!==a&&(gi("Initial cache found. Comparing dates."),(!s.currentCache||s.currentCache&&zK(s.currentCache.fetchTime,a.fetchTime))&&(s.currentCache=a)),s.currentCache!==null){const u=s.currentCache.data;r({data:u,source:Ab,ref:t,toJSON:aT(t,s.currentCache.data,Ab),fetchTime:s.currentCache.fetchTime}),s.lastError!==null&&n&&n(void 0)}return s.subscriptions.push({userCallback:r,errCallback:n,unsubscribe:c}),s.currentCache||(gi(`No cache available for query ${t.name} with variables ${JSON.stringify(t.variables)}. Calling executeQuery.`),this.executeQuery(t).then(void 0,d=>{})),c}executeQuery(t){if(t.refType!==$f)throw new Xn(Dn.INVALID_ARGUMENT,"ExecuteQuery can only execute query operation");const r=Q0({name:t.name,variables:t.variables,refType:$f}),n=this._queries.get(r);return this.transport.invokeQuery(t.name,t.variables).then(s=>{const l=new Date().toString(),c=Object.assign(Object.assign({},s),{source:Yw,ref:t,toJSON:aT(t,s.data,Yw),fetchTime:l});return n.subscriptions.forEach(u=>{u.userCallback(c)}),n.currentCache={data:s.data,source:Ab,fetchTime:l},c},s=>{throw n.lastError=s,n.subscriptions.forEach(l=>{l.errCallback&&l.errCallback(s)}),s})}enableEmulator(t,r){this.transport.useEmulator(t,r)}}function zK(e,t){const r=new Date(e),n=new Date(t);return r.getTime()<n.getTime()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm={Base:"Base",Generated:"Generated",TanstackReactCore:"TanstackReactCore",GeneratedReact:"GeneratedReact",TanstackAngularCore:"TanstackAngularCore",GeneratedAngular:"GeneratedAngular"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(e,t){const{connector:r,location:n,projectId:a,service:i}=e,{host:s,sslEnabled:l,port:c}=t;let f=`${l?"https":"http"}://${s||"firebasedataconnect.googleapis.com"}`;if(typeof c=="number")f+=`:${c}`;else if(typeof c<"u")throw Xu("Port type is of an invalid type"),new Xn(Dn.INVALID_ARGUMENT,"Incorrect type for port passed in!");return`${f}/v1/projects/${a}/locations/${n}/services/${i}/connectors/${r}`}function iT(e,t){if(!t)return e;const r=new URL(e);return r.searchParams.append("key",t),r.toString()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sT=globalThis.fetch;function qK(e,t){let r="gl-js/ fire/"+jv;return t!==rm.Base&&t!==rm.Generated?r+=" js/"+t.toLowerCase():(e||t===rm.Generated)&&(r+=" js/gen"),r}function oT(e,t,{signal:r},n,a,i,s,l){if(!sT)throw new Xn(Dn.OTHER,"No Fetch Implementation detected!");const c={"Content-Type":"application/json","X-Goog-Api-Client":qK(s,l)};a&&(c["X-Firebase-Auth-Token"]=a),n&&(c["x-firebase-gmpid"]=n),i&&(c["X-Firebase-AppCheck"]=i);const u=JSON.stringify(t);return gi(`Making request out to ${e} with body: ${u}`),sT(e,{body:u,method:"POST",headers:c,signal:r}).catch(d=>{throw new Xn(Dn.OTHER,"Failed to fetch: "+JSON.stringify(d))}).then(async d=>{let f=null;try{f=await d.json()}catch(p){throw new Xn(Dn.OTHER,JSON.stringify(p))}const m=VK(f);if(d.status>=400)throw Xu("Error while performing request: "+JSON.stringify(f)),d.status===401?new Xn(Dn.UNAUTHORIZED,m):new Xn(Dn.OTHER,m);return f}).then(d=>{if(d.errors&&d.errors.length){const f=JSON.stringify(d.errors);throw Xu("DataConnect error while performing request: "+f),new Xn(Dn.OTHER,f)}return d})}function VK(e){return"message"in e?e.message:JSON.stringify(e)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(t,r,n,a,i,s,l=!1,c=rm.Base){var u,d;this.apiKey=r,this.appId=n,this.authProvider=a,this.appCheckProvider=i,this._isUsingGen=l,this._callerSdkType=c,this._host="",this._location="l",this._connectorName="",this._secure=!0,this._project="p",this._accessToken=null,this._appCheckToken=null,this._lastToken=null,this.invokeQuery=(g,x)=>{const v=new AbortController;return this.withRetry(()=>oT(iT(`${this.endpointUrl}:executeQuery`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:g,variables:x},v,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType))},this.invokeMutation=(g,x)=>{const v=new AbortController;return this.withRetry(()=>oT(iT(`${this.endpointUrl}:executeMutation`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:g,variables:x},v,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType))},s&&(typeof s.port=="number"&&(this._port=s.port),typeof s.sslEnabled<"u"&&(this._secure=s.sslEnabled),this._host=s.host);const{location:f,projectId:m,connector:p,service:h}=t;if(f&&(this._location=f),m&&(this._project=m),this._serviceName=h,!p)throw new Xn(Dn.INVALID_ARGUMENT,"Connector Name required!");this._connectorName=p,(u=this.authProvider)===null||u===void 0||u.addTokenChangeListener(g=>{gi(`New Token Available: ${g}`),this._accessToken=g}),(d=this.appCheckProvider)===null||d===void 0||d.addTokenChangeListener(g=>{const{token:x}=g;gi(`New App Check Token Available: ${x}`),this._appCheckToken=x})}get endpointUrl(){return UK({connector:this._connectorName,location:this._location,projectId:this._project,service:this._serviceName},{host:this._host,sslEnabled:this._secure,port:this._port})}useEmulator(t,r,n){this._host=t,typeof r=="number"&&(this._port=r),typeof n<"u"&&(this._secure=n)}onTokenChanged(t){this._accessToken=t}async getWithAuth(t=!1){var r;let n=new Promise(a=>a(this._accessToken));return this.appCheckProvider&&(this._appCheckToken=(r=await this.appCheckProvider.getToken())===null||r===void 0?void 0:r.token),this.authProvider?n=this.authProvider.getToken(t).then(a=>a?(this._accessToken=a.accessToken,this._accessToken):null):n=new Promise(a=>a("")),n}_setLastToken(t){this._lastToken=t}withRetry(t,r=!1){let n=!1;return this.getWithAuth(r).then(a=>(n=this._lastToken!==a,this._lastToken=a,a)).then(t).catch(a=>{if("code"in a&&a.code===Dn.UNAUTHORIZED&&!r&&n)return gi("Retrying due to unauthorized"),this.withRetry(t,!0);throw a})}_setCallerSdkType(t){this._callerSdkType=t}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,t,r){return e.setInitialized(),{dataConnect:e,name:t,refType:MK,variables:r}}class WK{constructor(t){this._transport=t,this._inflight=[]}executeMutation(t){const r=this._transport.invokeMutation(t.name,t.variables),n=r.then(i=>Object.assign(Object.assign({},i),{source:Yw,ref:t,fetchTime:Date.now().toLocaleString()}));this._inflight.push(r);const a=()=>this._inflight=this._inflight.filter(i=>i!==r);return r.then(a,a),n}}function et(e){return e.dataConnect._mutationManager.executeMutation(e)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK="FIREBASE_DATA_CONNECT_EMULATOR_HOST";function XK(e){const[t,r]=e.split("://"),n=t==="https",[a,i]=r.split(":"),s=Number(i);return{host:a,port:s,sslEnabled:n}}class KK{constructor(t,r,n,a){if(this.app=t,this.dataConnectOptions=r,this._authProvider=n,this._appCheckProvider=a,this.isEmulator=!1,this._initialized=!1,this._isUsingGeneratedSdk=!1,this._callerSdkType=rm.Base,typeof process<"u"&&tT){const i=tT[GK];i&&(gi("Found custom host. Using emulator"),this.isEmulator=!0,this._transportOptions=XK(i))}}_useGeneratedSdk(){this._isUsingGeneratedSdk||(this._isUsingGeneratedSdk=!0)}_setCallerSdkType(t){this._callerSdkType=t,this._initialized&&this._transport._setCallerSdkType(t)}_delete(){return rG(this.app,"data-connect",JSON.stringify(this.getSettings())),Promise.resolve()}getSettings(){const t=JSON.parse(JSON.stringify(this.dataConnectOptions));return delete t.projectId,t}setInitialized(){this._initialized||(this._transportClass===void 0&&(gi("transportClass not provided. Defaulting to RESTTransport."),this._transportClass=HK),this._authProvider&&(this._authTokenProvider=new FK(this.app.name,this.app.options,this._authProvider)),this._appCheckProvider&&(this._appCheckTokenProvider=new DK(this.app,this._appCheckProvider)),this._initialized=!0,this._transport=new this._transportClass(this.dataConnectOptions,this.app.options.apiKey,this.app.options.appId,this._authTokenProvider,this._appCheckTokenProvider,void 0,this._isUsingGeneratedSdk,this._callerSdkType),this._transportOptions&&this._transport.useEmulator(this._transportOptions.host,this._transportOptions.port,this._transportOptions.sslEnabled),this._queryManager=new BK(this._transport),this._mutationManager=new WK(this._transport))}enableEmulator(t){if(this._initialized&&!YK(this._transportOptions,t))throw Xu("enableEmulator called after initialization"),new Xn(Dn.ALREADY_INITIALIZED,"DataConnect instance already initialized!");this._transportOptions=t,this.isEmulator=!0}}function YK(e,t){return e.host===t.host&&e.port===t.port&&e.sslEnabled===t.sslEnabled}function Jw(e,t){let r,n;"location"in e?(n=e,r=Hw()):(n=t,r=e),(!r||Object.keys(r).length===0)&&(r=Hw());const a=wv(r,"data-connect"),i=JSON.stringify(n);if(a.isInitialized(i)){const s=a.getImmediate({identifier:i}),l=a.getOptions(i);if(Object.keys(l).length>0)return gi("Re-using cached instance"),s}return JK(n),gi("Creating new DataConnect instance"),a.initialize({instanceIdentifier:i,options:n})}function JK(e){const t=["connector","location","service"];if(!e)throw new Xn(Dn.INVALID_ARGUMENT,"DC Option Required");return t.forEach(r=>{if(e[r]===null||e[r]===void 0)throw new Xn(Dn.INVALID_ARGUMENT,`${r} Required`)}),!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(e){RK(Cd),Wu(new Ql("data-connect",(t,{instanceIdentifier:r,options:n})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");let l=n;if(r&&(l=JSON.parse(r)),!a.options.projectId)throw new Xn(Dn.INVALID_ARGUMENT,"Project ID must be provided. Did you pass in a proper projectId to initializeApp?");return new KK(a,Object.assign(Object.assign({},l),{projectId:a.options.projectId}),i,s)},"PUBLIC").setMultipleInstances(!0)),Do(rT,nT,e),Do(rT,nT,"esm2017")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e){return e.dataConnect._queryManager.executeQuery(e)}function Et(e,t,r,n){return e.setInitialized(),e._queryManager.track(t,r,n),{dataConnect:e,refType:$f,name:t,variables:r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,t,r,n){let a,i;if(t&&"enableEmulator"in t?(a=t,i=r):(a=Jw(e),i=t),!a||!i&&n)throw new Xn(Dn.INVALID_ARGUMENT,"Variables required.");return{dc:a,vars:i}}QK();const Ie={connector:"default",service:"data-conect-postgress",location:"us-central1"},bF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertBusinessEntity",n)};bF.operationName="InsertBusinessEntity";function ZK(e,t){return et(bF(e,t))}const wF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertRepresentative",n)};wF.operationName="InsertRepresentative";function eY(e,t){return et(wF(e,t))}const SF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertAdmin",n)};SF.operationName="InsertAdmin";function tY(e,t){return et(SF(e,t))}const NF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteAdmin",n)};NF.operationName="DeleteAdmin";function rY(e,t){return et(NF(e,t))}const EF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertAdminTeam",n)};EF.operationName="InsertAdminTeam";function nY(e,t){return et(EF(e,t))}const jF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateAdminTeam",n)};jF.operationName="UpdateAdminTeam";function aY(e,t){return et(jF(e,t))}const _F=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteAdminTeam",n)};_F.operationName="DeleteAdminTeam";function iY(e,t){return et(_F(e,t))}const kF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertAdminTeamMember",n)};kF.operationName="InsertAdminTeamMember";function sY(e,t){return et(kF(e,t))}const CF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateAdminTeamMember",n)};CF.operationName="UpdateAdminTeamMember";function oY(e,t){return et(CF(e,t))}const TF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateAdmin",n)};TF.operationName="UpdateAdmin";function lY(e,t){return et(TF(e,t))}const AF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertUser",n)};AF.operationName="InsertUser";function cY(e,t){return et(AF(e,t))}const IF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteUser",n)};IF.operationName="DeleteUser";function uY(e,t){return et(IF(e,t))}const PF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertProductRequest",n)};PF.operationName="InsertProductRequest";function dY(e,t){return et(PF(e,t))}const OF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateProductRequest",n)};OF.operationName="UpdateProductRequest";function fY(e,t){return et(OF(e,t))}const RF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateUserProductRequest",n)};RF.operationName="UpdateUserProductRequest";function mY(e,t){return et(RF(e,t))}const DF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteProductRequestCascade",n)};DF.operationName="DeleteProductRequestCascade";function pY(e,t){return et(DF(e,t))}const FF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteBusinesEntity",n)};FF.operationName="DeleteBusinesEntity";function hY(e,t){return et(FF(e,t))}const MF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"DeleteRequiredDocument",n)};MF.operationName="DeleteRequiredDocument";function gY(e,t){return et(MF(e,t))}const LF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertRequiredDocuments",n)};LF.operationName="InsertRequiredDocuments";function xY(e,t){return et(LF(e,t))}const $F=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertUserRequiredDocuments",n)};$F.operationName="InsertUserRequiredDocuments";function vY(e,t){return et($F(e,t))}const BF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateRequiredDocStatus",n)};BF.operationName="UpdateRequiredDocStatus";function yY(e,t){return et(BF(e,t))}const zF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertFinancingForm",n)};zF.operationName="InsertFinancingForm";function bY(e,t){return et(zF(e,t))}const UF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateFinancingForm",n)};UF.operationName="UpdateFinancingForm";function wY(e,t){return et(UF(e,t))}const qF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertWarrantyForm",n)};qF.operationName="InsertWarrantyForm";function SY(e,t){return et(qF(e,t))}const VF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateWarrantyForm",n)};VF.operationName="UpdateWarrantyForm";function NY(e,t){return et(VF(e,t))}const HF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"deleteWarrantyForm",n)};HF.operationName="deleteWarrantyForm";function EY(e,t){return et(HF(e,t))}const WF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertResolutionData",n)};WF.operationName="InsertResolutionData";function jY(e,t){return et(WF(e,t))}const GF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateResolutionData",n)};GF.operationName="UpdateResolutionData";function _Y(e,t){return et(GF(e,t))}const XF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertEligibilityCard",n)};XF.operationName="InsertEligibilityCard";function kY(e,t){return et(XF(e,t))}const KF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"UpdateEligibilityCard",n)};KF.operationName="UpdateEligibilityCard";function CY(e,t){return et(KF(e,t))}const YF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertMessage",n)};YF.operationName="InsertMessage";function TY(e,t){return et(YF(e,t))}const JF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"updateMessage",n)};JF.operationName="updateMessage";function AY(e,t){return et(JF(e,t))}const QF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertChat",n)};QF.operationName="InsertChat";function IY(e,t){return et(QF(e,t))}const ZF=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertMailbox",n)};ZF.operationName="InsertMailbox";function PY(e,t){return et(ZF(e,t))}const e6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertMail",n)};e6.operationName="InsertMail";function OY(e,t){return et(e6(e,t))}const t6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"deleteDocumentTemplate",n)};t6.operationName="deleteDocumentTemplate";function RY(e,t){return et(t6(e,t))}const r6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t);return r._useGeneratedSdk(),Ze(r,"insertDocumentTemplate",n)};r6.operationName="insertDocumentTemplate";function DY(e,t){return et(r6(e,t))}const n6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"updateDocumentTemplate",n)};n6.operationName="updateDocumentTemplate";function FY(e,t){return et(n6(e,t))}const a6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"deleteCategoryTemplate",n)};a6.operationName="deleteCategoryTemplate";function MY(e,t){return et(a6(e,t))}const i6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"insertCategoryTemplate",n)};i6.operationName="insertCategoryTemplate";function LY(e,t){return et(i6(e,t))}const s6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"updateCategoryTemplate",n)};s6.operationName="updateCategoryTemplate";function $Y(e,t){return et(s6(e,t))}const o6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"insertExtractedEntity",n)};o6.operationName="insertExtractedEntity";function BY(e,t){return et(o6(e,t))}const l6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Ze(r,"InsertAgentFlowStatusHistory",n)};l6.operationName="InsertAgentFlowStatusHistory";function zY(e,t){return et(l6(e,t))}const c6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getRepresentative",n)};c6.operationName="getRepresentative";function UY(e,t){return Nt(c6(e,t))}const u6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getUser",n)};u6.operationName="getUser";function d6(e,t){return Nt(u6(e,t))}const f6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getUserProductRequests",n)};f6.operationName="getUserProductRequests";function qY(e,t){return Nt(f6(e,t))}const m6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"listAdmins")};m6.operationName="listAdmins";function VY(e){return Nt(m6(e))}const p6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"verifyAdminCredentials")};p6.operationName="verifyAdminCredentials";function HY(e){return Nt(p6(e))}const h6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"ListUserProductRequests")};h6.operationName="ListUserProductRequests";function WY(e){return Nt(h6(e))}const g6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getUserCompanyDetails",n)};g6.operationName="getUserCompanyDetails";function GY(e,t){return Nt(g6(e,t))}const x6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getUserRequiredDocs",n)};x6.operationName="getUserRequiredDocs";function XY(e,t){return Nt(x6(e,t))}const v6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"GetMyAdminTeam")};v6.operationName="GetMyAdminTeam";function KY(e){return Nt(v6(e))}const y6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetBusinessEntitiesByAdminTeam",n)};y6.operationName="GetBusinessEntitiesByAdminTeam";function YY(e,t){return Nt(y6(e,t))}const b6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"GetAllBusinessEntities")};b6.operationName="GetAllBusinessEntities";function JY(e){return Nt(b6(e))}const w6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"ListAdminOwnedProductRequest")};w6.operationName="ListAdminOwnedProductRequest";function QY(e){return Nt(w6(e))}const S6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ListAdminRequiredDocs",n)};S6.operationName="ListAdminRequiredDocs";function ZY(e,t){return Nt(S6(e,t))}const N6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ListFilteredTemplateDocs",n)};N6.operationName="ListFilteredTemplateDocs";function eJ(e,t){return Nt(N6(e,t))}const E6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ListProductTemplateDocs",n)};E6.operationName="ListProductTemplateDocs";function tJ(e,t){return Nt(E6(e,t))}const j6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"ListCategoryTemplateDocs")};j6.operationName="ListCategoryTemplateDocs";function rJ(e){return Nt(j6(e))}const _6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"ListUserTemplateDocs")};_6.operationName="ListUserTemplateDocs";function nJ(e){return Nt(_6(e))}const k6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetUserFinancingForm",n)};k6.operationName="GetUserFinancingForm";function aJ(e,t){return Nt(k6(e,t))}const C6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetUserWarrantyForm",n)};C6.operationName="GetUserWarrantyForm";function iJ(e,t){return Nt(C6(e,t))}const T6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetAdminFinancingForm",n)};T6.operationName="GetAdminFinancingForm";function sJ(e,t){return Nt(T6(e,t))}const A6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ListEligibilityCardsPart1",n)};A6.operationName="ListEligibilityCardsPart1";function oJ(e,t){return Nt(A6(e,t))}const I6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ListEligibilityCardsPart2",n)};I6.operationName="ListEligibilityCardsPart2";function lJ(e,t){return Nt(I6(e,t))}const P6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetAdminWarrantyForm",n)};P6.operationName="GetAdminWarrantyForm";function cJ(e,t){return Nt(P6(e,t))}const O6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetUserResolutionData",n)};O6.operationName="GetUserResolutionData";function uJ(e,t){return Nt(O6(e,t))}const R6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetChatMessages",n)};R6.operationName="GetChatMessages";function dJ(e,t){return Nt(R6(e,t))}const D6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetMails",n)};D6.operationName="GetMails";function fJ(e,t){return Nt(D6(e,t))}const F6=e=>{const{dc:t}=Pe(Ie,e,void 0);return t._useGeneratedSdk(),Et(t,"ListAdminTeams")};F6.operationName="ListAdminTeams";function mJ(e){return Nt(F6(e))}const M6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"FlowStatusCount",n)};M6.operationName="FlowStatusCount";function pJ(e,t){return Nt(M6(e,t))}const L6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"ProductNameCount",n)};L6.operationName="ProductNameCount";function hJ(e,t){return Nt(L6(e,t))}const $6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"GetExtractedEntitiesByDocument",n)};$6.operationName="GetExtractedEntitiesByDocument";function gJ(e,t){return Nt($6(e,t))}const B6=(e,t)=>{const{dc:r,vars:n}=Pe(Ie,e,t,!0);return r._useGeneratedSdk(),Et(r,"getAgentFlowStatusHistory",n)};B6.operationName="getAgentFlowStatusHistory";function xJ(e,t){return Nt(B6(e,t))}console.log("configurando firebase");const vJ={apiKey:"AIzaSyAxQuDj03p8iXzTpjJb1_XTT_AuamQ_EU0",authDomain:"logintest-441321.firebaseapp.com",projectId:"logintest-441321",storageBucket:"logintest-441321.firebasestorage.app",messagingSenderId:"269526555085",appId:"1:269526555085:web:7e886c2ea8e85ac9530c84"};let t0,ec,Ht;IC().length?(t0=IC()[0],ec=eT(t0),Ht=Jw(Ie)):(t0=DD(vJ),ec=eT(t0),Ht=Jw(Ie));class Bf extends Error{}Bf.prototype.name="InvalidTokenError";function yJ(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function bJ(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return yJ(t)}catch{return atob(t)}}function wJ(e,t){if(typeof e!="string")throw new Bf("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Bf(`Invalid token specified: missing part #${r+1}`);let a;try{a=bJ(n)}catch(i){throw new Bf(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new Bf(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}const z6=3e5,Bm={save:(e,t)=>{const r="warrantyForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`warrantyForm_${e}`,n=sessionStorage.getItem(r);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>z6?(sessionStorage.removeItem(r),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),[]}},remove:e=>{sessionStorage.removeItem(`warrantyForm_${e}`)},removeAll:()=>{const e="warrantyForm_";Object.keys(sessionStorage).forEach(t=>{t.startsWith(e)&&sessionStorage.removeItem(t)})}},zm={save:(e,t)=>{const r="financingForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`financingForm_${e}`,n=sessionStorage.getItem(r);if(!n)return null;try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>z6?(sessionStorage.removeItem(r),null):Array.isArray(a)?a:null}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),null}},remove:e=>{sessionStorage.removeItem(`financingForm_${e}`)},removeAll:()=>{const e="financingForm_";Object.keys(sessionStorage).forEach(t=>{t.startsWith(e)&&sessionStorage.removeItem(t)})}};class Eu{static save(t){const r="documentTemplatesCache",n={data:t,timestamp:Date.now()};sessionStorage.setItem(r,JSON.stringify(n))}static get(){const t="documentTemplatesCache",n=sessionStorage.getItem(t);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>36e5?(sessionStorage.removeItem(t),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(t),[]}}static remove(){sessionStorage.removeItem("documentTemplatesCache")}static removeAll(){Object.keys(sessionStorage).forEach(t=>{t.startsWith("documentTemplatesCache")&&sessionStorage.removeItem(t)})}}const pE=async e=>{try{const t=await ZK(e);return console.log("Inserción exitosa de la empresa"),{success:!0,id:t.data.businessEntity_insert.id}}catch(t){return console.error("Ocurrió un error al registrar la empresa",t),{success:!1,id:""}}},U6=async e=>{try{return await tY(e),console.log("Inserción exitosa de las credenciales de administrador"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar los datos del administrador.",t),{success:!1}}},SJ=async e=>{var t;try{const r=await rY(e);return console.log("Se eliminó el administrador correctamente"),(t=r.data.admin_delete)!=null&&t.uid?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar el administrador:",r),{success:!1}}},q6=async e=>{try{return await lY(e),console.log("Actualización exitosa de las credenciales de administrador"),{success:!0}}catch(t){return console.error("Ocurrió un error al actualizar los datos del administrador.",t),{success:!1}}},V6=async()=>{try{const{data:e}=await HY(Ht),t=e==null?void 0:e.admin;return t!=null&&t.email?(console.log(e),{credentials:!0,role:t.role||"No especificado",isInternal:t.isInternal||!1,isEditor:t.isEditor||!1,isViewer:t.isViewer||!1,isSuperAdmin:t.isSuperAdmin||!1,isMasterAdmin:t.isMasterAdmin||!1,isSupportAdmin:t.isSupportAdmin||!1,isCommercialAgent:t.isCommercialAgent||!1,isControlDeskAgent:t.isControlDeskAgent||!1,conectionError:!1}):{credentials:!1,conectionError:!1}}catch(e){return console.error("Error en la verificación de credenciales de administrador:",e),{credentials:!1,conectionError:!0}}},H6=async()=>{try{const{data:e}=await KY(Ht);return{id:e.adminTeamMembers[0].adminTeam.id,name:e.adminTeamMembers[0].adminTeam.name}}catch(e){return console.log("Error al obtener el equipo de administración:",e),{id:"",name:""}}},hE=async e=>{var t,r,n;try{const a={email:e.email};let i="";const s=await UY(Ht,a);return((n=(r=(t=s==null?void 0:s.data)==null?void 0:t.representatives)==null?void 0:r[0])==null?void 0:n.id)!=null?i=s.data.representatives[0].id:i=(await eY(e)).data.representative_insert.id,console.log("se insertó correctamente el representante de la empresa"),{success:!0,representativeId:i}}catch(a){return console.error("Ocurrió un error al insertar los datos del representante de la empresa.",a),{success:!1,representativeId:""}}},gE=async e=>{var t;try{const r=await YY(e);console.log("Se obtuvo la respuesta de empresas correctamente"),console.log(r.data);const n=((t=r==null?void 0:r.data)==null?void 0:t.businessEntities)??[];return n.length>0?n.map(i=>{var s,l,c,u;return{id:i.id,name:i.name??"",userEmail:((s=i.user)==null?void 0:s.email)??"",userName:((l=i.user)==null?void 0:l.name)??"",ownerAdminName:((c=i.ownerAdmin)==null?void 0:c.name)??"",ownerAdminEmail:((u=i.ownerAdmin)==null?void 0:u.email)??"",products:(i.productRequests_on_businessEntity??[]).map(d=>{var f,m;return{id:d.id,flowStatus:d.flowStatus??null,productName:d.productName??null,verticalName:d.verticalName??null,chatId:((f=d.chat_on_productRequest)==null?void 0:f.id)??null,mailboxId:((m=d.mailbox_on_productRequest)==null?void 0:m.id)??null,createdAt:d.createdAt}})}}):null}catch(r){return console.error("Ocurrió un error al obtener la solicitud de crédito:",r),null}},NJ=async()=>{var e;try{const t=await QY();console.log("Se obtuvo la respuesta correctamente"),console.log(t.data);const n=(((e=t==null?void 0:t.data)==null?void 0:e.adminTeamMembers)??[]).flatMap(a=>{var i;return((i=a.adminTeam)==null?void 0:i.businessEntities_on_adminTeam)??[]});return n.length>0?n.map(i=>{var s,l;return{id:i.id,name:i.name??"",userEmail:((s=i.user)==null?void 0:s.email)??"",userName:((l=i.user)==null?void 0:l.name)??"",ownerAdminName:"Yo",products:(i.productRequests_on_businessEntity??[]).map(c=>{var u,d;return{id:c.id,flowStatus:c.flowStatus??null,productName:c.productName??null,verticalName:c.verticalName??null,agentFlowStatus:c.agentFlowStatus??null,chatId:((u=c.chat_on_productRequest)==null?void 0:u.id)??null,mailboxId:((d=c.mailbox_on_productRequest)==null?void 0:d.id)??null,createdAt:c.createdAt}})}}):null}catch(t){return console.error("Ocurrió un error al obtener las solicitudes de productos del equipo:",t),null}},EJ=async()=>{var e;try{const t=await JY();console.log("Se obtuvo la respuesta de empresas correctamente"),console.log(t.data);const r=((e=t==null?void 0:t.data)==null?void 0:e.businessEntities)??[];return r.length>0?r.map(a=>{var i,s,l,c;return{id:a.id,name:a.name??"",userEmail:((i=a.user)==null?void 0:i.email)??"",userName:((s=a.user)==null?void 0:s.name)??"",ownerAdminName:((l=a.ownerAdmin)==null?void 0:l.name)??"",ownerAdminEmail:((c=a.ownerAdmin)==null?void 0:c.email)??"",products:(a.productRequests_on_businessEntity??[]).map(u=>{var d,f;return{id:u.id,flowStatus:u.flowStatus??null,productName:u.productName??null,verticalName:u.verticalName??null,chatId:((d=u.chat_on_productRequest)==null?void 0:d.id)??null,mailboxId:((f=u.mailbox_on_productRequest)==null?void 0:f.id)??null,createdAt:u.createdAt}})}}):null}catch(t){return console.error("Ocurrió un error al obtener la solicitud de crédito:",t),null}},aa=async e=>{var t;try{const r=await ZY(e);return console.log("se obtuvo la lista de documentos requeridos desde api"),(t=r==null?void 0:r.data)!=null&&t.requiredDocuments?r.data:null}catch(r){return console.error("Ocurrió un error al obtener la lista de documentos requeridos :",r),null}},rh=async e=>{var t;try{const r=await gY(e);return console.log("se obtuvo la lista de documentos requeridos"),(t=r==null?void 0:r.data)!=null&&t.requiredDocument_delete?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al obtener la lista de documentos requeridos :",r),{success:!1}}},wc=async e=>{var t;try{console.log("obteniendo id para el usuario",e.email);const r=await d6(e);console.log("se obtuvo el id del usuario correctamente");const n=(t=r==null?void 0:r.data)==null?void 0:t.users[0].uid;return n?{exist:!0,Id:n}:{exist:!1}}catch(r){return console.error("Ocurrió un error al obtener el id del usuario:",r),{exist:!1}}},_v=async e=>{var t;try{const r=await uY(e);return console.log("se eliminó el usuario correctamente"),(t=r.data.user_delete)!=null&&t.uid?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar el usuario:",r),{success:!1}}},kv=async e=>{var t;try{const r=await hY(e);return console.log("se eliminó la compañia correctamente"),(t=r.data.businessEntity_delete)!=null&&t.id?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar la compañia:",r),{success:!1}}},xE=async e=>{try{return await cY(e),console.log("Se registró la credencial de usuario correctamente"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar la credencial del usuario.",t),{success:!1}}},Id=async e=>{try{return await xY(e),console.log("se agregó el documento requerido con exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar el documento requerido.",t),{success:!1}}},W6=async e=>{try{const t=await eJ(e);return console.log("Se obtuvieron los templates filtrados de forma correcta desde api"),t.data.documentTemplates&&Array.isArray(t.data.documentTemplates)?t.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(t){return console.error("Ocurrió un error obteniendo la lista de templates:",t),[]}},G6=async e=>{try{const t=await tJ(e);return console.log("Se obtuvieron los templates filtrados de forma correcta desde api"),t.data.documentTemplates&&Array.isArray(t.data.documentTemplates)?t.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(t){return console.error("Ocurrió un error obteniendo la lista de templates:",t),[]}},jJ=async e=>{try{const t=await RY(e);return console.log("Se eliminaron los templates de forma correcta"),t.data.documentTemplate_delete?{success:!0,Id:t.data.documentTemplate_delete.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},_J=async e=>{try{const t=await DY(e);return console.log("Se insertaron los templates de forma correcta"),t.data.documentTemplate_insert?{success:!0,Id:t.data.documentTemplate_insert.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},kJ=async e=>{try{const t=await FY(e);return console.log("Se actualizaron los templates de forma correcta"),t.data.documentTemplate_update?{success:!0,Id:t.data.documentTemplate_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},vE=async e=>{try{const t=await dY(e);return console.log("se insertó la solicitud de product correctamente"),{success:!0,Id:t.data.productRequest_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos del producto.",t),{success:!1,Id:""}}},yE=async e=>{var r;const t=zm.get(e.productRequestId);if(t)return console.log("Datos de financiamiento desde caché"),t;try{const n=await sJ(Ht,e);return(r=n==null?void 0:n.data)!=null&&r.financingForms?(console.log("Se recuperaron los datos de financiamiento desde api"),zm.save(e.productRequestId,n.data.financingForms),n.data.financingForms):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},CJ=async e=>{var t,r;try{const n=await oJ(e),a=await lJ(e),i=(r=(t=n==null?void 0:n.data)==null?void 0:t.eligibilityCards)==null?void 0:r.map((s,l)=>{var c,u;return{...s,...(u=(c=a==null?void 0:a.data)==null?void 0:c.eligibilityCards)==null?void 0:u[l]}});return i?(console.log("Se recuperaron los datos de financiamiento desde la API"),i):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},Cv=async e=>{var r;const t=Bm.get(e.productRequestId);if(t.length>0)return console.log("Datos de garantia recuperados desde caché"),t;try{const n=await cJ(Ht,e),a=(r=n==null?void 0:n.data)==null?void 0:r.warrantyForms;return Array.isArray(a)&&a.length>0?(console.log("Se recuperaron los datos de garantía de manera exitosa desde la API"),Bm.save(e.productRequestId,a),a):(console.warn("No se encontraron datos de garantía para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de garantía",n),null}},TJ=async e=>{try{const t=await jY(e);return console.log("se insertó la solicitud de product correctamente"),{success:!0,Id:t.data.resolutionData_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos del producto.",t),{success:!1,Id:""}}},AJ=async e=>{var t;try{const r=await _Y(e);return console.log("se actualizó la solicitud de product correctamente"),{success:!0,Id:((t=r.data.resolutionData_update)==null?void 0:t.id)??""}}catch(r){return console.error("Ocurrió un error al actualizar los datos del producto.",r),{success:!1,Id:""}}},IJ=async e=>{try{const t=await kY(e);return console.log("Se insertó EligibilityCard correctamente"),{success:!0,Id:t.data.eligibilityCard_insert.id}}catch(t){return console.error("Ocurrió un error al insertar los datos de EligibilityCard.",t),{success:!1,Id:""}}},PJ=async e=>{try{const t=await CY(e);return console.log("Se actualizaron los datos de cedula de forma correcta"),t.data.eligibilityCard_update?{success:!0,Id:t.data.eligibilityCard_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},OJ=async e=>{try{const t=await OY(Ht,e);return console.log("Mensaje guardado exitosamente"),t.data.mail_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al guardar el mensaje",t),{success:!1}}},bE=async e=>{try{const t=await PY(Ht,e);console.log("Mailbox creado exitosamente");const r=t.data.mailbox_insert.id;return r?{success:!0,chatId:r}:{success:!1}}catch(t){return console.error("Ocurrió un error al crear el Mailbox",t),{success:!1}}},RJ=async e=>{try{const t=await fJ(Ht,e);console.log("Correos recuperados exitosamente");const r=t.data.mails;return r.length>0?{messages:r}:{messages:[]}}catch(t){return console.error("Ocurrió un error al obtener el correo",t),{messages:[]}}},Tv=async e=>{var t,r;try{const n=await fY(e);return console.log("Se actualizó el status del producto de manera exitosa"),(r=(t=n==null?void 0:n.data)==null?void 0:t.productRequest_update)!=null&&r.id?{success:!0}:{success:!1}}catch(n){return console.error("Ocurrió un error al actualizar el status del producto",n),{success:!1}}},DJ=async e=>{try{const t=await LY(e);return console.log("Se insertó category templates de forma correcta"),t.data.categoryTemplate_insert?{success:!0,Id:t.data.categoryTemplate_insert.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},Sc=async()=>{try{const e=await rJ(Ht);return console.log("Se obtuvieron los templates de forma correcta desde api"),e.data.categoryTemplates&&Array.isArray(e.data.categoryTemplates)?e.data.categoryTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de templates:",e),[]}},FJ=async e=>{try{const t=await MY(e);return console.log("Se eliminaron los templates de forma correcta"),t.data.categoryTemplate_delete?{success:!0,Id:t.data.categoryTemplate_delete.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error",t),{success:!1,Id:""}}},MJ=async e=>{try{const t=await $Y(e);return console.log("Se actualizó category templates de forma correcta"),t.data.categoryTemplate_update?{success:!0,Id:t.data.categoryTemplate_update.id}:{success:!1,Id:""}}catch(t){return console.error("Ocurrió un error al actualizar",t),{success:!1,Id:""}}},Av=async e=>{try{const t=await pY(e);return console.log("Producto eliminado exitosamente"),t.data?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al eliminar el producto",t),{success:!1}}},X6=async e=>{var t;try{const r=await sY(e);return console.log("Se insertó el miembro del equipo correctamente"),(t=r.data)!=null&&t.adminTeamMember_insert?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al insertar el miembro del equipo:",r),{success:!1}}},K6=async e=>{var t;try{const r=await oY(e);return console.log("Se actualizó el miembro del equipo correctamente"),(t=r.data)!=null&&t.adminTeamMember_update?{success:!0}:{success:!1}}catch(r){return console.error("Ocurrió un error al actualizar el miembro del equipo:",r),{success:!1}}},Pd=async()=>{try{const e=await mJ(Ht);return console.log("Se obtuvieron los admin teams de forma correcta desde API"),e.data.adminTeams&&Array.isArray(e.data.adminTeams)?e.data.adminTeams:(console.error('La propiedad "adminTeams" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de admin teams:",e),[]}},wE=async e=>{try{const t=await d6(Ht,{email:e});return console.log("Se obtuvo el usuario de forma correcta desde API"),t.data.users&&Array.isArray(t.data.users)&&t.data.users.length>0?{exist:!0,uid:t.data.users[0].uid}:(console.error("No se encontró un usuario con ese correo"),{exist:!1,uid:null})}catch(t){return console.error("Ocurrió un error obteniendo el usuario:",t),{exist:!1,uid:null}}},Iv=async e=>{try{const t=await qY(e);if(console.log("Se obtuvo la lista de ProductRequests correctamente desde API"),t.data.productRequests&&Array.isArray(t.data.productRequests)){const r=t.data.productRequests.length;return{exist:r>0,count:r}}else return console.error('La propiedad "productRequests" no es un array'),{exist:!1,count:0}}catch(t){return console.error("Ocurrió un error obteniendo los ProductRequests:",t),{exist:!1,count:0}}},SE=async(e,t)=>{var r,n,a;try{const i=await pJ(Ht,{adminTeamId:e,flowStatus:t}),s=(a=(n=(r=i==null?void 0:i.data)==null?void 0:r.productRequests)==null?void 0:n[0])==null?void 0:a.flowStatus_count;return Number.isFinite(s)?(console.log(`✅ Conteo obtenido correctamente: ${s}`),s):(console.warn("⚠️ No se obtuvo un conteo válido"),0)}catch(i){return console.error("❌ Error al obtener el conteo de estados:",i),0}},NE=async(e,t)=>{var r,n,a;try{const i=await hJ(Ht,{adminTeamId:e,productName:t}),s=(a=(n=(r=i==null?void 0:i.data)==null?void 0:r.productRequests)==null?void 0:n[0])==null?void 0:a.flowStatus_count;return Number.isFinite(s)?(console.log(`✅ Conteo por nombre de producto obtenido: ${s}`),s):(console.warn("⚠️ No se obtuvo un conteo válido"),0)}catch(i){return console.error("❌ Error al obtener el conteo de productos:",i),0}},Y6=async()=>{try{const e=await VY(Ht);return console.log("Se obtuvieron los admins de forma correcta desde API"),e.data.admins&&Array.isArray(e.data.admins)?e.data.admins:(console.error('La propiedad "admins" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de admins:",e),[]}},EE=async e=>{try{const t=await nY(e);return console.log("Se insertó el equipo de administradores correctamente"),t.data.adminTeam_insert.id?{success:!0,id:t.data.adminTeam_insert.id}:{success:!1,id:""}}catch(t){return console.error("Ocurrió un error al insertar el equipo",t),{success:!1,id:""}}},LJ=async e=>{try{const t=await iY({adminTeamId:e});return console.log("Se eliminó el equipo de administradores correctamente"),t.data.adminTeam_delete?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al eliminar el equipo",t),{success:!1}}},$J=async e=>{try{const t=await aY(e);return console.log("Se actualizó el equipo de administradores correctamente"),t.data.adminTeam_update?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar el equipo",t),{success:!1}}},J6=async e=>{var t,r;try{const n=await BY(e);return console.log("Entidad extraída insertada correctamente"),(r=(t=n.data)==null?void 0:t.extractedEntity_insert)!=null&&r.id?{success:!0}:{success:!1}}catch(n){return console.error("Error al insertar entidad extraída:",n),{success:!1}}},Pv=async e=>{var t;try{const r=await gJ(e);return(t=r.data)!=null&&t.extractedEntities?(console.log("Entidades extraídas obtenidas correctamente"),{success:!0,entities:r.data.extractedEntities}):{success:!1}}catch(r){return console.error("Error al obtener las entidades extraídas:",r),{success:!1}}},BJ=async e=>{var t;try{const r=await xJ(e),n=((t=r==null?void 0:r.data)==null?void 0:t.agentFlowStatusHistories)??[];return n.length===0?null:n.map(i=>({id:i.id,previousStatus:i.previousStatus??null,newStatus:i.newStatus??null,changedAt:i.changedAt,userUid:i.admin.uid,userName:i.admin.name??""}))}catch(r){return console.error("Error al obtener el historial de estado de agente:",r),null}},cu=async e=>{try{const t=await zY({previousStatus:e.previousStatus,newStatus:e.newStatus,productRequestId:e.productRequestId,userAuthId:e.userAuthId});console.log("Se insertó el historial de estado de agente correctamente");const r=t.data.agentFlowStatusHistory_insert;return r!=null&&r.id?{success:!0,id:r.id}:{success:!1,id:""}}catch(t){return console.error("Ocurrió un error al insertar el historial de estado de agente",t),{success:!1,id:""}}},Q6=w.createContext(void 0),zJ=({children:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!0),[i,s]=w.useState(!1),[l,c]=w.useState(null),u=Mt();w.useEffect(()=>{const f=yX(ec,async m=>{if(m)try{const p=await m.getIdToken(!1),h=wJ(p),g=(h==null?void 0:h.admin)||!1,x=g?await V6():null,v=g?await H6():null,b=await Sc(),y=x?x.credentials:!0,j=x?x.role:void 0,E=x?x.isInternal:!1,N=x?x.isSuperAdmin:!1,S=x?x.isMasterAdmin:!1,T=x?x.isSupportAdmin:!1,C=x?x.isCommercialAgent:!1,k=x?x.isControlDeskAgent:!1;s((x==null?void 0:x.conectionError)??!1);const A=b.find(I=>I.id===j),_={verticalName:(A==null?void 0:A.type)||"",productName:(A==null?void 0:A.name)||""};c({uid:m.uid,displayName:m.displayName,email:m.email,photoURL:m.photoURL,idToken:p,isAdmin:g,isSuperAdmin:N??!1,isMasterAdmin:S??!1,isSupportAdmin:T??!1,withCredentials:y,adminRole:j??"",adminRoleDetails:_,adminTeam:v,isInternal:E??!1,isCommercialAgent:C??!1,isControlDeskAgent:k??!1}),r(!0)}catch(p){console.error("Error al obtener el token de acceso para firebase:",p),r(!1),c(null)}else r(!1),c(null);a(!1)});return()=>f()},[]);const d=()=>{bX(ec),r(!1),c(null),u("/")};return o.jsx(Q6.Provider,{value:{isLoggedIn:t,logout:d,isLogging:n,conectionError:i,user:l},children:e})};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z6=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>w.createElement("svg",{ref:c,...qJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Z6("lucide",a),...l},[...s.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(VJ,{ref:i,iconNode:t,className:Z6(`lucide-${UJ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Le("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Le("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=Le("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Le("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Le("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Le("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Le("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Le("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Le("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Le("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=Le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=Le("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Le("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Le("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Le("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Le("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Le("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=Le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Le("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=Le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=Le("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Le("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=Le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=Le("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mt=()=>{const e=w.useContext(Q6);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e},iM=({size:e})=>o.jsx("div",{className:"border-8 border-t-8 border-gray-300 border-t-blue-500 rounded-full animate-spin",style:{width:e,height:e}});function dT(){const{magicToken:e}=ND(),[t,r]=w.useState(""),[n,a]=w.useState(""),[i,s]=w.useState(!1),l=Mt(),{isLoggedIn:c,isLogging:u,user:d}=mt(),[f,m]=w.useState(!1),p=w.useRef(!1);w.useEffect(()=>{e&&!p.current&&(p.current=!0,h(e))},[e]);const h=async v=>{try{m(!0),console.log("el tokenn",v),await fX(ec,v)}catch(b){console.error("Error con el token mágico:",b),alert("El enlace de acceso ha expirado."),l("/")}finally{m(!1)}};w.useEffect(()=>{u||c&&(m(!1),d!=null&&d.isAdmin?l("/admin/dashboard"):l("/user/welcome"))},[u,c,d,l]);const g=v=>{if(v.preventDefault(),!t||!n){alert("Por favor, ingrese tanto el correo electrónico como la contraseña.");return}x()},x=async()=>{try{m(!0),await pX(ec,t,n)}catch(v){console.error("Error al iniciar sesión:",v),alert("Error al iniciar sesión")}finally{m(!1)}};return f?o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsx(iM,{size:"50px"})}):o.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[o.jsx("div",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"})}),o.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Inicia sesión"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"email",placeholder:"Correo electrónico",value:t,onChange:v=>r(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i?"text":"password",placeholder:"Contraseña",value:n,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?o.jsx(jE,{className:"h-5 w-5 text-gray-400"}):o.jsx(rl,{className:"h-5 w-5 text-gray-400"})})]}),o.jsx("div",{className:"text-right",children:o.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:underline",children:"No recuerdo mi contraseña"})}),o.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",disabled:!t||!n,children:"Iniciar sesión"})]})]})}),o.jsxs("footer",{className:"bg-white py-4 px-6 flex justify-between items-center text-sm text-gray-600",children:[o.jsxs("div",{className:"space-x-4",children:[o.jsx("a",{href:"#",className:"hover:underline",children:"Términos y condiciones"}),o.jsx("a",{href:"#",className:"hover:underline",children:"Aviso de privacidad"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{children:"Versión 1.02"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-semibold",children:"Español"}),o.jsx("span",{children:"|"}),o.jsx("a",{href:"#",className:"hover:underline",children:"English"})]})]})]})]})}function lQ(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(""),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(!1),m=Mt(),p=h=>{h.preventDefault(),console.log("Registrarse con:",{name:e,surname:r,email:a,phoneNumber:s,password:c}),mX(ec,a,c).then(g=>{const x=g.user;gX(x,{displayName:`${e} ${r}`}).then(()=>{console.log("Perfil actualizado con éxito:",x),alert("Usuario registrado y perfil actualizado correctamente."),m("/")}).catch(v=>{console.error("Error al actualizar el perfil:",v),alert("Error al actualizar el perfil.")})}).catch(g=>{const x=g.code,v=g.message;console.error("Error al registrar al usuario:",x,v),alert(`Error al registrarse: ${x} ${v}`)})};return o.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:o.jsx("div",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"})}),o.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Crear cuenta"}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"text",placeholder:"Apellido",value:r,onChange:h=>n(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"email",placeholder:"Correo electrónico",value:a,onChange:h=>i(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"tel",placeholder:"Número de teléfono",value:s,onChange:h=>l(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",placeholder:"Contraseña",value:c,onChange:h=>u(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?o.jsx(jE,{className:"h-5 w-5 text-gray-400"}):o.jsx(rl,{className:"h-5 w-5 text-gray-400"})})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:"Registrarse"})]}),o.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["¿Ya tienes una cuenta?"," ",o.jsx("a",{href:"/",className:"text-blue-500 hover:underline",children:"Inicia sesión aquí"})]})]})})})}const cQ="/mx.png";function uQ(){const{user:e,logout:t}=mt(),r=Mt(),n=e!=null&&e.displayName?e.displayName.split(" ").map(s=>s[0]).join("").toUpperCase():"U",a=()=>e!=null&&e.isMasterAdmin?"Super Administrador":e!=null&&e.isSupportAdmin?"Soporte":e!=null&&e.isSuperAdmin?"Administrador":"Super usuario",i=async()=>{await t(),sessionStorage.clear(),console.log("exit"),r("/")};return o.jsxs("div",{className:"w-72 bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-500 text-xl font-semibold",children:n})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold",children:(e==null?void 0:e.displayName)||"User"}),o.jsx("p",{className:"text-gray-500 text-sm",children:(e==null?void 0:e.email)||"user@example.com"})]})]})}),o.jsxs("div",{className:"bg-gray-50 p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Idioma"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Español"}),o.jsx("img",{src:cQ,alt:"Language flag",className:"w-5 h-3 object-cover"})]})]}),e!=null&&e.isAdmin?o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Rol"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm font-medium",children:a()})})]}):o.jsx("div",{className:"flex justify-between items-center mb-4"}),o.jsx("button",{onClick:i,className:"w-full text-red-500 text-sm font-medium py-2 hover:bg-red-50 rounded transition duration-150 ease-in-out",children:"Cerrar sesión"})]})]})}function Yr({children:e}){const[t,r]=w.useState(!1),[n,a]=w.useState(null),i=w.useRef(null),s=w.useRef(null),{user:l}=mt(),c=l!=null&&l.displayName?l.displayName.split(" ").map(d=>d[0]).join("").toUpperCase():"U",u=()=>{r(!t)};return w.useEffect(()=>{const d=()=>{r(!1)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),w.useEffect(()=>{if(t&&i.current){const d=i.current.getBoundingClientRect(),f=d.top+window.scrollY+50,m=window.innerWidth-d.right;a({top:f,right:m})}},[t]),w.useEffect(()=>{const d=f=>{s.current&&!s.current.contains(f.target)&&i.current&&!i.current.contains(f.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 overflow-x-hidden",children:[o.jsx("header",{children:o.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[o.jsx("img",{src:"/logo-broxel.png",alt:"Broxel Logo",className:"h-8"}),o.jsx("button",{ref:i,className:"bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium",onClick:u,children:c})]})}),t&&n&&o.jsx("div",{ref:s,className:"fixed bg-white rounded-lg shadow-md z-50 transition-transform duration-200",style:{top:n.top,right:n.right},children:o.jsx(uQ,{})}),o.jsx("div",{className:"py-8 w-full",style:{paddingLeft:"5%",paddingRight:"5%"},children:e}),o.jsx("footer",{children:o.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-wrap justify-between items-center text-xs sm:text-sm text-gray-500",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Términos y condiciones"}),o.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Aviso de privacidad"})]}),o.jsx("div",{className:"mt-2 sm:mt-0",children:"Versión 1.02"}),o.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[o.jsx("span",{className:"font-medium",children:"Español"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("a",{href:"#",className:"hover:text-gray-700",children:"English"})]})]})})]})}const sM=3e5,Hm={save:(e,t)=>{const r="warrantyForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n))},get:e=>{const r=`warrantyForm_${e}`,n=sessionStorage.getItem(r);if(!n)return[];try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>sM?(sessionStorage.removeItem(r),[]):Array.isArray(a)?a:[]}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),[]}},remove:e=>{sessionStorage.removeItem(`warrantyForm_${e}`)},removeAll:()=>{const e="warrantyForm_";for(let t=sessionStorage.length-1;t>=0;t--){const r=sessionStorage.key(t);r&&r.startsWith(e)&&sessionStorage.removeItem(r)}}},Qw={save:(e,t)=>{const r="financingForm_",n={data:t,timestamp:Date.now()};sessionStorage.setItem(`${r}${e}`,JSON.stringify(n)),console.log("Guardando cache de financing")},get:e=>{const r=`financingForm_${e}`,n=sessionStorage.getItem(r);if(!n)return null;try{const{data:a,timestamp:i}=JSON.parse(n);return Date.now()-i>sM?(sessionStorage.removeItem(r),null):a}catch(a){return console.error("Error al parsear datos de caché:",a),sessionStorage.removeItem(r),null}},remove:e=>{sessionStorage.removeItem(`financingForm_${e}`)},removeAll:()=>{const e="financingForm_";for(let t=sessionStorage.length-1;t>=0;t--){const r=sessionStorage.key(t);r&&r.startsWith(e)&&sessionStorage.removeItem(r)}}},Ib="exchangeRate",Pb="exchangeRateTimestamp",dQ=24*60*60*1e3,Zw={save:e=>{sessionStorage.setItem(Ib,e),sessionStorage.setItem(Pb,Date.now().toString())},get:()=>{const e=sessionStorage.getItem(Ib),t=sessionStorage.getItem(Pb);if(e&&t){const r=parseInt(t,10);if(Date.now()-r<dQ)return e;Zw.remove(),console.log("tipo decambio desde cache")}return null},remove:()=>{sessionStorage.removeItem(Ib),sessionStorage.removeItem(Pb)}},fQ=async()=>{var e;try{const t=await WY(Ht);return((e=t==null?void 0:t.data)==null?void 0:e.productRequests.length)>0?(console.log("Se obtuvieron productos en data user",t),t.data.productRequests.map(n=>{var a;return{id:n.id,flowStatus:n.flowStatus,userFlowStatus:n.userFlowStatus,productName:n.productName,verticalName:n.verticalName,createdAt:n.createdAt,chatId:((a=n.chat_on_productRequest)==null?void 0:a.id)??void 0}})):(console.warn("No se encontraron productos"),null)}catch(t){return console.error("Ocurrió un error al obtener los productos",t),null}},oM=async e=>{var t;try{const r=await XY(Ht,e);return(t=r==null?void 0:r.data)!=null&&t.requiredDocuments?(console.log("Se obtuvieron los documentos requeridos",r.data.requiredDocuments),r.data):(console.warn("No se encontraron documentos requeridos."),null)}catch(r){return console.error("Ocurrió un error al obtener los documentos requeridos",r),null}},lM=async e=>{var t,r;try{const n=await GY(e);if((t=n==null?void 0:n.data)!=null&&t.productRequest){console.log("Se obtuvieron los documentos requeridos");const a=(r=n==null?void 0:n.data)==null?void 0:r.productRequest.businessEntity;return{id:a.id,name:a.name,iconUrl:a.iconUrl}}return console.warn("No se encontraron documentos requeridos."),null}catch(n){return console.error("Ocurrió un error al obtener los documentos requeridos",n),null}},mQ=async e=>{try{const t=await bY(e);return console.log("Se insertaron los datos de financiamiento de manera exitosa"),t!=null&&t.data.financingForm_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de financiamiento",t),{success:!1}}},pQ=async e=>{try{const t=await wY(e);return console.log("Se actualizaron los datos de financiamiento de manera exitosa"),t!=null&&t.data.financingForm_update?(Qw.removeAll(),{success:!0}):{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar los datos de financiamiento",t),{success:!1}}},hQ=async e=>{var r;const t=Qw.get(e.productRequestId);if(t)return console.log("Se recuperaron los datos de financiamiento desde cache"),t;try{const n=await aJ(Ht,e);return(r=n==null?void 0:n.data)!=null&&r.financingForms?(console.log("Se recuperaron los datos de financiamiento desde la api"),Qw.save(e.productRequestId,n.data.financingForms[0]),n.data.financingForms[0]):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},gQ=async e=>{try{const t=await SY(e);console.log("Se insertaron los datos de la garantía de manera exitosa");const r=t==null?void 0:t.data.warrantyForm_insert.id;return r?(Hm.removeAll(),{success:!0,id:r}):{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de la garantía",t),{success:!1}}},xQ=async e=>{try{const t=await NY(e);return console.log("Se insertaron los datos de la garantía de manera exitosa"),t!=null&&t.data.warrantyForm_update?(Hm.removeAll(),{success:!0}):{success:!1}}catch(t){return console.error("Ocurrió un error al insertar los datos de la garantía",t),{success:!1}}},vQ=async e=>{var t;try{const r=await EY({warrantyFormId:e});return console.log("Se eliminó la garantía correctamente"),(t=r==null?void 0:r.data)!=null&&t.warrantyForm_delete?(Hm.removeAll(),{success:!0}):{success:!1}}catch(r){return console.error("Ocurrió un error al eliminar la garantía",r),{success:!1}}},cM=async e=>{var t,r;try{const n=Hm.get(e.productRequestId);if(n.length>0)return console.log("Datos de garantia recuperados desde caché"),n;const a=await iJ(Ht,e),i=(t=a==null?void 0:a.data)==null?void 0:t.warrantyForms;return(r=a==null?void 0:a.data)!=null&&r.warrantyForms?(console.log("Se recuperaron los datos de garantía de manera exitosa desde la API"),Hm.save(e.productRequestId,i),a.data.warrantyForms):(console.warn("No se encontraron datos de financiamiento para el ID proporcionado"),null)}catch(n){return console.error("Ocurrió un error al recuperar los datos de financiamiento",n),null}},CE=async e=>{var t;try{const r=await uJ(Ht,e);return(t=r==null?void 0:r.data)!=null&&t.resolutionDataSet[0]?(console.log("Se recuperaron los datos de resolucion de manera exitosa desde la API"),r.data.resolutionDataSet[0]):(console.warn("No se encontraron datos de resolucion para el ID proporcionado"),null)}catch(r){return console.error("Ocurrió un error al recuperar los datos de resolucion",r),null}},sh=async()=>{try{const e=await nJ(Ht);return console.log("Se obtuvieron los templates de forma correcta desde api"),e.data.documentTemplates&&Array.isArray(e.data.documentTemplates)?e.data.documentTemplates:(console.error('La propiedad "documentTemplates" no es un array'),[])}catch(e){return console.error("Ocurrió un error obteniendo la lista de templates:",e),[]}},uM=async e=>{try{return await vY(e),console.log("se agregó el documento requerido con exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al insertar el documento requerido.",t),{success:!1}}},yQ=async e=>{try{return await mY(e),console.log("se agregó el flujo exito:"),{success:!0}}catch(t){return console.error("Ocurrió un error al actualizar el flujo.",t),{success:!1}}},dM=w.createContext(void 0),ka=()=>{const e=w.useContext(dM);if(!e)throw new Error("useProduct debe usarse dentro de un ProductProvider");return e};function bQ(){const e=Mt(),{selectProduct:t}=ka(),[r,n]=w.useState(null),[a,i]=w.useState(!1),{productSelectedId:s}=ND(),l=c=>{if(!r)return;sessionStorage.clear();const u=r.find(d=>d.id===c);u&&(t({id:u.id,flowStatus:u.userFlowStatus||0,productName:u.productName||"",verticalName:u.verticalName||"",chatId:u.chatId??void 0,createdAt:u.createdAt||""}),e("/user/dashboard"))};return w.useEffect(()=>{(async()=>{const u=await fQ();n(u)})()},[]),w.useEffect(()=>{r&&r.length===1&&(i(!0),setTimeout(()=>l(r[0].id),100))},[r]),w.useEffect(()=>{s&&r&&l(s)},[s,r]),a?o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-500",children:[o.jsx(at,{className:"w-10 h-10 animate-spin mb-2"}),"Redirigiendo al producto..."]}):o.jsx("div",{className:"p-8 font-sans",children:o.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-lg shadow-md p-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Selecciona un producto"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Elige uno de los productos disponibles para revisar su estado."}),o.jsx("div",{className:"divide-y divide-gray-200",children:r===null?o.jsx("div",{className:"text-center text-gray-500 py-6",children:"Cargando productos..."}):r.length===0?o.jsx("div",{className:"text-center text-gray-500 py-6",children:"No tienes solicitudes activas."}):r.map(c=>o.jsx("div",{onClick:()=>l(c.id),className:"py-4 px-3 cursor-pointer bg-gray-50 hover:bg-blue-50 rounded-md transition duration-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800",children:c.productName}),o.jsxs("span",{className:"text-s text-gray-400",children:["Fecha de solicitud: ",new Date(c.createdAt).toLocaleDateString()]})]})},c.id))})]})})}function fT(){return o.jsx(Yr,{children:o.jsx(bQ,{})})}const oh=()=>o.jsx("div",{className:"flex justify-center items-center h-screen bg-black bg-opacity-10",children:o.jsx("div",{className:"border-8 border-t-8 border-gray-300 border-t-blue-500 rounded-full w-12 h-12 animate-spin"})}),Ob=({children:e})=>{const{isLoggedIn:t,isLogging:r,conectionError:n}=mt();return r?o.jsx(oh,{}):n?o.jsx(em,{to:"/Offline"}):t?o.jsx(o.Fragment,{children:e}):o.jsx(em,{to:"/"})},ss=({children:e})=>{const{isLoggedIn:t,isLogging:r,conectionError:n,user:a}=mt();return r?o.jsx(oh,{}):n?o.jsx(em,{to:"/Offline"}):a&&!(a!=null&&a.withCredentials)?o.jsx(em,{to:"/admin/credentials"}):t&&(a!=null&&a.isAdmin)?(console.log("acceso autorizado Admin"),o.jsx(o.Fragment,{children:e})):o.jsx(em,{to:t?"/not-authorized":"/"})};function TE(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{user:a}=mt();return w.useEffect(()=>{(async()=>{var s;const i=await gE({adminTeamId:((s=a==null?void 0:a.adminTeam)==null?void 0:s.id)??""});i&&t(i),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}const ct=()=>{const e=w.useContext(_D);if(!e)throw new Error("useClient debe usarse dentro de un ClientProvider");return e};function wQ(){const{businessProducts:e,loading:t}=TE(),{selectClient:r}=ct(),n=Mt(),[a,i]=w.useState(""),[s,l]=w.useState(1),[c,u]=w.useState(10),[d,f]=w.useState(null),[m,p]=w.useState("asc"),[h,g]=w.useState([null,null]),[x,v]=w.useState(!1),b=w.useRef(null);w.useEffect(()=>{const _=I=>{b.current&&!b.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const y=_=>{i(_.target.value)},j=_=>{const I=e.find(L=>L.userEmail===_.userEmail&&L.products.some(W=>W.id===_.id)),M=I==null?void 0:I.products.find(L=>L.id===_.id);I&&M&&(r({id:M.id,company:I.name,iconUrl:"",email:I.userEmail,name:I.userName,mailboxId:M.mailboxId??void 0,chatId:M.chatId??void 0,flowStatus:M.flowStatus??void 0,producName:M.productName??void 0}),n("/admin/nafin/product/onboarding"))},E=()=>{n("/admin/nafin/product/request")},C=[...e.flatMap(_=>_.products.map(I=>({...I,clientName:_.name,userName:_.userName,userEmail:_.userEmail,ownerAdminEmail:_.ownerAdminEmail,ownerAdminName:_.ownerAdminName}))).filter(_=>{var q,B,F;const I=a.toLowerCase(),M=new Date(_.createdAt),[L,W]=h,H=(!L||M>=new Date(L))&&(!W||M<=new Date(W));return(((q=_.productName)==null?void 0:q.toLowerCase().includes(I))||((B=_.clientName)==null?void 0:B.toLowerCase().includes(I))||((F=_.userEmail)==null?void 0:F.toLowerCase().includes(I)))&&H})].sort((_,I)=>{if(!d)return 0;const M=_[d],L=I[d];if(M===L)return 0;if(M==null)return 1;if(L==null)return-1;if(d==="createdAt"){const q=new Date(M).getTime(),B=new Date(L).getTime();return m==="asc"?q-B:B-q}const W=String(M).toLowerCase(),H=String(L).toLowerCase();return m==="asc"?W.localeCompare(H):H.localeCompare(W)}).slice((s-1)*c,s*c),k=_=>{d===_?p(I=>I==="asc"?"desc":"asc"):(f(_),p("asc"))},A=({column:_})=>d!==_?o.jsx(Pr,{className:"text-gray-300",size:16}):m==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Nafin"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a,onChange:y})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>v(_=>!_),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:h[0]&&h[1]?`${h[0]} - ${h[1]}`:"Seleccionar fecha"})]}),x&&o.jsx("div",{ref:b,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[0]||"",onChange:_=>g([_.target.value,h[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[1]||"",onChange:_=>g([h[0],_.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(A,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(A,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",o.jsx(A,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(A,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(A,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):C.length>0?C.map((_,I)=>o.jsxs("tr",{onClick:()=>j(_),className:"border-b hover:bg-blue-50 cursor-pointer transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:_.productName}),o.jsx("td",{className:"px-4 py-3",children:_.clientName}),o.jsx("td",{className:"px-4 py-3",children:_.userName}),o.jsx("td",{className:"px-4 py-3",children:_.userEmail}),o.jsx("td",{className:"px-4 py-3",children:new Date(_.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>j(_),children:_.ownerAdminName??"-"})]},I)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:c,onChange:_=>u(Number(_.target.value)),children:[5,10,20].map(_=>o.jsx("option",{value:_,children:_},_))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:s===1,onClick:()=>l(_=>Math.max(_-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:s}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>l(_=>_+1),children:o.jsx(_i,{size:18})})]})]})]})]})}function _n({status:e,onClose:t,reload:r=!1,route:n="/",messages:a}){const i=()=>e==="processing"?{icon:o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-yellow-100",children:o.jsx(at,{className:"h-8 w-8 text-yellow-500 animate-spin"})}),title:"Procesando tu solicitud",message:"Por favor, espera mientras procesamos tu solicitud."}:a?{icon:e==="success"?o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-green-100",children:o.jsx(At,{className:"h-8 w-8 text-green-500"})}):o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 flex items-center justify-center rounded-full bg-red-100",children:o.jsx(Qi,{className:"h-8 w-8 text-red-500"})}),title:a.title,message:a.message,details:a.details}:(console.error("Los mensajes son obligatorios para estados de éxito o error."),null),s=()=>{e==="success"&&r?window.location.href=n:t()},l=i();return l?o.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 max-w-full text-center shadow-lg relative",children:[l.icon,o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l.title}),o.jsx("p",{className:"text-base text-gray-600 mb-4",children:l.message}),l.details&&o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l.details}),o.jsx("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:e==="success"?"Finalizar":"Cerrar"})]})}):null}function fM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fM(e))&&(n&&(n+=" "),n+=t);return n}var SQ=Array.isArray,ia=SQ,NQ=typeof vo=="object"&&vo&&vo.Object===Object&&vo,mM=NQ,EQ=mM,jQ=typeof self=="object"&&self&&self.Object===Object&&self,_Q=EQ||jQ||Function("return this")(),es=_Q,kQ=es,CQ=kQ.Symbol,lh=CQ,mT=lh,pM=Object.prototype,TQ=pM.hasOwnProperty,AQ=pM.toString,vf=mT?mT.toStringTag:void 0;function IQ(e){var t=TQ.call(e,vf),r=e[vf];try{e[vf]=void 0;var n=!0}catch{}var a=AQ.call(e);return n&&(t?e[vf]=r:delete e[vf]),a}var PQ=IQ,OQ=Object.prototype,RQ=OQ.toString;function DQ(e){return RQ.call(e)}var FQ=DQ,pT=lh,MQ=PQ,LQ=FQ,$Q="[object Null]",BQ="[object Undefined]",hT=pT?pT.toStringTag:void 0;function zQ(e){return e==null?e===void 0?BQ:$Q:hT&&hT in Object(e)?MQ(e):LQ(e)}var Ws=zQ;function UQ(e){return e!=null&&typeof e=="object"}var Gs=UQ,qQ=Ws,VQ=Gs,HQ="[object Symbol]";function WQ(e){return typeof e=="symbol"||VQ(e)&&qQ(e)==HQ}var Fd=WQ,GQ=ia,XQ=Fd,KQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YQ=/^\w*$/;function JQ(e,t){if(GQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||XQ(e)?!0:YQ.test(e)||!KQ.test(e)||t!=null&&e in Object(t)}var AE=JQ;function QQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var al=QQ;const Md=Ot(al);var ZQ=Ws,eZ=al,tZ="[object AsyncFunction]",rZ="[object Function]",nZ="[object GeneratorFunction]",aZ="[object Proxy]";function iZ(e){if(!eZ(e))return!1;var t=ZQ(e);return t==rZ||t==nZ||t==tZ||t==aZ}var IE=iZ;const lt=Ot(IE);var sZ=es,oZ=sZ["__core-js_shared__"],lZ=oZ,Rb=lZ,gT=function(){var e=/[^.]+$/.exec(Rb&&Rb.keys&&Rb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cZ(e){return!!gT&&gT in e}var uZ=cZ,dZ=Function.prototype,fZ=dZ.toString;function mZ(e){if(e!=null){try{return fZ.call(e)}catch{}try{return e+""}catch{}}return""}var hM=mZ,pZ=IE,hZ=uZ,gZ=al,xZ=hM,vZ=/[\\^$.*+?()[\]{}|]/g,yZ=/^\[object .+?Constructor\]$/,bZ=Function.prototype,wZ=Object.prototype,SZ=bZ.toString,NZ=wZ.hasOwnProperty,EZ=RegExp("^"+SZ.call(NZ).replace(vZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jZ(e){if(!gZ(e)||hZ(e))return!1;var t=pZ(e)?EZ:yZ;return t.test(xZ(e))}var _Z=jZ;function kZ(e,t){return e==null?void 0:e[t]}var CZ=kZ,TZ=_Z,AZ=CZ;function IZ(e,t){var r=AZ(e,t);return TZ(r)?r:void 0}var Nc=IZ,PZ=Nc,OZ=PZ(Object,"create"),Ov=OZ,xT=Ov;function RZ(){this.__data__=xT?xT(null):{},this.size=0}var DZ=RZ;function FZ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var MZ=FZ,LZ=Ov,$Z="__lodash_hash_undefined__",BZ=Object.prototype,zZ=BZ.hasOwnProperty;function UZ(e){var t=this.__data__;if(LZ){var r=t[e];return r===$Z?void 0:r}return zZ.call(t,e)?t[e]:void 0}var qZ=UZ,VZ=Ov,HZ=Object.prototype,WZ=HZ.hasOwnProperty;function GZ(e){var t=this.__data__;return VZ?t[e]!==void 0:WZ.call(t,e)}var XZ=GZ,KZ=Ov,YZ="__lodash_hash_undefined__";function JZ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=KZ&&t===void 0?YZ:t,this}var QZ=JZ,ZZ=DZ,eee=MZ,tee=qZ,ree=XZ,nee=QZ;function Ld(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ld.prototype.clear=ZZ;Ld.prototype.delete=eee;Ld.prototype.get=tee;Ld.prototype.has=ree;Ld.prototype.set=nee;var aee=Ld;function iee(){this.__data__=[],this.size=0}var see=iee;function oee(e,t){return e===t||e!==e&&t!==t}var PE=oee,lee=PE;function cee(e,t){for(var r=e.length;r--;)if(lee(e[r][0],t))return r;return-1}var Rv=cee,uee=Rv,dee=Array.prototype,fee=dee.splice;function mee(e){var t=this.__data__,r=uee(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fee.call(t,r,1),--this.size,!0}var pee=mee,hee=Rv;function gee(e){var t=this.__data__,r=hee(t,e);return r<0?void 0:t[r][1]}var xee=gee,vee=Rv;function yee(e){return vee(this.__data__,e)>-1}var bee=yee,wee=Rv;function See(e,t){var r=this.__data__,n=wee(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nee=See,Eee=see,jee=pee,_ee=xee,kee=bee,Cee=Nee;function $d(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$d.prototype.clear=Eee;$d.prototype.delete=jee;$d.prototype.get=_ee;$d.prototype.has=kee;$d.prototype.set=Cee;var Dv=$d,Tee=Nc,Aee=es,Iee=Tee(Aee,"Map"),OE=Iee,vT=aee,Pee=Dv,Oee=OE;function Ree(){this.size=0,this.__data__={hash:new vT,map:new(Oee||Pee),string:new vT}}var Dee=Ree;function Fee(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mee=Fee,Lee=Mee;function $ee(e,t){var r=e.__data__;return Lee(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fv=$ee,Bee=Fv;function zee(e){var t=Bee(this,e).delete(e);return this.size-=t?1:0,t}var Uee=zee,qee=Fv;function Vee(e){return qee(this,e).get(e)}var Hee=Vee,Wee=Fv;function Gee(e){return Wee(this,e).has(e)}var Xee=Gee,Kee=Fv;function Yee(e,t){var r=Kee(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Jee=Yee,Qee=Dee,Zee=Uee,ete=Hee,tte=Xee,rte=Jee;function Bd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bd.prototype.clear=Qee;Bd.prototype.delete=Zee;Bd.prototype.get=ete;Bd.prototype.has=tte;Bd.prototype.set=rte;var RE=Bd,gM=RE,nte="Expected a function";function DE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nte);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(DE.Cache||gM),r}DE.Cache=gM;var xM=DE;const ate=Ot(xM);var ite=xM,ste=500;function ote(e){var t=ite(e,function(n){return r.size===ste&&r.clear(),n}),r=t.cache;return t}var lte=ote,cte=lte,ute=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dte=/\\(\\)?/g,fte=cte(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ute,function(r,n,a,i){t.push(a?i.replace(dte,"$1"):n||r)}),t}),mte=fte;function pte(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var FE=pte,yT=lh,hte=FE,gte=ia,xte=Fd,vte=1/0,bT=yT?yT.prototype:void 0,wT=bT?bT.toString:void 0;function vM(e){if(typeof e=="string")return e;if(gte(e))return hte(e,vM)+"";if(xte(e))return wT?wT.call(e):"";var t=e+"";return t=="0"&&1/e==-vte?"-0":t}var yte=vM,bte=yte;function wte(e){return e==null?"":bte(e)}var yM=wte,Ste=ia,Nte=AE,Ete=mte,jte=yM;function _te(e,t){return Ste(e)?e:Nte(e,t)?[e]:Ete(jte(e))}var bM=_te,kte=Fd,Cte=1/0;function Tte(e){if(typeof e=="string"||kte(e))return e;var t=e+"";return t=="0"&&1/e==-Cte?"-0":t}var Mv=Tte,Ate=bM,Ite=Mv;function Pte(e,t){t=Ate(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ite(t[r++])];return r&&r==n?e:void 0}var ME=Pte,Ote=ME;function Rte(e,t,r){var n=e==null?void 0:Ote(e,t);return n===void 0?r:n}var wM=Rte;const Ha=Ot(wM);function Dte(e){return e==null}var Fte=Dte;const _t=Ot(Fte);var Mte=Ws,Lte=ia,$te=Gs,Bte="[object String]";function zte(e){return typeof e=="string"||!Lte(e)&&$te(e)&&Mte(e)==Bte}var Ute=zte;const rc=Ot(Ute);var SM={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=Symbol.for("react.element"),$E=Symbol.for("react.portal"),Lv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),qte=Symbol.for("react.server_context"),qv=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Hv=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),Vte=Symbol.for("react.offscreen"),NM;NM=Symbol.for("react.module.reference");function ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LE:switch(e=e.type,e){case Lv:case Bv:case $v:case Vv:case Hv:return e;default:switch(e=e&&e.$$typeof,e){case qte:case Uv:case qv:case Gv:case Wv:case zv:return e;default:return t}}case $E:return t}}}Rt.ContextConsumer=Uv;Rt.ContextProvider=zv;Rt.Element=LE;Rt.ForwardRef=qv;Rt.Fragment=Lv;Rt.Lazy=Gv;Rt.Memo=Wv;Rt.Portal=$E;Rt.Profiler=Bv;Rt.StrictMode=$v;Rt.Suspense=Vv;Rt.SuspenseList=Hv;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(e){return ei(e)===Uv};Rt.isContextProvider=function(e){return ei(e)===zv};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LE};Rt.isForwardRef=function(e){return ei(e)===qv};Rt.isFragment=function(e){return ei(e)===Lv};Rt.isLazy=function(e){return ei(e)===Gv};Rt.isMemo=function(e){return ei(e)===Wv};Rt.isPortal=function(e){return ei(e)===$E};Rt.isProfiler=function(e){return ei(e)===Bv};Rt.isStrictMode=function(e){return ei(e)===$v};Rt.isSuspense=function(e){return ei(e)===Vv};Rt.isSuspenseList=function(e){return ei(e)===Hv};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lv||e===Bv||e===$v||e===Vv||e===Hv||e===Vte||typeof e=="object"&&e!==null&&(e.$$typeof===Gv||e.$$typeof===Wv||e.$$typeof===zv||e.$$typeof===Uv||e.$$typeof===qv||e.$$typeof===NM||e.getModuleId!==void 0)};Rt.typeOf=ei;SM.exports=Rt;var Hte=SM.exports,Wte=Ws,Gte=Gs,Xte="[object Number]";function Kte(e){return typeof e=="number"||Gte(e)&&Wte(e)==Xte}var EM=Kte;const Yte=Ot(EM);var Jte=EM;function Qte(e){return Jte(e)&&e!=+e}var Zte=Qte;const ch=Ot(Zte);var di=function(t){return t===0?0:t>0?1:-1},Tl=function(t){return rc(t)&&t.indexOf("%")===t.length-1},Te=function(t){return Yte(t)&&!ch(t)},$r=function(t){return Te(t)||rc(t)},ere=0,Xv=function(t){var r=++ere;return"".concat(t||"").concat(r)},nc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&!rc(t))return n;var i;if(Tl(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ch(i)&&(i=n),a&&i>r&&(i=r),i},go=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tre=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Mc=function(t,r){return Te(t)&&Te(r)?function(n){return t+n*(r-t)}:function(){return r}};function e2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ha(n,t))===r})}var rre=function(t,r){return Te(t)&&Te(r)?t-r:rc(t)&&rc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function _u(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function t2(e){"@babel/helpers - typeof";return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t2(e)}var nre=["viewBox","children"],are=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ST=["points","pathLength"],Db={svg:nre,polygon:ST,polyline:ST},BE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Md(n))return null;var a={};return Object.keys(n).forEach(function(i){BE.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},ire=function(t,r,n){return function(a){return t(r,n,a),null}},Lg=function(t,r,n){if(!Md(t)||t2(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];BE.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=ire(s,r,n))}),a},sre=["children"],ore=["children"];function NT(e,t){if(e==null)return{};var r=lre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ET={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jT=null,Fb=null,zE=function e(t){if(t===jT&&Array.isArray(Fb))return Fb;var r=[];return w.Children.forEach(t,function(n){_t(n)||(Hte.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Fb=r,jT=t,r};function vi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bs(a)}):n=[bs(t)],zE(e).forEach(function(a){var i=Ha(a,"type.displayName")||Ha(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function da(e,t){var r=vi(e,t);return r&&r[0]}var _T=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Te(n)||n<=0||!Te(a)||a<=0)},cre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ure=function(t){return t&&t.type&&rc(t.type)&&cre.indexOf(t.type)>=0},dre=function(t,r,n,a){var i,s=(i=Db==null?void 0:Db[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!lt(t)&&(a&&s.includes(r)||are.includes(r))||n&&BE.includes(r)},St=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Md(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;dre((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},r2=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!kT(i,s))return!1}return!0},kT=function(t,r){if(_t(t)&&_t(r))return!0;if(!_t(t)&&!_t(r)){var n=t.props||{},a=n.children,i=NT(n,sre),s=r.props||{},l=s.children,c=NT(s,ore);return a&&l?_u(i,c)&&r2(a,l):!a&&!l?_u(i,c):!1}return!1},CT=function(t,r){var n=[],a={};return zE(t).forEach(function(i,s){if(ure(i))n.push(i);else if(i){var l=bs(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},fre=function(t){var r=t&&t.type;return r&&ET[r]?ET[r]:null},mre=function(t,r){return zE(r).indexOf(t)},pre=["children","width","height","viewBox","className","style","title","desc"];function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n2.apply(this,arguments)}function hre(e,t){if(e==null)return{};var r=gre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a2(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=hre(e,pre),d=a||{width:r,height:n,x:0,y:0},f=dt("recharts-surface",i);return ae.createElement("svg",n2({},St(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),t)}var xre=["children","className"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(this,arguments)}function vre(e,t){if(e==null)return{};var r=yre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hr=ae.forwardRef(function(e,t){var r=e.children,n=e.className,a=vre(e,xre),i=dt("recharts-layer",n);return ae.createElement("g",i2({className:i},St(a,!0),{ref:t}),r)}),ws=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function bre(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var wre=bre,Sre=wre;function Nre(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Sre(e,t,r)}var Ere=Nre,jre="\\ud800-\\udfff",_re="\\u0300-\\u036f",kre="\\ufe20-\\ufe2f",Cre="\\u20d0-\\u20ff",Tre=_re+kre+Cre,Are="\\ufe0e\\ufe0f",Ire="\\u200d",Pre=RegExp("["+Ire+jre+Tre+Are+"]");function Ore(e){return Pre.test(e)}var jM=Ore;function Rre(e){return e.split("")}var Dre=Rre,_M="\\ud800-\\udfff",Fre="\\u0300-\\u036f",Mre="\\ufe20-\\ufe2f",Lre="\\u20d0-\\u20ff",$re=Fre+Mre+Lre,Bre="\\ufe0e\\ufe0f",zre="["+_M+"]",s2="["+$re+"]",o2="\\ud83c[\\udffb-\\udfff]",Ure="(?:"+s2+"|"+o2+")",kM="[^"+_M+"]",CM="(?:\\ud83c[\\udde6-\\uddff]){2}",TM="[\\ud800-\\udbff][\\udc00-\\udfff]",qre="\\u200d",AM=Ure+"?",IM="["+Bre+"]?",Vre="(?:"+qre+"(?:"+[kM,CM,TM].join("|")+")"+IM+AM+")*",Hre=IM+AM+Vre,Wre="(?:"+[kM+s2+"?",s2,CM,TM,zre].join("|")+")",Gre=RegExp(o2+"(?="+o2+")|"+Wre+Hre,"g");function Xre(e){return e.match(Gre)||[]}var Kre=Xre,Yre=Dre,Jre=jM,Qre=Kre;function Zre(e){return Jre(e)?Qre(e):Yre(e)}var ene=Zre,tne=Ere,rne=jM,nne=ene,ane=yM;function ine(e){return function(t){t=ane(t);var r=rne(t)?nne(t):void 0,n=r?r[0]:t.charAt(0),a=r?tne(r,1).join(""):t.slice(1);return n[e]()+a}}var sne=ine,one=sne,lne=one("toUpperCase"),cne=lne;const Kv=Ot(cne);function qt(e){return function(){return e}}const PM=Math.cos,$g=Math.sin,ki=Math.sqrt,Bg=Math.PI,Yv=2*Bg,l2=Math.PI,c2=2*l2,wl=1e-6,une=c2-wl;function OM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dne(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OM;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fne{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OM:dne(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>wl)if(!(Math.abs(f*c-u*d)>wl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,h=a-l,g=c*c+u*u,x=p*p+h*h,v=Math.sqrt(g),b=Math.sqrt(m),y=i*Math.tan((l2-Math.acos((g+m-x)/(2*v*b)))/2),j=y/b,E=y/v;Math.abs(j-1)>wl&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*h)},${this._x1=t+E*c},${this._y1=r+E*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,m=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>wl||Math.abs(this._y1-d)>wl)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%c2+c2),m>une?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>wl&&this._append`A${n},${n},0,${+(m>=l2)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function UE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fne(t)}function qE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RM(e){this._context=e}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jv(e){return new RM(e)}function DM(e){return e[0]}function FM(e){return e[1]}function MM(e,t){var r=qt(!0),n=null,a=Jv,i=null,s=UE(l);e=typeof e=="function"?e:e===void 0?DM:qt(e),t=typeof t=="function"?t:t===void 0?FM:qt(t);function l(c){var u,d=(c=qE(c)).length,f,m=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function r0(e,t,r){var n=null,a=qt(!0),i=null,s=Jv,l=null,c=UE(u);e=typeof e=="function"?e:e===void 0?DM:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FM:qt(+r);function u(f){var m,p,h,g=(f=qE(f)).length,x,v=!1,b,y=new Array(g),j=new Array(g);for(i==null&&(l=s(b=c())),m=0;m<=g;++m){if(!(m<g&&a(x=f[m],m,f))===v)if(v=!v)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=m-1;h>=p;--h)l.point(y[h],j[h]);l.lineEnd(),l.areaEnd()}v&&(y[m]=+e(x,m,f),j[m]=+t(x,m,f),l.point(n?+n(x,m,f):y[m],r?+r(x,m,f):j[m]))}if(b)return l=null,b+""||null}function d(){return MM().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:qt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class LM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mne(e){return new LM(e,!0)}function pne(e){return new LM(e,!1)}const VE={draw(e,t){const r=ki(t/Bg);e.moveTo(r,0),e.arc(0,0,r,0,Yv)}},hne={draw(e,t){const r=ki(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$M=ki(1/3),gne=$M*2,xne={draw(e,t){const r=ki(t/gne),n=r*$M;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vne={draw(e,t){const r=ki(t),n=-r/2;e.rect(n,n,r,r)}},yne=.8908130915292852,BM=$g(Bg/10)/$g(7*Bg/10),bne=$g(Yv/10)*BM,wne=-PM(Yv/10)*BM,Sne={draw(e,t){const r=ki(t*yne),n=bne*r,a=wne*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Yv*i/5,l=PM(s),c=$g(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Mb=ki(3),Nne={draw(e,t){const r=-ki(t/(Mb*3));e.moveTo(0,r*2),e.lineTo(-Mb*r,-r),e.lineTo(Mb*r,-r),e.closePath()}},Ta=-.5,Aa=ki(3)/2,u2=1/ki(12),Ene=(u2/2+1)*3,jne={draw(e,t){const r=ki(t/Ene),n=r/2,a=r*u2,i=n,s=r*u2+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Ta*n-Aa*a,Aa*n+Ta*a),e.lineTo(Ta*i-Aa*s,Aa*i+Ta*s),e.lineTo(Ta*l-Aa*c,Aa*l+Ta*c),e.lineTo(Ta*n+Aa*a,Ta*a-Aa*n),e.lineTo(Ta*i+Aa*s,Ta*s-Aa*i),e.lineTo(Ta*l+Aa*c,Ta*c-Aa*l),e.closePath()}};function _ne(e,t){let r=null,n=UE(a);e=typeof e=="function"?e:qt(e||VE),t=typeof t=="function"?t:qt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zg(){}function Ug(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zM(e){this._context=e}zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ug(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kne(e){return new zM(e)}function UM(e){this._context=e}UM.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cne(e){return new UM(e)}function qM(e){this._context=e}qM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tne(e){return new qM(e)}function VM(e){this._context=e}VM.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ane(e){return new VM(e)}function TT(e){return e<0?-1:1}function AT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(TT(i)+TT(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function IT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function qg(e){this._context=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lb(this,this._t0,IT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lb(this,IT(this,r=AT(this,e,t)),r);break;default:Lb(this,this._t0,r=AT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HM(e){this._context=new WM(e)}(HM.prototype=Object.create(qg.prototype)).point=function(e,t){qg.prototype.point.call(this,t,e)};function WM(e){this._context=e}WM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Ine(e){return new qg(e)}function Pne(e){return new HM(e)}function GM(e){this._context=e}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PT(e),a=PT(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function One(e){return new GM(e)}function Qv(e,t){this._context=e,this._t=t}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rne(e){return new Qv(e,.5)}function Dne(e){return new Qv(e,0)}function Fne(e){return new Qv(e,1)}function Ku(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function d2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Mne(e,t){return e[t]}function Lne(e){const t=[];return t.key=e,t}function $ne(){var e=qt([]),t=d2,r=Ku,n=Mne;function a(i){var s=Array.from(e.apply(this,arguments),Lne),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=qE(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:qt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?d2:typeof i=="function"?i:qt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ku,a):r},a}function Bne(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ku(e,t)}}function zne(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ku(e,t)}}function Une(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,h=0;h<l;++h){var g=e[t[h]],x=g[n][1]||0,v=g[n-1][1]||0;p+=x-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ku(e,t)}}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var qne=["type","size","sizeType"];function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return t=Hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=Wne(e,"string");return Wm(t)=="symbol"?t:t+""}function Wne(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gne(e,t){if(e==null)return{};var r=Xne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XM={symbolCircle:VE,symbolCross:hne,symbolDiamond:xne,symbolSquare:vne,symbolStar:Sne,symbolTriangle:Nne,symbolWye:jne},Kne=Math.PI/180,Yne=function(t){var r="symbol".concat(Kv(t));return XM[r]||VE},Jne=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Kne;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Qne=function(t,r){XM["symbol".concat(Kv(t))]=r},HE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=Gne(t,qne),u=RT(RT({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Yne(n),v=_ne().type(x).size(Jne(i,l,n));return v()},f=u.className,m=u.cx,p=u.cy,h=St(u,!0);return m===+m&&p===+p&&i===+i?ae.createElement("path",f2({},h,{className:dt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};HE.registerSymbol=Qne;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YM(n.key),n)}}function rae(e,t,r){return t&&tae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nae(e,t,r){return t=Vg(t),aae(e,KM()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function aae(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iae(e)}function iae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function sae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p2(e,t)}function Gm(e,t,r){return t=YM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=oae(e,"string");return Yu(t)=="symbol"?t:t+""}function oae(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=32,WE=function(e){function t(){return eae(this,t),nae(this,t,arguments)}return sae(t,e),rae(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ia/2,s=Ia/6,l=Ia/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ia,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ia,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(n.legendIcon)){var u=Zne({},n);return delete u.legendIcon,ae.cloneElement(n.legendIcon,u)}return ae.createElement(HE,{fill:c,cx:i,cy:i,size:Ia,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ia,height:Ia},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,h){var g=p.formatter||c,x=dt(Gm(Gm({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=lt(p.value)?null:p.value;ws(!lt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return ae.createElement("li",m2({className:x,style:f,key:"legend-item-".concat(h)},Lg(n.props,p,h)),ae.createElement(a2,{width:s,height:s,viewBox:d,style:m},n.renderIcon(p)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,p,h):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);Gm(WE,"displayName","Legend");Gm(WE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lae=Dv;function cae(){this.__data__=new lae,this.size=0}var uae=cae;function dae(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var fae=dae;function mae(e){return this.__data__.get(e)}var pae=mae;function hae(e){return this.__data__.has(e)}var gae=hae,xae=Dv,vae=OE,yae=RE,bae=200;function wae(e,t){var r=this.__data__;if(r instanceof xae){var n=r.__data__;if(!vae||n.length<bae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yae(n)}return r.set(e,t),this.size=r.size,this}var Sae=wae,Nae=Dv,Eae=uae,jae=fae,_ae=pae,kae=gae,Cae=Sae;function zd(e){var t=this.__data__=new Nae(e);this.size=t.size}zd.prototype.clear=Eae;zd.prototype.delete=jae;zd.prototype.get=_ae;zd.prototype.has=kae;zd.prototype.set=Cae;var JM=zd,Tae="__lodash_hash_undefined__";function Aae(e){return this.__data__.set(e,Tae),this}var Iae=Aae;function Pae(e){return this.__data__.has(e)}var Oae=Pae,Rae=RE,Dae=Iae,Fae=Oae;function Hg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Rae;++t<r;)this.add(e[t])}Hg.prototype.add=Hg.prototype.push=Dae;Hg.prototype.has=Fae;var QM=Hg;function Mae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ZM=Mae;function Lae(e,t){return e.has(t)}var eL=Lae,$ae=QM,Bae=ZM,zae=eL,Uae=1,qae=2;function Vae(e,t,r,n,a,i){var s=r&Uae,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,p=r&qae?new $ae:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var h=e[f],g=t[f];if(n)var x=s?n(g,h,f,t,e,i):n(h,g,f,e,t,i);if(x!==void 0){if(x)continue;m=!1;break}if(p){if(!Bae(t,function(v,b){if(!zae(p,b)&&(h===v||a(h,v,r,n,i)))return p.push(b)})){m=!1;break}}else if(!(h===g||a(h,g,r,n,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var tL=Vae,Hae=es,Wae=Hae.Uint8Array,Gae=Wae;function Xae(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Kae=Xae;function Yae(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var GE=Yae,FT=lh,MT=Gae,Jae=PE,Qae=tL,Zae=Kae,eie=GE,tie=1,rie=2,nie="[object Boolean]",aie="[object Date]",iie="[object Error]",sie="[object Map]",oie="[object Number]",lie="[object RegExp]",cie="[object Set]",uie="[object String]",die="[object Symbol]",fie="[object ArrayBuffer]",mie="[object DataView]",LT=FT?FT.prototype:void 0,$b=LT?LT.valueOf:void 0;function pie(e,t,r,n,a,i,s){switch(r){case mie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fie:return!(e.byteLength!=t.byteLength||!i(new MT(e),new MT(t)));case nie:case aie:case oie:return Jae(+e,+t);case iie:return e.name==t.name&&e.message==t.message;case lie:case uie:return e==t+"";case sie:var l=Zae;case cie:var c=n&tie;if(l||(l=eie),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=rie,s.set(e,t);var d=Qae(l(e),l(t),n,a,i,s);return s.delete(e),d;case die:if($b)return $b.call(e)==$b.call(t)}return!1}var hie=pie;function gie(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rL=gie,xie=rL,vie=ia;function yie(e,t,r){var n=t(e);return vie(e)?n:xie(n,r(e))}var bie=yie;function wie(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Sie=wie;function Nie(){return[]}var Eie=Nie,jie=Sie,_ie=Eie,kie=Object.prototype,Cie=kie.propertyIsEnumerable,$T=Object.getOwnPropertySymbols,Tie=$T?function(e){return e==null?[]:(e=Object(e),jie($T(e),function(t){return Cie.call(e,t)}))}:_ie,Aie=Tie;function Iie(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Pie=Iie,Oie=Ws,Rie=Gs,Die="[object Arguments]";function Fie(e){return Rie(e)&&Oie(e)==Die}var Mie=Fie,BT=Mie,Lie=Gs,nL=Object.prototype,$ie=nL.hasOwnProperty,Bie=nL.propertyIsEnumerable,zie=BT(function(){return arguments}())?BT:function(e){return Lie(e)&&$ie.call(e,"callee")&&!Bie.call(e,"callee")},XE=zie,Wg={exports:{}};function Uie(){return!1}var qie=Uie;Wg.exports;(function(e,t){var r=es,n=qie,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Wg,Wg.exports);var aL=Wg.exports,Vie=9007199254740991,Hie=/^(?:0|[1-9]\d*)$/;function Wie(e,t){var r=typeof e;return t=t??Vie,!!t&&(r=="number"||r!="symbol"&&Hie.test(e))&&e>-1&&e%1==0&&e<t}var KE=Wie,Gie=9007199254740991;function Xie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gie}var YE=Xie,Kie=Ws,Yie=YE,Jie=Gs,Qie="[object Arguments]",Zie="[object Array]",ese="[object Boolean]",tse="[object Date]",rse="[object Error]",nse="[object Function]",ase="[object Map]",ise="[object Number]",sse="[object Object]",ose="[object RegExp]",lse="[object Set]",cse="[object String]",use="[object WeakMap]",dse="[object ArrayBuffer]",fse="[object DataView]",mse="[object Float32Array]",pse="[object Float64Array]",hse="[object Int8Array]",gse="[object Int16Array]",xse="[object Int32Array]",vse="[object Uint8Array]",yse="[object Uint8ClampedArray]",bse="[object Uint16Array]",wse="[object Uint32Array]",Kt={};Kt[mse]=Kt[pse]=Kt[hse]=Kt[gse]=Kt[xse]=Kt[vse]=Kt[yse]=Kt[bse]=Kt[wse]=!0;Kt[Qie]=Kt[Zie]=Kt[dse]=Kt[ese]=Kt[fse]=Kt[tse]=Kt[rse]=Kt[nse]=Kt[ase]=Kt[ise]=Kt[sse]=Kt[ose]=Kt[lse]=Kt[cse]=Kt[use]=!1;function Sse(e){return Jie(e)&&Yie(e.length)&&!!Kt[Kie(e)]}var Nse=Sse;function Ese(e){return function(t){return e(t)}}var iL=Ese,Gg={exports:{}};Gg.exports;(function(e,t){var r=mM,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Gg,Gg.exports);var jse=Gg.exports,_se=Nse,kse=iL,zT=jse,UT=zT&&zT.isTypedArray,Cse=UT?kse(UT):_se,sL=Cse,Tse=Pie,Ase=XE,Ise=ia,Pse=aL,Ose=KE,Rse=sL,Dse=Object.prototype,Fse=Dse.hasOwnProperty;function Mse(e,t){var r=Ise(e),n=!r&&Ase(e),a=!r&&!n&&Pse(e),i=!r&&!n&&!a&&Rse(e),s=r||n||a||i,l=s?Tse(e.length,String):[],c=l.length;for(var u in e)(t||Fse.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ose(u,c)))&&l.push(u);return l}var Lse=Mse,$se=Object.prototype;function Bse(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$se;return e===r}var zse=Bse;function Use(e,t){return function(r){return e(t(r))}}var oL=Use,qse=oL,Vse=qse(Object.keys,Object),Hse=Vse,Wse=zse,Gse=Hse,Xse=Object.prototype,Kse=Xse.hasOwnProperty;function Yse(e){if(!Wse(e))return Gse(e);var t=[];for(var r in Object(e))Kse.call(e,r)&&r!="constructor"&&t.push(r);return t}var Jse=Yse,Qse=IE,Zse=YE;function eoe(e){return e!=null&&Zse(e.length)&&!Qse(e)}var uh=eoe,toe=Lse,roe=Jse,noe=uh;function aoe(e){return noe(e)?toe(e):roe(e)}var Zv=aoe,ioe=bie,soe=Aie,ooe=Zv;function loe(e){return ioe(e,ooe,soe)}var coe=loe,qT=coe,uoe=1,doe=Object.prototype,foe=doe.hasOwnProperty;function moe(e,t,r,n,a,i){var s=r&uoe,l=qT(e),c=l.length,u=qT(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var m=l[f];if(!(s?m in t:foe.call(t,m)))return!1}var p=i.get(e),h=i.get(t);if(p&&h)return p==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<c;){m=l[f];var v=e[m],b=t[m];if(n)var y=s?n(b,v,m,t,e,i):n(v,b,m,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){g=!1;break}x||(x=m=="constructor")}if(g&&!x){var j=e.constructor,E=t.constructor;j!=E&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof E=="function"&&E instanceof E)&&(g=!1)}return i.delete(e),i.delete(t),g}var poe=moe,hoe=Nc,goe=es,xoe=hoe(goe,"DataView"),voe=xoe,yoe=Nc,boe=es,woe=yoe(boe,"Promise"),Soe=woe,Noe=Nc,Eoe=es,joe=Noe(Eoe,"Set"),lL=joe,_oe=Nc,koe=es,Coe=_oe(koe,"WeakMap"),Toe=Coe,h2=voe,g2=OE,x2=Soe,v2=lL,y2=Toe,cL=Ws,Ud=hM,VT="[object Map]",Aoe="[object Object]",HT="[object Promise]",WT="[object Set]",GT="[object WeakMap]",XT="[object DataView]",Ioe=Ud(h2),Poe=Ud(g2),Ooe=Ud(x2),Roe=Ud(v2),Doe=Ud(y2),Sl=cL;(h2&&Sl(new h2(new ArrayBuffer(1)))!=XT||g2&&Sl(new g2)!=VT||x2&&Sl(x2.resolve())!=HT||v2&&Sl(new v2)!=WT||y2&&Sl(new y2)!=GT)&&(Sl=function(e){var t=cL(e),r=t==Aoe?e.constructor:void 0,n=r?Ud(r):"";if(n)switch(n){case Ioe:return XT;case Poe:return VT;case Ooe:return HT;case Roe:return WT;case Doe:return GT}return t});var Foe=Sl,Bb=JM,Moe=tL,Loe=hie,$oe=poe,KT=Foe,YT=ia,JT=aL,Boe=sL,zoe=1,QT="[object Arguments]",ZT="[object Array]",n0="[object Object]",Uoe=Object.prototype,eA=Uoe.hasOwnProperty;function qoe(e,t,r,n,a,i){var s=YT(e),l=YT(t),c=s?ZT:KT(e),u=l?ZT:KT(t);c=c==QT?n0:c,u=u==QT?n0:u;var d=c==n0,f=u==n0,m=c==u;if(m&&JT(e)){if(!JT(t))return!1;s=!0,d=!1}if(m&&!d)return i||(i=new Bb),s||Boe(e)?Moe(e,t,r,n,a,i):Loe(e,t,c,r,n,a,i);if(!(r&zoe)){var p=d&&eA.call(e,"__wrapped__"),h=f&&eA.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,x=h?t.value():t;return i||(i=new Bb),a(g,x,r,n,i)}}return m?(i||(i=new Bb),$oe(e,t,r,n,a,i)):!1}var Voe=qoe,Hoe=Voe,tA=Gs;function uL(e,t,r,n,a){return e===t?!0:e==null||t==null||!tA(e)&&!tA(t)?e!==e&&t!==t:Hoe(e,t,r,n,uL,a)}var JE=uL,Woe=JM,Goe=JE,Xoe=1,Koe=2;function Yoe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Woe;if(n)var m=n(u,d,c,e,t,f);if(!(m===void 0?Goe(d,u,Xoe|Koe,n,f):m))return!1}}return!0}var Joe=Yoe,Qoe=al;function Zoe(e){return e===e&&!Qoe(e)}var dL=Zoe,ele=dL,tle=Zv;function rle(e){for(var t=tle(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ele(a)]}return t}var nle=rle;function ale(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fL=ale,ile=Joe,sle=nle,ole=fL;function lle(e){var t=sle(e);return t.length==1&&t[0][2]?ole(t[0][0],t[0][1]):function(r){return r===e||ile(r,e,t)}}var cle=lle;function ule(e,t){return e!=null&&t in Object(e)}var dle=ule,fle=bM,mle=XE,ple=ia,hle=KE,gle=YE,xle=Mv;function vle(e,t,r){t=fle(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=xle(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&gle(a)&&hle(s,a)&&(ple(e)||mle(e)))}var yle=vle,ble=dle,wle=yle;function Sle(e,t){return e!=null&&wle(e,t,ble)}var Nle=Sle,Ele=JE,jle=wM,_le=Nle,kle=AE,Cle=dL,Tle=fL,Ale=Mv,Ile=1,Ple=2;function Ole(e,t){return kle(e)&&Cle(t)?Tle(Ale(e),t):function(r){var n=jle(r,e);return n===void 0&&n===t?_le(r,e):Ele(t,n,Ile|Ple)}}var Rle=Ole;function Dle(e){return e}var qd=Dle;function Fle(e){return function(t){return t==null?void 0:t[e]}}var Mle=Fle,Lle=ME;function $le(e){return function(t){return Lle(t,e)}}var Ble=$le,zle=Mle,Ule=Ble,qle=AE,Vle=Mv;function Hle(e){return qle(e)?zle(Vle(e)):Ule(e)}var Wle=Hle,Gle=cle,Xle=Rle,Kle=qd,Yle=ia,Jle=Wle;function Qle(e){return typeof e=="function"?e:e==null?Kle:typeof e=="object"?Yle(e)?Xle(e[0],e[1]):Gle(e):Jle(e)}var il=Qle;function Zle(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var mL=Zle;function ece(e){return e!==e}var tce=ece;function rce(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var nce=rce,ace=mL,ice=tce,sce=nce;function oce(e,t,r){return t===t?sce(e,t,r):ace(e,ice,r)}var lce=oce,cce=lce;function uce(e,t){var r=e==null?0:e.length;return!!r&&cce(e,t,0)>-1}var dce=uce;function fce(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var mce=fce;function pce(){}var hce=pce,zb=lL,gce=hce,xce=GE,vce=1/0,yce=zb&&1/xce(new zb([,-0]))[1]==vce?function(e){return new zb(e)}:gce,bce=yce,wce=QM,Sce=dce,Nce=mce,Ece=eL,jce=bce,_ce=GE,kce=200;function Cce(e,t,r){var n=-1,a=Sce,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=Nce;else if(i>=kce){var u=t?null:jce(e);if(u)return _ce(u);s=!1,a=Ece,c=new wce}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Tce=Cce,Ace=il,Ice=Tce;function Pce(e,t){return e&&e.length?Ice(e,Ace(t)):[]}var Oce=Pce;const rA=Ot(Oce);function pL(e,t,r){return t===!0?rA(e,r):lt(t)?rA(e,t):e}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}var Rce=["ref"];function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gL(n.key),n)}}function Fce(e,t,r){return t&&aA(e.prototype,t),r&&aA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mce(e,t,r){return t=Xg(t),Lce(e,hL()?Reflect.construct(t,r||[],Xg(e).constructor):t.apply(e,r))}function Lce(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(e)}function $ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!e})()}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(e)}function Bce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b2(e,t)}function ey(e,t,r){return t=gL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=zce(e,"string");return Ju(t)=="symbol"?t:t+""}function zce(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uce(e,t){if(e==null)return{};var r=qce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vce(e){return e.value}function Hce(e,t){if(ae.isValidElement(e))return ae.cloneElement(e,t);if(typeof e=="function")return ae.createElement(e,t);t.ref;var r=Uce(t,Rce);return ae.createElement(WE,r)}var iA=1,ku=function(e){function t(){var r;Dce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Mce(this,t,[].concat(a)),ey(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bce(t,e),Fce(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>iA||Math.abs(a.height-this.lastBoundingBox.height)>iA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?os({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();m={top:((d||0)-h.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return os(os({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=os(os({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Hce(i,os(os({},this.props),{},{payload:pL(d,u,Vce)})))}}],[{key:"getWithHeight",value:function(n,a){var i=os(os({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Te(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);ey(ku,"displayName","Legend");ey(ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sA=lh,Wce=XE,Gce=ia,oA=sA?sA.isConcatSpreadable:void 0;function Xce(e){return Gce(e)||Wce(e)||!!(oA&&e&&e[oA])}var Kce=Xce,Yce=rL,Jce=Kce;function xL(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Jce),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?xL(l,t-1,r,n,a):Yce(a,l):n||(a[a.length]=l)}return a}var vL=xL;function Qce(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Zce=Qce,eue=Zce,tue=eue(),rue=tue,nue=rue,aue=Zv;function iue(e,t){return e&&nue(e,t,aue)}var yL=iue,sue=uh;function oue(e,t){return function(r,n){if(r==null)return r;if(!sue(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var lue=oue,cue=yL,uue=lue,due=uue(cue),QE=due,fue=QE,mue=uh;function pue(e,t){var r=-1,n=mue(e)?Array(e.length):[];return fue(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var bL=pue;function hue(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var gue=hue,lA=Fd;function xue(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=lA(e),s=t!==void 0,l=t===null,c=t===t,u=lA(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var vue=xue,yue=vue;function bue(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=yue(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var wue=bue,Ub=FE,Sue=ME,Nue=il,Eue=bL,jue=gue,_ue=iL,kue=wue,Cue=qd,Tue=ia;function Aue(e,t,r){t.length?t=Ub(t,function(i){return Tue(i)?function(s){return Sue(s,i.length===1?i[0]:i)}:i}):t=[Cue];var n=-1;t=Ub(t,_ue(Nue));var a=Eue(e,function(i,s,l){var c=Ub(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return jue(a,function(i,s){return kue(i,s,r)})}var Iue=Aue;function Pue(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Oue=Pue,Rue=Oue,cA=Math.max;function Due(e,t,r){return t=cA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=cA(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Rue(e,this,l)}}var Fue=Due;function Mue(e){return function(){return e}}var Lue=Mue,$ue=Nc,Bue=function(){try{var e=$ue(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wL=Bue,zue=Lue,uA=wL,Uue=qd,que=uA?function(e,t){return uA(e,"toString",{configurable:!0,enumerable:!1,value:zue(t),writable:!0})}:Uue,Vue=que,Hue=800,Wue=16,Gue=Date.now;function Xue(e){var t=0,r=0;return function(){var n=Gue(),a=Wue-(n-r);if(r=n,a>0){if(++t>=Hue)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Kue=Xue,Yue=Vue,Jue=Kue,Que=Jue(Yue),Zue=Que,ede=qd,tde=Fue,rde=Zue;function nde(e,t){return rde(tde(e,t,ede),e+"")}var ade=nde,ide=PE,sde=uh,ode=KE,lde=al;function cde(e,t,r){if(!lde(r))return!1;var n=typeof t;return(n=="number"?sde(r)&&ode(t,r.length):n=="string"&&t in r)?ide(r[t],e):!1}var ty=cde,ude=vL,dde=Iue,fde=ade,dA=ty,mde=fde(function(e,t){if(e==null)return[];var r=t.length;return r>1&&dA(e,t[0],t[1])?t=[]:r>2&&dA(t[0],t[1],t[2])&&(t=[t[0]]),dde(e,ude(t,1),[])}),pde=mde;const ZE=Ot(pde);function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2.apply(this,arguments)}function hde(e,t){return yde(e)||vde(e,t)||xde(e,t)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yde(e){if(Array.isArray(e))return e}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){bde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bde(e,t,r){return t=wde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wde(e){var t=Sde(e,"string");return Xm(t)=="symbol"?t:t+""}function Sde(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nde(e){return Array.isArray(e)&&$r(e[0])&&$r(e[1])?e.join(" ~ "):e}var Ede=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,p=t.wrapperClassName,h=t.labelClassName,g=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var _={padding:0,margin:0},I=(m?ZE(d,m):d).map(function(M,L){if(M.type==="none")return null;var W=qb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),H=M.formatter||f||Nde,q=M.value,B=M.name,F=q,ne=B;if(H&&F!=null&&ne!=null){var U=H(q,B,M,L,d);if(Array.isArray(U)){var R=hde(U,2);F=R[0],ne=R[1]}else F=U}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:W},$r(ne)?ae.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,$r(ne)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},F),ae.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:_},I)}return null},j=qb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=qb({margin:0},u),N=!_t(g),S=N?g:"",T=dt("recharts-default-tooltip",p),C=dt("recharts-tooltip-label",h);N&&x&&d!==void 0&&d!==null&&(S=x(g,d));var k=b?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",w2({className:T,style:j},k),ae.createElement("p",{className:C,style:E},ae.isValidElement(S)?S:"".concat(S)),y())};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function a0(e,t,r){return t=jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=_de(e,"string");return Km(t)=="symbol"?t:t+""}function _de(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf="recharts-tooltip-wrapper",kde={visibility:"hidden"};function Cde(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return dt(yf,a0(a0(a0(a0({},"".concat(yf,"-right"),Te(r)&&t&&Te(t.x)&&r>=t.x),"".concat(yf,"-left"),Te(r)&&t&&Te(t.x)&&r<t.x),"".concat(yf,"-bottom"),Te(n)&&t&&Te(t.y)&&n>=t.y),"".concat(yf,"-top"),Te(n)&&t&&Te(t.y)&&n<t.y))}function pA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Te(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var h=f+l,g=c[n]+u;return h>g?Math.max(d,c[n]):Math.max(f,c[n])}function Tde(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ade(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=pA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=pA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Tde({translateX:d,translateY:f,useTranslate3d:l})):u=kde,{cssProperties:u,cssClasses:Cde({translateX:d,translateY:f,coordinate:r})}}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){N2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ide(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NL(n.key),n)}}function Ode(e,t,r){return t&&Pde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rde(e,t,r){return t=Kg(t),Dde(e,SL()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function Dde(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(e)}function Fde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function Mde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S2(e,t)}function S2(e,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S2(e,t)}function N2(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=Lde(e,"string");return Qu(t)=="symbol"?t:t+""}function Lde(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xA=1,$de=function(e){function t(){var r;Ide(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Rde(this,t,[].concat(a)),N2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),N2(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Mde(t,e),Ode(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xA||Math.abs(n.height-this.state.lastBoundingBox.height)>xA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,h=a.position,g=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=Ade({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:h,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),j=y.cssClasses,E=y.cssProperties,N=gA(gA({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ae.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(T){n.wrapperNode=T}},u)}}])}(w.PureComponent),Bde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fo={isSsr:Bde(),get:function(t){return Fo[t]},set:function(t,r){if(typeof t=="string")Fo[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Fo[a]=t[a]})}}};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){ej(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ude(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jL(n.key),n)}}function qde(e,t,r){return t&&Ude(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vde(e,t,r){return t=Yg(t),Hde(e,EL()?Reflect.construct(t,r||[],Yg(e).constructor):t.apply(e,r))}function Hde(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(e)}function Wde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(e)}function Gde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E2(e,t)}function E2(e,t){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E2(e,t)}function ej(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=Xde(e,"string");return Zu(t)=="symbol"?t:t+""}function Xde(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kde(e){return e.dataKey}function Yde(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(Ede,t)}var Rn=function(e){function t(){return zde(this,t),Vde(this,t,arguments)}return Gde(t,e),qde(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,h=a.payload,g=a.payloadUniqBy,x=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,j=a.wrapperStyle,E=h??[];f&&E.length&&(E=pL(h.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,Kde));var N=E.length>0;return ae.createElement($de,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:j},Yde(u,yA(yA({},this.props),{},{payload:E})))}}])}(w.PureComponent);ej(Rn,"displayName","Tooltip");ej(Rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jde=es,Qde=function(){return Jde.Date.now()},Zde=Qde,efe=/\s/;function tfe(e){for(var t=e.length;t--&&efe.test(e.charAt(t)););return t}var rfe=tfe,nfe=rfe,afe=/^\s+/;function ife(e){return e&&e.slice(0,nfe(e)+1).replace(afe,"")}var sfe=ife,ofe=sfe,bA=al,lfe=Fd,wA=NaN,cfe=/^[-+]0x[0-9a-f]+$/i,ufe=/^0b[01]+$/i,dfe=/^0o[0-7]+$/i,ffe=parseInt;function mfe(e){if(typeof e=="number")return e;if(lfe(e))return wA;if(bA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ofe(e);var r=ufe.test(e);return r||dfe.test(e)?ffe(e.slice(2),r?2:8):cfe.test(e)?wA:+e}var _L=mfe,pfe=al,Vb=Zde,SA=_L,hfe="Expected a function",gfe=Math.max,xfe=Math.min;function vfe(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(hfe);t=SA(t)||0,pfe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?gfe(SA(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function p(N){var S=n,T=a;return n=a=void 0,u=N,s=e.apply(T,S),s}function h(N){return u=N,l=setTimeout(v,t),d?p(N):s}function g(N){var S=N-c,T=N-u,C=t-S;return f?xfe(C,i-T):C}function x(N){var S=N-c,T=N-u;return c===void 0||S>=t||S<0||f&&T>=i}function v(){var N=Vb();if(x(N))return b(N);l=setTimeout(v,g(N))}function b(N){return l=void 0,m&&n?p(N):(n=a=void 0,s)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?s:b(Vb())}function E(){var N=Vb(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),s}return E.cancel=y,E.flush=j,E}var yfe=vfe,bfe=yfe,wfe=al,Sfe="Expected a function";function Nfe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Sfe);return wfe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),bfe(e,t,{leading:n,maxWait:t,trailing:a})}var Efe=Nfe;const kL=Ot(Efe);function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){jfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jfe(e,t,r){return t=_fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=kfe(e,"string");return Ym(t)=="symbol"?t:t+""}function kfe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cfe(e,t){return Pfe(e)||Ife(e,t)||Afe(e,t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ife(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Pfe(e){if(Array.isArray(e))return e}var ed=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,p=e.children,h=e.debounce,g=h===void 0?0:h,x=e.id,v=e.className,b=e.onResize,y=e.style,j=y===void 0?{}:y,E=w.useRef(null),N=w.useRef();N.current=b,w.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),T=Cfe(S,2),C=T[0],k=T[1],A=w.useCallback(function(I,M){k(function(L){var W=Math.round(I),H=Math.round(M);return L.containerWidth===W&&L.containerHeight===H?L:{containerWidth:W,containerHeight:H}})},[]);w.useEffect(function(){var I=function(B){var F,ne=B[0].contentRect,U=ne.width,R=ne.height;A(U,R),(F=N.current)===null||F===void 0||F.call(N,U,R)};g>0&&(I=kL(I,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),L=E.current.getBoundingClientRect(),W=L.width,H=L.height;return A(W,H),M.observe(E.current),function(){M.disconnect()}},[A,g]);var _=w.useMemo(function(){var I=C.containerWidth,M=C.containerHeight;if(I<0||M<0)return null;ws(Tl(s)||Tl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ws(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Tl(s)?I:s,W=Tl(c)?M:c;r&&r>0&&(L?W=L/r:W&&(L=W*r),m&&W>m&&(W=m)),ws(L>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,W,s,c,d,f,r);var H=!Array.isArray(p)&&bs(p.type).endsWith("Chart");return ae.Children.map(p,function(q){return ae.isValidElement(q)?w.cloneElement(q,i0({width:L,height:W},H?{style:i0({height:"100%",width:"100%",maxHeight:W,maxWidth:L},q.props.style)}:{})):q})},[r,p,c,m,f,d,C,s]);return ae.createElement("div",{id:x?"".concat(x):void 0,className:dt("recharts-responsive-container",v),style:i0(i0({},j),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:E},_)}),Uo=function(t){return null};Uo.displayName="Cell";function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){Ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ofe(e,t,r){return t=Rfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rfe(e){var t=Dfe(e,"string");return Jm(t)=="symbol"?t:t+""}function Dfe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lc={widthCache:{},cacheCount:0},Ffe=2e3,Mfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_A="recharts_measurement_span";function Lfe(e){var t=j2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var nm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fo.isSsr)return{width:0,height:0};var n=Lfe(r),a=JSON.stringify({text:t,copyStyle:n});if(Lc.widthCache[a])return Lc.widthCache[a];try{var i=document.getElementById(_A);i||(i=document.createElement("span"),i.setAttribute("id",_A),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=j2(j2({},Mfe),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Lc.widthCache[a]=c,++Lc.cacheCount>Ffe&&(Lc.cacheCount=0,Lc.widthCache={}),c}catch{return{width:0,height:0}}},$fe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function Jg(e,t){return qfe(e)||Ufe(e,t)||zfe(e,t)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ufe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function qfe(e){if(Array.isArray(e))return e}function Vfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wfe(n.key),n)}}function Hfe(e,t,r){return t&&CA(e.prototype,t),r&&CA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wfe(e){var t=Gfe(e,"string");return Qm(t)=="symbol"?t:t+""}function Gfe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yfe=Object.keys(CL),uu="NaN";function Jfe(e,t){return e*CL[t]}var s0=function(){function e(t,r){Vfe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Xfe.test(r)&&(this.num=NaN,this.unit=""),Yfe.includes(r)&&(this.num=Jfe(t,r),this.unit="px")}return Hfe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Kfe.exec(r))!==null&&n!==void 0?n:[],i=Jg(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function TL(e){if(e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TA.exec(t))!==null&&r!==void 0?r:[],a=Jg(n,4),i=a[1],s=a[2],l=a[3],c=s0.parse(i??""),u=s0.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return uu;t=t.replace(TA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=AA.exec(t))!==null&&f!==void 0?f:[],p=Jg(m,4),h=p[1],g=p[2],x=p[3],v=s0.parse(h??""),b=s0.parse(x??""),y=g==="+"?v.add(b):v.subtract(b);if(y.isNaN())return uu;t=t.replace(AA,y.toString())}return t}var IA=/\(([^()]*)\)/;function Qfe(e){for(var t=e;t.includes("(");){var r=IA.exec(t),n=Jg(r,2),a=n[1];t=t.replace(IA,TL(a))}return t}function Zfe(e){var t=e.replace(/\s+/g,"");return t=Qfe(t),t=TL(t),t}function eme(e){try{return Zfe(e)}catch{return uu}}function Hb(e){var t=eme(e.slice(5,-1));return t===uu?"":t}var tme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rme=["dx","dy","angle","className","breakAll"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_2.apply(this,arguments)}function PA(e,t){if(e==null)return{};var r=nme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OA(e,t){return ome(e)||sme(e,t)||ime(e,t)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ome(e){if(Array.isArray(e))return e}var AL=/[ \f\n\r\t\v\u2028\u2029]+/,IL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];_t(r)||(n?i=r.toString().split(""):i=r.toString().split(AL));var s=i.map(function(c){return{word:c,width:nm(c,a).width}}),l=n?0:nm(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},lme=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Te(s),f=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(W,H){var q=H.word,B=H.width,F=W[W.length-1];if(F&&(a==null||i||F.width+B+n<Number(a)))F.words.push(q),F.width+=B+n;else{var ne={words:[q],width:B};W.push(ne)}return W},[])},p=m(r),h=function(L){return L.reduce(function(W,H){return W.width>H.width?W:H})};if(!d)return p;for(var g="…",x=function(L){var W=f.slice(0,L),H=IL({breakAll:u,style:c,children:W+g}).wordsWithComputedWidth,q=m(H),B=q.length>s||h(q).width>Number(a);return[B,q]},v=0,b=f.length-1,y=0,j;v<=b&&y<=f.length-1;){var E=Math.floor((v+b)/2),N=E-1,S=x(N),T=OA(S,2),C=T[0],k=T[1],A=x(E),_=OA(A,1),I=_[0];if(!C&&!I&&(v=E+1),C&&I&&(b=E-1),!C&&I){j=k;break}y++}return j||p},DA=function(t){var r=_t(t)?[]:t.toString().split(AL);return[{words:r}]},cme=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Fo.isSsr){var c,u,d=IL({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return DA(a);return lme({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return DA(a)},FA="#808080",Qg=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,h=t.verticalAnchor,g=h===void 0?"end":h,x=t.fill,v=x===void 0?FA:x,b=PA(t,tme),y=w.useMemo(function(){return cme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,E=b.dy,N=b.angle,S=b.className,T=b.breakAll,C=PA(b,rme);if(!$r(n)||!$r(i))return null;var k=n+(Te(j)?j:0),A=i+(Te(E)?E:0),_;switch(g){case"start":_=Hb("calc(".concat(u,")"));break;case"middle":_=Hb("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=Hb("calc(".concat(y.length-1," * -").concat(l,")"));break}var I=[];if(f){var M=y[0].width,L=b.width;I.push("scale(".concat((Te(L)?L/M:1)/M,")"))}return N&&I.push("rotate(".concat(N,", ").concat(k,", ").concat(A,")")),I.length&&(C.transform=I.join(" ")),ae.createElement("text",_2({},St(C,!0),{x:k,y:A,className:dt("recharts-text",S),textAnchor:p,fill:v.includes("url")?FA:v}),y.map(function(W,H){var q=W.words.join(T?"":" ");return ae.createElement("tspan",{x:k,dy:H===0?_:l,key:"".concat(q,"-").concat(H)},q)}))};function Mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ume(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tj(e){let t,r,n;e.length!==2?(t=Mo,r=(l,c)=>Mo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Mo||e===ume?e:dme,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function dme(){return 0}function PL(e){return e===null?NaN:+e}function*fme(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mme=tj(Mo),dh=mme.right;tj(PL).center;class MA extends Map{constructor(t,r=gme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(LA(this,t))}has(t){return super.has(LA(this,t))}set(t,r){return super.set(pme(this,t),r)}delete(t){return super.delete(hme(this,t))}}function LA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pme({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hme({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gme(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xme(e=Mo){if(e===Mo)return OL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vme=Math.sqrt(50),yme=Math.sqrt(10),bme=Math.sqrt(2);function Zg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=vme?10:i>=yme?5:i>=bme?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Zg(e,t,r*2):[l,c,u]}function k2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Zg(t,e,r):Zg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function C2(e,t,r){return t=+t,e=+e,r=+r,Zg(e,t,r)[2]}function T2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?C2(t,e,r):C2(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $A(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function BA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?OL:xme(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),h=Math.min(n,Math.floor(t+(c-u)*f/c+m));RL(e,t,p,h,a)}const i=e[t];let s=r,l=n;for(bf(e,r,t),a(e[n],i)>0&&bf(e,r,n);s<l;){for(bf(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?bf(e,r,l):(++l,bf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function bf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wme(e,t,r){if(e=Float64Array.from(fme(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return BA(e);if(t>=1)return $A(e);var n,a=(n-1)*t,i=Math.floor(a),s=$A(RL(e,i).subarray(0,i+1)),l=BA(e.subarray(i+1));return s+(l-s)*(a-i)}}function Sme(e,t,r=PL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Nme(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ti(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const A2=Symbol("implicit");function rj(){var e=new MA,t=[],r=[],n=A2;function a(i){let s=e.get(i);if(s===void 0){if(n!==A2)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new MA;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rj(t,r).unknown(n)},ti.apply(a,arguments),a}function Zm(){var e=rj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,h=p?a:n,g=p?n:a;i=(g-h)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),h+=(g-h-i*(m-c))*d,s=i*(1-c),l&&(h=Math.round(h),s=Math.round(s));var x=Nme(m).map(function(v){return h+i*v});return r(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Zm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ti.apply(f(),arguments)}function DL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DL(t())},e}function am(){return DL(Zm.apply(null,arguments).paddingInner(1))}function nj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fh(){}var ep=.7,ex=1/ep,Cu="\\s*([+-]?\\d+)\\s*",tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eme=/^#([0-9a-f]{3,8})$/,jme=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),_me=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),kme=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${tp}\\)$`),Cme=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${tp}\\)$`),Tme=new RegExp(`^hsl\\(${tp},${Hi},${Hi}\\)$`),Ame=new RegExp(`^hsla\\(${tp},${Hi},${Hi},${tp}\\)$`),zA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nj(fh,rp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UA,formatHex:UA,formatHex8:Ime,formatHsl:Pme,formatRgb:qA,toString:qA});function UA(){return this.rgb().formatHex()}function Ime(){return this.rgb().formatHex8()}function Pme(){return ML(this).formatHsl()}function qA(){return this.rgb().formatRgb()}function rp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Eme.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VA(t):r===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?o0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?o0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jme.exec(e))?new Yn(t[1],t[2],t[3],1):(t=_me.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kme.exec(e))?o0(t[1],t[2],t[3],t[4]):(t=Cme.exec(e))?o0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tme.exec(e))?GA(t[1],t[2]/100,t[3]/100,1):(t=Ame.exec(e))?GA(t[1],t[2]/100,t[3]/100,t[4]):zA.hasOwnProperty(e)?VA(zA[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function VA(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function o0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yn(e,t,r,n)}function Ome(e){return e instanceof fh||(e=rp(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function I2(e,t,r,n){return arguments.length===1?Ome(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nj(Yn,I2,FL(fh,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ep:Math.pow(ep,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn($l(this.r),$l(this.g),$l(this.b),tx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HA,formatHex:HA,formatHex8:Rme,formatRgb:WA,toString:WA}));function HA(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function Rme(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function WA(){const e=tx(this.opacity);return`${e===1?"rgb(":"rgba("}${$l(this.r)}, ${$l(this.g)}, ${$l(this.b)}${e===1?")":`, ${e})`}`}function tx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $l(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Al(e){return e=$l(e),(e<16?"0":"")+e.toString(16)}function GA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,r,n)}function ML(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof fh||(e=rp(e)),!e)return new ui;if(e instanceof ui)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new ui(s,l,c,e.opacity)}function Dme(e,t,r,n){return arguments.length===1?ML(e):new ui(e,t,r,n??1)}function ui(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nj(ui,Dme,FL(fh,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ep:Math.pow(ep,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Yn(Wb(e>=240?e-240:e+120,a,n),Wb(e,a,n),Wb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ui(XA(this.h),l0(this.s),l0(this.l),tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tx(this.opacity);return`${e===1?"hsl(":"hsla("}${XA(this.h)}, ${l0(this.s)*100}%, ${l0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XA(e){return e=(e||0)%360,e<0?e+360:e}function l0(e){return Math.max(0,Math.min(1,e||0))}function Wb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const aj=e=>()=>e;function Fme(e,t){return function(r){return e+r*t}}function Mme(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lme(e){return(e=+e)==1?LL:function(t,r){return r-t?Mme(t,r,e):aj(isNaN(t)?r:t)}}function LL(e,t){var r=t-e;return r?Fme(e,r):aj(isNaN(e)?t:e)}const KA=function e(t){var r=Lme(t);function n(a,i){var s=r((a=I2(a)).r,(i=I2(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=LL(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function $me(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Bme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zme(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Vd(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function Ume(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qme(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var P2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gb=new RegExp(P2.source,"g");function Vme(e){return function(){return e}}function Hme(e){return function(t){return e(t)+""}}function Wme(e,t){var r=P2.lastIndex=Gb.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=P2.exec(e))&&(a=Gb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:rx(n,a)})),r=Gb.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?Hme(c[0].x):Vme(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vd(e,t){var r=typeof t,n;return t==null||r==="boolean"?aj(t):(r==="number"?rx:r==="string"?(n=rp(t))?(t=n,KA):Wme:t instanceof rp?KA:t instanceof Date?Ume:Bme(t)?$me:Array.isArray(t)?zme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qme:rx)(e,t)}function ij(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gme(e,t){t===void 0&&(t=e,e=Vd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function Xme(e){return function(){return e}}function nx(e){return+e}var YA=[0,1];function Mn(e){return e}function O2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Xme(isNaN(t)?NaN:.5)}function Kme(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Yme(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=O2(a,n),i=r(s,i)):(n=O2(n,a),i=r(i,s)),function(l){return i(n(l))}}function Jme(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=O2(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=dh(e,l,1,n)-1;return i[c](a[c](l))}}function mh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ry(){var e=YA,t=YA,r=Vd,n,a,i,s=Mn,l,c,u;function d(){var m=Math.min(e.length,t.length);return s!==Mn&&(s=Kme(e[0],e[m-1])),l=m>2?Jme:Yme,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(s(m)))}return f.invert=function(m){return s(a((u||(u=l(t,e.map(n),rx)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,nx),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=ij,d()},f.clamp=function(m){return arguments.length?(s=m?!0:Mn,d()):s!==Mn},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,d()}}function sj(){return ry()(Mn,Mn)}function Qme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ax(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function td(e){return e=ax(Math.abs(e)),e?e[1]:NaN}function Zme(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function epe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function np(e){if(!(t=tpe.exec(e)))throw new Error("invalid format: "+e);var t;return new oj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}np.prototype=oj.prototype;function oj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rpe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var $L;function npe(e,t){var r=ax(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-($L=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ax(e,Math.max(0,t+i-1))[0]}function JA(e,t){var r=ax(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const QA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JA(e*100,t),r:JA,s:npe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZA(e){return e}var e4=Array.prototype.map,t4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ape(e){var t=e.grouping===void 0||e.thousands===void 0?ZA:Zme(e4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ZA:epe(e4.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=np(f);var m=f.fill,p=f.align,h=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,j=f.trim,E=f.type;E==="n"?(b=!0,E="g"):QA[E]||(y===void 0&&(y=12),j=!0,E="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=g==="$"?n:/[%p]/.test(E)?s:"",T=QA[E],C=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(A){var _=N,I=S,M,L,W;if(E==="c")I=T(A)+I,A="";else{A=+A;var H=A<0||1/A<0;if(A=isNaN(A)?c:T(Math.abs(A),y),j&&(A=rpe(A)),H&&+A==0&&h!=="+"&&(H=!1),_=(H?h==="("?h:l:h==="-"||h==="("?"":h)+_,I=(E==="s"?t4[8+$L/3]:"")+I+(H&&h==="("?")":""),C){for(M=-1,L=A.length;++M<L;)if(W=A.charCodeAt(M),48>W||W>57){I=(W===46?a+A.slice(M+1):A.slice(M))+I,A=A.slice(0,M);break}}}b&&!x&&(A=t(A,1/0));var q=_.length+A.length+I.length,B=q<v?new Array(v-q+1).join(m):"";switch(b&&x&&(A=t(B+A,B.length?v-I.length:1/0),B=""),p){case"<":A=_+A+I+B;break;case"=":A=_+B+A+I;break;case"^":A=B.slice(0,q=B.length>>1)+_+A+I+B.slice(q);break;default:A=B+_+A+I;break}return i(A)}return k.toString=function(){return f+""},k}function d(f,m){var p=u((f=np(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(td(m)/3)))*3,g=Math.pow(10,-h),x=t4[8+h/3];return function(v){return p(g*v)+x}}return{format:u,formatPrefix:d}}var c0,lj,BL;ipe({thousands:",",grouping:[3],currency:["$",""]});function ipe(e){return c0=ape(e),lj=c0.format,BL=c0.formatPrefix,c0}function spe(e){return Math.max(0,-td(Math.abs(e)))}function ope(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(td(t)/3)))*3-td(Math.abs(e)))}function lpe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,td(t)-td(e))+1}function zL(e,t,r,n){var a=T2(e,t,r),i;switch(n=np(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ope(a,s))&&(n.precision=i),BL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lpe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=spe(a))&&(n.precision=i-(n.type==="%")*2);break}}return lj(n)}function sl(e){var t=e.domain;return e.ticks=function(r){var n=t();return k2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return zL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=C2(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ix(){var e=sj();return e.copy=function(){return mh(e,ix())},ti.apply(e,arguments),sl(e)}function UL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,nx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UL(e).unknown(t)},e=arguments.length?Array.from(e,nx):[0,1],sl(r)}function qL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function r4(e){return Math.log(e)}function n4(e){return Math.exp(e)}function cpe(e){return-Math.log(-e)}function upe(e){return-Math.exp(-e)}function dpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fpe(e){return e===10?dpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mpe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function a4(e){return(t,r)=>-e(-t,r)}function cj(e){const t=e(r4,n4),r=t.domain;let n=10,a,i;function s(){return a=mpe(n),i=fpe(n),r()[0]<0?(a=a4(a),i=a4(i),e(cpe,upe)):e(r4,n4),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),h,g;const x=l==null?10:+l;let v=[];if(!(n%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(h=1;h<n;++h)if(g=m<0?h/i(-m):h*i(m),!(g<u)){if(g>d)break;v.push(g)}}else for(;m<=p;++m)for(h=n-1;h>=1;--h)if(g=m>0?h/i(-m):h*i(m),!(g<u)){if(g>d)break;v.push(g)}v.length*2<x&&(v=k2(u,d,x))}else v=k2(m,p,Math.min(p-m,x)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=np(c)).precision==null&&(c.trim=!0),c=lj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(qL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function VL(){const e=cj(ry()).domain([1,10]);return e.copy=()=>mh(e,VL()).base(e.base()),ti.apply(e,arguments),e}function i4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uj(e){var t=1,r=e(i4(t),s4(t));return r.constant=function(n){return arguments.length?e(i4(t=+n),s4(t)):t},sl(r)}function HL(){var e=uj(ry());return e.copy=function(){return mh(e,HL()).constant(e.constant())},ti.apply(e,arguments)}function o4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ppe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hpe(e){return e<0?-e*e:e*e}function dj(e){var t=e(Mn,Mn),r=1;function n(){return r===1?e(Mn,Mn):r===.5?e(ppe,hpe):e(o4(r),o4(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},sl(t)}function fj(){var e=dj(ry());return e.copy=function(){return mh(e,fj()).exponent(e.exponent())},ti.apply(e,arguments),e}function gpe(){return fj.apply(null,arguments).exponent(.5)}function l4(e){return Math.sign(e)*e*e}function xpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WL(){var e=sj(),t=[0,1],r=!1,n;function a(i){var s=xpe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(l4(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,nx)).map(l4)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ti.apply(a,arguments),sl(a)}function GL(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Sme(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[dh(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Mo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GL().domain(e).range(t).unknown(n)},ti.apply(i,arguments)}function XL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[dh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return XL().domain([e,t]).range(a).unknown(i)},ti.apply(sl(s),arguments)}function KL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[dh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KL().domain(e).range(t).unknown(r)},ti.apply(a,arguments)}const Xb=new Date,Kb=new Date;function zr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>zr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Xb.setTime(+i),Kb.setTime(+s),e(Xb),e(Kb),Math.floor(r(Xb,Kb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const sx=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sx);sx.range;const hs=1e3,qa=hs*60,gs=qa*60,Ps=gs*24,mj=Ps*7,c4=Ps*30,Yb=Ps*365,Il=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCSeconds());Il.range;const pj=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hs)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getMinutes());pj.range;const hj=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getUTCMinutes());hj.range;const gj=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hs-e.getMinutes()*qa)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getHours());gj.range;const xj=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCHours());xj.range;const ph=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qa)/Ps,e=>e.getDate()-1);ph.range;const ny=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>e.getUTCDate()-1);ny.range;const YL=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>Math.floor(e/Ps));YL.range;function Ec(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qa)/mj)}const ay=Ec(0),ox=Ec(1),vpe=Ec(2),ype=Ec(3),rd=Ec(4),bpe=Ec(5),wpe=Ec(6);ay.range;ox.range;vpe.range;ype.range;rd.range;bpe.range;wpe.range;function jc(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mj)}const iy=jc(0),lx=jc(1),Spe=jc(2),Npe=jc(3),nd=jc(4),Epe=jc(5),jpe=jc(6);iy.range;lx.range;Spe.range;Npe.range;nd.range;Epe.range;jpe.range;const vj=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vj.range;const yj=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yj.range;const Os=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Os.range;const Rs=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rs.range;function JL(e,t,r,n,a,i){const s=[[Il,1,hs],[Il,5,5*hs],[Il,15,15*hs],[Il,30,30*hs],[i,1,qa],[i,5,5*qa],[i,15,15*qa],[i,30,30*qa],[a,1,gs],[a,3,3*gs],[a,6,6*gs],[a,12,12*gs],[n,1,Ps],[n,2,2*Ps],[r,1,mj],[t,1,c4],[t,3,3*c4],[e,1,Yb]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),h=p?p.range(u,+d+1):[];return m?h.reverse():h}function c(u,d,f){const m=Math.abs(d-u)/f,p=tj(([,,x])=>x).right(s,m);if(p===s.length)return e.every(T2(u/Yb,d/Yb,f));if(p===0)return sx.every(Math.max(T2(u,d,f),1));const[h,g]=s[m/s[p-1][2]<s[p][2]/m?p-1:p];return h.every(g)}return[l,c]}const[_pe,kpe]=JL(Rs,yj,iy,YL,xj,hj),[Cpe,Tpe]=JL(Os,vj,ay,ph,gj,pj);function Jb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ape(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Sf(a),d=Nf(a),f=Sf(i),m=Nf(i),p=Sf(s),h=Nf(s),g=Sf(l),x=Nf(l),v=Sf(c),b=Nf(c),y={a:H,A:q,b:B,B:F,c:null,d:h4,e:h4,f:Zpe,g:che,G:dhe,H:Ype,I:Jpe,j:Qpe,L:QL,m:ehe,M:the,p:ne,q:U,Q:v4,s:y4,S:rhe,u:nhe,U:ahe,V:ihe,w:she,W:ohe,x:null,X:null,y:lhe,Y:uhe,Z:fhe,"%":x4},j={a:R,A:K,b:J,B:te,c:null,d:g4,e:g4,f:ghe,g:_he,G:Che,H:mhe,I:phe,j:hhe,L:e8,m:xhe,M:vhe,p:re,q:P,Q:v4,s:y4,S:yhe,u:bhe,U:whe,V:She,w:Nhe,W:Ehe,x:null,X:null,y:jhe,Y:khe,Z:The,"%":x4},E={a:k,A,b:_,B:I,c:M,d:m4,e:m4,f:Wpe,g:f4,G:d4,H:p4,I:p4,j:Upe,L:Hpe,m:zpe,M:qpe,p:C,q:Bpe,Q:Xpe,s:Kpe,S:Vpe,u:Dpe,U:Fpe,V:Mpe,w:Rpe,W:Lpe,x:L,X:W,y:f4,Y:d4,Z:$pe,"%":Gpe};y.x=N(r,y),y.X=N(n,y),y.c=N(t,y),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(z,D){return function(G){var O=[],fe=-1,ie=0,ue=z.length,ye,oe,we;for(G instanceof Date||(G=new Date(+G));++fe<ue;)z.charCodeAt(fe)===37&&(O.push(z.slice(ie,fe)),(oe=u4[ye=z.charAt(++fe)])!=null?ye=z.charAt(++fe):oe=ye==="e"?" ":"0",(we=D[ye])&&(ye=we(G,oe)),O.push(ye),ie=fe+1);return O.push(z.slice(ie,fe)),O.join("")}}function S(z,D){return function(G){var O=wf(1900,void 0,1),fe=T(O,z,G+="",0),ie,ue;if(fe!=G.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(D&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ie=Qb(wf(O.y,0,1)),ue=ie.getUTCDay(),ie=ue>4||ue===0?lx.ceil(ie):lx(ie),ie=ny.offset(ie,(O.V-1)*7),O.y=ie.getUTCFullYear(),O.m=ie.getUTCMonth(),O.d=ie.getUTCDate()+(O.w+6)%7):(ie=Jb(wf(O.y,0,1)),ue=ie.getDay(),ie=ue>4||ue===0?ox.ceil(ie):ox(ie),ie=ph.offset(ie,(O.V-1)*7),O.y=ie.getFullYear(),O.m=ie.getMonth(),O.d=ie.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),ue="Z"in O?Qb(wf(O.y,0,1)).getUTCDay():Jb(wf(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(ue+5)%7:O.w+O.U*7-(ue+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Qb(O)):Jb(O)}}function T(z,D,G,O){for(var fe=0,ie=D.length,ue=G.length,ye,oe;fe<ie;){if(O>=ue)return-1;if(ye=D.charCodeAt(fe++),ye===37){if(ye=D.charAt(fe++),oe=E[ye in u4?D.charAt(fe++):ye],!oe||(O=oe(z,G,O))<0)return-1}else if(ye!=G.charCodeAt(O++))return-1}return O}function C(z,D,G){var O=u.exec(D.slice(G));return O?(z.p=d.get(O[0].toLowerCase()),G+O[0].length):-1}function k(z,D,G){var O=p.exec(D.slice(G));return O?(z.w=h.get(O[0].toLowerCase()),G+O[0].length):-1}function A(z,D,G){var O=f.exec(D.slice(G));return O?(z.w=m.get(O[0].toLowerCase()),G+O[0].length):-1}function _(z,D,G){var O=v.exec(D.slice(G));return O?(z.m=b.get(O[0].toLowerCase()),G+O[0].length):-1}function I(z,D,G){var O=g.exec(D.slice(G));return O?(z.m=x.get(O[0].toLowerCase()),G+O[0].length):-1}function M(z,D,G){return T(z,t,D,G)}function L(z,D,G){return T(z,r,D,G)}function W(z,D,G){return T(z,n,D,G)}function H(z){return s[z.getDay()]}function q(z){return i[z.getDay()]}function B(z){return c[z.getMonth()]}function F(z){return l[z.getMonth()]}function ne(z){return a[+(z.getHours()>=12)]}function U(z){return 1+~~(z.getMonth()/3)}function R(z){return s[z.getUTCDay()]}function K(z){return i[z.getUTCDay()]}function J(z){return c[z.getUTCMonth()]}function te(z){return l[z.getUTCMonth()]}function re(z){return a[+(z.getUTCHours()>=12)]}function P(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var D=N(z+="",y);return D.toString=function(){return z},D},parse:function(z){var D=S(z+="",!1);return D.toString=function(){return z},D},utcFormat:function(z){var D=N(z+="",j);return D.toString=function(){return z},D},utcParse:function(z){var D=S(z+="",!0);return D.toString=function(){return z},D}}}var u4={"-":"",_:" ",0:"0"},Jr=/^\s*\d+/,Ipe=/^%/,Ppe=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Ope(e){return e.replace(Ppe,"\\$&")}function Sf(e){return new RegExp("^(?:"+e.map(Ope).join("|")+")","i")}function Nf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rpe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Dpe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Fpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Lpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d4(e,t,r){var n=Jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function f4(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $pe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Bpe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function m4(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Upe(e,t,r){var n=Jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function p4(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vpe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hpe(e,t,r){var n=Jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wpe(e,t,r){var n=Jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gpe(e,t,r){var n=Ipe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xpe(e,t,r){var n=Jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Kpe(e,t,r){var n=Jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function h4(e,t){return wt(e.getDate(),t,2)}function Ype(e,t){return wt(e.getHours(),t,2)}function Jpe(e,t){return wt(e.getHours()%12||12,t,2)}function Qpe(e,t){return wt(1+ph.count(Os(e),e),t,3)}function QL(e,t){return wt(e.getMilliseconds(),t,3)}function Zpe(e,t){return QL(e,t)+"000"}function ehe(e,t){return wt(e.getMonth()+1,t,2)}function the(e,t){return wt(e.getMinutes(),t,2)}function rhe(e,t){return wt(e.getSeconds(),t,2)}function nhe(e){var t=e.getDay();return t===0?7:t}function ahe(e,t){return wt(ay.count(Os(e)-1,e),t,2)}function ZL(e){var t=e.getDay();return t>=4||t===0?rd(e):rd.ceil(e)}function ihe(e,t){return e=ZL(e),wt(rd.count(Os(e),e)+(Os(e).getDay()===4),t,2)}function she(e){return e.getDay()}function ohe(e,t){return wt(ox.count(Os(e)-1,e),t,2)}function lhe(e,t){return wt(e.getFullYear()%100,t,2)}function che(e,t){return e=ZL(e),wt(e.getFullYear()%100,t,2)}function uhe(e,t){return wt(e.getFullYear()%1e4,t,4)}function dhe(e,t){var r=e.getDay();return e=r>=4||r===0?rd(e):rd.ceil(e),wt(e.getFullYear()%1e4,t,4)}function fhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function g4(e,t){return wt(e.getUTCDate(),t,2)}function mhe(e,t){return wt(e.getUTCHours(),t,2)}function phe(e,t){return wt(e.getUTCHours()%12||12,t,2)}function hhe(e,t){return wt(1+ny.count(Rs(e),e),t,3)}function e8(e,t){return wt(e.getUTCMilliseconds(),t,3)}function ghe(e,t){return e8(e,t)+"000"}function xhe(e,t){return wt(e.getUTCMonth()+1,t,2)}function vhe(e,t){return wt(e.getUTCMinutes(),t,2)}function yhe(e,t){return wt(e.getUTCSeconds(),t,2)}function bhe(e){var t=e.getUTCDay();return t===0?7:t}function whe(e,t){return wt(iy.count(Rs(e)-1,e),t,2)}function t8(e){var t=e.getUTCDay();return t>=4||t===0?nd(e):nd.ceil(e)}function She(e,t){return e=t8(e),wt(nd.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function Nhe(e){return e.getUTCDay()}function Ehe(e,t){return wt(lx.count(Rs(e)-1,e),t,2)}function jhe(e,t){return wt(e.getUTCFullYear()%100,t,2)}function _he(e,t){return e=t8(e),wt(e.getUTCFullYear()%100,t,2)}function khe(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function Che(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nd(e):nd.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function The(){return"+0000"}function x4(){return"%"}function v4(e){return+e}function y4(e){return Math.floor(+e/1e3)}var $c,r8,n8;Ahe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ahe(e){return $c=Ape(e),r8=$c.format,$c.parse,n8=$c.utcFormat,$c.utcParse,$c}function Ihe(e){return new Date(e)}function Phe(e){return e instanceof Date?+e:+new Date(+e)}function bj(e,t,r,n,a,i,s,l,c,u){var d=sj(),f=d.invert,m=d.domain,p=u(".%L"),h=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),j=u("%Y");function E(N){return(c(N)<N?p:l(N)<N?h:s(N)<N?g:i(N)<N?x:n(N)<N?a(N)<N?v:b:r(N)<N?y:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,Phe)):m().map(Ihe)},d.ticks=function(N){var S=m();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?E:u(S)},d.nice=function(N){var S=m();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?m(qL(S,N)):d},d.copy=function(){return mh(d,bj(e,t,r,n,a,i,s,l,c,u))},d}function Ohe(){return ti.apply(bj(Cpe,Tpe,Os,vj,ay,ph,gj,pj,Il,r8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rhe(){return ti.apply(bj(_pe,kpe,Rs,yj,iy,ny,xj,hj,Il,n8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sy(){var e=0,t=1,r,n,a,i,s=Mn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(m){var p,h;return arguments.length?([p,h]=m,s=f(p,h),u):[s(0),s(1)]}}return u.range=d(Vd),u.rangeRound=d(ij),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a8(){var e=sl(sy()(Mn));return e.copy=function(){return ol(e,a8())},Xs.apply(e,arguments)}function i8(){var e=cj(sy()).domain([1,10]);return e.copy=function(){return ol(e,i8()).base(e.base())},Xs.apply(e,arguments)}function s8(){var e=uj(sy());return e.copy=function(){return ol(e,s8()).constant(e.constant())},Xs.apply(e,arguments)}function wj(){var e=dj(sy());return e.copy=function(){return ol(e,wj()).exponent(e.exponent())},Xs.apply(e,arguments)}function Dhe(){return wj.apply(null,arguments).exponent(.5)}function o8(){var e=[],t=Mn;function r(n){if(n!=null&&!isNaN(n=+n))return t((dh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wme(e,i/n))},r.copy=function(){return o8(t).domain(e)},Xs.apply(r,arguments)}function oy(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Mn,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function h(g){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,u=Gme(g,[v,b,y]),p):[u(0),u(.5),u(1)]}}return p.range=h(Vd),p.rangeRound=h(ij),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),i=g(t),s=g(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function l8(){var e=sl(oy()(Mn));return e.copy=function(){return ol(e,l8())},Xs.apply(e,arguments)}function c8(){var e=cj(oy()).domain([.1,1,10]);return e.copy=function(){return ol(e,c8()).base(e.base())},Xs.apply(e,arguments)}function u8(){var e=uj(oy());return e.copy=function(){return ol(e,u8()).constant(e.constant())},Xs.apply(e,arguments)}function Sj(){var e=dj(oy());return e.copy=function(){return ol(e,Sj()).exponent(e.exponent())},Xs.apply(e,arguments)}function Fhe(){return Sj.apply(null,arguments).exponent(.5)}const b4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zm,scaleDiverging:l8,scaleDivergingLog:c8,scaleDivergingPow:Sj,scaleDivergingSqrt:Fhe,scaleDivergingSymlog:u8,scaleIdentity:UL,scaleImplicit:A2,scaleLinear:ix,scaleLog:VL,scaleOrdinal:rj,scalePoint:am,scalePow:fj,scaleQuantile:GL,scaleQuantize:XL,scaleRadial:WL,scaleSequential:a8,scaleSequentialLog:i8,scaleSequentialPow:wj,scaleSequentialQuantile:o8,scaleSequentialSqrt:Dhe,scaleSequentialSymlog:s8,scaleSqrt:gpe,scaleSymlog:HL,scaleThreshold:KL,scaleTime:Ohe,scaleUtc:Rhe,tickFormat:zL},Symbol.toStringTag,{value:"Module"}));var Mhe=Fd;function Lhe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!Mhe(s):r(s,l)))var l=s,c=i}return c}var d8=Lhe;function $he(e,t){return e>t}var Bhe=$he,zhe=d8,Uhe=Bhe,qhe=qd;function Vhe(e){return e&&e.length?zhe(e,qhe,Uhe):void 0}var Hhe=Vhe;const ly=Ot(Hhe);function Whe(e,t){return e<t}var Ghe=Whe,Xhe=d8,Khe=Ghe,Yhe=qd;function Jhe(e){return e&&e.length?Xhe(e,Yhe,Khe):void 0}var Qhe=Jhe;const cy=Ot(Qhe);var Zhe=FE,e0e=il,t0e=bL,r0e=ia;function n0e(e,t){var r=r0e(e)?Zhe:t0e;return r(e,e0e(t))}var a0e=n0e,i0e=vL,s0e=a0e;function o0e(e,t){return i0e(s0e(e,t),1)}var l0e=o0e;const c0e=Ot(l0e);var u0e=JE;function d0e(e,t){return u0e(e,t)}var f0e=d0e;const Nj=Ot(f0e);var Hd=1e9,m0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jj,rr=!0,Ya="[DecimalError] ",Bl=Ya+"Invalid argument: ",Ej=Ya+"Exponent out of range: ",Wd=Math.floor,Nl=Math.pow,p0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ha,Ur=1e7,Yt=7,f8=9007199254740991,cx=Wd(f8/Yt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(e){return Ss(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,r=t.constructor;return $t(Ss(t,new r(e),0,1),r.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return Or(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ha))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(ha)?new n(0):(rr=!1,t=Ss(ap(r,i),ap(e,i),i),rr=!0,$t(t,a))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h8(t,e):m8(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ya+"NaN");return r.s?(rr=!1,t=Ss(r,e,0,1).times(e),rr=!0,r.minus(t)):$t(new n(r),a)};Me.naturalExponential=Me.exp=function(){return p8(this)};Me.naturalLogarithm=Me.ln=function(){return ap(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m8(t,e):h8(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bl+e);if(t=Or(a)+1,n=a.d.length-1,r=n*Yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Me.squareRoot=Me.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ya+"NaN")}for(e=Or(l),rr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Li(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Wd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Ss(l,i,s+2)).times(.5),Li(i.d).slice(0,s)===(t=Li(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if($t(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return rr=!0,$t(n,r)};Me.times=Me.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Ur|0,t=l/Ur|0;i[a]=(i[a]+t)%Ur|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rr?$t(e,f.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xi(e,0,Hd),t===void 0?t=n.rounding:Xi(t,0,8),$t(r,e+Or(r)+1,t))};Me.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ac(n,!0):(Xi(e,0,Hd),t===void 0?t=a.rounding:Xi(t,0,8),n=$t(new a(n),e+1,t),r=ac(n,!0,e+1)),r};Me.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ac(a):(Xi(e,0,Hd),t===void 0?t=i.rounding:Xi(t,0,8),n=$t(new i(a),e+Or(a)+1,t),r=ac(n.abs(),!1,e+Or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return $t(new t(e),Or(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ha);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ya+"Infinity");return l}if(l.eq(ha))return l;if(n=c.precision,e.eq(ha))return $t(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=f8){for(a=new c(ha),t=Math.ceil(n/Yt+4),rr=!1;r%2&&(a=a.times(l),S4(a.d,t)),r=Wd(r/2),r!==0;)l=l.times(l),S4(l.d,t);return rr=!0,e.s<0?new c(ha).div(a):$t(a,n)}}else if(i<0)throw Error(Ya+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rr=!1,a=e.times(ap(l,n+u)),rr=!0,a=p8(a),a.s=i,a};Me.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Or(a),n=ac(a,r<=i.toExpNeg||r>=i.toExpPos)):(Xi(e,1,Hd),t===void 0?t=i.rounding:Xi(t,0,8),a=$t(new i(a),e,t),r=Or(a),n=ac(a,e<=r||r<=i.toExpNeg,e)),n};Me.toSignificantDigits=Me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xi(e,1,Hd),t===void 0?t=n.rounding:Xi(t,0,8)),$t(new n(r),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Or(e),r=e.constructor;return ac(e,t<=r.toExpNeg||t>=r.toExpPos)};function m8(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?$t(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Yt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ur|0,c[i]%=Ur;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,rr?$t(t,f):t}function Xi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bl+e)}function Li(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yt-n.length,r&&(i+=lo(r)),i+=n;s=e[t],n=s+"",r=Yt-n.length,r&&(i+=lo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ss=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Ur|0,s=i/Ur|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ur+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,m,p,h,g,x,v,b,y,j,E,N,S,T,C=n.constructor,k=n.s==a.s?1:-1,A=n.d,_=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Ya+"Division by zero");for(c=n.e-a.e,S=_.length,E=A.length,p=new C(k),h=p.d=[],u=0;_[u]==(A[u]||0);)++u;if(_[u]>(A[u]||0)&&--c,i==null?b=i=C.precision:s?b=i+(Or(n)-Or(a))+1:b=i,b<0)return new C(0);if(b=b/Yt+2|0,u=0,S==1)for(d=0,_=_[0],b++;(u<E||d)&&b--;u++)y=d*Ur+(A[u]||0),h[u]=y/_|0,d=y%_|0;else{for(d=Ur/(_[0]+1)|0,d>1&&(_=e(_,d),A=e(A,d),S=_.length,E=A.length),j=S,g=A.slice(0,S),x=g.length;x<S;)g[x++]=0;T=_.slice(),T.unshift(0),N=_[0],_[1]>=Ur/2&&++N;do d=0,l=t(_,g,S,x),l<0?(v=g[0],S!=x&&(v=v*Ur+(g[1]||0)),d=v/N|0,d>1?(d>=Ur&&(d=Ur-1),f=e(_,d),m=f.length,x=g.length,l=t(f,g,m,x),l==1&&(d--,r(f,S<m?T:_,m))):(d==0&&(l=d=1),f=_.slice()),m=f.length,m<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(_,g,S,x),l<1&&(d++,r(g,S<x?T:_,x))),x=g.length):l===0&&(d++,g=[0]),h[u++]=d,l&&g[0]?g[x++]=A[j]||0:(g=[A[j]],x=1);while((j++<E||g[0]!==void 0)&&b--)}return h[0]||h.shift(),p.e=c,$t(p,s?i+Or(p)+1:i)}}();function p8(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Or(e)>16)throw Error(Ej+Or(e));if(!e.s)return new d(ha);for(t==null?(rr=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Nl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ha),d.precision=l;;){if(a=$t(a.times(e),l),r=r.times(++c),s=i.plus(Ss(a,r,l)),Li(s.d).slice(0,l)===Li(i.d).slice(0,l)){for(;u--;)i=$t(i.times(i),l);return d.precision=f,t==null?(rr=!0,$t(i,f)):i}i=s}}function Or(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function Zb(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(Ya+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function lo(e){for(var t="";e--;)t+="0";return t}function ap(e,t){var r,n,a,i,s,l,c,u,d,f=1,m=10,p=e,h=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Ya+(p.s?"NaN":"-Infinity"));if(p.eq(ha))return new g(0);if(t==null?(rr=!1,u=x):u=t,p.eq(10))return t==null&&(rr=!0),Zb(g,u);if(u+=m,g.precision=u,r=Li(h),n=r.charAt(0),i=Or(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Li(p.d),n=r.charAt(0),f++;i=Or(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=Zb(g,u+2,x).times(i+""),p=ap(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=x,t==null?(rr=!0,$t(p,x)):p;for(l=s=p=Ss(p.minus(ha),p.plus(ha),u),d=$t(p.times(p),u),a=3;;){if(s=$t(s.times(d),u),c=l.plus(Ss(s,new g(a),u)),Li(c.d).slice(0,u)===Li(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Zb(g,u+2,x).times(i+""))),l=Ss(l,new g(f),u),g.precision=x,t==null?(rr=!0,$t(l,x)):l;l=c,a+=2}}function w4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Wd(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yt;n<a;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>cx||e.e<-cx))throw Error(Ej+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Yt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Yt,a=n-Yt+s}if(r!==void 0&&(i=Nl(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Nl(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Or(e),f.length=1,t=t-i-1,f[0]=Nl(10,(Yt-t%Yt)%Yt),e.e=Wd(-t/Yt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Nl(10,Yt-n),f[d]=a>0?(u/Nl(10,s-a)%Nl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rr&&(e.e>cx||e.e<-cx))throw Error(Ej+Or(e));return e}function h8(e,t){var r,n,a,i,s,l,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),rr?$t(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Yt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ur-1;--c[i],c[a]+=Ur}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rr?$t(t,p):t):new m(0)}function ac(e,t,r){var n,a=Or(e),i=Li(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+lo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+lo(-a-1)+i,r&&(n=r-s)>0&&(i+=lo(n))):a>=s?(i+=lo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+lo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=lo(n))),e.s<0?"-"+i:i}function S4(e,t){if(e.length>t)return e.length=t,!0}function g8(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return w4(s,i.toString())}else if(typeof i!="string")throw Error(Bl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,p0e.test(i))w4(s,i);else throw Error(Bl+i)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=g8,a.config=a.set=h0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function h0e(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,r,n,a=["precision",1,Hd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Wd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bl+r+": "+n);return this}var jj=g8(m0e);ha=new jj(1);const Dt=jj;function g0e(e){return b0e(e)||y0e(e)||v0e(e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function y0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b0e(e){if(Array.isArray(e))return R2(e)}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w0e=function(t){return t},x8={"@@functional/placeholder":!0},v8=function(t){return t===x8},N4=function(t){return function r(){return arguments.length===0||arguments.length===1&&v8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},S0e=function e(t,r){return t===1?r:N4(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==x8}).length;return s>=t?r.apply(void 0,a):e(t-s,N4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return v8(f)?c.shift():f});return r.apply(void 0,g0e(d).concat(c))}))})},uy=function(t){return S0e(t.length,t)},D2=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},N0e=uy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),E0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return w0e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},F2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},y8=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function j0e(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function _0e(e,t,r){for(var n=new Dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var k0e=uy(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),C0e=uy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),T0e=uy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dy={rangeStep:_0e,getDigitCount:j0e,interpolateNumber:k0e,uninterpolateNumber:C0e,uninterpolateTruncation:T0e};function M2(e){return P0e(e)||I0e(e)||b8(e)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function P0e(e){if(Array.isArray(e))return L2(e)}function ip(e,t){return D0e(e)||R0e(e,t)||b8(e,t)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8(e,t){if(e){if(typeof e=="string")return L2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(e,t)}}function L2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function D0e(e){if(Array.isArray(e))return e}function w8(e){var t=ip(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function S8(e,t,r){if(e.lte(0))return new Dt(0);var n=dy.getDigitCount(e.toNumber()),a=new Dt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Dt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new Dt(Math.ceil(c))}function F0e(e,t,r){var n=1,a=new Dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(dy.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));var s=Math.floor((t-1)/2),l=E0e(N0e(function(c){return a.add(new Dt(c-s).mul(n)).toNumber()}),D2);return l(0,t)}function N8(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=S8(new Dt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Dt(0):(s=new Dt(e).add(t).div(2),s=s.sub(new Dt(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?N8(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Dt(l).mul(i)),tickMax:s.add(new Dt(c).mul(i))})}function M0e(e){var t=ip(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=w8([r,n]),c=ip(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(M2(D2(0,a-1).map(function(){return 1/0}))):[].concat(M2(D2(0,a-1).map(function(){return-1/0})),[d]);return r>n?F2(f):f}if(u===d)return F0e(u,a,i);var m=N8(u,d,s,i),p=m.step,h=m.tickMin,g=m.tickMax,x=dy.rangeStep(h,g.add(new Dt(.1).mul(p)),p);return r>n?F2(x):x}function L0e(e,t){var r=ip(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=w8([n,a]),l=ip(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=S8(new Dt(u).sub(c).div(d-1),i,0),m=[].concat(M2(dy.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return n>a?F2(m):m}var $0e=y8(M0e),B0e=y8(L0e),z0e="Invariant failed";function ic(e,t){throw new Error(z0e)}var U0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(this,arguments)}function q0e(e,t){return G0e(e)||W0e(e,t)||H0e(e,t)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(e,t){if(e){if(typeof e=="string")return E4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(e,t)}}function E4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function G0e(e){if(Array.isArray(e))return e}function X0e(e,t){if(e==null)return{};var r=K0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_8(n.key),n)}}function Q0e(e,t,r){return t&&J0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z0e(e,t,r){return t=dx(t),ege(e,E8()?Reflect.construct(t,r||[],dx(e).constructor):t.apply(e,r))}function ege(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tge(e)}function tge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(e)}function rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}function $2(e,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$2(e,t)}function j8(e,t,r){return t=_8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=nge(e,"string");return ad(t)=="symbol"?t:t+""}function nge(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fy=function(e){function t(){return Y0e(this,t),Z0e(this,t,arguments)}return rge(t,e),Q0e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=X0e(n,U0e),p=St(m,!1);this.props.direction==="x"&&d.type!=="number"&&ic();var h=c.map(function(g){var x=u(g,l),v=x.x,b=x.y,y=x.value,j=x.errorVal;if(!j)return null;var E=[],N,S;if(Array.isArray(j)){var T=q0e(j,2);N=T[0],S=T[1]}else N=S=j;if(i==="vertical"){var C=d.scale,k=b+a,A=k+s,_=k-s,I=C(y-N),M=C(y+S);E.push({x1:M,y1:A,x2:M,y2:_}),E.push({x1:I,y1:k,x2:M,y2:k}),E.push({x1:I,y1:A,x2:I,y2:_})}else if(i==="horizontal"){var L=f.scale,W=v+a,H=W-s,q=W+s,B=L(y-N),F=L(y+S);E.push({x1:H,y1:F,x2:q,y2:F}),E.push({x1:W,y1:B,x2:W,y2:F}),E.push({x1:H,y1:B,x2:q,y2:B})}return ae.createElement(Hr,ux({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),E.map(function(ne){return ae.createElement("line",ux({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return ae.createElement(Hr,{className:"recharts-errorBars"},h)}}])}(ae.Component);j8(fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});j8(fy,"displayName","ErrorBar");function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(r),!0).forEach(function(n){age(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function age(e,t,r){return t=ige(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ige(e){var t=sge(e,"string");return sp(t)=="symbol"?t:t+""}function sge(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k8=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=da(r,ku);if(!s)return null;var l=ku.defaultProps,c=l!==void 0?gl(gl({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,h=p.sectors||p.data||[];return d.concat(h.map(function(g){return{type:s.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?gl(gl({},m),f.props):{},h=p.dataKey,g=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:h,type:c.iconType||x||"square",color:_j(f),value:g||h,payload:p}}),gl(gl(gl({},c),ku.getWithHeight(s,a)),{},{payload:u,item:s})};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function _4(e){return uge(e)||cge(e)||lge(e)||oge()}function oge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(e,t){if(e){if(typeof e=="string")return B2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(e,t)}}function cge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uge(e){if(Array.isArray(e))return B2(e)}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tu(e,t,r){return t=dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return op(t)=="symbol"?t:t+""}function fge(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(e,t,r){return _t(e)||_t(t)?r:$r(t)?Ha(e,t,r):lt(t)?t(e):r}function im(e,t,r,n){var a=c0e(e,function(l){return Ki(l,t)});if(r==="number"){var i=a.filter(function(l){return Te(l)||parseFloat(l)});return i.length?[cy(i),ly(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!_t(l)}):a;return s.map(function(l){return $r(l)||l instanceof Date?l:""})}var mge=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(di(f-d)!==di(m-f)){var h=[];if(di(m-f)===di(c[1]-c[0])){p=m;var g=f+c[1]-c[0];h[0]=Math.min(g,(g+d)/2),h[1]=Math.max(g,(g+d)/2)}else{p=d;var x=m+c[1]-c[0];h[0]=Math.min(f,(x+f)/2),h[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=h[0]&&t<=h[1]){s=a[u].index;break}}else{var b=Math.min(d,m),y=Math.max(d,m);if(t>(b+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},_j=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},pge=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var h=d[f[m]],g=h.items,x=h.cateAxisId,v=g.filter(function(S){return bs(S.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?gr(gr({},b),v[0].props):v[0].props,j=y.barSize,E=y[x];s[E]||(s[E]=[]);var N=_t(j)?r:j;s[E].push({item:v[0],stackList:v.slice(1),barSize:_t(N)?void 0:nc(N,n,0)})}}return s},hge=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=nc(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var m=!1,p=a/c,h=s.reduce(function(j,E){return j+E.barSize||0},0);h+=(c-1)*u,h>=a&&(h-=(c-1)*u,u=0),h>=a&&p>0&&(m=!0,p*=.9,h=c*p);var g=(a-h)/2>>0,x={offset:g-u,size:0};d=s.reduce(function(j,E){var N={item:E.item,position:{offset:x.offset+x.size+u,size:m?p:E.barSize}},S=[].concat(_4(j),[N]);return x=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var v=nc(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;d=s.reduce(function(j,E,N){var S=[].concat(_4(j),[{item:E.item,position:{offset:v+(b+u)*N+(b-y)/2,size:y}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},gge=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=k8({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,h=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&h==="middle")&&p!=="center"&&Te(t[p]))return gr(gr({},t),{},Tu({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&h!=="middle"&&Te(t[h]))return gr(gr({},t),{},Tu({},h,t[h]+(m||0)))}return t},xge=function(t,r,n){return _t(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},C8=function(t,r,n,a,i){var s=r.props.children,l=vi(s,fy).filter(function(u){return xge(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ki(d,n);if(_t(f))return u;var m=Array.isArray(f)?[cy(f),ly(f)]:[f,f],p=c.reduce(function(h,g){var x=Ki(d,g,0),v=m[0]-Math.abs(Array.isArray(x)?x[0]:x),b=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,h[0]),Math.max(b,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},vge=function(t,r,n,a,i){var s=r.map(function(l){return C8(t,l,n,i,a)}).filter(function(l){return!_t(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T8=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&C8(t,c,u,a)||im(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},A8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},I8=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},xs=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?di(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!ch(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},e1=new WeakMap,u0=function(t,r){if(typeof r!="function")return t;e1.has(t)||e1.set(t,new WeakMap);var n=e1.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},yge=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Zm(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:ix(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:am(),realScaleType:"point"}:i==="category"?{scale:Zm(),realScaleType:"band"}:{scale:ix(),realScaleType:"linear"};if(rc(a)){var c="scale".concat(Kv(a));return{scale:(b4[c]||am)(),realScaleType:b4[c]?c:"point"}}return lt(a)?{scale:a}:{scale:am(),realScaleType:"point"}},C4=1e-4,bge=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-C4,s=Math.max(a[0],a[1])+C4,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},wge=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Sge=function(t,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Te(t[0])||t[0]<n)&&(i[0]=n),(!Te(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Nge=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=ch(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Ege=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=ch(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},jge={sign:Nge,expand:Bne,none:Ku,silhouette:zne,wiggle:Une,positive:Ege},_ge=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=jge[n],s=$ne().keys(a).value(function(l,c){return+Ki(l,c,0)}).order(d2).offset(i);return s(t)},kge=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,m){var p,h=(p=m.type)!==null&&p!==void 0&&p.defaultProps?gr(gr({},m.type.defaultProps),m.props):m.props,g=h.stackId,x=h.hide;if(x)return f;var v=h[n],b=f[v]||{hasStack:!1,stackGroups:{}};if($r(g)){var y=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(m),b.hasStack=!0,b.stackGroups[g]=y}else b.stackGroups[Xv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return gr(gr({},f),{},Tu({},v,b))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var v=p.stackGroups[x];return gr(gr({},g),{},Tu({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:_ge(t,v.items,i)}))},h)}return gr(gr({},f),{},Tu({},m,p))},d)},Cge=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=$0e(u,i,l);return t.domain([cy(d),ly(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=B0e(f,i,l);return{niceTicks:m}}return null},T4=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ki(s,r.dataKey,r.domain[l]);return _t(c)?null:r.scale(c)-i/2+a},Tge=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Age=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if($r(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Ige=function(t){return t.reduce(function(r,n){return[cy(n.concat([r[0]]).filter(Te)),ly(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},P8=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=Ige(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},A4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z2=function(t,r,n){if(lt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Te(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(A4.test(t[0])){var i=+A4.exec(t[0])[1];a[0]=r[0]-i}else lt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Te(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(I4.test(t[1])){var s=+I4.exec(t[1])[1];a[1]=r[1]+s}else lt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},fx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=ZE(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},P4=function(t,r,n){return!t||!t.length||Nj(t,Ha(n,"type.defaultProps.domain"))?r:t},O8=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},St(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:_j(t),value:Ki(r,a),type:c,payload:r,chartType:u,hide:d})};function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){Pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t,r){return t=Oge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oge(e){var t=Rge(e,"string");return lp(t)=="symbol"?t:t+""}function Rge(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=Math.PI/180,Dge=function(t){return t*180/Math.PI},nn=function(t,r,n,a){return{x:t+Math.cos(-mx*a)*n,y:r+Math.sin(-mx*a)*n}},Fge=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Mge=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=Fge({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Dge(u),angleInRadian:u}},Lge=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},$ge=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},D4=function(t,r){var n=t.x,a=t.y,i=Mge({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Lge(r),f=d.startAngle,m=d.endAngle,p=l,h;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;h=p>=m&&p<=f}return h?R4(R4({},r),{},{radius:s,angle:$ge(p,r)}):null};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}var Bge=["offset"];function zge(e){return Hge(e)||Vge(e)||qge(e)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(e,t){if(e){if(typeof e=="string")return U2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(e,t)}}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hge(e){if(Array.isArray(e))return U2(e)}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wge(e,t){if(e==null)return{};var r=Gge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){Xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xge(e,t,r){return t=Kge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kge(e){var t=Yge(e,"string");return cp(t)=="symbol"?t:t+""}function Yge(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}var Jge=function(t){var r=t.value,n=t.formatter,a=_t(t.children)?r:t.children;return lt(n)?n(a):a},Qge=function(t,r){var n=di(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Zge=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,h=c.endAngle,g=c.clockWise,x=(f+m)/2,v=Qge(p,h),b=v>=0?1:-1,y,j;a==="insideStart"?(y=p+b*s,j=g):a==="insideEnd"?(y=h-b*s,j=!g):a==="end"&&(y=h+b*s,j=g),j=v<=0?j:!j;var E=nn(u,d,x,y),N=nn(u,d,x,y+(j?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),T=_t(t.id)?Xv("recharts-radial-line-"):t.id;return ae.createElement("text",up({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:T,d:S})),ae.createElement("textPath",{xlinkHref:"#".concat(T)},r))},exe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var p=nn(s,l,u+n,m),h=p.x,g=p.y;return{x:h,y:g,textAnchor:h>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=nn(s,l,x,m),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},txe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",h=f>0?"start":"end",g=u>=0?1:-1,x=g*a,v=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Dr(Dr({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:h};return Dr(Dr({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var E={x:l-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Dr(Dr({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Dr(Dr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?Dr({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideRight"?Dr({x:l+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideTop"?Dr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:h},S):i==="insideBottom"?Dr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?Dr({x:l+x,y:c+m,textAnchor:b,verticalAnchor:h},S):i==="insideTopRight"?Dr({x:l+u-x,y:c+m,textAnchor:v,verticalAnchor:h},S):i==="insideBottomLeft"?Dr({x:l+x,y:c+d-m,textAnchor:b,verticalAnchor:p},S):i==="insideBottomRight"?Dr({x:l+u-x,y:c+d-m,textAnchor:v,verticalAnchor:p},S):Md(i)&&(Te(i.x)||Tl(i.x))&&(Te(i.y)||Tl(i.y))?Dr({x:l+nc(i.x,u),y:c+nc(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):Dr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},rxe=function(t){return"cx"in t&&Te(t.cx)};function vn(e){var t=e.offset,r=t===void 0?5:t,n=Wge(e,Bge),a=Dr({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||_t(l)&&_t(c)&&!w.isValidElement(u)&&!lt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(lt(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=Jge(a);var h=rxe(i),g=St(a,!0);if(h&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Zge(a,p,g);var x=h?exe(a):txe(a);return ae.createElement(Qg,up({className:dt("recharts-label",f)},g,x,{breakAll:m}),p)}vn.displayName="Label";var R8=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,p=t.top,h=t.left,g=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Te(g)&&Te(x)){if(Te(f)&&Te(m))return{x:f,y:m,width:g,height:x};if(Te(p)&&Te(h))return{x:p,y:h,width:g,height:x}}return Te(f)&&Te(m)?{x:f,y:m,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},nxe=function(t,r){return t?t===!0?ae.createElement(vn,{key:"label-implicit",viewBox:r}):$r(t)?ae.createElement(vn,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===vn?w.cloneElement(t,{key:"label-implicit",viewBox:r}):ae.createElement(vn,{key:"label-implicit",content:t,viewBox:r}):lt(t)?ae.createElement(vn,{key:"label-implicit",content:t,viewBox:r}):Md(t)?ae.createElement(vn,up({viewBox:r},t,{key:"label-implicit"})):null:null},axe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=R8(t),s=vi(a,vn).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=nxe(t.label,r||i);return[l].concat(zge(s))};vn.parseViewBox=R8;vn.renderCallByParent=axe;function ixe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var sxe=ixe;const oxe=Ot(sxe);function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}var lxe=["valueAccessor"],cxe=["data","dataKey","clockWise","id","textBreakAll"];function uxe(e){return pxe(e)||mxe(e)||fxe(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e,t){if(e){if(typeof e=="string")return q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(e,t)}}function mxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pxe(e){if(Array.isArray(e))return q2(e)}function q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(this,arguments)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t,r){return t=gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=xxe(e,"string");return dp(t)=="symbol"?t:t+""}function xxe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $4(e,t){if(e==null)return{};var r=vxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yxe=function(t){return Array.isArray(t.value)?oxe(t.value):t.value};function zl(e){var t=e.valueAccessor,r=t===void 0?yxe:t,n=$4(e,lxe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=$4(n,cxe);return!a||!a.length?null:ae.createElement(Hr,{className:"recharts-label-list"},a.map(function(d,f){var m=_t(i)?r(d,f):Ki(d&&d.payload,i),p=_t(l)?{}:{id:"".concat(l,"-").concat(f)};return ae.createElement(vn,px({},St(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:vn.parseViewBox(_t(s)?d:L4(L4({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}zl.displayName="LabelList";function bxe(e,t){return e?e===!0?ae.createElement(zl,{key:"labelList-implicit",data:t}):ae.isValidElement(e)||lt(e)?ae.createElement(zl,{key:"labelList-implicit",data:t,content:e}):Md(e)?ae.createElement(zl,px({data:t},e,{key:"labelList-implicit"})):null:null}function wxe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=vi(n,zl).map(function(s,l){return w.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=bxe(e.label,t);return[i].concat(uxe(a))}zl.renderCallByParent=wxe;function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V2.apply(this,arguments)}function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){Sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sxe(e,t,r){return t=Nxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nxe(e){var t=Exe(e,"string");return fp(t)=="symbol"?t:t+""}function Exe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jxe=function(t,r){var n=di(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},d0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/mx,m=u?i:i+s*f,p=nn(r,n,d,m),h=nn(r,n,a,m),g=u?i-s*f:i,x=nn(r,n,d*Math.cos(f*mx),g);return{center:p,circleTangency:h,lineTangency:x,theta:f}},D8=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=jxe(s,l),u=s+c,d=nn(r,n,i,s),f=nn(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=nn(r,n,a,s),h=nn(r,n,a,u);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},_xe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=di(d-u),m=d0({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=m.circleTangency,h=m.lineTangency,g=m.theta,x=d0({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,y=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-y;if(j<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):D8({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=d0({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=N.circleTangency,T=N.lineTangency,C=N.theta,k=d0({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=k.circleTangency,_=k.lineTangency,I=k.theta,M=c?Math.abs(u-d):Math.abs(u-d)-C-I;if(M<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},kxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F8=function(t){var r=z4(z4({},kxe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(s<i||d===f)return null;var p=dt("recharts-sector",m),h=s-i,g=nc(l,h,0,!0),x;return g>0&&Math.abs(d-f)<360?x=_xe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=D8({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),ae.createElement("path",V2({},St(r,!0),{className:p,d:x,role:"img"}))};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){Cxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cxe(e,t,r){return t=Txe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Txe(e){var t=Axe(e,"string");return mp(t)=="symbol"?t:t+""}function Axe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V4={curveBasisClosed:Cne,curveBasisOpen:Tne,curveBasis:kne,curveBumpX:mne,curveBumpY:pne,curveLinearClosed:Ane,curveLinear:Jv,curveMonotoneX:Ine,curveMonotoneY:Pne,curveNatural:One,curveStep:Rne,curveStepAfter:Fne,curveStepBefore:Dne},f0=function(t){return t.x===+t.x&&t.y===+t.y},Ef=function(t){return t.x},jf=function(t){return t.y},Ixe=function(t,r){if(lt(t))return t;var n="curve".concat(Kv(t));return(n==="curveMonotone"||n==="curveBump")&&r?V4["".concat(n).concat(r==="vertical"?"Y":"X")]:V4[n]||Jv},Pxe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Ixe(n,l),f=u?i.filter(function(g){return f0(g)}):i,m;if(Array.isArray(s)){var p=u?s.filter(function(g){return f0(g)}):s,h=f.map(function(g,x){return q4(q4({},g),{},{base:p[x]})});return l==="vertical"?m=r0().y(jf).x1(Ef).x0(function(g){return g.base.x}):m=r0().x(Ef).y1(jf).y0(function(g){return g.base.y}),m.defined(f0).curve(d),m(h)}return l==="vertical"&&Te(s)?m=r0().y(jf).x1(Ef).x0(s):Te(s)?m=r0().x(Ef).y1(jf).y0(s):m=MM().x(Ef).y(jf),m.defined(f0).curve(d),m(f)},H4=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Pxe(t):a;return ae.createElement("path",H2({},St(t,!1),Mg(t),{className:dt("recharts-curve",r),d:s,ref:i}))},M8={exports:{}},Oxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rxe=Oxe,Dxe=Rxe;function L8(){}function $8(){}$8.resetWarningCache=L8;var Fxe=function(){function e(n,a,i,s,l,c){if(c!==Dxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$8,resetWarningCache:L8};return r.PropTypes=r,r};M8.exports=Fxe();var Mxe=M8.exports;const jt=Ot(Mxe);var Lxe=Object.getOwnPropertyNames,$xe=Object.getOwnPropertySymbols,Bxe=Object.prototype.hasOwnProperty;function W4(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function m0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function G4(e){return Lxe(e).concat($xe(e))}var zxe=Object.hasOwn||function(e,t){return Bxe.call(e,t)};function _c(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Uxe="__v",qxe="__o",Vxe="_owner",X4=Object.getOwnPropertyDescriptor,K4=Object.keys;function Hxe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Wxe(e,t){return _c(e.getTime(),t.getTime())}function Gxe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Xxe(e,t){return e===t}function Y4(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=s.value,p=l.value;if(r.equals(m[0],p[0],c,f,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Kxe=_c;function Yxe(e,t,r){var n=K4(e),a=n.length;if(K4(t).length!==a)return!1;for(;a-- >0;)if(!B8(e,t,r,n[a]))return!1;return!0}function _f(e,t,r){var n=G4(e),a=n.length;if(G4(t).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!B8(e,t,r,i)||(s=X4(e,i),l=X4(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Jxe(e,t){return _c(e.valueOf(),t.valueOf())}function Qxe(e,t){return e.source===t.source&&e.flags===t.flags}function J4(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,l;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Zxe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function B8(e,t,r,n){return(n===Vxe||n===qxe||n===Uxe)&&(e.$$typeof||t.$$typeof)?!0:zxe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var tve="[object Arguments]",rve="[object Boolean]",nve="[object Date]",ave="[object Error]",ive="[object Map]",sve="[object Number]",ove="[object Object]",lve="[object RegExp]",cve="[object Set]",uve="[object String]",dve="[object URL]",fve=Array.isArray,Q4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Z4=Object.assign,mve=Object.prototype.toString.call.bind(Object.prototype.toString);function pve(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(h,g,x){if(h===g)return!0;if(h==null||g==null)return!1;var v=typeof h;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?s(h,g,x):v==="function"?a(h,g,x):!1;var b=h.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(h,g,x);if(fve(h))return t(h,g,x);if(Q4!=null&&Q4(h))return f(h,g,x);if(b===Date)return r(h,g,x);if(b===RegExp)return u(h,g,x);if(b===Map)return i(h,g,x);if(b===Set)return d(h,g,x);var y=mve(h);return y===nve?r(h,g,x):y===lve?u(h,g,x):y===ive?i(h,g,x):y===cve?d(h,g,x):y===ove?typeof h.then!="function"&&typeof g.then!="function"&&l(h,g,x):y===dve?m(h,g,x):y===ave?n(h,g,x):y===tve?l(h,g,x):y===rve||y===sve||y===uve?c(h,g,x):!1}}function hve(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?_f:Hxe,areDatesEqual:Wxe,areErrorsEqual:Gxe,areFunctionsEqual:Xxe,areMapsEqual:n?W4(Y4,_f):Y4,areNumbersEqual:Kxe,areObjectsEqual:n?_f:Yxe,arePrimitiveWrappersEqual:Jxe,areRegExpsEqual:Qxe,areSetsEqual:n?W4(J4,_f):J4,areTypedArraysEqual:n?_f:Zxe,areUrlsEqual:eve};if(r&&(a=Z4({},a,r(a))),t){var i=m0(a.areArraysEqual),s=m0(a.areMapsEqual),l=m0(a.areObjectsEqual),c=m0(a.areSetsEqual);a=Z4({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function gve(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function xve(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var vve=ll();ll({strict:!0});ll({circular:!0});ll({circular:!0,strict:!0});ll({createInternalComparator:function(){return _c}});ll({strict:!0,createInternalComparator:function(){return _c}});ll({circular:!0,createInternalComparator:function(){return _c}});ll({circular:!0,createInternalComparator:function(){return _c},strict:!0});function ll(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,l=hve(e),c=pve(l),u=n?n(c):gve(c);return xve({circular:r,comparator:c,createState:a,equals:u,strict:s})}function yve(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function eI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):yve(a)};requestAnimationFrame(n)}function W2(e){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W2(e)}function bve(e){return Eve(e)||Nve(e)||Sve(e)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(e,t){if(e){if(typeof e=="string")return tI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tI(e,t)}}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eve(e){if(Array.isArray(e))return e}function jve(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=bve(s),c=l[0],u=l.slice(1);if(typeof c=="number"){eI(a.bind(null,u),c);return}a(c),eI(a.bind(null,u));return}W2(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t,r){return t=_ve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ve(e){var t=kve(e,"string");return pp(t)==="symbol"?t:String(t)}function kve(e,t){if(pp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cve=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Tve=function(t){return t},Ave=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},sm=function(t,r){return Object.keys(r).reduce(function(n,a){return nI(nI({},n),{},z8({},a,t(a,r[a])))},{})},aI=function(t,r,n){return t.map(function(a){return"".concat(Ave(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Ive(e,t){return Rve(e)||Ove(e,t)||U8(e,t)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Rve(e){if(Array.isArray(e))return e}function Dve(e){return Lve(e)||Mve(e)||U8(e)||Fve()}function Fve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(e,t){if(e){if(typeof e=="string")return G2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(e,t)}}function Mve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lve(e){if(Array.isArray(e))return G2(e)}function G2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hx=1e-4,q8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},V8=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},iI=function(t,r){return function(n){var a=q8(t,r);return V8(a,n)}},$ve=function(t,r){return function(n){var a=q8(t,r),i=[].concat(Dve(a.map(function(s,l){return s*l}).slice(1)),[0]);return V8(i,n)}},sI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Ive(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=iI(a,s),m=iI(i,l),p=$ve(a,s),h=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,y=b,j=0;j<8;++j){var E=f(y)-b,N=p(y);if(Math.abs(E-b)<hx||N<hx)return m(y);y=h(y-E/N)}return m(y)};return g.isStepper=!1,g},Bve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,m){var p=-(d-f)*n,h=m*i,g=m+(p-h)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<hx&&Math.abs(g)<hx?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},zve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sI(a);case"spring":return Bve();default:if(a.split("(")[0]==="cubic-bezier")return sI(a)}return typeof a=="function"?a:null};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function oI(e){return Vve(e)||qve(e)||H8(e)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vve(e){if(Array.isArray(e))return K2(e)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=Hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=Wve(e,"string");return hp(t)==="symbol"?t:String(t)}function Wve(e,t){if(hp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gve(e,t){return Yve(e)||Kve(e,t)||H8(e,t)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(e,t){if(e){if(typeof e=="string")return K2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K2(e,t)}}function K2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Yve(e){if(Array.isArray(e))return e}var gx=function(t,r,n){return t+(r-t)*n},Y2=function(t){var r=t.from,n=t.to;return r!==n},Jve=function e(t,r,n){var a=sm(function(i,s){if(Y2(s)){var l=t(s.from,s.to,s.velocity),c=Gve(l,2),u=c[0],d=c[1];return Zr(Zr({},s),{},{from:u,velocity:d})}return s},r);return n<1?sm(function(i,s){return Y2(s)?Zr(Zr({},s),{},{velocity:gx(s.velocity,a[i].velocity,n),from:gx(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Qve=function(e,t,r,n,a){var i=Cve(e,t),s=i.reduce(function(x,v){return Zr(Zr({},x),{},X2({},v,[e[v],t[v]]))},{}),l=i.reduce(function(x,v){return Zr(Zr({},x),{},X2({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return sm(function(v,b){return b.from},l)},p=function(){return!Object.values(l).filter(Y2).length},h=function(v){u||(u=v);var b=v-u,y=b/r.dt;l=Jve(r,l,y),a(Zr(Zr(Zr({},e),t),m())),u=v,p()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var b=(v-d)/n,y=sm(function(E,N){return gx.apply(void 0,oI(N).concat([r(b)]))},s);if(a(Zr(Zr(Zr({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var j=sm(function(E,N){return gx.apply(void 0,oI(N).concat([r(1)]))},s);a(Zr(Zr(Zr({},e),t),j))}};return f=r.isStepper?h:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}var Zve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eye(e,t){if(e==null)return{};var r=tye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function t1(e){return iye(e)||aye(e)||nye(e)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(e,t){if(e){if(typeof e=="string")return J2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(e,t)}}function aye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iye(e){if(Array.isArray(e))return J2(e)}function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zf(e,t,r){return t=W8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W8(n.key),n)}}function lye(e,t,r){return t&&oye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W8(e){var t=cye(e,"string");return id(t)==="symbol"?t:String(t)}function cye(e,t){if(id(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(id(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q2(e,t)}function Q2(e,t){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q2(e,t)}function dye(e){var t=fye();return function(){var n=xx(e),a;if(t){var i=xx(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Z2(this,a)}}function Z2(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eS(e)}function eS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(e)}var qo=function(e){uye(r,e);var t=dye(r);function r(n,a){var i;sye(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,m=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(eS(i)),i.changeStyle=i.changeStyle.bind(eS(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),Z2(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},Z2(i);i.state={style:c?zf({},c,u):u}}else i.state={style:{}};return i}return lye(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!s){var p={style:c?zf({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(vve(a.to,d)&&a.canBegin&&a.isActive)){var h=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||u?f:a.to;if(this.state&&m){var x={style:c?zf({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(x)}this.runAnimation(ai(ai({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=Qve(s,l,zve(u),c,this.changeStyle),h=function(){i.stopJSAnimation=p()};this.manager.start([m,d,h,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(g,x,v){if(v===0)return g;var b=x.duration,y=x.easing,j=y===void 0?"ease":y,E=x.style,N=x.properties,S=x.onAnimationEnd,T=v>0?s[v-1]:x,C=N||Object.keys(E);if(typeof j=="function"||j==="spring")return[].concat(t1(g),[i.runJSAnimation.bind(i,{from:T.style,to:E,duration:b,easing:j}),b]);var k=aI(C,b,j),A=ai(ai(ai({},T.style),E),{},{transition:k});return[].concat(t1(g),[A,b,S]).filter(Tve)};return this.manager.start([c].concat(t1(s.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jve());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?zf({},l,c):c,x=aI(Object.keys(g),s,u);h.start([d,i,ai(ai({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=eye(a,Zve),u=w.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var h=p.props,g=h.style,x=g===void 0?{}:g,v=h.className,b=w.cloneElement(p,ai(ai({},c),{},{style:ai(ai({},x),d),className:v}));return b};return u===1?f(w.Children.only(i)):ae.createElement("div",null,w.Children.map(i,function(m){return f(m)}))}}]),r}(w.PureComponent);qo.displayName="Animate";qo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qo.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function mye(e,t){return xye(e)||gye(e,t)||hye(e,t)||pye()}function pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hye(e,t){if(e){if(typeof e=="string")return uI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uI(e,t)}}function uI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function xye(e){if(Array.isArray(e))return e}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){vye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vye(e,t,r){return t=yye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yye(e){var t=bye(e,"string");return gp(t)=="symbol"?t:t+""}function bye(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mI=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=i[m]>s?s:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);d="M ".concat(t,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+c*h,",").concat(r,`
            L `).concat(t+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*h,`
            L `).concat(t+n,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n-c*h,",").concat(r+a,`
            L `).concat(t+c*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*h," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},wye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),m=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Sye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kj=function(t){var r=fI(fI({},Sye),t),n=w.useRef(),a=w.useState(-1),i=mye(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,h=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=dt("recharts-rectangle",p);return b?ae.createElement(qo,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:h,isActive:b},function(j){var E=j.width,N=j.height,S=j.x,T=j.y;return ae.createElement(qo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:h},ae.createElement("path",vx({},St(r,!0),{className:y,d:mI(S,T,E,N,m),ref:n})))}):ae.createElement("path",vx({},St(r,!0),{className:y,d:mI(c,u,d,f,m)}))};function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}var G8=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=dt("recharts-dot",i);return r===+r&&n===+n&&a===+a?ae.createElement("circle",tS({},St(t,!1),Mg(t),{className:s,cx:r,cy:n,r:a})):null};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}var Nye=["x","y","top","left","width","height","className"];function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jye(e,t,r){return t=_ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ye(e){var t=kye(e,"string");return xp(t)=="symbol"?t:t+""}function kye(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cye(e,t){if(e==null)return{};var r=Tye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aye=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Iye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,p=m===void 0?0:m,h=t.className,g=Cye(t,Nye),x=Eye({x:n,y:i,top:l,left:u,width:f,height:p},g);return!Te(n)||!Te(i)||!Te(f)||!Te(p)||!Te(l)||!Te(u)?null:ae.createElement("path",rS({},St(x,!0),{className:dt("recharts-cross",h),d:Aye(n,i,f,p,l,u)}))},Pye=oL,Oye=Pye(Object.getPrototypeOf,Object),Rye=Oye,Dye=Ws,Fye=Rye,Mye=Gs,Lye="[object Object]",$ye=Function.prototype,Bye=Object.prototype,X8=$ye.toString,zye=Bye.hasOwnProperty,Uye=X8.call(Object);function qye(e){if(!Mye(e)||Dye(e)!=Lye)return!1;var t=Fye(e);if(t===null)return!0;var r=zye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&X8.call(r)==Uye}var Vye=qye;const Hye=Ot(Vye);var Wye=Ws,Gye=Gs,Xye="[object Boolean]";function Kye(e){return e===!0||e===!1||Gye(e)&&Wye(e)==Xye}var Yye=Kye;const Jye=Ot(Yye);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(this,arguments)}function Qye(e,t){return rbe(e)||tbe(e,t)||ebe(e,t)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ebe(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function rbe(e){if(Array.isArray(e))return e}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return t=abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=ibe(e,"string");return vp(t)=="symbol"?t:t+""}function ibe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vI=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},sbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},obe=function(t){var r=xI(xI({},sbe),t),n=w.useRef(),a=w.useState(-1),i=Qye(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,h=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=dt("recharts-trapezoid",p);return v?ae.createElement(qo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:h,isActive:v},function(y){var j=y.upperWidth,E=y.lowerWidth,N=y.height,S=y.x,T=y.y;return ae.createElement(qo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:h},ae.createElement("path",yx({},St(r,!0),{className:b,d:vI(S,T,j,E,N),ref:n})))}):ae.createElement("g",null,ae.createElement("path",yx({},St(r,!0),{className:b,d:vI(c,u,d,f,m)})))},lbe=["option","shapeType","propTransformer","activeClassName","isActive"];function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function cbe(e,t){if(e==null)return{};var r=ube(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t,r){return t=fbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fbe(e){var t=mbe(e,"string");return yp(t)=="symbol"?t:t+""}function mbe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pbe(e,t){return bx(bx({},t),e)}function hbe(e,t){return e==="symbols"}function bI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ae.createElement(kj,r);case"trapezoid":return ae.createElement(obe,r);case"sector":return ae.createElement(F8,r);case"symbols":if(hbe(t))return ae.createElement(HE,r);break;default:return null}}function gbe(e){return w.isValidElement(e)?e.props:e}function xbe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?pbe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=cbe(e,lbe),u;if(w.isValidElement(t))u=w.cloneElement(t,bx(bx({},c),gbe(t)));else if(lt(t))u=t(c);else if(Hye(t)&&!Jye(t)){var d=a(t,c);u=ae.createElement(bI,{shapeType:r,elementProps:d})}else{var f=c;u=ae.createElement(bI,{shapeType:r,elementProps:f})}return l?ae.createElement(Hr,{className:s},u):u}function my(e,t){return t!=null&&"trapezoids"in e.props}function py(e,t){return t!=null&&"sectors"in e.props}function bp(e,t){return t!=null&&"points"in e.props}function vbe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ybe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function bbe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function wbe(e,t){var r;return my(e,t)?r=vbe:py(e,t)?r=ybe:bp(e,t)&&(r=bbe),r}function Sbe(e,t){var r;return my(e,t)?r="trapezoids":py(e,t)?r="sectors":bp(e,t)&&(r="points"),r}function Nbe(e,t){if(my(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(py(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bp(e,t)?t.payload:{}}function Ebe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Sbe(r,t),i=Nbe(r,t),s=n.filter(function(c,u){var d=Nj(i,c),f=r.props[a].filter(function(h){var g=wbe(r,t);return g(h,t)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var jbe=Math.ceil,_be=Math.max;function kbe(e,t,r,n){for(var a=-1,i=_be(jbe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var Cbe=kbe,Tbe=_L,wI=1/0,Abe=17976931348623157e292;function Ibe(e){if(!e)return e===0?e:0;if(e=Tbe(e),e===wI||e===-wI){var t=e<0?-1:1;return t*Abe}return e===e?e:0}var K8=Ibe,Pbe=Cbe,Obe=ty,r1=K8;function Rbe(e){return function(t,r,n){return n&&typeof n!="number"&&Obe(t,r,n)&&(r=n=void 0),t=r1(t),r===void 0?(r=t,t=0):r=r1(r),n=n===void 0?t<r?1:-1:r1(n),Pbe(t,r,n,e)}}var Dbe=Rbe,Fbe=Dbe,Mbe=Fbe(),Lbe=Mbe;const wx=Ot(Lbe);function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return t=$be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Bbe(e,"string");return wp(t)=="symbol"?t:t+""}function Bbe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zbe=["Webkit","Moz","O","ms"],Ube=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=zbe.reduce(function(i,s){return NI(NI({},i),{},Y8({},s+n,r))},{});return a[t]=r,a};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(this,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){ca(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q8(n.key),n)}}function Vbe(e,t,r){return t&&jI(e.prototype,t),r&&jI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hbe(e,t,r){return t=Nx(t),Wbe(e,J8()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function Wbe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gbe(e)}function Gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(e)}function Xbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nS(e,t)}function ca(e,t,r){return t=Q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=Kbe(e,"string");return sd(t)=="symbol"?t:t+""}function Kbe(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ybe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=am().domain(wx(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},_I=function(t){return t.changedTouches&&!!t.changedTouches.length},od=function(e){function t(r){var n;return qbe(this,t),n=Hbe(this,t,[r]),ca(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ca(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ca(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ca(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ca(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ca(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ca(n,"handleSlideDragStart",function(a){var i=_I(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xbe(t,e),Vbe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),p=t.getIndexInRange(s,f),h=t.getIndexInRange(s,m);return{startIndex:p-p%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Ki(i[n],l,n);return lt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,h=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var x=this.getIndex({startX:s+g,endX:l+g});(x.startIndex!==m||x.endIndex!==p)&&h&&h(x),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_I(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,h=d.onChange,g=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+m-p-u):b<0&&(b=Math.max(b,f-u)),v[s]=u+b;var y=this.getIndex(v),j=y.startIndex,E=y.endIndex,N=function(){var T=x.length-1;return s==="startX"&&(l>c?j%g===0:E%g===0)||l<c&&E===T||s==="endX"&&(l>c?E%g===0:j%g===0)||l>c&&E===T};this.setState(ca(ca({},s,u+b),"brushMoveStartX",n.pageX),function(){h&&N()&&h(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ca({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return ae.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?ae.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,h=c.data,g=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),b=n1(n1({},St(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=h[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=h[x])===null||s===void 0?void 0:s.name);return ae.createElement(Hr,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,h={pointerEvents:"none",fill:u};return ae.createElement(Hr,{className:"recharts-brush-texts"},ae.createElement(Qg,Sx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:s+l/2},h),this.getTextOfTick(a)),ae.createElement(Qg,Sx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:s+l/2},h),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,h=m.endX,g=m.isTextActive,x=m.isSlideMoving,v=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!Te(l)||!Te(c)||!Te(u)||!Te(d)||u<=0||d<=0)return null;var y=dt("recharts-brush",i),j=ae.Children.count(s)===1,E=Ube("userSelect","none");return ae.createElement(Hr,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(g||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ae.isValidElement(n)?i=ae.cloneElement(n,a):lt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return n1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?Ybe({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(w.PureComponent);ca(od,"displayName","Brush");ca(od,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jbe=QE;function Qbe(e,t){var r;return Jbe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Zbe=Qbe,e1e=ZM,t1e=il,r1e=Zbe,n1e=ia,a1e=ty;function i1e(e,t,r){var n=n1e(e)?e1e:r1e;return r&&a1e(e,t,r)&&(t=void 0),n(e,t1e(t))}var s1e=i1e;const o1e=Ot(s1e);var Wi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},kI=wL;function l1e(e,t,r){t=="__proto__"&&kI?kI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var c1e=l1e,u1e=c1e,d1e=yL,f1e=il;function m1e(e,t){var r={};return t=f1e(t),d1e(e,function(n,a,i){u1e(r,a,t(n,a,i))}),r}var p1e=m1e;const h1e=Ot(p1e);function g1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var x1e=g1e,v1e=QE;function y1e(e,t){var r=!0;return v1e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var b1e=y1e,w1e=x1e,S1e=b1e,N1e=il,E1e=ia,j1e=ty;function _1e(e,t,r){var n=E1e(e)?w1e:S1e;return r&&j1e(e,t,r)&&(t=void 0),n(e,N1e(t))}var k1e=_1e;const Z8=Ot(k1e);var C1e=["x","y"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){T1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T1e(e,t,r){return t=A1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1e(e){var t=I1e(e,"string");return Sp(t)=="symbol"?t:t+""}function I1e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1e(e,t){if(e==null)return{};var r=O1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1e(e,t){var r=e.x,n=e.y,a=P1e(e,C1e),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return kf(kf(kf(kf(kf({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function TI(e){return ae.createElement(xbe,aS({shapeType:"rectangle",propTransformer:R1e,activeClassName:"recharts-active-bar"},e))}var D1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ic(),r)}},F1e=["value","background"],e$;function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function M1e(e,t){if(e==null)return{};var r=L1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){So(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function II(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r$(n.key),n)}}function B1e(e,t,r){return t&&II(e.prototype,t),r&&II(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z1e(e,t,r){return t=jx(t),U1e(e,t$()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function U1e(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1e(e)}function q1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(e)}function V1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iS(e,t)}function So(e,t,r){return t=r$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$(e){var t=H1e(e,"string");return ld(t)=="symbol"?t:t+""}function H1e(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ja=function(e){function t(){var r;$1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=z1e(this,t,[].concat(a)),So(r,"state",{isAnimationFinished:!1}),So(r,"id",Xv("recharts-bar-")),So(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),So(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return V1e(t,e),B1e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=St(this.props,!1);return n&&n.map(function(f,m){var p=m===c,h=p?u:s,g=_r(_r(_r({},d),f),{},{isActive:p,option:h,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ae.createElement(Hr,Ex({className:"recharts-bar-rectangle"},Lg(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),ae.createElement(TI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return ae.createElement(qo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,g=i.map(function(x,v){var b=m&&m[v];if(b){var y=Mc(b.x,x.x),j=Mc(b.y,x.y),E=Mc(b.width,x.width),N=Mc(b.height,x.height);return _r(_r({},x),{},{x:y(h),y:j(h),width:E(h),height:N(h)})}if(s==="horizontal"){var S=Mc(0,x.height),T=S(h);return _r(_r({},x),{},{y:x.y+x.height-T,height:T})}var C=Mc(0,x.width),k=C(h);return _r(_r({},x),{},{width:k})});return ae.createElement(Hr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Nj(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=St(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=M1e(u,F1e);if(!f)return null;var p=_r(_r(_r(_r(_r({},m),{},{fill:"#eee"},f),c),Lg(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ae.createElement(TI,Ex({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=vi(d,fy);if(!f)return null;var m=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Ki(x,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(Hr,h,f.map(function(g){return ae.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,h=n.background,g=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=dt("recharts-bar",s),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=b||y,E=_t(g)?this.id:g;return ae.createElement(Hr,{className:v},b||y?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(E)},ae.createElement("rect",{x:b?u:u-f/2,y:y?d:d-m/2,width:b?f:f*2,height:y?m:m*2}))):null,ae.createElement(Hr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(E,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,E),(!p||x)&&zl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);e$=Ja;So(Ja,"displayName","Bar");So(Ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});So(Ja,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,p=wge(n,r);if(!p)return null;var h=t.layout,g=r.type.defaultProps,x=g!==void 0?_r(_r({},g),r.props):r.props,v=x.dataKey,b=x.children,y=x.minPointSize,j=h==="horizontal"?s:i,E=u?j.scale.domain():null,N=Tge({numericAxis:j}),S=vi(b,Uo),T=f.map(function(C,k){var A,_,I,M,L,W;u?A=Sge(u[d+k],E):(A=Ki(C,v),Array.isArray(A)||(A=[N,A]));var H=D1e(y,e$.defaultProps.minPointSize)(A[1],k);if(h==="horizontal"){var q,B=[s.scale(A[0]),s.scale(A[1])],F=B[0],ne=B[1];_=T4({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:C,index:k}),I=(q=ne??F)!==null&&q!==void 0?q:void 0,M=p.size;var U=F-ne;if(L=Number.isNaN(U)?0:U,W={x:_,y:s.y,width:M,height:s.height},Math.abs(H)>0&&Math.abs(L)<Math.abs(H)){var R=di(L||H)*(Math.abs(H)-Math.abs(L));I-=R,L+=R}}else{var K=[i.scale(A[0]),i.scale(A[1])],J=K[0],te=K[1];if(_=J,I=T4({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:C,index:k}),M=te-J,L=p.size,W={x:i.x,y:I,width:i.width,height:L},Math.abs(H)>0&&Math.abs(M)<Math.abs(H)){var re=di(M||H)*(Math.abs(H)-Math.abs(M));M+=re}}return _r(_r(_r({},C),{},{x:_,y:I,width:M,height:L,value:u?A:A[1],payload:C,background:W},S&&S[k]&&S[k].props),{},{tooltipPayload:[O8(r,C)],tooltipPosition:{x:_+M/2,y:I+L/2}})});return _r({data:T,layout:h},m)});function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n$(n.key),n)}}function G1e(e,t,r){return t&&PI(e.prototype,t),r&&PI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hy(e,t,r){return t=n$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=X1e(e,"string");return Np(t)=="symbol"?t:t+""}function X1e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K1e=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!da(u,Ja);return d.reduce(function(p,h){var g=r[h],x=g.orientation,v=g.domain,b=g.padding,y=b===void 0?{}:b,j=g.mirror,E=g.reversed,N="".concat(x).concat(j?"Mirror":""),S,T,C,k,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var _=v[1]-v[0],I=1/0,M=g.categoricalDomain.sort(rre);if(M.forEach(function(K,J){J>0&&(I=Math.min((K||0)-(M[J-1]||0),I))}),Number.isFinite(I)){var L=I/_,W=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=L*W/2),g.padding==="no-gap"){var H=nc(t.barCategoryGap,L*W),q=L*W/2;S=q-H-(q-H)/W*H}}}a==="xAxis"?T=[n.left+(y.left||0)+(S||0),n.left+n.width-(y.right||0)-(S||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(S||0),n.top+n.height-(y.bottom||0)-(S||0)]:T=g.range,E&&(T=[T[1],T[0]]);var B=yge(g,i,m),F=B.scale,ne=B.realScaleType;F.domain(v).range(T),bge(F);var U=Cge(F,li(li({},g),{},{realScaleType:ne}));a==="xAxis"?(A=x==="top"&&!j||x==="bottom"&&j,C=n.left,k=f[N]-A*g.height):a==="yAxis"&&(A=x==="left"&&!j||x==="right"&&j,C=f[N]-A*g.width,k=n.top);var R=li(li(li({},g),U),{},{realScaleType:ne,x:C,y:k,scale:F,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return R.bandSize=fx(R,U),!g.hide&&a==="xAxis"?f[N]+=(A?-1:1)*R.height:g.hide||(f[N]+=(A?-1:1)*R.width),li(li({},p),{},hy({},h,R))},{})},a$=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Y1e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return a$({x:r,y:n},{x:a,y:i})},i$=function(){function e(t){W1e(this,e),this.scale=t}return G1e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();hy(i$,"EPS",1e-4);var Cj=function(t){var r=Object.keys(t).reduce(function(n,a){return li(li({},n),{},hy({},a,i$.create(t[a])))},{});return li(li({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return h1e(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Z8(a,function(i,s){return r[s].isInRange(i)})}})};function J1e(e){return(e%180+180)%180}var Q1e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=J1e(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Z1e=il,ewe=uh,twe=Zv;function rwe(e){return function(t,r,n){var a=Object(t);if(!ewe(t)){var i=Z1e(r);t=twe(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var nwe=rwe,awe=K8;function iwe(e){var t=awe(e),r=t%1;return t===t?r?t-r:t:0}var swe=iwe,owe=mL,lwe=il,cwe=swe,uwe=Math.max;function dwe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:cwe(r);return a<0&&(a=uwe(n+a,0)),owe(e,lwe(t),a)}var fwe=dwe,mwe=nwe,pwe=fwe,hwe=mwe(pwe),gwe=hwe;const xwe=Ot(gwe);var vwe=ate(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Tj=w.createContext(void 0),Aj=w.createContext(void 0),s$=w.createContext(void 0),o$=w.createContext({}),l$=w.createContext(void 0),c$=w.createContext(0),u$=w.createContext(0),RI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=vwe(i);return ae.createElement(Tj.Provider,{value:n},ae.createElement(Aj.Provider,{value:a},ae.createElement(o$.Provider,{value:i},ae.createElement(s$.Provider,{value:d},ae.createElement(l$.Provider,{value:s},ae.createElement(c$.Provider,{value:u},ae.createElement(u$.Provider,{value:c},l)))))))},ywe=function(){return w.useContext(l$)},d$=function(t){var r=w.useContext(Tj);r==null&&ic();var n=r[t];return n==null&&ic(),n},bwe=function(){var t=w.useContext(Tj);return go(t)},wwe=function(){var t=w.useContext(Aj),r=xwe(t,function(n){return Z8(n.domain,Number.isFinite)});return r||go(t)},f$=function(t){var r=w.useContext(Aj);r==null&&ic();var n=r[t];return n==null&&ic(),n},Swe=function(){var t=w.useContext(s$);return t},Nwe=function(){return w.useContext(o$)},Ij=function(){return w.useContext(u$)},Pj=function(){return w.useContext(c$)};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Ewe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p$(n.key),n)}}function _we(e,t,r){return t&&jwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e,t,r){return t=_x(t),Cwe(e,m$()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function Cwe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twe(e)}function Twe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(e)}function Awe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sS(e,t)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){Oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oj(e,t,r){return t=p$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=Iwe(e,"string");return cd(t)=="symbol"?t:t+""}function Iwe(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pwe(e,t){return Fwe(e)||Dwe(e,t)||Rwe(e,t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(e,t){if(e){if(typeof e=="string")return MI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MI(e,t)}}function MI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Fwe(e){if(Array.isArray(e))return e}function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}var Mwe=function(t,r){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,r):lt(t)?n=t(r):n=ae.createElement("line",oS({},r,{className:"recharts-reference-line-line"})),n},Lwe=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,m=i.width,p=i.height;if(n){var h=u.y,g=t.y.apply(h,{position:s});if(Wi(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var v=u.x,b=t.x.apply(v,{position:s});if(Wi(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?y.reverse():y}if(a){var j=u.segment,E=j.map(function(N){return t.apply(N,{position:s})});return Wi(u,"discard")&&o1e(E,function(N){return!t.isInRange(N)})?null:E}return null};function $we(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=ywe(),d=d$(a),f=f$(i),m=Swe();if(!u||!m)return null;ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Cj({x:d.scale,y:f.scale}),h=$r(t),g=$r(r),x=n&&n.length===2,v=Lwe(p,h,g,x,m,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=Pwe(v,2),y=b[0],j=y.x,E=y.y,N=b[1],S=N.x,T=N.y,C=Wi(e,"hidden")?"url(#".concat(u,")"):void 0,k=FI(FI({clipPath:C},St(e,!0)),{},{x1:j,y1:E,x2:S,y2:T});return ae.createElement(Hr,{className:dt("recharts-reference-line",l)},Mwe(s,k),vn.renderCallByParent(e,Y1e({x1:j,y1:E,x2:S,y2:T})))}var Rj=function(e){function t(){return Ewe(this,t),kwe(this,t,arguments)}return Awe(t,e),_we(t,[{key:"render",value:function(){return ae.createElement($we,this.props)}}])}(ae.Component);Oj(Rj,"displayName","ReferenceLine");Oj(Rj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function Uwe(e,t,r){return t&&zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qwe(e,t,r){return t=kx(t),Vwe(e,h$()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function Vwe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(e)}function Hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(e)}function Wwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cS(e,t)}function gy(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=Gwe(e,"string");return ud(t)=="symbol"?t:t+""}function Gwe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=Cj({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Wi(t,"discard")&&!s.isInRange(l)?null:l},xy=function(e){function t(){return Bwe(this,t),qwe(this,t,arguments)}return Wwe(t,e),Uwe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=$r(a),d=$r(i);if(ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Xwe(this.props);if(!f)return null;var m=f.x,p=f.y,h=this.props,g=h.shape,x=h.className,v=Wi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=$I($I({clipPath:v},St(this.props,!0)),{},{cx:m,cy:p});return ae.createElement(Hr,{className:dt("recharts-reference-dot",x)},t.renderDot(g,b),vn.renderCallByParent(this.props,{x:m-s,y:p-s,width:2*s,height:2*s}))}}])}(ae.Component);gy(xy,"displayName","ReferenceDot");gy(xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gy(xy,"renderDot",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):lt(e)?r=e(t):r=ae.createElement(G8,lS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uS.apply(this,arguments)}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ywe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v$(n.key),n)}}function Jwe(e,t,r){return t&&Ywe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qwe(e,t,r){return t=Cx(t),Zwe(e,x$()?Reflect.construct(t,r||[],Cx(e).constructor):t.apply(e,r))}function Zwe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e2e(e)}function e2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(e)}function t2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function vy(e,t,r){return t=v$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$(e){var t=r2e(e,"string");return dd(t)=="symbol"?t:t+""}function r2e(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2e=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=Cj({x:d.scale,y:f.scale}),p={x:t?m.x.apply(s,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},h={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Wi(i,"discard")&&(!m.isInRange(p)||!m.isInRange(h))?null:a$(p,h)},yy=function(e){function t(){return Kwe(this,t),Qwe(this,t,arguments)}return t2e(t,e),Jwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$r(a),m=$r(i),p=$r(s),h=$r(l),g=this.props.shape;if(!f&&!m&&!p&&!h&&!g)return null;var x=n2e(f,m,p,h,this.props);if(!x&&!g)return null;var v=Wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ae.createElement(Hr,{className:dt("recharts-reference-area",c)},t.renderRect(g,zI(zI({clipPath:v},St(this.props,!0)),x)),vn.renderCallByParent(this.props,x))}}])}(ae.Component);vy(yy,"displayName","ReferenceArea");vy(yy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vy(yy,"renderRect",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):lt(e)?r=e(t):r=ae.createElement(kj,uS({},t,{className:"recharts-reference-area-rect"})),r});function y$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function a2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Q1e(n,r)}function i2e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Tx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function s2e(e,t){return y$(e,t+1)}function o2e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var h=n==null?void 0:n[c];if(h===void 0)return{v:y$(n,u)};var g=c,x,v=function(){return x===void 0&&(x=r(h,g)),x},b=h.coordinate,y=c===0||Tx(e,b,v,d,l);y||(c=0,d=s,u+=1),y&&(d=b+e*(v()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){l2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t,r){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2e(e){var t=u2e(e,"string");return Ep(t)=="symbol"?t:t+""}function u2e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d2e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],h,g=function(){return h===void 0&&(h=r(p,m)),h};if(m===s-1){var x=e*(p.coordinate+e*g()/2-c);i[m]=p=pn(pn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[m]=p=pn(pn({},p),{},{tickCoord:p.coordinate});var v=Tx(e,p.tickCoord,g,l,c);v&&(c=p.tickCoord-e*(g()/2+a),i[m]=pn(pn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function f2e(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);s[l-1]=d=pn(pn({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=Tx(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=pn(pn({},d),{},{isShow:!0}))}for(var h=i?l-1:l,g=function(b){var y=s[b],j,E=function(){return j===void 0&&(j=r(y,b)),j};if(b===0){var N=e*(y.coordinate-e*E()/2-c);s[b]=y=pn(pn({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else s[b]=y=pn(pn({},y),{},{tickCoord:y.coordinate});var S=Tx(e,y.tickCoord,E,c,u);S&&(c=y.tickCoord+e*(E()/2+a),s[b]=pn(pn({},y),{},{isShow:!0}))},x=0;x<h;x++)g(x);return s}function Dj(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Te(c)||Fo.isSsr)return s2e(a,typeof c=="number"&&Te(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",h=d&&p==="width"?nm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(y,j){var E=lt(u)?u(y.value,j):y.value;return p==="width"?a2e(nm(E,{fontSize:t,letterSpacing:r}),h,f):nm(E,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?di(a[1].coordinate-a[0].coordinate):1,v=i2e(i,x,p);return c==="equidistantPreserveStart"?o2e(x,v,g,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=f2e(x,v,g,a,s,c==="preserveStartEnd"):m=d2e(x,v,g,a,s),m.filter(function(b){return b.isShow}))}var m2e=["viewBox"],p2e=["viewBox"],h2e=["ticks"];function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){Fj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a1(e,t){if(e==null)return{};var r=g2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w$(n.key),n)}}function v2e(e,t,r){return t&&VI(e.prototype,t),r&&VI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y2e(e,t,r){return t=Ax(t),b2e(e,b$()?Reflect.construct(t,r||[],Ax(e).constructor):t.apply(e,r))}function b2e(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w2e(e)}function w2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ax(e)}function S2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fS(e,t)}function Fj(e,t,r){return t=w$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=N2e(e,"string");return fd(t)=="symbol"?t:t+""}function N2e(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=function(e){function t(r){var n;return x2e(this,t),n=y2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return S2e(t,e),v2e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=a1(n,m2e),l=this.props,c=l.viewBox,u=a1(l,p2e);return!_u(i,c)||!_u(s,u)||!_u(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,p,h,g,x,v,b,y=f?-1:1,j=n.tickSize||d,E=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=h=n.coordinate,x=s+ +!f*c,g=x-y*j,b=g-y*m,v=E;break;case"left":g=x=n.coordinate,h=i+ +!f*l,p=h-y*j,v=p-y*m,b=E;break;case"right":g=x=n.coordinate,h=i+ +f*l,p=h+y*j,v=p+y*m,b=E;break;default:p=h=n.coordinate,x=s+ +f*c,g=x+y*j,b=g+y*m,v=E;break}return{line:{x1:p,y1:g,x2:h,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=An(An(An({},St(this.props,!1)),St(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=An(An({},f),{},{x1:a,y1:i+m*l,x2:a+s,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=An(An({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return ae.createElement("line",du({},f,{className:dt("recharts-cartesian-axis-line",Ha(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=Dj(An(An({},this.props),{},{ticks:n}),a,i),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=St(this.props,!1),v=St(d,!1),b=An(An({},x),{},{fill:"none"},St(c,!1)),y=p.map(function(j,E){var N=s.getTickLineCoord(j),S=N.line,T=N.tick,C=An(An(An(An({textAnchor:h,verticalAnchor:g},x),{},{stroke:"none",fill:u},v),T),{},{index:E,payload:j,visibleTicksCount:p.length,tickFormatter:f});return ae.createElement(Hr,du({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Lg(s.props,j,E)),c&&ae.createElement("line",du({},b,S,{className:dt("recharts-cartesian-axis-tick-line",Ha(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(lt(f)?f(j.value,E):j.value).concat(m||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,p=a1(f,h2e),h=m;return lt(c)&&(h=m&&m.length>0?c(this.props):c(p)),s<=0||l<=0||!h||!h.length?null:ae.createElement(Hr,{className:dt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return ae.isValidElement(n)?s=ae.cloneElement(n,a):lt(n)?s=n(a):s=ae.createElement(Qg,du({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(w.Component);Fj(Gd,"displayName","CartesianAxis");Fj(Gd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E2e=["x1","y1","x2","y2","key"],j2e=["offset"];function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){_2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2e(e,t,r){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2e(e){var t=C2e(e,"string");return sc(t)=="symbol"?t:t+""}function C2e(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function WI(e,t){if(e==null)return{};var r=T2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var A2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return ae.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function S$(e,t){var r;if(ae.isValidElement(e))r=ae.cloneElement(e,t);else if(lt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=WI(t,E2e),u=St(c,!1);u.offset;var d=WI(u,j2e);r=ae.createElement("line",Pl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function I2e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=yn(yn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return S$(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function P2e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=yn(yn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return S$(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function O2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var h=!d[p+1],g=h?a+s-m:d[p+1]-m;if(g<=0)return null;var x=p%t.length;return ae.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function R2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var h=!d[p+1],g=h?i+l-m:d[p+1]-m;if(g<=0)return null;var x=p%n.length;return ae.createElement("rect",{key:"react-".concat(p),x:m,y:s,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var D2e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return I8(Dj(yn(yn(yn({},Gd.defaultProps),n),{},{ticks:xs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},F2e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return I8(Dj(yn(yn(yn({},Gd.defaultProps),n),{},{ticks:xs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Bc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oc(e){var t,r,n,a,i,s,l=Ij(),c=Pj(),u=Nwe(),d=yn(yn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Bc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Bc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Bc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Bc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Bc.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Bc.verticalFill,x:Te(e.x)?e.x:u.left,y:Te(e.y)?e.y:u.top,width:Te(e.width)?e.width:u.width,height:Te(e.height)?e.height:u.height}),f=d.x,m=d.y,p=d.width,h=d.height,g=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,b=bwe(),y=wwe();if(!Te(p)||p<=0||!Te(h)||h<=0||!Te(f)||f!==+f||!Te(m)||m!==+m)return null;var j=d.verticalCoordinatesGenerator||D2e,E=d.horizontalCoordinatesGenerator||F2e,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&lt(E)){var T=x&&x.length,C=E({yAxis:y?yn(yn({},y),{},{ticks:T?x:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);ws(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sc(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&lt(j)){var k=v&&v.length,A=j({xAxis:b?yn(yn({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);ws(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sc(A),"]")),Array.isArray(A)&&(S=A)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(A2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ae.createElement(I2e,Pl({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:y})),ae.createElement(P2e,Pl({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:y})),ae.createElement(O2e,Pl({},d,{horizontalPoints:N})),ae.createElement(R2e,Pl({},d,{verticalPoints:S})))}oc.displayName="CartesianGrid";function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j$(n.key),n)}}function $2e(e,t,r){return t&&L2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2e(e,t,r){return t=Ix(t),z2e(e,N$()?Reflect.construct(t,r||[],Ix(e).constructor):t.apply(e,r))}function z2e(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U2e(e)}function U2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function E$(e,t,r){return t=j$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=V2e(e,"string");return md(t)=="symbol"?t:t+""}function V2e(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}function H2e(e){var t=e.xAxisId,r=Ij(),n=Pj(),a=d$(t);return a==null?null:ae.createElement(Gd,pS({},a,{className:dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return xs(s,!0)}}))}var Ds=function(e){function t(){return M2e(this,t),B2e(this,t,arguments)}return q2e(t,e),$2e(t,[{key:"render",value:function(){return ae.createElement(H2e,this.props)}}])}(ae.Component);E$(Ds,"displayName","XAxis");E$(Ds,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function W2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C$(n.key),n)}}function X2e(e,t,r){return t&&G2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K2e(e,t,r){return t=Px(t),Y2e(e,_$()?Reflect.construct(t,r||[],Px(e).constructor):t.apply(e,r))}function Y2e(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J2e(e)}function J2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!e})()}function Px(e){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(e)}function Q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hS(e,t)}function k$(e,t,r){return t=C$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C$(e){var t=Z2e(e,"string");return pd(t)=="symbol"?t:t+""}function Z2e(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}var eSe=function(t){var r=t.yAxisId,n=Ij(),a=Pj(),i=f$(r);return i==null?null:ae.createElement(Gd,gS({},i,{className:dt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return xs(l,!0)}}))},Fs=function(e){function t(){return W2e(this,t),K2e(this,t,arguments)}return Q2e(t,e),X2e(t,[{key:"render",value:function(){return ae.createElement(eSe,this.props)}}])}(ae.Component);k$(Fs,"displayName","YAxis");k$(Fs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GI(e){return aSe(e)||nSe(e)||rSe(e)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rSe(e,t){if(e){if(typeof e=="string")return xS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xS(e,t)}}function nSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aSe(e){if(Array.isArray(e))return xS(e)}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vS=function(t,r,n,a,i){var s=vi(t,Rj),l=vi(t,xy),c=[].concat(GI(s),GI(l)),u=vi(t,yy),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,x){if(x.props[d]===n&&Wi(x.props,"extendDomain")&&Te(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},m)),u.length){var p="".concat(f,"1"),h="".concat(f,"2");m=u.reduce(function(g,x){if(x.props[d]===n&&Wi(x.props,"extendDomain")&&Te(x.props[p])&&Te(x.props[h])){var v=x.props[p],b=x.props[h];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,x){return Te(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},m)),m},T$={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],p]:c._events[h].push(p):(c._events[h]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,h=new Array(p);m<p;m++)h[m]=f[m].fn;return h},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,h){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,p),!0;case 6:return x.fn.call(x.context,d,f,m,p,h),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var j=x.length,E;for(y=0;y<j;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,m);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];x[y].fn.apply(x[y].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!m||h.once)&&(!f||h.context===f)&&s(this,p);else{for(var g=0,x=[],v=h.length;g<v;g++)(h[g].fn!==d||m&&!h[g].once||f&&h[g].context!==f)&&x.push(h[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(T$);var iSe=T$.exports;const sSe=Ot(iSe);var i1=new sSe,s1="recharts.syncMouseEvents";function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function oSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A$(n.key),n)}}function cSe(e,t,r){return t&&lSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o1(e,t,r){return t=A$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=uSe(e,"string");return jp(t)=="symbol"?t:t+""}function uSe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dSe=function(){function e(){oSe(this,e),o1(this,"activeIndex",0),o1(this,"coordinateList",[]),o1(this,"layout","horizontal")}return cSe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function fSe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Te(n)&&Te(a))return!0}return!1}function mSe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function I$(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=nn(t,r,n,a),l=nn(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function pSe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=nn(l,c,u,f),p=nn(l,c,d,f);n=m.x,a=m.y,i=p.x,s=p.y}else return I$(t);return[{x:n,y:a},{x:i,y:s}]}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){hSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hSe(e,t,r){return t=gSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gSe(e){var t=xSe(e,"string");return _p(t)=="symbol"?t:t+""}function xSe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vSe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||m!=="ScatterChart"&&a!=="axis")return null;var h,g=H4;if(m==="ScatterChart")h=s,g=Iye;else if(m==="BarChart")h=mSe(f,s,c,d),g=kj;else if(f==="radial"){var x=I$(s),v=x.cx,b=x.cy,y=x.radius,j=x.startAngle,E=x.endAngle;h={cx:v,cy:b,startAngle:j,endAngle:E,innerRadius:y,outerRadius:y},g=F8}else h={points:pSe(f,s,c)},g=H4;var N=p0(p0(p0(p0({stroke:"#ccc",pointerEvents:"none"},c),h),St(p,!1)),{},{payload:l,payloadIndex:u,className:dt("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,N):w.createElement(g,N)}var ySe=["item"],bSe=["children","className","width","height","style","compact","title","desc"];function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(this,arguments)}function KI(e,t){return NSe(e)||SSe(e,t)||O$(e,t)||wSe()}function wSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function NSe(e){if(Array.isArray(e))return e}function YI(e,t){if(e==null)return{};var r=ESe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ESe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R$(n.key),n)}}function kSe(e,t,r){return t&&_Se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CSe(e,t,r){return t=Ox(t),TSe(e,P$()?Reflect.construct(t,r||[],Ox(e).constructor):t.apply(e,r))}function TSe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ASe(e)}function ASe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(e)}function ISe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(e,t)}function gd(e){return RSe(e)||OSe(e)||O$(e)||PSe()}function PSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(e,t){if(e){if(typeof e=="string")return bS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(e,t)}}function OSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RSe(e){if(Array.isArray(e))return bS(e)}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=R$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R$(e){var t=DSe(e,"string");return hd(t)=="symbol"?t:t+""}function DSe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FSe={xAxis:["bottom","top"],yAxis:["left","right"]},MSe={width:"100%",height:"100%"},D$={x:0,y:0};function h0(e){return e}var LSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Se=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return xe(xe(xe({},a),nn(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return xe(xe(xe({},a),nn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return D$},by=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(gd(l),gd(u)):l},[]);return s.length>0?s:t&&t.length&&Te(a)&&Te(i)?t.slice(a,i+1):[]};function F$(e){return e==="number"?[0,"auto"]:void 0}var wS=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=by(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;m=e2(p,s.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(gd(c),[O8(u,m)]):c},[])},QI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=LSe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mge(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=wS(t,r,d,f),p=$Se(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},BSe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,p=A8(d,i);return n.reduce(function(h,g){var x,v=g.type.defaultProps!==void 0?xe(xe({},g.type.defaultProps),g.props):g.props,b=v.type,y=v.dataKey,j=v.allowDataOverflow,E=v.allowDuplicatedCategory,N=v.scale,S=v.ticks,T=v.includeHidden,C=v[s];if(h[C])return h;var k=by(t.data,{graphicalItems:a.filter(function(U){var R,K=s in U.props?U.props[s]:(R=U.type.defaultProps)===null||R===void 0?void 0:R[s];return K===C}),dataStartIndex:c,dataEndIndex:u}),A=k.length,_,I,M;fSe(v.domain,j,b)&&(_=z2(v.domain,null,j),p&&(b==="number"||N!=="auto")&&(M=im(k,y,"category")));var L=F$(b);if(!_||_.length===0){var W,H=(W=v.domain)!==null&&W!==void 0?W:L;if(y){if(_=im(k,y,b),b==="category"&&p){var q=tre(_);E&&q?(I=_,_=wx(0,A)):E||(_=P4(H,_,g).reduce(function(U,R){return U.indexOf(R)>=0?U:[].concat(gd(U),[R])},[]))}else if(b==="category")E?_=_.filter(function(U){return U!==""&&!_t(U)}):_=P4(H,_,g).reduce(function(U,R){return U.indexOf(R)>=0||R===""||_t(R)?U:[].concat(gd(U),[R])},[]);else if(b==="number"){var B=vge(k,a.filter(function(U){var R,K,J=s in U.props?U.props[s]:(R=U.type.defaultProps)===null||R===void 0?void 0:R[s],te="hide"in U.props?U.props.hide:(K=U.type.defaultProps)===null||K===void 0?void 0:K.hide;return J===C&&(T||!te)}),y,i,d);B&&(_=B)}p&&(b==="number"||N!=="auto")&&(M=im(k,y,"category"))}else p?_=wx(0,A):l&&l[C]&&l[C].hasStack&&b==="number"?_=m==="expand"?[0,1]:P8(l[C].stackGroups,c,u):_=T8(k,a.filter(function(U){var R=s in U.props?U.props[s]:U.type.defaultProps[s],K="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return R===C&&(T||!K)}),b,d,!0);if(b==="number")_=vS(f,_,C,i,S),H&&(_=z2(H,_,j));else if(b==="category"&&H){var F=H,ne=_.every(function(U){return F.indexOf(U)>=0});ne&&(_=F)}}return xe(xe({},h),{},He({},C,xe(xe({},v),{},{axisType:i,domain:_,categoricalDomain:M,duplicateDomain:I,originalDomain:(x=v.domain)!==null&&x!==void 0?x:L,isCategorical:p,layout:d})))},{})},zSe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=by(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,h=A8(d,i),g=-1;return n.reduce(function(x,v){var b=v.type.defaultProps!==void 0?xe(xe({},v.type.defaultProps),v.props):v.props,y=b[s],j=F$("number");if(!x[y]){g++;var E;return h?E=wx(0,p):l&&l[y]&&l[y].hasStack?(E=P8(l[y].stackGroups,c,u),E=vS(f,E,y,i)):(E=z2(j,T8(m,n.filter(function(N){var S,T,C=s in N.props?N.props[s]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[s],k="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return C===y&&!k}),"number",d),a.defaultProps.allowDataOverflow),E=vS(f,E,y,i)),xe(xe({},x),{},He({},y,xe(xe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ha(FSe,"".concat(i,".").concat(g%2),null),domain:E,originalDomain:j,isCategorical:h,layout:d})))}return x},{})},USe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=vi(d,i),p={};return m&&m.length?p=BSe(t,{axes:m,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=zSe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},qSe=function(t){var r=go(t),n=xs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ZE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fx(r,n)}},ZI=function(t){var r=t.children,n=t.defaultShowTooltip,a=da(r,od),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},VSe=function(t){return!t||!t.length?!1:t.some(function(r){var n=bs(r&&r.type);return n&&n.indexOf("Bar")>=0})},eP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HSe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=da(f,od),h=da(f,ku),g=Object.keys(c).reduce(function(E,N){var S=c[N],T=S.orientation;return!S.mirror&&!S.hide?xe(xe({},E),{},He({},T,E[T]+S.width)):E},{left:m.left||0,right:m.right||0}),x=Object.keys(s).reduce(function(E,N){var S=s[N],T=S.orientation;return!S.mirror&&!S.hide?xe(xe({},E),{},He({},T,Ha(E,"".concat(T))+S.height)):E},{top:m.top||0,bottom:m.bottom||0}),v=xe(xe({},x),g),b=v.bottom;p&&(v.bottom+=p.props.height||od.defaultProps.height),h&&r&&(v=gge(v,a,n,r));var y=u-v.left-v.right,j=d-v.top-v.bottom;return xe(xe({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(j,0)})},WSe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},GSe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(v,b){var y=b.graphicalItems,j=b.stackGroups,E=b.offset,N=b.updateId,S=b.dataStartIndex,T=b.dataEndIndex,C=v.barSize,k=v.layout,A=v.barGap,_=v.barCategoryGap,I=v.maxBarSize,M=eP(k),L=M.numericAxisName,W=M.cateAxisName,H=VSe(y),q=[];return y.forEach(function(B,F){var ne=by(v.data,{graphicalItems:[B],dataStartIndex:S,dataEndIndex:T}),U=B.type.defaultProps!==void 0?xe(xe({},B.type.defaultProps),B.props):B.props,R=U.dataKey,K=U.maxBarSize,J=U["".concat(L,"Id")],te=U["".concat(W,"Id")],re={},P=c.reduce(function(Ve,Wt){var ar=b["".concat(Wt.axisType,"Map")],zt=U["".concat(Wt.axisType,"Id")];ar&&ar[zt]||Wt.axisType==="zAxis"||ic();var cn=ar[zt];return xe(xe({},Ve),{},He(He({},Wt.axisType,cn),"".concat(Wt.axisType,"Ticks"),xs(cn)))},re),z=P[W],D=P["".concat(W,"Ticks")],G=j&&j[J]&&j[J].hasStack&&Age(B,j[J].stackGroups),O=bs(B.type).indexOf("Bar")>=0,fe=fx(z,D),ie=[],ue=H&&pge({barSize:C,stackGroups:j,totalSize:WSe(P,W)});if(O){var ye,oe,we=_t(K)?I:K,$e=(ye=(oe=fx(z,D,!0))!==null&&oe!==void 0?oe:we)!==null&&ye!==void 0?ye:0;ie=hge({barGap:A,barCategoryGap:_,bandSize:$e!==fe?$e:fe,sizeList:ue[te],maxBarSize:we}),$e!==fe&&(ie=ie.map(function(Ve){return xe(xe({},Ve),{},{position:xe(xe({},Ve.position),{},{offset:Ve.position.offset-$e/2})})}))}var ze=B&&B.type&&B.type.getComposedData;ze&&q.push({props:xe(xe({},ze(xe(xe({},P),{},{displayedData:ne,props:v,dataKey:R,item:B,bandSize:fe,barPosition:ie,offset:E,stackedData:G,layout:k,dataStartIndex:S,dataEndIndex:T}))),{},He(He(He({key:B.key||"item-".concat(F)},L,P[L]),W,P[W]),"animationId",N)),childIndex:mre(B,v.children),item:B})}),q},p=function(v,b){var y=v.props,j=v.dataStartIndex,E=v.dataEndIndex,N=v.updateId;if(!_T({props:y}))return null;var S=y.children,T=y.layout,C=y.stackOffset,k=y.data,A=y.reverseStackOrder,_=eP(T),I=_.numericAxisName,M=_.cateAxisName,L=vi(S,n),W=kge(k,L,"".concat(I,"Id"),"".concat(M,"Id"),C,A),H=c.reduce(function(U,R){var K="".concat(R.axisType,"Map");return xe(xe({},U),{},He({},K,USe(y,xe(xe({},R),{},{graphicalItems:L,stackGroups:R.axisType===I&&W,dataStartIndex:j,dataEndIndex:E}))))},{}),q=HSe(xe(xe({},H),{},{props:y,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(H).forEach(function(U){H[U]=d(y,H[U],q,U.replace("Map",""),r)});var B=H["".concat(M,"Map")],F=qSe(B),ne=m(y,xe(xe({},H),{},{dataStartIndex:j,dataEndIndex:E,updateId:N,graphicalItems:L,stackGroups:W,offset:q}));return xe(xe({formattedGraphicalItems:ne,graphicalItems:L,offset:q,stackGroups:W},F),H)},h=function(x){function v(b){var y,j,E;return jSe(this,v),E=CSe(this,v,[b]),He(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(E,"accessibilityManager",new dSe),He(E,"handleLegendBBoxUpdate",function(N){if(N){var S=E.state,T=S.dataStartIndex,C=S.dataEndIndex,k=S.updateId;E.setState(xe({legendBBox:N},p({props:E.props,dataStartIndex:T,dataEndIndex:C,updateId:k},xe(xe({},E.state),{},{legendBBox:N}))))}}),He(E,"handleReceiveSyncEvent",function(N,S,T){if(E.props.syncId===N){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),He(E,"handleBrushChange",function(N){var S=N.startIndex,T=N.endIndex;if(S!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var C=E.state.updateId;E.setState(function(){return xe({dataStartIndex:S,dataEndIndex:T},p({props:E.props,dataStartIndex:S,dataEndIndex:T,updateId:C},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),He(E,"handleMouseEnter",function(N){var S=E.getMouseInfo(N);if(S){var T=xe(xe({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var C=E.props.onMouseEnter;lt(C)&&C(T,N)}}),He(E,"triggeredAfterMouseMove",function(N){var S=E.getMouseInfo(N),T=S?xe(xe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var C=E.props.onMouseMove;lt(C)&&C(T,N)}),He(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),He(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),He(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),He(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var T=E.props.onMouseLeave;lt(T)&&T(S,N)}),He(E,"handleOuterEvent",function(N){var S=fre(N),T=Ha(E.props,"".concat(S));if(S&&lt(T)){var C,k;/.*touch.*/i.test(S)?k=E.getMouseInfo(N.changedTouches[0]):k=E.getMouseInfo(N),T((C=k)!==null&&C!==void 0?C:{},N)}}),He(E,"handleClick",function(N){var S=E.getMouseInfo(N);if(S){var T=xe(xe({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var C=E.props.onClick;lt(C)&&C(T,N)}}),He(E,"handleMouseDown",function(N){var S=E.props.onMouseDown;if(lt(S)){var T=E.getMouseInfo(N);S(T,N)}}),He(E,"handleMouseUp",function(N){var S=E.props.onMouseUp;if(lt(S)){var T=E.getMouseInfo(N);S(T,N)}}),He(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),He(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),He(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),He(E,"handleDoubleClick",function(N){var S=E.props.onDoubleClick;if(lt(S)){var T=E.getMouseInfo(N);S(T,N)}}),He(E,"handleContextMenu",function(N){var S=E.props.onContextMenu;if(lt(S)){var T=E.getMouseInfo(N);S(T,N)}}),He(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&i1.emit(s1,E.props.syncId,N,E.eventEmitterSymbol)}),He(E,"applySyncEvent",function(N){var S=E.props,T=S.layout,C=S.syncMethod,k=E.state.updateId,A=N.dataStartIndex,_=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(xe({dataStartIndex:A,dataEndIndex:_},p({props:E.props,dataStartIndex:A,dataEndIndex:_,updateId:k},E.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,M=N.chartY,L=N.activeTooltipIndex,W=E.state,H=W.offset,q=W.tooltipTicks;if(!H)return;if(typeof C=="function")L=C(q,N);else if(C==="value"){L=-1;for(var B=0;B<q.length;B++)if(q[B].value===N.activeLabel){L=B;break}}var F=xe(xe({},H),{},{x:H.left,y:H.top}),ne=Math.min(I,F.x+F.width),U=Math.min(M,F.y+F.height),R=q[L]&&q[L].value,K=wS(E.state,E.props.data,L),J=q[L]?{x:T==="horizontal"?q[L].coordinate:ne,y:T==="horizontal"?U:q[L].coordinate}:D$;E.setState(xe(xe({},N),{},{activeLabel:R,activeCoordinate:J,activePayload:K,activeTooltipIndex:L}))}else E.setState(N)}),He(E,"renderCursor",function(N){var S,T=E.state,C=T.isTooltipActive,k=T.activeCoordinate,A=T.activePayload,_=T.offset,I=T.activeTooltipIndex,M=T.tooltipAxisBandSize,L=E.getTooltipEventType(),W=(S=N.props.active)!==null&&S!==void 0?S:C,H=E.props.layout,q=N.key||"_recharts-cursor";return ae.createElement(vSe,{key:q,activeCoordinate:k,activePayload:A,activeTooltipIndex:I,chartName:r,element:N,isActive:W,layout:H,offset:_,tooltipAxisBandSize:M,tooltipEventType:L})}),He(E,"renderPolarAxis",function(N,S,T){var C=Ha(N,"type.axisType"),k=Ha(E.state,"".concat(C,"Map")),A=N.type.defaultProps,_=A!==void 0?xe(xe({},A),N.props):N.props,I=k&&k[_["".concat(C,"Id")]];return w.cloneElement(N,xe(xe({},I),{},{className:dt(C,I.className),key:N.key||"".concat(S,"-").concat(T),ticks:xs(I,!0)}))}),He(E,"renderPolarGrid",function(N){var S=N.props,T=S.radialLines,C=S.polarAngles,k=S.polarRadius,A=E.state,_=A.radiusAxisMap,I=A.angleAxisMap,M=go(_),L=go(I),W=L.cx,H=L.cy,q=L.innerRadius,B=L.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(C)?C:xs(L,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(k)?k:xs(M,!0).map(function(F){return F.coordinate}),cx:W,cy:H,innerRadius:q,outerRadius:B,key:N.key||"polar-grid",radialLines:T})}),He(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,S=E.props,T=S.children,C=S.width,k=S.height,A=E.props.margin||{},_=C-(A.left||0)-(A.right||0),I=k8({children:T,formattedGraphicalItems:N,legendWidth:_,legendContent:u});if(!I)return null;var M=I.item,L=YI(I,ySe);return w.cloneElement(M,xe(xe({},L),{},{chartWidth:C,chartHeight:k,margin:A,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),He(E,"renderTooltip",function(){var N,S=E.props,T=S.children,C=S.accessibilityLayer,k=da(T,Rn);if(!k)return null;var A=E.state,_=A.isTooltipActive,I=A.activeCoordinate,M=A.activePayload,L=A.activeLabel,W=A.offset,H=(N=k.props.active)!==null&&N!==void 0?N:_;return w.cloneElement(k,{viewBox:xe(xe({},W),{},{x:W.left,y:W.top}),active:H,label:L,payload:H?M:[],coordinate:I,accessibilityLayer:C})}),He(E,"renderBrush",function(N){var S=E.props,T=S.margin,C=S.data,k=E.state,A=k.offset,_=k.dataStartIndex,I=k.dataEndIndex,M=k.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:u0(E.handleBrushChange,N.props.onChange),data:C,x:Te(N.props.x)?N.props.x:A.left,y:Te(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(T.bottom||0),width:Te(N.props.width)?N.props.width:A.width,startIndex:_,endIndex:I,updateId:"brush-".concat(M)})}),He(E,"renderReferenceElement",function(N,S,T){if(!N)return null;var C=E,k=C.clipPathId,A=E.state,_=A.xAxisMap,I=A.yAxisMap,M=A.offset,L=N.type.defaultProps||{},W=N.props,H=W.xAxisId,q=H===void 0?L.xAxisId:H,B=W.yAxisId,F=B===void 0?L.yAxisId:B;return w.cloneElement(N,{key:N.key||"".concat(S,"-").concat(T),xAxis:_[q],yAxis:I[F],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:k})}),He(E,"renderActivePoints",function(N){var S=N.item,T=N.activePoint,C=N.basePoint,k=N.childIndex,A=N.isRange,_=[],I=S.props.key,M=S.item.type.defaultProps!==void 0?xe(xe({},S.item.type.defaultProps),S.item.props):S.item.props,L=M.activeDot,W=M.dataKey,H=xe(xe({index:k,dataKey:W,cx:T.x,cy:T.y,r:4,fill:_j(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},St(L,!1)),Mg(L));return _.push(v.renderActiveDot(L,H,"".concat(I,"-activePoint-").concat(k))),C?_.push(v.renderActiveDot(L,xe(xe({},H),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(k))):A&&_.push(null),_}),He(E,"renderGraphicChild",function(N,S,T){var C=E.filterFormatItem(N,S,T);if(!C)return null;var k=E.getTooltipEventType(),A=E.state,_=A.isTooltipActive,I=A.tooltipAxis,M=A.activeTooltipIndex,L=A.activeLabel,W=E.props.children,H=da(W,Rn),q=C.props,B=q.points,F=q.isRange,ne=q.baseLine,U=C.item.type.defaultProps!==void 0?xe(xe({},C.item.type.defaultProps),C.item.props):C.item.props,R=U.activeDot,K=U.hide,J=U.activeBar,te=U.activeShape,re=!!(!K&&_&&H&&(R||J||te)),P={};k!=="axis"&&H&&H.props.trigger==="click"?P={onClick:u0(E.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(P={onMouseLeave:u0(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:u0(E.handleItemMouseEnter,N.props.onMouseEnter)});var z=w.cloneElement(N,xe(xe({},C.props),P));function D(Wt){return typeof I.dataKey=="function"?I.dataKey(Wt.payload):null}if(re)if(M>=0){var G,O;if(I.dataKey&&!I.allowDuplicatedCategory){var fe=typeof I.dataKey=="function"?D:"payload.".concat(I.dataKey.toString());G=e2(B,fe,L),O=F&&ne&&e2(ne,fe,L)}else G=B==null?void 0:B[M],O=F&&ne&&ne[M];if(te||J){var ie=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[w.cloneElement(N,xe(xe(xe({},C.props),P),{},{activeIndex:ie})),null,null]}if(!_t(G))return[z].concat(gd(E.renderActivePoints({item:C,activePoint:G,basePoint:O,childIndex:M,isRange:F})))}else{var ue,ye=(ue=E.getItemByXY(E.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:z},oe=ye.graphicalItem,we=oe.item,$e=we===void 0?N:we,ze=oe.childIndex,Ve=xe(xe(xe({},C.props),P),{},{activeIndex:ze});return[w.cloneElement($e,Ve),null,null]}return F?[z,null,null]:[z,null]}),He(E,"renderCustomized",function(N,S,T){return w.cloneElement(N,xe(xe({key:"recharts-customized-".concat(T)},E.props),E.state))}),He(E,"renderMap",{CartesianGrid:{handler:h0,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:h0},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:h0},YAxis:{handler:h0},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Xv("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=kL(E.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),E.state={},E}return ISe(v,x),kSe(v,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,E=y.data,N=y.height,S=y.layout,T=da(j,Rn);if(T){var C=T.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=wS(this.state,E,C,k),_=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+N)/2,M=S==="horizontal",L=M?{x:_,y:I}:{y:_,x:I},W=this.state.formattedGraphicalItems.find(function(q){var B=q.item;return B.type.name==="Scatter"});W&&(L=xe(xe({},L),W.props.points[C].tooltipPosition),A=W.props.points[C].tooltipPayload);var H={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:L};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){r2([da(y.children,Rn)],[da(this.props.children,Rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=da(this.props.children,Rn);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,E=j.getBoundingClientRect(),N=$fe(E),S={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},T=E.width/j.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,T);if(!C)return null;var k=this.state,A=k.xAxisMap,_=k.yAxisMap,I=this.getTooltipEventType(),M=QI(this.state,this.props.data,this.props.layout,C);if(I!=="axis"&&A&&_){var L=go(A).scale,W=go(_).scale,H=L&&L.invert?L.invert(S.chartX):null,q=W&&W.invert?W.invert(S.chartY):null;return xe(xe({},S),{},{xValue:H,yValue:q},M)}return M?xe(xe({},S),M):null}},{key:"inRange",value:function(y,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=y/E,T=j/E;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,k=S>=C.left&&S<=C.left+C.width&&T>=C.top&&T<=C.top+C.height;return k?{x:S,y:T}:null}var A=this.state,_=A.angleAxisMap,I=A.radiusAxisMap;if(_&&I){var M=go(_);return D4({x:S,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),E=da(y,Rn),N={};E&&j==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Mg(this.props,this.handleOuterEvent);return xe(xe({},S),N)}},{key:"addListener",value:function(){i1.on(s1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){i1.removeListener(s1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,E){for(var N=this.state.formattedGraphicalItems,S=0,T=N.length;S<T;S++){var C=N[S];if(C.item===y||C.props.key===y.key||j===bs(C.item.type)&&E===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,E=j.left,N=j.top,S=j.height,T=j.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:y},ae.createElement("rect",{x:E,y:N,height:S,width:T})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,E){var N=KI(E,2),S=N[0],T=N[1];return xe(xe({},j),{},He({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,E){var N=KI(E,2),S=N[0],T=N[1];return xe(xe({},j),{},He({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,E=j.formattedGraphicalItems,N=j.activeItem;if(E&&E.length)for(var S=0,T=E.length;S<T;S++){var C=E[S],k=C.props,A=C.item,_=A.type.defaultProps!==void 0?xe(xe({},A.type.defaultProps),A.props):A.props,I=bs(A.type);if(I==="Bar"){var M=(k.data||[]).find(function(q){return wye(y,q)});if(M)return{graphicalItem:C,payload:M}}else if(I==="RadialBar"){var L=(k.data||[]).find(function(q){return D4(y,q)});if(L)return{graphicalItem:C,payload:L}}else if(my(C,N)||py(C,N)||bp(C,N)){var W=Ebe({graphicalItem:C,activeTooltipItem:N,itemData:_.data}),H=_.activeIndex===void 0?W:_.activeIndex;return{graphicalItem:xe(xe({},C),{},{childIndex:H}),payload:bp(C,N)?_.data[W]:C.props.data[W]}}}return null}},{key:"render",value:function(){var y=this;if(!_T(this))return null;var j=this.props,E=j.children,N=j.className,S=j.width,T=j.height,C=j.style,k=j.compact,A=j.title,_=j.desc,I=YI(j,bSe),M=St(I,!1);if(k)return ae.createElement(RI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(a2,fu({},M,{width:S,height:T,title:A,desc:_}),this.renderClipPath(),CT(E,this.renderMap)));if(this.props.accessibilityLayer){var L,W;M.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,M.role=(W=this.props.role)!==null&&W!==void 0?W:"application",M.onKeyDown=function(q){y.accessibilityManager.keyboardEvent(q)},M.onFocus=function(){y.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ae.createElement(RI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",fu({className:dt("recharts-wrapper",N),style:xe({position:"relative",cursor:"default",width:S,height:T},C)},H,{ref:function(B){y.container=B}}),ae.createElement(a2,fu({},M,{width:S,height:T,title:A,desc:_,style:MSe}),this.renderClipPath(),CT(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);He(h,"displayName",r),He(h,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(h,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,y=x.data,j=x.children,E=x.width,N=x.height,S=x.layout,T=x.stackOffset,C=x.margin,k=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var _=ZI(x);return xe(xe(xe({},_),{},{updateId:0},p(xe(xe({props:x},_),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:C,prevChildren:j})}if(b!==v.prevDataKey||y!==v.prevData||E!==v.prevWidth||N!==v.prevHeight||S!==v.prevLayout||T!==v.prevStackOffset||!_u(C,v.prevMargin)){var I=ZI(x),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},L=xe(xe({},QI(v,y,S)),{},{updateId:v.updateId+1}),W=xe(xe(xe({},I),M),L);return xe(xe(xe({},W),p(xe({props:x},W),v)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:C,prevChildren:j})}if(!r2(j,v.prevChildren)){var H,q,B,F,ne=da(j,od),U=ne&&(H=(q=ne.props)===null||q===void 0?void 0:q.startIndex)!==null&&H!==void 0?H:k,R=ne&&(B=(F=ne.props)===null||F===void 0?void 0:F.endIndex)!==null&&B!==void 0?B:A,K=U!==k||R!==A,J=!_t(y),te=J&&!K?v.updateId:v.updateId+1;return xe(xe({updateId:te},p(xe(xe({props:x},v),{},{updateId:te,dataStartIndex:U,dataEndIndex:R}),v)),{},{prevChildren:j,dataStartIndex:U,dataEndIndex:R})}return null}),He(h,"renderActiveDot",function(x,v,b){var y;return w.isValidElement(x)?y=w.cloneElement(x,v):lt(x)?y=x(v):y=ae.createElement(G8,v),ae.createElement(Hr,{className:"recharts-active-dot",key:b},y)});var g=w.forwardRef(function(v,b){return ae.createElement(h,fu({},v,{ref:b}))});return g.displayName=h.displayName,g},xd=GSe({chartName:"BarChart",GraphicalChild:Ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ds},{axisType:"yAxis",AxisComp:Fs}],formatAxisMap:K1e});const hh=[{id:"1",name:"Clientes Tengo!",products:[{id:"p1",name:"Tengo Alimentación sustentable"},{id:"p2",name:"Tengo Despensa"},{id:"p3",name:"Tengo Uniforme"},{id:"p4",name:"Tengo Combustible"},{id:"p5",name:"Tengo Lealtad"},{id:"p6",name:"Tengo Viajes"},{id:"p7",name:"Teletrabajo"},{id:"p8",name:"Vales papel"},{id:"p9",name:"Afiliados Tengo!"}]},{id:"2",name:"Infonavit",products:[{id:"p1",name:"Mejoravit"},{id:"p2",name:"Mejora y construye"}]},{id:"3",name:"Boveda Virtual Morales",products:[{id:"p1",name:"Boveda virtual B2B"}]},{id:"4",name:"Adquirencia",products:[{id:"p1",name:"bim sponsor"},{id:"p2",name:"cliente directo"}]},{id:"5",name:"Crédito",products:[{id:"p1",name:"Adelanto subsidio"},{id:"p2",name:"DXN B2G"},{id:"p3",name:"DxN B2B"},{id:"p4",name:"Simple B2C"},{id:"p5",name:"Simple B2C"},{id:"p6",name:"IFC"},{id:"p7",name:"Simple US-MX B2C"},{id:"p8",name:"Revolvente B2C"},{id:"p9",name:"Mars"},{id:"p10",name:"Revolvente B2B"},{id:"p11",name:"Revolvente US-MX B2C"},{id:"p12",name:"Especial"},{id:"p13",name:"Plazo Pago Dispersión"},{id:"p14",name:"Factoraje"},{id:"p15",name:"Adelanto Nómina B2C"},{id:"p16",name:"Adelanto Ventas"}]},{id:"6",name:"Nafin",products:[{id:"p1",name:"Nafin"}]}],XSe="6",KSe=hh.map(e=>({...e,isSelectable:e.id===XSe})),tP="#3b82f6",YSe=["Solicitud de Producto","Envío de credenciales","Recepción documental","Revisión humana","Generación de cédula","Resolución de solicitud","Términos y condiciones"],rP="dashboard_stats_cache_nafin",M$=w.forwardRef((e,t)=>{var p,h;const{user:r}=mt(),n=((p=r==null?void 0:r.adminTeam)==null?void 0:p.id)??"",[a,i]=w.useState([]),[s,l]=w.useState([]),[c,u]=w.useState(!1),d=w.useRef({subprocesos:null,productos:null}),f=((h=KSe.find(g=>g.id==="6"))==null?void 0:h.products.map(g=>g.name))??[];w.useEffect(()=>{const g=localStorage.getItem(rP);if(g)try{const x=JSON.parse(g);x.subprocesos&&x.productos&&(d.current=x,i(x.subprocesos),l(x.productos))}catch{console.warn("⚠️ Error al leer cache local")}},[]);const m=async(g=!1)=>{if(!n)return;const{subprocesos:x,productos:v}=d.current;if(!g&&x&&v){i(x),l(v);return}u(!0);const b=YSe.map(async(S,T)=>{const C=await SE(n,T+1);return{name:S,value:C}}),y=f.map(async S=>{const T=await NE(n,S);return{name:S,value:T}}),[j,E]=await Promise.all([Promise.all(b),Promise.all(y)]),N={subprocesos:j,productos:E};d.current=N,localStorage.setItem(rP,JSON.stringify(N)),i(j),l(E),u(!1)};return w.useImperativeHandle(t,()=>({updateNow:m})),c?o.jsx("div",{className:"flex items-center justify-center h-[500px]",children:o.jsx("p",{className:"text-gray-500 text-lg",children:"Cargando estadísticas..."})}):o.jsxs("div",{className:"pt-8 bg-gray-100",children:[o.jsx("div",{className:"flex justify-end pr-4",children:o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition",title:"Recargar estadísticas",children:[o.jsx(rQ,{className:"w-5 h-5 mr-1"}),"Recargar estadísticas"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-2",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Etapa de Proceso"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:a,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:a.map((g,x)=>o.jsx(Uo,{fill:tP},`sub-cell-${x}`))})]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Producto"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:s,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:s.map((g,x)=>o.jsx(Uo,{fill:tP},`prod-cell-${x}`))})]})})]})]})]})});function L$({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return w.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),o.jsx("p",{className:"text-gray-600 mt-2",children:a}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}function $$(e,t){return function(){return e.apply(t,arguments)}}const{toString:JSe}=Object.prototype,{getPrototypeOf:Mj}=Object,wy=(e=>t=>{const r=JSe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ci=e=>(e=e.toLowerCase(),t=>wy(t)===e),Sy=e=>t=>typeof t===e,{isArray:Xd}=Array,kp=Sy("undefined");function QSe(e){return e!==null&&!kp(e)&&e.constructor!==null&&!kp(e.constructor)&&ba(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const B$=Ci("ArrayBuffer");function ZSe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&B$(e.buffer),t}const eNe=Sy("string"),ba=Sy("function"),z$=Sy("number"),Ny=e=>e!==null&&typeof e=="object",tNe=e=>e===!0||e===!1,eg=e=>{if(wy(e)!=="object")return!1;const t=Mj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rNe=Ci("Date"),nNe=Ci("File"),aNe=Ci("Blob"),iNe=Ci("FileList"),sNe=e=>Ny(e)&&ba(e.pipe),oNe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ba(e.append)&&((t=wy(e))==="formdata"||t==="object"&&ba(e.toString)&&e.toString()==="[object FormData]"))},lNe=Ci("URLSearchParams"),[cNe,uNe,dNe,fNe]=["ReadableStream","Request","Response","Headers"].map(Ci),mNe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Xd(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(n=0;n<s;n++)l=i[n],t.call(null,e[l],l,e)}}function U$(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q$=e=>!kp(e)&&e!==Ol;function SS(){const{caseless:e}=q$(this)&&this||{},t={},r=(n,a)=>{const i=e&&U$(t,a)||a;eg(t[i])&&eg(n)?t[i]=SS(t[i],n):eg(n)?t[i]=SS({},n):Xd(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&gh(arguments[n],r);return t}const pNe=(e,t,r,{allOwnKeys:n}={})=>(gh(t,(a,i)=>{r&&ba(a)?e[i]=$$(a,r):e[i]=a},{allOwnKeys:n}),e),hNe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gNe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xNe=(e,t,r,n)=>{let a,i,s;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=r!==!1&&Mj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vNe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},yNe=e=>{if(!e)return null;if(Xd(e))return e;let t=e.length;if(!z$(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},bNe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mj(Uint8Array)),wNe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},SNe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},NNe=Ci("HTMLFormElement"),ENe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),nP=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jNe=Ci("RegExp"),V$=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gh(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},_Ne=e=>{V$(e,(t,r)=>{if(ba(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ba(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kNe=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Xd(e)?n(e):n(String(e).split(t)),r},CNe=()=>{},TNe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,l1="abcdefghijklmnopqrstuvwxyz",aP="0123456789",H$={DIGIT:aP,ALPHA:l1,ALPHA_DIGIT:l1+l1.toUpperCase()+aP},ANe=(e=16,t=H$.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function INe(e){return!!(e&&ba(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const PNe=e=>{const t=new Array(10),r=(n,a)=>{if(Ny(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Xd(n)?[]:{};return gh(n,(s,l)=>{const c=r(s,a+1);!kp(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},ONe=Ci("AsyncFunction"),RNe=e=>e&&(Ny(e)||ba(e))&&ba(e.then)&&ba(e.catch),W$=((e,t)=>e?setImmediate:t?((r,n)=>(Ol.addEventListener("message",({source:a,data:i})=>{a===Ol&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ol.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ba(Ol.postMessage)),DNe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ol):typeof process<"u"&&process.nextTick||W$,pe={isArray:Xd,isArrayBuffer:B$,isBuffer:QSe,isFormData:oNe,isArrayBufferView:ZSe,isString:eNe,isNumber:z$,isBoolean:tNe,isObject:Ny,isPlainObject:eg,isReadableStream:cNe,isRequest:uNe,isResponse:dNe,isHeaders:fNe,isUndefined:kp,isDate:rNe,isFile:nNe,isBlob:aNe,isRegExp:jNe,isFunction:ba,isStream:sNe,isURLSearchParams:lNe,isTypedArray:bNe,isFileList:iNe,forEach:gh,merge:SS,extend:pNe,trim:mNe,stripBOM:hNe,inherits:gNe,toFlatObject:xNe,kindOf:wy,kindOfTest:Ci,endsWith:vNe,toArray:yNe,forEachEntry:wNe,matchAll:SNe,isHTMLForm:NNe,hasOwnProperty:nP,hasOwnProp:nP,reduceDescriptors:V$,freezeMethods:_Ne,toObjectSet:kNe,toCamelCase:ENe,noop:CNe,toFiniteNumber:TNe,findKey:U$,global:Ol,isContextDefined:q$,ALPHABET:H$,generateString:ANe,isSpecCompliantForm:INe,toJSONObject:PNe,isAsyncFn:ONe,isThenable:RNe,setImmediate:W$,asap:DNe};function rt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}pe.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const G$=rt.prototype,X$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{X$[e]={value:e}});Object.defineProperties(rt,X$);Object.defineProperty(G$,"isAxiosError",{value:!0});rt.from=(e,t,r,n,a,i)=>{const s=Object.create(G$);return pe.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),rt.call(s,e.message,t,r,n,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const FNe=null;function NS(e){return pe.isPlainObject(e)||pe.isArray(e)}function K$(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function iP(e,t,r){return e?e.concat(t).map(function(a,i){return a=K$(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function MNe(e){return pe.isArray(e)&&!e.some(NS)}const LNe=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Ey(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!pe.isUndefined(x[g])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(pe.isDate(h))return h.toISOString();if(!c&&pe.isBlob(h))throw new rt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(h)||pe.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,x){let v=h;if(h&&!x&&typeof h=="object"){if(pe.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(pe.isArray(h)&&MNe(h)||(pe.isFileList(h)||pe.endsWith(g,"[]"))&&(v=pe.toArray(h)))return g=K$(g),v.forEach(function(y,j){!(pe.isUndefined(y)||y===null)&&t.append(s===!0?iP([g],j,i):s===null?g:g+"[]",u(y))}),!1}return NS(h)?!0:(t.append(iP(x,g,i),u(h)),!1)}const f=[],m=Object.assign(LNe,{defaultVisitor:d,convertValue:u,isVisitable:NS});function p(h,g){if(!pe.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),pe.forEach(h,function(v,b){(!(pe.isUndefined(v)||v===null)&&a.call(t,v,pe.isString(b)?b.trim():b,g,m))===!0&&p(v,g?g.concat(b):[b])}),f.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return p(e),t}function sP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Lj(e,t){this._pairs=[],e&&Ey(e,this,t)}const Y$=Lj.prototype;Y$.append=function(t,r){this._pairs.push([t,r])};Y$.toString=function(t){const r=t?function(n){return t.call(this,n,sP)}:sP;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function $Ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J$(e,t,r){if(!t)return e;const n=r&&r.encode||$Ne,a=r&&r.serialize;let i;if(a?i=a(t,r):i=pe.isURLSearchParams(t)?t.toString():new Lj(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class oP{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Q$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BNe=typeof URLSearchParams<"u"?URLSearchParams:Lj,zNe=typeof FormData<"u"?FormData:null,UNe=typeof Blob<"u"?Blob:null,qNe={isBrowser:!0,classes:{URLSearchParams:BNe,FormData:zNe,Blob:UNe},protocols:["http","https","file","blob","url","data"]},$j=typeof window<"u"&&typeof document<"u",ES=typeof navigator=="object"&&navigator||void 0,VNe=$j&&(!ES||["ReactNative","NativeScript","NS"].indexOf(ES.product)<0),HNe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WNe=$j&&window.location.href||"http://localhost",GNe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$j,hasStandardBrowserEnv:VNe,hasStandardBrowserWebWorkerEnv:HNe,navigator:ES,origin:WNe},Symbol.toStringTag,{value:"Module"})),ea={...GNe,...qNe};function XNe(e,t){return Ey(e,new ea.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return ea.isNode&&pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function KNe(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YNe(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function Z$(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=i>=r.length;return s=!s&&pe.isArray(a)?a.length:s,c?(pe.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!l):((!a[s]||!pe.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&pe.isArray(a[s])&&(a[s]=YNe(a[s])),!l)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(n,a)=>{t(KNe(n),a,r,0)}),r}return null}function JNe(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const xh={transitional:Q$,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=pe.isObject(t);if(i&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a?JSON.stringify(Z$(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return XNe(t,this.formSerializer).toString();if((l=pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ey(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),JNe(t)):t}],transformResponse:[function(t){const r=this.transitional||xh.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?rt.from(l,rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{xh.headers[e]={}});const QNe=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZNe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&QNe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lP=Symbol("internals");function Cf(e){return e&&String(e).trim().toLowerCase()}function tg(e){return e===!1||e==null?e:pe.isArray(e)?e.map(tg):String(e)}function eEe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tEe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function c1(e,t,r,n,a){if(pe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!pe.isString(t)){if(pe.isString(n))return t.indexOf(n)!==-1;if(pe.isRegExp(n))return n.test(t)}}function rEe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nEe(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}class ta{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,u){const d=Cf(c);if(!d)throw new Error("header name must be a non-empty string");const f=pe.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=tg(l))}const s=(l,c)=>pe.forEach(l,(u,d)=>i(u,d,c));if(pe.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(pe.isString(t)&&(t=t.trim())&&!tEe(t))s(ZNe(t),r);else if(pe.isHeaders(t))for(const[l,c]of t.entries())i(c,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=Cf(t),t){const n=pe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return eEe(a);if(pe.isFunction(r))return r.call(this,a,n);if(pe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Cf(t),t){const n=pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||c1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=Cf(s),s){const l=pe.findKey(n,s);l&&(!r||c1(n,n[l],l,r))&&(delete n[l],a=!0)}}return pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||c1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return pe.forEach(this,(a,i)=>{const s=pe.findKey(n,i);if(s){r[s]=tg(a),delete r[i];return}const l=t?rEe(i):String(i).trim();l!==i&&delete r[i],r[l]=tg(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[lP]=this[lP]={accessors:{}}).accessors,a=this.prototype;function i(s){const l=Cf(s);n[l]||(nEe(a,s),n[l]=!0)}return pe.isArray(t)?t.forEach(i):i(t),this}}ta.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(ta.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});pe.freezeMethods(ta);function u1(e,t){const r=this||xh,n=t||r,a=ta.from(n.headers);let i=n.data;return pe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function eB(e){return!!(e&&e.__CANCEL__)}function Kd(e,t,r){rt.call(this,e??"canceled",rt.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(Kd,rt,{__CANCEL__:!0});function tB(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new rt("Request failed with status code "+r.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function aEe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function iEe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),r[a]=c,n[a]=u;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function sEe(e,t){let r=0,n=1e3/t,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const Rx=(e,t,r=3)=>{let n=0;const a=iEe(50,250);return sEe(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=l;n=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-s)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},cP=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uP=e=>(...t)=>pe.asap(()=>e(...t)),oEe=ea.hasStandardBrowserEnv?function(){const t=ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent),r=document.createElement("a");let n;function a(i){let s=i;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){const l=pe.isString(s)?a(s):s;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}(),lEe=ea.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const s=[e+"="+encodeURIComponent(t)];pe.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),pe.isString(n)&&s.push("path="+n),pe.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cEe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uEe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rB(e,t){return e&&!cEe(t)?uEe(e,t):t}const dP=e=>e instanceof ta?{...e}:e;function lc(e,t){t=t||{};const r={};function n(u,d,f){return pe.isPlainObject(u)&&pe.isPlainObject(d)?pe.merge.call({caseless:f},u,d):pe.isPlainObject(d)?pe.merge({},d):pe.isArray(d)?d.slice():d}function a(u,d,f){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function i(u,d){if(!pe.isUndefined(d))return n(void 0,d)}function s(u,d){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,d)=>a(dP(u),dP(d),!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||a,m=f(e[d],t[d],d);pe.isUndefined(m)&&f!==l||(r[d]=m)}),r}const nB=e=>{const t=lc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;t.headers=s=ta.from(s),t.url=J$(rB(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(pe.isFormData(r)){if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ea.hasStandardBrowserEnv&&(n&&pe.isFunction(n)&&(n=n(t)),n||n!==!1&&oEe(t.url))){const u=a&&i&&lEe.read(i);u&&s.set(a,u)}return t},dEe=typeof XMLHttpRequest<"u",fEe=dEe&&function(e){return new Promise(function(r,n){const a=nB(e);let i=a.data;const s=ta.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,p,h;function g(){p&&p(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function v(){if(!x)return;const y=ta.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:e,request:x};tB(function(S){r(S),g()},function(S){n(S),g()},E),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new rt("Request aborted",rt.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new rt("Network Error",rt.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Q$;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new rt(j,E.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&pe.forEach(s.toJSON(),function(j,E){x.setRequestHeader(E,j)}),pe.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([m,h]=Rx(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,p]=Rx(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=y=>{x&&(n(!y||y.type?new Kd(null,e,x):y),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=aEe(a.url);if(b&&ea.protocols.indexOf(b)===-1){n(new rt("Unsupported protocol "+b+":",rt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},mEe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof rt?d:new Kd(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new rt(`timeout ${t} of ms exceeded`,rt.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>pe.asap(l),c}},pEe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},hEe=async function*(e,t){for await(const r of gEe(e))yield*pEe(r,t)},gEe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fP=(e,t,r,n)=>{const a=hEe(e,t);let i=0,s,l=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},jy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aB=jy&&typeof ReadableStream=="function",xEe=jy&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),iB=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vEe=aB&&iB(()=>{let e=!1;const t=new Request(ea.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),mP=64*1024,jS=aB&&iB(()=>pe.isReadableStream(new Response("").body)),Dx={stream:jS&&(e=>e.body)};jy&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dx[t]&&(Dx[t]=pe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new rt(`Response type '${t}' is not supported`,rt.ERR_NOT_SUPPORT,n)})})})(new Response);const yEe=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(ea.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await xEe(e)).byteLength},bEe=async(e,t)=>{const r=pe.toFiniteNumber(e.getContentLength());return r??yEe(t)},wEe=jy&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=nB(e);u=u?(u+"").toLowerCase():"text";let p=mEe([a,i&&i.toAbortSignal()],s),h;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(c&&vEe&&r!=="get"&&r!=="head"&&(x=await bEe(d,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),N;if(pe.isFormData(n)&&(N=E.headers.get("content-type"))&&d.setContentType(N),E.body){const[S,T]=cP(x,Rx(uP(c)));n=fP(E.body,mP,S,T)}}pe.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;h=new Request(t,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let b=await fetch(h);const y=jS&&(u==="stream"||u==="response");if(jS&&(l||y&&g)){const E={};["status","statusText","headers"].forEach(C=>{E[C]=b[C]});const N=pe.toFiniteNumber(b.headers.get("content-length")),[S,T]=l&&cP(N,Rx(uP(l),!0))||[];b=new Response(fP(b.body,mP,S,()=>{T&&T(),g&&g()}),E)}u=u||"text";let j=await Dx[pe.findKey(Dx,u)||"text"](b,e);return!y&&g&&g(),await new Promise((E,N)=>{tB(E,N,{data:j,headers:ta.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:h})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,e,h),{cause:v.cause||v}):rt.from(v,v&&v.code,e,h)}}),_S={http:FNe,xhr:fEe,fetch:wEe};pe.forEach(_S,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pP=e=>`- ${e}`,SEe=e=>pe.isFunction(e)||e===null||e===!1,sB={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let s;if(n=r,!SEe(r)&&(n=_S[(s=String(r)).toLowerCase()],n===void 0))throw new rt(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(pP).join(`
`):" "+pP(i[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:_S};function d1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kd(null,e)}function hP(e){return d1(e),e.headers=ta.from(e.headers),e.data=u1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sB.getAdapter(e.adapter||xh.adapter)(e).then(function(n){return d1(e),n.data=u1.call(e,e.transformResponse,n),n.headers=ta.from(n.headers),n},function(n){return eB(n)||(d1(e),n&&n.response&&(n.response.data=u1.call(e,e.transformResponse,n.response),n.response.headers=ta.from(n.response.headers))),Promise.reject(n)})}const oB="1.7.7",Bj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gP={};Bj.transitional=function(t,r,n){function a(i,s){return"[Axios v"+oB+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,l)=>{if(t===!1)throw new rt(a(s," has been removed"+(r?" in "+r:"")),rt.ERR_DEPRECATED);return r&&!gP[s]&&(gP[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,l):!0}};function NEe(e,t,r){if(typeof e!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const l=e[i],c=l===void 0||s(l,i,e);if(c!==!0)throw new rt("option "+i+" must be "+c,rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rt("Unknown option "+i,rt.ERR_BAD_OPTION)}}const kS={assertOptions:NEe,validators:Bj},no=kS.validators;class Ul{constructor(t){this.defaults=t,this.interceptors={request:new oP,response:new oP}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=lc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&kS.assertOptions(n,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),a!=null&&(pe.isFunction(a)?r.paramsSerializer={serialize:a}:kS.assertOptions(a,{encode:no.function,serialize:no.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&pe.merge(i.common,i[r.method]);i&&pe.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=ta.concat(s,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,m;if(!c){const h=[hP.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,u),m=h.length,d=Promise.resolve(r);f<m;)d=d.then(h[f++],h[f++]);return d}m=l.length;let p=r;for(f=0;f<m;){const h=l[f++],g=l[f++];try{p=h(p)}catch(x){g.call(this,x);break}}try{d=hP.call(this,p)}catch(h){return Promise.reject(h)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=lc(this.defaults,t);const r=rB(t.baseURL,t.url);return J$(r,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){Ul.prototype[t]=function(r,n){return this.request(lc(n||{},{method:t,url:r,data:(n||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,l){return this.request(lc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ul.prototype[t]=r(),Ul.prototype[t+"Form"]=r(!0)});class zj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(l=>{n.subscribe(l),i=l}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,l){n.reason||(n.reason=new Kd(i,s,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new zj(function(a){t=a}),cancel:t}}}function EEe(e){return function(r){return e.apply(null,r)}}function jEe(e){return pe.isObject(e)&&e.isAxiosError===!0}const CS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(CS).forEach(([e,t])=>{CS[t]=e});function lB(e){const t=new Ul(e),r=$$(Ul.prototype.request,t);return pe.extend(r,Ul.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return lB(lc(e,a))},r}const Je=lB(xh);Je.Axios=Ul;Je.CanceledError=Kd;Je.CancelToken=zj;Je.isCancel=eB;Je.VERSION=oB;Je.toFormData=Ey;Je.AxiosError=rt;Je.Cancel=Je.CanceledError;Je.all=function(t){return Promise.all(t)};Je.spread=EEe;Je.isAxiosError=jEe;Je.mergeConfig=lc;Je.AxiosHeaders=ta;Je.formToJSON=e=>Z$(pe.isHTMLForm(e)?new FormData(e):e);Je.getAdapter=sB.getAdapter;Je.HttpStatusCode=CS;Je.default=Je;const f1={"auth/claims-too-large":"La información adicional del usuario es demasiado grande.","auth/email-already-exists":"El correo electrónico ya está registrado.","auth/id-token-expired":"La sesión ha expirado. Por favor, vuelva a iniciar sesión.","auth/id-token-revoked":"La sesión ha sido revocada.","auth/insufficient-permission":"No tienes permisos para realizar esta acción.","auth/internal-error":"Ocurrió un error interno. Inténtalo de nuevo más tarde.","auth/invalid-argument":"Se proporcionó un argumento inválido.","auth/invalid-claims":"La información adicional del usuario es inválida.","auth/invalid-continue-uri":"La URL de continuación no es válida.","auth/invalid-creation-time":"La hora de creación no es válida.","auth/invalid-credential":"Las credenciales son inválidas.","auth/invalid-disabled-field":"El valor del campo 'deshabilitado' no es válido.","auth/invalid-display-name":"El nombre para mostrar no es válido.","auth/invalid-dynamic-link-domain":"El dominio del enlace dinámico no es válido.","auth/invalid-email":"El correo electrónico no es válido.","auth/invalid-email-verified":"El valor de 'correo electrónico verificado' no es válido.","auth/invalid-hash-algorithm":"El algoritmo de hash no es válido.","auth/invalid-hash-block-size":"El tamaño del bloque de hash no es válido.","auth/invalid-hash-derived-key-length":"La longitud de la clave derivada del hash no es válida.","auth/invalid-hash-key":"La clave de hash no es válida.","auth/invalid-hash-memory-cost":"El costo de memoria del hash no es válido.","auth/invalid-hash-parallelization":"La paralelización del hash no es válida.","auth/invalid-hash-rounds":"El número de rondas del hash no es válido.","auth/invalid-hash-salt-separator":"El separador de sal del hash no es válido.","auth/invalid-id-token":"El token de ID no es válido.","auth/invalid-last-sign-in-time":"La hora del último inicio de sesión no es válida.","auth/invalid-page-token":"El token de página no es válido.","auth/invalid-password":"La contraseña debe tener al menos 6 caracteres.","auth/invalid-password-hash":"El hash de la contraseña no es válido.","auth/invalid-password-salt":"La sal de la contraseña no es válida.","auth/invalid-phone-number":"El número de teléfono no es válido.","auth/invalid-photo-url":"La URL de la foto no es válida.","auth/invalid-provider-data":"Los datos del proveedor no son válidos.","auth/invalid-provider-id":"El ID del proveedor no es válido.","auth/invalid-oauth-responsetype":"El tipo de respuesta OAuth no es válido.","auth/invalid-session-cookie-duration":"La duración de la cookie de sesión no es válida.","auth/invalid-uid":"El UID no es válido.","auth/invalid-user-import":"La importación de usuario no es válida.","auth/maximum-user-count-exceeded":"Se ha excedido el número máximo de usuarios.","auth/missing-android-pkg-name":"Falta el nombre del paquete de Android.","auth/missing-continue-uri":"Falta la URL de continuación.","auth/missing-hash-algorithm":"Falta el algoritmo de hash.","auth/missing-ios-bundle-id":"Falta el ID del paquete de iOS.","auth/missing-uid":"Falta el UID.","auth/missing-oauth-client-secret":"Falta el secreto del cliente OAuth.","auth/operation-not-allowed":"La operación no está permitida.","auth/phone-number-already-exists":"El número de teléfono ya está registrado.","auth/project-not-found":"No se encontró el proyecto.","auth/reserved-claims":"Se están utilizando reclamaciones reservadas.","auth/session-cookie-expired":"La cookie de sesión ha expirado.","auth/session-cookie-revoked":"La cookie de sesión ha sido revocada.","auth/too-many-requests":"Demasiadas solicitudes. Inténtalo de nuevo más tarde.","auth/uid-already-exists":"El UID ya está registrado.","auth/unauthorized-continue-uri":"La URL de continuación no está autorizada.","auth/user-not-found":"El usuario no existe.",default:"Ocurrió un error desconocido. Inténtalo de nuevo más tarde."},_Ee=e=>e?f1[e]||f1.default:(console.log("no se recibio nada"),f1.default),vh=e=>{var t;if(Je.isAxiosError(e)&&e.response){const r=((t=e.response.data)==null?void 0:t.message)||"Error desconocido desde el servidor";return{success:!1,message:_Ee(r)}}else return e instanceof Error?{success:!1,message:e.message}:{success:!1,message:"Error desconocido"}},Vo={base:"https://documentaibackend-269526555085.us-central1.run.app",routes:{registerUser:"/api/user/register",deleteUser:"/api/user/delete",generateToken:"/api/auth/token",setAdminRole:"/api/admin/set/admin-role"}},Au={base:"https://sendtwiliomails-269526555085.us-central1.run.app",token:"tokendemailer",routes:{sendEmail:"/send-email/nafin",sendEmailTengo:"/send-email/tengo"}},Iu={base:"https://documentaiservices-269526555085.us-central1.run.app",token:"codigodeacceso",routes:{analyzeInfo:"/analyze_info",analyzeUrlPdf:"/analyze_url_pdf/"}},Tf={base:"http://127.0.0.1:8000",token:"codigodeacceso",routes:{situation:"/situacion-financiera/analisis",results:"/resultado-integral/analisis"}},vd={base:"https://bucketdocs-269526555085.us-central1.run.app",token:"tokendebucket",routes:{upload:"/upload/"}},m1={base:"https://pdfformatgenerator-269526555085.us-central1.run.app",token:"tokenpdfgenerator",routes:{generateLink:"/generate-pdf-link"}},xP={base:"https://www.banxico.org.mx",routes:{exchangeRate:"/SieAPIRest/service/v1/series/SF43718/datos/oportuno"}},_y=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Je.post(`${Vo.base}${Vo.routes.registerUser}`,e,r);return console.log("Se registró el usuario en Firebase correctamente"),{success:!0,uid:n.data.uid,message:n.data.message}}catch(r){return console.log("Error al registrar el usuario en Firebase",r),vh(r)}},yh=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`},data:e},n=await Je.delete(`${Vo.base}${Vo.routes.deleteUser}`,r);return console.log("Usuario eliminado correctamente de Firebase"),{success:!0,message:n.data.message}}catch(r){return console.log("Error al eliminar el usuario en Firebase",r),vh(r)}},kEe=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Je.post(`${Vo.base}${Vo.routes.setAdminRole}`,{email:e},r);return console.log("Rol de administrador asignado correctamente"),{success:!0,message:n.data.message}}catch(r){return console.log("Error al asignar rol de administrador",r),{success:!1,message:vh(r).message}}},Uj=async(e,t)=>{try{const r={headers:{Authorization:`Bearer ${t}`}},n=await Je.post(`${Vo.base}${Vo.routes.generateToken}`,e,r);return console.log("Se generó el token correctamente "),{success:!0,token:n.data.token}}catch(r){return console.log("Error al generar el token",r),vh(r)}},yd=async(e,t,r,n,a,i)=>{try{const s=new FormData;return s.append("to_email",e),s.append("cc_emails",JSON.stringify(t?t.split(",").map(l=>l.trim()):[])),s.append("subject",r),s.append("content",n),await Je.post(`${Au.base}${Au.routes.sendEmail}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Au.token}`}}),!0}catch(s){return console.error("Error al enviar el correo:",s),!1}},cc=async(e,t,r,n,a,i)=>{try{const s=new FormData;return s.append("to_email",e),s.append("cc_emails",JSON.stringify(t?t.split(",").map(l=>l.trim()):[])),s.append("subject",r),s.append("content",n),await Je.post(`${Au.base}${Au.routes.sendEmailTengo}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Au.token}`}}),!0}catch(s){return console.error("Error al enviar el correo (Tengo):",s),!1}},qj=async(e,t)=>{const r={prompt:e,contexto:t};return(await Je.post(`${Iu.base}${Iu.routes.analyzeInfo}`,r,{headers:{Authorization:`Bearer ${Iu.token}`,"Content-Type":"application/json"}})).data},CEe=async({downloadUrl:e,pages:t,year:r,type:n})=>{const a=n==="situacion"?`${Tf.base}${Tf.routes.situation}`:`${Tf.base}${Tf.routes.results}`;return(await Je.post(a,{downloadUrl:e,pages:t,year:r},{headers:{Authorization:`Bearer ${Tf.token}`,"Content-Type":"application/json"}})).data},TEe=async e=>{try{const t={headers:{"Content-Type":"application/json"},responseType:"arraybuffer"},r=await Je.post("https://cliente-tengo-kyc-creator-service-693806845853.us-central1.run.app/kyc/formato",e,t);return console.log("PDF KYC generado correctamente"),{success:!0,data:r.data}}catch(t){return console.log("Error al generar el KYC PDF",t),vh(t)}},cB=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?[]:t.requiredDocuments.filter(n=>n.isUploaded===!0).map(n=>{const a=n.fileName??"",i=a.includes(".")&&a.split(".").pop()||"pdf";return`${n.id}.${i}`})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},Rr={base:"https://bucketdocs-269526555085.us-central1.run.app",token:"tokendebucket",routes:{downloadDocumentsZip:"/download/documents/zip",uploadOneDriveAll:"/upload/onedrive/all",extractEntities:"/extract_entities/",questions:"/questions/",extractFinancial:"/extract_financial/",delete:"/delete/",deleteMany:"/deleteMany"}},Un=async(e,t="root/",r,n,a,i)=>{if(!r||!n)return console.error("El ID del archivo y el token son obligatorios."),{success:!1};const s=l=>({pdf:"application/pdf",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",csv:"text/csv"})[l.toLowerCase()]||"application/octet-stream";try{const l=`${r}.${a}`,c=await Je.get(`${Rr.base}/generate-download-url`,{params:{file_name:l,folder:t},headers:{Authorization:`Bearer ${Rr.token}`}}),{downloadUrl:u}=c.data,d=s(a);if(e==="view")return{success:!0,data:u,mimeType:d};if(e==="download"){const f=await Je.get(u,{responseType:"blob"}),m=new Blob([f.data]),p=window.URL.createObjectURL(m),h=document.createElement("a");return h.href=p,h.setAttribute("download",i||l),document.body.appendChild(h),h.click(),document.body.removeChild(h),{success:!0}}return{success:!1}}catch(l){return console.error("Error al manejar la solicitud del archivo:",l),{success:!1}}},AEe=async(e="documentos",t,r)=>{try{const n={folder:e,file_ids:t,file_names:r},a=await Je.post(`${Rr.base}${Rr.routes.downloadDocumentsZip}`,n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr.token}`},responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i,s.setAttribute("download","documentos.zip"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){console.error("Error al descargar documentos:",n)}},kc=async(e,t="documentos",r)=>{try{return(await Je.get(`${Rr.base}${Rr.routes.extractEntities}${e}`,{params:{folder:t,tipo_doc:r},headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr.token}`}})).data}catch(n){return console.error("Error al extraer entidades:",n),null}},Vj=async(e,t="documentos",r,n)=>{try{return(await Je.get(`${Rr.base}${Rr.routes.questions}${e}`,{params:{folder:t,tipo_doc:r,question:n},headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr.token}`}})).data}catch(a){return console.error("Error al consultar preguntas AI:",a),null}},IEe=async(e,t="documentos",r)=>{try{return(await Je.get(`${Rr.base}${Rr.routes.extractFinancial}${e}`,{params:{folder:t,tipo_doc:r},headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr.token}`}})).data}catch(n){return console.error("Error al extraer entidades financieras:",n),null}},Yd=async(e,t)=>{const r=new FormData;r.append("file_name",e),r.append("folder",t);try{return(await Je.delete(`${Rr.base}${Rr.routes.delete}`,{data:r,headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Rr.token}`}})).status===200}catch(n){return console.error("Error al eliminar documento:",n),!1}},ky=async(e,t)=>{const r={folder:e,file_names:t};try{return(await Je.delete(`${Rr.base}${Rr.routes.deleteMany}`,{data:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr.token}`}})).status===200}catch(n){return console.error("Error al eliminar documentos:",n),!1}},uB=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await wc({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const l=await Iv({userUid:s});if(!l.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await cB(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await ky("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await Av({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(l.count===1){if(!(await _v({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await yh({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await kv({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}};function PEe(){const{businessProducts:e,setBusinessProducts:t,loading:r}=TE(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&y(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),w.useEffect(()=>{var P;if(!r){const z=Number(localStorage.getItem("dashboard_product_count_nafin")),D=e.reduce((G,O)=>G+O.products.length,0);z!==D&&((P=L.current)==null||P.updateNow(!0),localStorage.setItem("dashboard_product_count_nafin",String(D)))}},[r,e]);const W=P=>{l(P.target.value)},H=P=>{const z=e.find(G=>G.userEmail===P.userEmail&&G.products.some(O=>O.id===P.id)),D=z==null?void 0:z.products.find(G=>G.id===P.id);z&&D&&(n({id:D.id,company:z.name,iconUrl:"",email:z.userEmail,name:z.userName,mailboxId:D.mailboxId??void 0,chatId:D.chatId??void 0,flowStatus:D.flowStatus??void 0,producName:D.productName??void 0}),a("/admin/nafin/product/onboarding"))},q=()=>{a("/admin/nafin/product/request")},B=P=>{I(P),A(!0)},F=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const P=await uB({adminToken:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),P.success){const z=e.map(D=>D.id!==_.clientId?D:{...D,products:D.products.filter(G=>G.id!==_.id)}).filter(D=>D.products.length>0);t(z),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:P.message,details:P.details}),C("error")}},ne=()=>{E(!1)},J=[...e.flatMap(P=>P.products.map(z=>({...z,clientName:P.name,userName:P.userName,userEmail:P.userEmail,ownerAdminEmail:P.ownerAdminEmail,ownerAdminName:P.ownerAdminName,clientId:P.id}))).filter(P=>{var ie,ue,ye;const z=s.toLowerCase(),D=new Date(P.createdAt),[G,O]=x,fe=(!G||D>=new Date(G))&&(!O||D<=new Date(O));return(((ie=P.productName)==null?void 0:ie.toLowerCase().includes(z))||((ue=P.clientName)==null?void 0:ue.toLowerCase().includes(z))||((ye=P.userEmail)==null?void 0:ye.toLowerCase().includes(z)))&&fe})].sort((P,z)=>{if(!m)return 0;const D=P[m],G=z[m];if(D===G)return 0;if(D==null)return 1;if(G==null)return-1;if(m==="createdAt"){const ie=new Date(D).getTime(),ue=new Date(G).getTime();return h==="asc"?ie-ue:ue-ie}const O=String(D).toLowerCase(),fe=String(G).toLowerCase();return h==="asc"?O.localeCompare(fe):fe.localeCompare(O)}).slice((c-1)*d,c*d),te=P=>{m===P?g(z=>z==="asc"?"desc":"asc"):(p(P),g("asc"))},re=({column:P})=>m!==P?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Administrador Nafin"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(P=>!P),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:P=>v([P.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:P=>v([x[0],P.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(re,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(re,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",o.jsx(re,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(re,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(re,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((P,z)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:new Date(P.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(P),children:o.jsx(Zi,{size:16})})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:P=>f(Number(P.target.value)),children:[5,10,20].map(P=>o.jsx("option",{value:P,children:P},P))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(P=>Math.max(P-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(P=>P+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(M$,{ref:L}),o.jsx(L$,{open:k,onClose:()=>A(!1),onConfirm:F}),j&&o.jsx(_n,{onClose:ne,status:T,messages:N})]})}function OEe(){const{businessProducts:e,setBusinessProducts:t,loading:r}=TE(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&y(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),w.useEffect(()=>{var P;if(!r){const z=Number(localStorage.getItem("dashboard_product_count_nafin")),D=e.reduce((G,O)=>G+O.products.length,0);z!==D&&((P=L.current)==null||P.updateNow(!0),localStorage.setItem("dashboard_product_count_nafin",String(D)))}},[r,e]);const W=P=>{l(P.target.value)},H=P=>{const z=e.find(G=>G.userEmail===P.userEmail&&G.products.some(O=>O.id===P.id)),D=z==null?void 0:z.products.find(G=>G.id===P.id);z&&D&&(n({id:D.id,company:z.name,iconUrl:"",email:z.userEmail,name:z.userName,mailboxId:D.mailboxId??void 0,chatId:D.chatId??void 0,flowStatus:D.flowStatus??void 0,producName:D.productName??void 0}),a("/admin/nafin/product/onboarding"))},q=()=>{a("/admin/nafin/product/request")},B=P=>{I(P),A(!0)},F=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const P=await uB({adminToken:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),P.success){const z=e.map(D=>D.id!==_.clientId?D:{...D,products:D.products.filter(G=>G.id!==_.id)}).filter(D=>D.products.length>0);t(z),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:P.message,details:P.details}),C("error")}},ne=()=>{E(!1)},J=[...e.flatMap(P=>P.products.map(z=>({...z,clientName:P.name,userName:P.userName,userEmail:P.userEmail,ownerAdminEmail:P.ownerAdminEmail,ownerAdminName:P.ownerAdminName,clientId:P.id}))).filter(P=>{var ie,ue,ye;const z=s.toLowerCase(),D=new Date(P.createdAt),[G,O]=x,fe=(!G||D>=new Date(G))&&(!O||D<=new Date(O));return(((ie=P.productName)==null?void 0:ie.toLowerCase().includes(z))||((ue=P.clientName)==null?void 0:ue.toLowerCase().includes(z))||((ye=P.userEmail)==null?void 0:ye.toLowerCase().includes(z)))&&fe})].sort((P,z)=>{if(!m)return 0;const D=P[m],G=z[m];if(D===G)return 0;if(D==null)return 1;if(G==null)return-1;if(m==="createdAt"){const ie=new Date(D).getTime(),ue=new Date(G).getTime();return h==="asc"?ie-ue:ue-ie}const O=String(D).toLowerCase(),fe=String(G).toLowerCase();return h==="asc"?O.localeCompare(fe):fe.localeCompare(O)}).slice((c-1)*d,c*d),te=P=>{m===P?g(z=>z==="asc"?"desc":"asc"):(p(P),g("asc"))},re=({column:P})=>m!==P?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador Nafin"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(lr,{size:16}),"Documentos"]}),o.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(ih,{size:16}),"Equipos"]}),o.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),"Nuevo cliente"]})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(P=>!P),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:P=>v([P.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:P=>v([x[0],P.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(re,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(re,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Representante ",o.jsx(re,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(re,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(re,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((P,z)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:new Date(P.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(P),children:o.jsx(Zi,{size:16})})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:P=>f(Number(P.target.value)),children:[5,10,20].map(P=>o.jsx("option",{value:P,children:P},P))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(P=>Math.max(P-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(P=>P+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(M$,{ref:L}),o.jsx(L$,{open:k,onClose:()=>A(!1),onConfirm:F}),j&&o.jsx(_n,{onClose:ne,status:T,messages:N})]})}function REe(){const{user:e}=mt(),t=(e==null?void 0:e.isSuperAdmin)||!1,r=(e==null?void 0:e.isMasterAdmin)||!1;return o.jsx(Yr,{children:r?o.jsx(OEe,{}):t?o.jsx(PEe,{}):o.jsx(wQ,{})})}function DEe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);return w.useEffect(()=>{(async()=>{const a=await NJ();a&&t(a),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}function FEe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}FEe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bh=e=>typeof e=="number"&&!isNaN(e),uc=e=>typeof e=="string",Ms=e=>typeof e=="function",MEe=e=>uc(e)||bh(e),TS=e=>uc(e)||Ms(e)?e:null,LEe=(e,t)=>e===!1||bh(e)&&e>0?e:t,AS=e=>w.isValidElement(e)||uc(e)||Ms(e)||bh(e);function $Ee(e,t,r=300){let{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function BEe({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:i,position:s,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let m=r?`${e}--${s}`:e,p=r?`${t}--${s}`:t,h=w.useRef(0);return w.useLayoutEffect(()=>{let g=u.current,x=m.split(" "),v=b=>{b.target===u.current&&(f(),g.removeEventListener("animationend",v),g.removeEventListener("animationcancel",v),h.current===0&&b.type!=="animationcancel"&&g.classList.remove(...x))};g.classList.add(...x),g.addEventListener("animationend",v),g.addEventListener("animationcancel",v)},[]),w.useEffect(()=>{let g=u.current,x=()=>{g.removeEventListener("animationend",x),n?$Ee(g,c,a):c()};d||(l?x():(h.current=1,g.className+=` ${p}`,g.addEventListener("animationend",x)))},[d]),ae.createElement(ae.Fragment,null,i)}}function vP(e,t){return{content:dB(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function dB(e,t,r=!1){return w.isValidElement(e)&&!uc(e.type)?w.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Ms(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function zEe({closeToast:e,theme:t,ariaLabel:r="close"}){return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function UEe({delay:e,isRunning:t,closeToast:r,type:n="default",hide:a,className:i,controlledProgress:s,progress:l,rtl:c,isIn:u,theme:d}){let f=a||s&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(m.transform=`scaleX(${l})`);let p=dt("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),h=Ms(i)?i({rtl:c,type:n,defaultClassName:p}):dt(p,i),g={[s&&l>=1?"onTransitionEnd":"onAnimationEnd"]:s&&l<1?null:()=>{u&&r()}};return ae.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ae.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),ae.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:h,style:m,...g}))}var qEe=1,fB=()=>`${qEe++}`;function VEe(e,t,r){let n=1,a=0,i=[],s=[],l=t,c=new Map,u=new Set,d=b=>(u.add(b),()=>u.delete(b)),f=()=>{s=Array.from(c.values()),u.forEach(b=>b())},m=({containerId:b,toastId:y,updateId:j})=>{let E=b?b!==e:e!==1,N=c.has(y)&&j==null;return E||N},p=(b,y)=>{c.forEach(j=>{var E;(y==null||y===j.props.toastId)&&((E=j.toggle)==null||E.call(j,b))})},h=b=>{var y,j;(j=(y=b.props)==null?void 0:y.onClose)==null||j.call(y,b.removalReason),b.isActive=!1},g=b=>{if(b==null)c.forEach(h);else{let y=c.get(b);y&&h(y)}f()},x=()=>{a-=i.length,i=[]},v=b=>{var y,j;let{toastId:E,updateId:N}=b.props,S=N==null;b.staleId&&c.delete(b.staleId),b.isActive=!0,c.set(E,b),f(),r(vP(b,S?"added":"updated")),S&&((j=(y=b.props).onOpen)==null||j.call(y))};return{id:e,props:l,observe:d,toggle:p,removeToast:g,toasts:c,clearQueue:x,buildToast:(b,y)=>{if(m(y))return;let{toastId:j,updateId:E,data:N,staleId:S,delay:T}=y,C=E==null;C&&a++;let k={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(y).filter(([_,I])=>I!=null)),toastId:j,updateId:E,data:N,isIn:!1,className:TS(y.className||l.toastClassName),progressClassName:TS(y.progressClassName||l.progressClassName),autoClose:y.isLoading?!1:LEe(y.autoClose,l.autoClose),closeToast(_){c.get(j).removalReason=_,g(j)},deleteToast(){let _=c.get(j);if(_!=null){if(r(vP(_,"removed")),c.delete(j),a--,a<0&&(a=0),i.length>0){v(i.shift());return}f()}}};k.closeButton=l.closeButton,y.closeButton===!1||AS(y.closeButton)?k.closeButton=y.closeButton:y.closeButton===!0&&(k.closeButton=AS(l.closeButton)?l.closeButton:!0);let A={content:b,props:k,staleId:S};l.limit&&l.limit>0&&a>l.limit&&C?i.push(A):bh(T)?setTimeout(()=>{v(A)},T):v(A)},setProps(b){l=b},setToggle:(b,y)=>{let j=c.get(b);j&&(j.toggle=y)},isToastActive:b=>{var y;return(y=c.get(b))==null?void 0:y.isActive},getSnapshot:()=>s}}var Ln=new Map,Cp=[],IS=new Set,HEe=e=>IS.forEach(t=>t(e)),mB=()=>Ln.size>0;function WEe(){Cp.forEach(e=>hB(e.content,e.options)),Cp=[]}var GEe=(e,{containerId:t})=>{var r;return(r=Ln.get(t||1))==null?void 0:r.toasts.get(e)};function pB(e,t){var r;if(t)return!!((r=Ln.get(t))!=null&&r.isToastActive(e));let n=!1;return Ln.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function XEe(e){if(!mB()){Cp=Cp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||MEe(e))Ln.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ln.get(e.containerId);t?t.removeToast(e.id):Ln.forEach(r=>{r.removeToast(e.id)})}}var KEe=(e={})=>{Ln.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function hB(e,t){AS(e)&&(mB()||Cp.push({content:e,options:t}),Ln.forEach(r=>{r.buildToast(e,t)}))}function YEe(e){var t;(t=Ln.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function gB(e,t){Ln.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function JEe(e){let t=e.containerId||1;return{subscribe(r){let n=VEe(t,e,HEe);Ln.set(t,n);let a=n.observe(r);return WEe(),()=>{a(),Ln.delete(t)}},setProps(r){var n;(n=Ln.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Ln.get(t))==null?void 0:r.getSnapshot()}}}function QEe(e){return IS.add(e),()=>{IS.delete(e)}}function ZEe(e){return e&&(uc(e.toastId)||bh(e.toastId))?e.toastId:fB()}function wh(e,t){return hB(e,t),t.toastId}function Cy(e,t){return{...t,type:t&&t.type||e,toastId:ZEe(t)}}function Ty(e){return(t,r)=>wh(t,Cy(e,r))}function se(e,t){return wh(e,Cy("default",t))}se.loading=(e,t)=>wh(e,Cy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function eje(e,{pending:t,error:r,success:n},a){let i;t&&(i=uc(t)?se.loading(t,a):se.loading(t.render,{...a,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){se.dismiss(i);return}let m={type:u,...s,...a,data:f},p=uc(d)?{render:d}:d;return i?se.update(i,{...m,...p}):se(p.render,{...m,...p}),f},c=Ms(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}se.promise=eje;se.success=Ty("success");se.info=Ty("info");se.error=Ty("error");se.warning=Ty("warning");se.warn=se.warning;se.dark=(e,t)=>wh(e,Cy("default",{theme:"dark",...t}));function tje(e){XEe(e)}se.dismiss=tje;se.clearWaitingQueue=KEe;se.isActive=pB;se.update=(e,t={})=>{let r=GEe(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:fB()};i.toastId!==e&&(i.staleId=e);let s=i.render||a;delete i.render,wh(s,i)}};se.done=e=>{se.update(e,{progress:1})};se.onChange=QEe;se.play=e=>gB(!0,e);se.pause=e=>gB(!1,e);function rje(e){var t;let{subscribe:r,getSnapshot:n,setProps:a}=w.useRef(JEe(e)).current;a(e);let i=(t=w.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function s(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:s,isToastActive:pB,count:i==null?void 0:i.length}}function nje(e){let[t,r]=w.useState(!1),[n,a]=w.useState(!1),i=w.useRef(null),s=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;YEe({id:e.toastId,containerId:e.containerId,fn:r}),w.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{p()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||v(),window.addEventListener("focus",x),window.addEventListener("blur",v)}function p(){window.removeEventListener("focus",x),window.removeEventListener("blur",v)}function h(S){if(e.draggable===!0||e.draggable===S.pointerType){b();let T=i.current;s.canCloseOnClick=!0,s.canDrag=!0,T.style.transition="none",e.draggableDirection==="x"?(s.start=S.clientX,s.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(s.start=S.clientY,s.removalDistance=T.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(S){let{top:T,bottom:C,left:k,right:A}=i.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&S.clientX>=k&&S.clientX<=A&&S.clientY>=T&&S.clientY<=C?v():x()}function x(){r(!0)}function v(){r(!1)}function b(){s.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",E)}function y(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",E)}function j(S){let T=i.current;if(s.canDrag&&T){s.didMove=!0,t&&v(),e.draggableDirection==="x"?s.delta=S.clientX-s.start:s.delta=S.clientY-s.start,s.start!==S.clientX&&(s.canCloseOnClick=!1);let C=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;T.style.transform=`translate3d(${C},0)`,T.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function E(){y();let S=i.current;if(s.canDrag&&s.didMove&&S){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let N={onPointerDown:h,onPointerUp:g};return l&&c&&(N.onMouseEnter=v,e.stacked||(N.onMouseLeave=x)),f&&(N.onClick=S=>{d&&d(S),s.canCloseOnClick&&u(!0)}),{playToast:x,pauseToast:v,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:N}}var aje=typeof window<"u"?w.useLayoutEffect:w.useEffect,Ay=({theme:e,type:t,isLoading:r,...n})=>ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function ije(e){return ae.createElement(Ay,{...e},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function sje(e){return ae.createElement(Ay,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function oje(e){return ae.createElement(Ay,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lje(e){return ae.createElement(Ay,{...e},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function cje(){return ae.createElement("div",{className:"Toastify__spinner"})}var PS={info:sje,warning:ije,success:oje,error:lje,spinner:cje},uje=e=>e in PS;function dje({theme:e,type:t,isLoading:r,icon:n}){let a=null,i={theme:e,type:t};return n===!1||(Ms(n)?a=n({...i,isLoading:r}):w.isValidElement(n)?a=w.cloneElement(n,i):r?a=PS.spinner():uje(t)&&(a=PS[t](i))),a}var fje=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:i}=nje(e),{closeButton:s,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:m,transition:p,position:h,className:g,style:x,progressClassName:v,updateId:b,role:y,progress:j,rtl:E,toastId:N,deleteToast:S,isIn:T,isLoading:C,closeOnClick:k,theme:A,ariaLabel:_}=e,I=dt("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":k}),M=Ms(g)?g({rtl:E,position:h,type:d,defaultClassName:I}):dt(I,g),L=dje(e),W=!!j||!c,H={closeToast:m,type:d,theme:A},q=null;return s===!1||(Ms(s)?q=s(H):w.isValidElement(s)?q=w.cloneElement(s,H):q=zEe(H)),ae.createElement(p,{isIn:T,done:S,position:h,preventExitTransition:r,nodeRef:n,playToast:i},ae.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":T,className:M,...a,style:x,ref:n,...T&&{role:y,"aria-label":_}},L!=null&&ae.createElement("div",{className:dt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},L),dB(l,e,!t),q,!e.customProgressBar&&ae.createElement(UEe,{...b&&!W?{key:`p-${b}`}:{},rtl:E,theme:A,delay:c,isRunning:t,isIn:T,closeToast:m,hide:f,type:d,className:v,controlledProgress:W,progress:j||0})))},mje=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),pje=BEe(mje("bounce",!0)),hje={position:"top-right",transition:pje,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function pr(e){let t={...hje,...e},r=e.stacked,[n,a]=w.useState(!0),i=w.useRef(null),{getToastToRender:s,isToastActive:l,count:c}=rje(t),{className:u,style:d,rtl:f,containerId:m,hotKeys:p}=t;function h(x){let v=dt("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":f});return Ms(u)?u({position:x,rtl:f,defaultClassName:v}):dt(v,TS(u))}function g(){r&&(a(!0),se.play())}return aje(()=>{var x;if(r){let v=i.current.querySelectorAll('[data-in="true"]'),b=12,y=(x=t.position)==null?void 0:x.includes("top"),j=0,E=0;Array.from(v).reverse().forEach((N,S)=>{let T=N;T.classList.add("Toastify__toast--stacked"),S>0&&(T.dataset.collapsed=`${n}`),T.dataset.pos||(T.dataset.pos=y?"top":"bot");let C=j*(n?.2:1)+(n?0:b*S);T.style.setProperty("--y",`${y?C:C*-1}px`),T.style.setProperty("--g",`${b}`),T.style.setProperty("--s",`${1-(n?E:0)}`),j+=T.offsetHeight,E+=.025})}},[n,c,r]),w.useEffect(()=>{function x(v){var b;let y=i.current;p(v)&&((b=y.querySelector('[tabIndex="0"]'))==null||b.focus(),a(!1),se.pause()),v.key==="Escape"&&(document.activeElement===y||y!=null&&y.contains(document.activeElement))&&(a(!0),se.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[p]),ae.createElement("section",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{r&&(a(!1),se.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((x,v)=>{let b=v.length?{...d}:{...d,pointerEvents:"none"};return ae.createElement("div",{tabIndex:-1,className:h(x),"data-stacked":r,style:b,key:`c-${x}`},v.map(({content:y,props:j})=>ae.createElement(fje,{...j,stacked:r,collapseAll:g,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},y)))}))}const xB=async(e,t)=>{try{const r=`${Iu.base}${Iu.routes.analyzeUrlPdf}${encodeURIComponent(e)}`;return(await Je.post(r,{downloadUrl:t},{headers:{Authorization:`Bearer ${Iu.token}`,"Content-Type":"application/json"}})).data}catch(r){return console.error("Error al analizar el documento:",r),{success:!1,message:"Error al analizar el documento"}}},ts=async(e,t,r,n)=>{try{const a=t.name.substring(t.name.lastIndexOf("."))||"",i=`${e||"unknown"}${a}`,s=t.type||"application/octet-stream",l=await Je.get(`${vd.base}/generate-upload-url`,{params:{file_name:i,folder:r,content_type:s},headers:{Authorization:`Bearer ${vd.token}`}}),{uploadUrl:c}=l.data;return await Je.put(c,t,{headers:{"Content-Type":s},onUploadProgress:u=>{if(u.total){const d=Math.round(u.loaded*100/u.total);n&&n(d)}}}),!0}catch(a){return console.error("Error al subir el archivo:",a),!1}};async function gje(){const e=Zw.get();if(e)return e;const t=`${xP.base}${xP.routes.exchangeRate}?token=7b2437a8fbda419b1916829fa5bc8bc7a9c21dc08d57f3391a721fe4cf198988`;try{const n=(await Je.get(t)).data.bmx.series[0].datos[0].dato;return n?(Zw.save(n),n):null}catch(r){return console.error("Error al obtener los datos de Banxico:",r),null}}const xje=async(e,t="download")=>{try{const r=`${m1.base}${m1.routes.generateLink}?action=${t}`,n=await Je.post(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${m1.token}`},responseType:"blob"}),a=new Blob([n.data],{type:"application/pdf"}),i=window.URL.createObjectURL(a);if(t==="view")window.open(i,"_blank");else{const s=document.createElement("a");s.href=i,s.download="cedula_elegibilidad_final.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s)}return{success:!0}}catch(r){return console.error("Error al manejar el archivo:",r),{success:!1}}};function vje({history:e,loading:t}){const r=n=>{const a=new Date(n),i=a.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}),s=a.toLocaleTimeString("es-ES",{hour:"numeric",minute:"2-digit",hour12:!0}).replace(/\.? ?m\./g,"m").replace("p m","pm").replace("a m","am");return`${i} a las ${s}`};return o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"min-w-full  px-8 py-6",children:o.jsxs("div",{className:"bg-white rounded-lg border border-blue-200 border-dashed p-6",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-4 flex items-center",children:[o.jsx("span",{className:"w-2.5 h-2.5 bg-blue-200 rounded-full mr-2.5"}),"Historial de cambios"]}),t?o.jsx("div",{className:"flex justify-center items-center py-6",children:o.jsx(at,{className:"w-6 h-6 animate-spin text-blue-600"})}):o.jsx("div",{className:"space-y-6",children:e.map((n,a)=>{const i=a===e.length-1;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center mr-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(ah,{className:"w-4 h-4 text-blue-700"})}),!i&&o.jsx("div",{className:"flex-1 w-0.5 bg-blue-200 mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-[1fr_10px_auto] gap-x-3 items-center w-full",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-900",children:[o.jsx("span",{className:"font-medium",children:n.user}),n.action&&o.jsxs("span",{className:"text-xs text-gray-600",children:["— ",n.action]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.previousStatus&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs font-medium text-gray-700",children:n.previousStatus}),o.jsx(HJ,{className:"w-4 h-4 text-gray-400"})]}),o.jsx(lr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-xs font-semibold text-green-800",children:n.status})]})]}),o.jsx("div",{}),o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 whitespace-nowrap self-end",children:[o.jsx(Gr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r(n.timestamp)})]})]})]},n.timestamp)})})]})})})}function yje({currentStep:e,onClose:t}){const[r,n]=w.useState(!0),a=w.useRef(null);w.useEffect(()=>{function l(c){a.current&&!a.current.contains(c.target)&&(n(!1),t())}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[t]);const i=[{id:0,title:"Recepción",description:"Documento recibido",icon:lr},{id:1,title:"Corrección",description:"En corrección documental",icon:nl},{id:2,title:"Validación LN",description:"Validación listas negras",icon:XJ},{id:3,title:"Doc. Maestro",description:"Generación Doc. Maestro",icon:lr},{id:4,title:"VOBO Legal",description:"Solicitud de VOBO de Legal",icon:WJ}],s=l=>{switch(l){case"completed":return{container:"bg-green-50 border-transparent",icon:"bg-green-400 text-white",title:"text-green-600 text-sm",description:"text-green-500 text-[10px]",connector:"bg-green-200"};case"current":return{container:"bg-blue-50 ring-1 ring-blue-300 border-transparent",icon:"bg-blue-400 text-white animate-pulse",title:"text-blue-600 text-sm",description:"text-blue-500 text-[10px]",connector:"bg-blue-200"};default:return{container:"bg-gray-50 border-transparent",icon:"bg-gray-300 text-gray-500",title:"text-gray-500 text-sm",description:"text-gray-400 text-[10px]",connector:"bg-gray-200"}}};return r?o.jsx("div",{ref:a,className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow z-10",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-sm text-gray-600 font-medium  mb-1",children:"Estado del Proceso"}),o.jsx("div",{className:"space-y-1",children:i.map((l,c)=>{const u=c<e?"completed":c===e?"current":"pending",d=s(u),f=l.icon;return o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`flex items-center p-1 rounded-lg border ${d.container}`,children:[o.jsx("div",{className:`flex items-center justify-center w-5 h-5 rounded-full ${d.icon}`,children:u==="completed"?o.jsx(Za,{className:"w-2 h-2"}):o.jsx(f,{className:"w-2 h-2"})}),o.jsxs("div",{className:"ml-1 flex-1",children:[o.jsx("h4",{className:`${d.title}`,children:l.title}),o.jsx("p",{className:d.description,children:l.description})]}),o.jsx("div",{className:"ml-1",children:o.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${u==="completed"?"bg-green-400":u==="current"?"bg-blue-400 animate-pulse":"bg-gray-300"}`})})]}),c<i.length-1&&o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:`w-0.5 h-3 ${s(c<e?"completed":c===e?"current":"pending").connector}`})})]},l.id)})})]})}):null}const bje=e=>{const t={0:"Recepción",1:"En corrección Documental",2:"Validación Listas Negras",3:"Generación Documento Maestro",4:"Solicitud Vo.Bo. de Legal"};return e==null?"-":t[e]??"Desconocido"};function wje({paginated:e,loading:t,showAllColumns:r,sortBy:n,sortDirection:a,handleSort:i,openHistoryId:s,setOpenHistoryId:l,historyData:c,loadingHistory:u,downloadLoading:d,uploadLoading:f,deleteLoading:m,handleDownloadReport:p,handleUploadReport:h,handleDeleteReport:g,handleNavigate:x}){const v=w.useRef({}),b=C=>s===C,[y,j]=w.useState(null),E=(C,k)=>{k.stopPropagation(),l(b(C)?null:C)},S={gridTemplateColumns:["40px",...r?["250px","150px","200px"]:[],"300px","120px","200px",...r?["180px"]:[],"150px","100px"].map(C=>`minmax(${C}, ${C})`).join(" ")},T=({children:C})=>o.jsx("div",{className:"rounded-md flex items-center justify-center w-full h-full",onClick:k=>k.stopPropagation(),children:C});return o.jsx("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-max",children:[o.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 grid gap-4 px-6 py-4 text-sm font-semibold text-gray-700",style:S,children:[o.jsx("div",{})," ",r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{onClick:()=>i("productName"),className:"cursor-pointer",children:["Producto",n==="productName"&&(a==="asc"?" ▲":" ▼")]}),o.jsxs("div",{onClick:()=>i("userName"),className:"cursor-pointer",children:["Clave",n==="userName"&&(a==="asc"?" ▲":" ▼")]}),o.jsxs("div",{onClick:()=>i("userEmail"),className:"cursor-pointer",children:["Email",n==="userEmail"&&(a==="asc"?" ▲":" ▼")]})]}),o.jsxs("div",{onClick:()=>i("clientName"),className:"cursor-pointer",children:["Expediente",n==="clientName"&&(a==="asc"?" ▲":" ▼")]}),o.jsxs("div",{onClick:()=>i("createdAt"),className:"cursor-pointer",children:["Fecha",n==="createdAt"&&(a==="asc"?" ▲":" ▼")]}),o.jsxs("div",{onClick:()=>i("agentFlowStatus"),className:"cursor-pointer",children:["Status",n==="agentFlowStatus"&&(a==="asc"?" ▲":" ▼")]}),o.jsx("div",{children:"Reporte LN"}),o.jsx("div",{children:"Responsable"})]}),o.jsx("div",{className:"divide-y divide-gray-200",children:t?o.jsx("div",{className:"px-6 py-10 text-center text-gray-500 whitespace-nowrap",children:"Cargando..."}):e.length===0?o.jsx("div",{className:"px-6 py-10 text-center text-gray-500 whitespace-nowrap",children:"No se encontraron productos."}):e.map(C=>{const k=c[C.id]||C.statusHistory,A=b(C.id);return o.jsxs("div",{children:[o.jsxs("div",{className:"grid gap-4 px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer whitespace-nowrap",style:S,onClick:_=>{_.target.closest("button")||x(C)},children:[o.jsx(T,{children:o.jsx("div",{className:"flex items-center",children:o.jsx("button",{onClick:_=>E(C.id,_),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:A?o.jsx(Pr,{className:"w-4 h-4 text-gray-600"}):o.jsx(_i,{className:"w-4 h-4 text-gray-600"})})})}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center",children:C.productName}),o.jsx("div",{className:"flex items-center",children:C.userName}),o.jsx("div",{className:"flex items-center",children:C.userEmail})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm text-gray-900 font-medium",children:C.clientName})}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm text-gray-700",children:new Date(C.createdAt).toLocaleDateString()})}),o.jsx(T,{children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),j(y===C.id?null:C.id)},className:"inline-flex items-center px-2.5 py-0.5 rounded-full border border-gray-200 text-xs font-medium",children:bje(C.agentFlowStatus)}),y===C.id&&o.jsx(yje,{currentStep:C.agentFlowStatus??0,onClose:()=>j(null)})]})}),o.jsx(T,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>p(C.id),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:d[C.id]?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(YJ,{className:"w-5 h-5 text-blue-500"})}),o.jsx("input",{type:"file",className:"hidden",ref:_=>{v.current[C.id]=_},onChange:_=>{var M;const I=(M=_.target.files)==null?void 0:M[0];I&&h(C.id,I,C.agentFlowStatus??0)}}),o.jsx("button",{onClick:()=>{var _;return(_=v.current[C.id])==null?void 0:_.click()},className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:f[C.id]?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(Um,{className:"w-5 h-5 text-green-500"})}),o.jsx("button",{onClick:()=>g(C.id),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:m[C.id]?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(Zi,{className:"w-5 h-5 text-red-500"})})]})}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm text-gray-700",children:C.ownerAdminName??"-"})})]}),A&&o.jsx(vje,{history:k,loading:u[C.id]})]},C.id)})})]})})})}const Sje=({isOpen:e,onClick:t})=>o.jsxs("button",{type:"button",onClick:t,className:`
        inline-flex items-center
        px-3 py-2 rounded-md
        transition-colors duration-200
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
        ${e?"bg-indigo-100 hover:bg-indigo-200":"bg-white hover:bg-gray-100"}
      `,"aria-label":e?"Menos columnas":"Más columnas",children:[e?o.jsx(tQ,{className:"w-5 h-5 text-indigo-700"}):o.jsx(eQ,{className:"w-5 h-5 text-indigo-700"}),o.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e?"Menos columnas":"Más columnas"})]}),mu=async(e,t)=>{const r=await Tv({productRequestId:t,agentFlowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success},yP=e=>{const t={0:"Recepción",1:"En corrección Documental",2:"Validación Listas Negras",3:"Generación Documento Maestro",4:"Solicitud Vo.Bo. de Legal"};return e==null?"-":t[e]??"Desconocido"};function Nje(){const{businessProducts:e,loading:t}=DEe(),{selectClient:r}=ct(),n=Mt(),{user:a}=mt(),[i,s]=w.useState(""),[l,c]=w.useState(1),[u,d]=w.useState(10),[f,m]=w.useState(null),[p,h]=w.useState("asc"),[g,x]=w.useState([null,null]),[v,b]=w.useState(!1),[y,j]=w.useState(!1),[E,N]=w.useState(null),[S,T]=w.useState({}),[C,k]=w.useState({}),[A,_]=w.useState({}),[I,M]=w.useState({}),[L,W]=w.useState({}),H=w.useRef(null);w.useEffect(()=>{const D=G=>{H.current&&!H.current.contains(G.target)&&b(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const q=D=>{const G={0:"Registro de Expediente",1:"Corrección Documental",2:"Solicitud de Listas Negras",3:"Envío de Reporte LN",4:"Solicitud de Vo.Bo. de Área Legal"};return D==null?"-":G[D]??"Desconocido"};w.useEffect(()=>{E&&(S[E]||(k(D=>({...D,[E]:!0})),BJ({productRequestId:E}).then(D=>{const G=(D==null?void 0:D.map(O=>({user:O.userName,status:yP(O.newStatus),timestamp:O.changedAt,action:q(O.newStatus),previousStatus:yP(O.previousStatus)})))??[];T(O=>({...O,[E]:G}))}).catch(D=>{console.error("Error cargando historial:",D),T(G=>({...G,[E]:[]}))}).finally(()=>{k(D=>({...D,[E]:!1}))})))},[E]);const U=[...e.flatMap(D=>D.products.map(G=>{const O=[];return{...G,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminName:D.ownerAdminName,ownerAdminEmail:D.ownerAdminEmail,statusHistory:O}})).filter(D=>{var ye;const G=i.toLowerCase(),O=new Date(D.createdAt),[fe,ie]=g,ue=(!fe||O>=new Date(fe))&&(!ie||O<=new Date(ie));return(((ye=D.productName)==null?void 0:ye.toLowerCase().includes(G))||D.clientName.toLowerCase().includes(G)||D.userEmail.toLowerCase().includes(G))&&ue})].sort((D,G)=>{if(!f)return 0;const O=D[f],fe=G[f];return O==fe?0:O==null?1:fe==null?-1:f==="createdAt"?p==="asc"?new Date(O).getTime()-new Date(fe).getTime():new Date(fe).getTime()-new Date(O).getTime():p==="asc"?String(O).localeCompare(String(fe)):String(fe).localeCompare(String(O))}).slice((l-1)*u,l*u),R=D=>{f===D?h(G=>G==="asc"?"desc":"asc"):(m(D),h("asc"))},K=D=>{r({id:D.id,company:D.clientName,iconUrl:"",email:D.userEmail,name:D.userName,mailboxId:D.mailboxId||void 0,chatId:D.chatId||void 0,flowStatus:D.flowStatus||void 0,producName:D.productName||void 0,agentFlowStatus:D.agentFlowStatus||void 0}),n("/admin/tengo/product/onboarding")},J=()=>n("/admin/tengo/product/request"),te=async D=>{_(O=>({...O,[D]:!0})),(await Un("download","documentos",`${D}-blacklist`,"token","pdf","reporte lista negra.pdf")).success?se.success("Archivo descargado"):se.error("Error al descargar"),_(O=>({...O,[D]:!1}))},re=async(D,G)=>{try{await mu(3,D),await cu({previousStatus:G,newStatus:3,productRequestId:D,userAuthId:(a==null?void 0:a.uid)??""}),se.success("Estado cambió a Generando Documento Maestro")}catch(O){console.error("Error validando:",O),se.error("Error al actualizar el estado")}},P=async(D,G,O)=>{M(ie=>({...ie,[D]:!0})),await ts(`${D}-blacklist`,G,"documentos")?(await re(D,O),se.success("Archivo subido")):se.error("Error al subir"),M(ie=>({...ie,[D]:!1}))},z=async D=>{W(O=>({...O,[D]:!0})),await Yd(`${D}-blacklist.pdf`,"documentos")?se.success("Archivo eliminado"):se.error("Error al eliminar"),W(O=>({...O,[D]:!1}))};return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Tengo!"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:J,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsx(Sje,{isOpen:y,onClick:()=>j(D=>!D)}),o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:i,onChange:D=>s(D.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>b(D=>!D),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:g[0]&&g[1]?`${g[0]} - ${g[1]}`:"Seleccionar fecha"})]}),v&&o.jsx("div",{ref:H,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:g[0]||"",onChange:D=>x([D.target.value,g[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:g[1]||"",onChange:D=>x([g[0],D.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx(pr,{}),o.jsx(wje,{paginated:U,loading:t,showAllColumns:y,sortBy:f,sortDirection:p,handleSort:R,openHistoryId:E,setOpenHistoryId:N,historyData:S,loadingHistory:C,downloadLoading:A,uploadLoading:I,deleteLoading:L,handleDownloadReport:te,handleUploadReport:P,handleDeleteReport:z,handleNavigate:K}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:u,onChange:D=>d(Number(D.target.value)),children:[5,10,20].map(D=>o.jsx("option",{value:D,children:D},D))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:l===1,onClick:()=>c(D=>Math.max(D-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:l}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>c(D=>D+1),children:o.jsx(_i,{size:18})})]})]})]})]})}function vB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{user:a}=mt();return w.useEffect(()=>{(async()=>{var s;const i=await gE({adminTeamId:((s=a==null?void 0:a.adminTeam)==null?void 0:s.id)??""});i&&t(i),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}function yB({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return w.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),o.jsx("p",{className:"text-gray-600 mt-2",children:a}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}const bB=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await wc({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const l=await Iv({userUid:s});if(!l.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await cB(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await ky("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await Av({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(l.count===1){if(!(await _v({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await yh({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await kv({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}},Eje="1",wB=hh.map(e=>({...e,isSelectable:e.id===Eje})),bP="#3b82f6",jje=["Solicitud Producto","Carga Documental","Mesa de Control"],wP="dashboard_stats_cache",SB=w.forwardRef((e,t)=>{var p,h;const{user:r}=mt(),n=((p=r==null?void 0:r.adminTeam)==null?void 0:p.id)??"",[a,i]=w.useState([]),[s,l]=w.useState([]),[c,u]=w.useState(!1),d=w.useRef({subprocesos:null,productos:null}),f=((h=wB.find(g=>g.id==="1"))==null?void 0:h.products.map(g=>g.name))??[];w.useEffect(()=>{const g=localStorage.getItem(wP);if(g)try{const x=JSON.parse(g);x.subprocesos&&x.productos&&(d.current=x,i(x.subprocesos),l(x.productos))}catch{console.warn("⚠️ Error al leer cache local")}},[]);const m=async(g=!1)=>{if(!n)return;const{subprocesos:x,productos:v}=d.current;if(!g&&x&&v){i(x),l(v);return}u(!0);const b=jje.map(async(S,T)=>{const C=await SE(n,T+1);return{name:S,value:C}}),y=f.map(async S=>{const T=await NE(n,S);return{name:S,value:T}}),[j,E]=await Promise.all([Promise.all(b),Promise.all(y)]),N={subprocesos:j,productos:E};d.current=N,localStorage.setItem(wP,JSON.stringify(N)),i(j),l(E),u(!1)};return w.useImperativeHandle(t,()=>({updateNow:m})),c?o.jsx("div",{className:"flex items-center justify-center h-[500px]",children:o.jsx("p",{className:"text-gray-500 text-lg",children:"Cargando estadísticas..."})}):o.jsx("div",{className:"pt-8 bg-gray-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Etapa de Proceso"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:a,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:a.map((g,x)=>o.jsx(Uo,{fill:bP},`sub-cell-${x}`))})]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Producto"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:s,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:s.map((g,x)=>o.jsx(Uo,{fill:bP},`prod-cell-${x}`))})]})})]})]})})});function _je(){const{businessProducts:e,loading:t,setBusinessProducts:r}=vB(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&y(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const W=P=>{l(P.target.value)},H=P=>{const z=e.find(G=>G.userEmail===P.userEmail&&G.products.some(O=>O.id===P.id)),D=z==null?void 0:z.products.find(G=>G.id===P.id);z&&D&&(n({id:D.id,company:z.name,iconUrl:"",email:z.userEmail,name:z.userName,mailboxId:D.mailboxId??void 0,chatId:D.chatId??void 0,flowStatus:D.flowStatus??void 0,producName:D.productName??void 0}),a("/admin/tengo/product/onboarding"))};w.useEffect(()=>{var P;if(!t){const z=Number(localStorage.getItem("dashboard_product_count")),D=e.reduce((G,O)=>G+O.products.length,0);z!==D&&((P=L.current)==null||P.updateNow(!0),localStorage.setItem("dashboard_product_count",String(D)))}},[t,e]);const q=()=>{a("/admin/tengo/product/request")},B=P=>{I(P),A(!0)},F=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const P=await bB({adminToken:i==null?void 0:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),P.success){const z=e.map(D=>D.id!==_.clientId?D:{...D,products:D.products.filter(G=>G.id!==_.id)}).filter(D=>D.products.length>0);r(z),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:P.message,details:P.details}),C("error")}},ne=()=>{E(!1)},J=[...e.flatMap(P=>P.products.map(z=>({...z,clientName:P.name,userName:P.userName,userEmail:P.userEmail,ownerAdminEmail:P.ownerAdminEmail,ownerAdminName:P.ownerAdminName,clientId:P.id}))).filter(P=>{var ie,ue,ye;const z=s.toLowerCase(),D=new Date(P.createdAt),[G,O]=x,fe=(!G||D>=new Date(G))&&(!O||D<=new Date(O));return(((ie=P.productName)==null?void 0:ie.toLowerCase().includes(z))||((ue=P.clientName)==null?void 0:ue.toLowerCase().includes(z))||((ye=P.userEmail)==null?void 0:ye.toLowerCase().includes(z)))&&fe})].sort((P,z)=>{if(!m)return 0;const D=P[m],G=z[m];if(D===G)return 0;if(D==null)return 1;if(G==null)return-1;if(m==="createdAt"){const ie=new Date(D).getTime(),ue=new Date(G).getTime();return h==="asc"?ie-ue:ue-ie}const O=String(D).toLowerCase(),fe=String(G).toLowerCase();return h==="asc"?O.localeCompare(fe):fe.localeCompare(O)}).slice((c-1)*d,c*d),te=P=>{m===P?g(z=>z==="asc"?"desc":"asc"):(p(P),g("asc"))},re=({column:P})=>m!==P?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador Tengo!"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(lr,{size:16}),"Documentos"]}),o.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(ih,{size:16}),"Equipos"]}),o.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),"Nuevo cliente"]})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(P=>!P),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:P=>v([P.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:P=>v([x[0],P.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(re,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(re,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",o.jsx(re,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(re,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(re,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((P,z)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:new Date(P.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(P),children:o.jsx(Zi,{size:16})})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:P=>f(Number(P.target.value)),children:[5,10,20].map(P=>o.jsx("option",{value:P,children:P},P))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(P=>Math.max(P-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(P=>P+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(yB,{open:k,onClose:()=>A(!1),onConfirm:F}),j&&o.jsx(_n,{onClose:ne,status:T,messages:N}),o.jsx(SB,{ref:L})]})}function kje(){const{businessProducts:e,loading:t,setBusinessProducts:r}=vB(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&y(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const W=P=>{l(P.target.value)},H=P=>{const z=e.find(G=>G.userEmail===P.userEmail&&G.products.some(O=>O.id===P.id)),D=z==null?void 0:z.products.find(G=>G.id===P.id);z&&D&&(n({id:D.id,company:z.name,iconUrl:"",email:z.userEmail,name:z.userName,mailboxId:D.mailboxId??void 0,chatId:D.chatId??void 0,flowStatus:D.flowStatus??void 0,producName:D.productName??void 0}),a("/admin/tengo/product/onboarding"))};w.useEffect(()=>{var P;if(!t){const z=Number(localStorage.getItem("dashboard_product_count")),D=e.reduce((G,O)=>G+O.products.length,0);z!==D&&((P=L.current)==null||P.updateNow(!0),localStorage.setItem("dashboard_product_count",String(D)))}},[t,e]);const q=()=>{a("/admin/tengo/product/request")},B=P=>{I(P),A(!0)},F=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const P=await bB({adminToken:i==null?void 0:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),P.success){const z=e.map(D=>D.id!==_.clientId?D:{...D,products:D.products.filter(G=>G.id!==_.id)}).filter(D=>D.products.length>0);r(z),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:P.message,details:P.details}),C("error")}},ne=()=>{E(!1)},J=[...e.flatMap(P=>P.products.map(z=>({...z,clientName:P.name,userName:P.userName,userEmail:P.userEmail,ownerAdminEmail:P.ownerAdminEmail,ownerAdminName:P.ownerAdminName,clientId:P.id}))).filter(P=>{var ie,ue,ye;const z=s.toLowerCase(),D=new Date(P.createdAt),[G,O]=x,fe=(!G||D>=new Date(G))&&(!O||D<=new Date(O));return(((ie=P.productName)==null?void 0:ie.toLowerCase().includes(z))||((ue=P.clientName)==null?void 0:ue.toLowerCase().includes(z))||((ye=P.userEmail)==null?void 0:ye.toLowerCase().includes(z)))&&fe})].sort((P,z)=>{if(!m)return 0;const D=P[m],G=z[m];if(D===G)return 0;if(D==null)return 1;if(G==null)return-1;if(m==="createdAt"){const ie=new Date(D).getTime(),ue=new Date(G).getTime();return h==="asc"?ie-ue:ue-ie}const O=String(D).toLowerCase(),fe=String(G).toLowerCase();return h==="asc"?O.localeCompare(fe):fe.localeCompare(O)}).slice((c-1)*d,c*d),te=P=>{m===P?g(z=>z==="asc"?"desc":"asc"):(p(P),g("asc"))},re=({column:P})=>m!==P?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Administrador Tengo!"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(P=>!P),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:P=>v([P.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:P=>v([x[0],P.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(re,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(re,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",o.jsx(re,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(re,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(re,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((P,z)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:new Date(P.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(P),children:o.jsx(Zi,{size:16})})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:P=>f(Number(P.target.value)),children:[5,10,20].map(P=>o.jsx("option",{value:P,children:P},P))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(P=>Math.max(P-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(P=>P+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(yB,{open:k,onClose:()=>A(!1),onConfirm:F}),j&&o.jsx(_n,{onClose:ne,status:T,messages:N}),o.jsx(SB,{ref:L})]})}function Cje(){const{user:e}=mt(),t=(e==null?void 0:e.isSuperAdmin)||!1,r=(e==null?void 0:e.isMasterAdmin)||!1;return o.jsx(Yr,{children:r?o.jsx(_je,{}):t?o.jsx(kje,{}):o.jsx(Nje,{})})}function Tje(){const e=Mt();return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Soporte"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Administración"}),o.jsxs("div",{className:"flex justify-around flex-wrap gap-x-6 gap-y-4",children:[o.jsxs("button",{onClick:()=>e("/admin/management"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[o.jsx(oQ,{size:24}),o.jsx("span",{className:"text-sm font-medium",children:"Administradores"})]}),o.jsxs("button",{onClick:()=>e("/admin/templates/management"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[o.jsx(lr,{size:24}),o.jsx("span",{className:"text-sm font-medium",children:"Documentos"})]}),o.jsxs("button",{onClick:()=>e("/admin/teams/overview"),className:"flex flex-col items-center justify-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-md transition-colors w-40",children:[o.jsx(ih,{size:24}),o.jsx("span",{className:"text-sm font-medium",children:"Equipos"})]})]})]})]})}function Aje(){return o.jsx(Yr,{children:o.jsx(Tje,{})})}function Ije(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);return w.useEffect(()=>{(async()=>{const a=await EJ();a&&t(a),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}const Pje=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?[]:t.requiredDocuments.filter(n=>n.isUploaded===!0).map(n=>{const a=n.fileName??"",i=a.includes(".")&&a.split(".").pop()||"pdf";return`${n.id}.${i}`})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},Oje=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await wc({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const l=await Iv({userUid:s});if(!l.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await Pje(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await ky("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await Av({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(l.count===1){if(!(await _v({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await yh({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await kv({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}};function Rje({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return w.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),o.jsx("p",{className:"text-gray-600 mt-2",children:a}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}function Dje(){const{businessProducts:e,loading:t,setBusinessProducts:r}=Ije(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),[L,W]=w.useState(!1);w.useEffect(()=>{const D=G=>{M.current&&!M.current.contains(G.target)&&y(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const H=D=>{l(D.target.value)},q=D=>{var fe;const G=e.find(ie=>ie.userEmail===D.userEmail&&ie.products.some(ue=>ue.id===D.id)),O=G==null?void 0:G.products.find(ie=>ie.id===D.id);G&&O&&(n({id:O.id,company:G.name,iconUrl:"",email:G.userEmail,name:G.userName,mailboxId:O.mailboxId??void 0,chatId:O.chatId??void 0,flowStatus:O.flowStatus??void 0,producName:O.productName??void 0}),(fe=O.productName)!=null&&fe.toLowerCase().includes("nafin")?a("/admin/nafin/product/onboarding"):a("/admin/tengo/product/onboarding"))};w.useEffect(()=>{if(!t){const D=Number(localStorage.getItem("dashboard_product_count")),G=e.reduce((O,fe)=>O+fe.products.length,0);D!==G&&localStorage.setItem("dashboard_product_count",String(G))}},[t,e]);const B=()=>{a("/admin/tengo/product/request")},F=()=>{a("/admin/nafin/product/request")},ne=D=>{I(D),A(!0)},U=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const D=await Oje({adminToken:i==null?void 0:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),D.success){const G=e.map(O=>O.id!==_.clientId?O:{...O,products:O.products.filter(fe=>fe.id!==_.id)}).filter(O=>O.products.length>0);r(G),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:D.message,details:D.details}),C("error")}},R=()=>{E(!1)},re=[...e.flatMap(D=>D.products.map(G=>({...G,clientName:D.name,userName:D.userName,userEmail:D.userEmail,ownerAdminEmail:D.ownerAdminEmail,ownerAdminName:D.ownerAdminName,clientId:D.id}))).filter(D=>{var ye,oe,we;const G=s.toLowerCase(),O=new Date(D.createdAt),[fe,ie]=x,ue=(!fe||O>=new Date(fe))&&(!ie||O<=new Date(ie));return(((ye=D.productName)==null?void 0:ye.toLowerCase().includes(G))||((oe=D.clientName)==null?void 0:oe.toLowerCase().includes(G))||((we=D.userEmail)==null?void 0:we.toLowerCase().includes(G)))&&ue})].sort((D,G)=>{if(!m)return 0;const O=D[m],fe=G[m];if(O===fe)return 0;if(O==null)return 1;if(fe==null)return-1;if(m==="createdAt"){const ye=new Date(O).getTime(),oe=new Date(fe).getTime();return h==="asc"?ye-oe:oe-ye}const ie=String(O).toLowerCase(),ue=String(fe).toLowerCase();return h==="asc"?ie.localeCompare(ue):ue.localeCompare(ie)}).slice((c-1)*d,c*d),P=D=>{m===D?g(G=>G==="asc"?"desc":"asc"):(p(D),g("asc"))},z=({column:D})=>m!==D?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Super Administrador"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("button",{onClick:()=>a("/admin/templates/management"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(lr,{size:16}),"Documentos"]}),o.jsxs("button",{onClick:()=>a("/admin/teams/overview"),className:"flex items-center gap-1.5 border border-blue-500 text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-md text-sm transition",children:[o.jsx(ih,{size:16}),"Equipos"]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",onClick:()=>W(!L),children:[o.jsx(on,{size:16}),"Nuevo cliente"]}),L&&o.jsxs("div",{className:"absolute left-0 mt-2 bg-white border rounded-md shadow-lg w-48 z-10",children:[o.jsx("button",{onClick:B,className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-100",children:"Nuevo cliente - Tengo"}),o.jsx("button",{onClick:F,className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-100",children:"Nuevo cliente - Nafin"})]})]})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:H})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(D=>!D),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:D=>v([D.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:D=>v([x[0],D.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>P("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(z,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>P("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(z,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>P("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",o.jsx(z,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>P("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(z,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>P("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(z,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):re.length>0?re.map((D,G)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:D.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:D.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:D.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:D.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:new Date(D.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>q(D),children:D.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>ne(D),children:o.jsx(Zi,{size:16})})})]},G)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:D=>f(Number(D.target.value)),children:[5,10,20].map(D=>o.jsx("option",{value:D,children:D},D))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(D=>Math.max(D-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(D=>D+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(Rje,{open:k,onClose:()=>A(!1),onConfirm:U}),j&&o.jsx(_n,{onClose:R,status:T,messages:N})]})}function Fje(){return o.jsx(Yr,{children:o.jsx(Dje,{})})}function NB(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{user:a}=mt();return w.useEffect(()=>{(async()=>{var s;const i=await gE({adminTeamId:((s=a==null?void 0:a.adminTeam)==null?void 0:s.id)??""});i&&t(i),n(!1)})()},[]),{businessProducts:e,setBusinessProducts:t,loading:r}}function Mje(){const{businessProducts:e,loading:t}=NB(),{selectClient:r}=ct(),n=Mt(),[a,i]=w.useState(""),[s,l]=w.useState(1),[c,u]=w.useState(10),[d,f]=w.useState(null),[m,p]=w.useState("asc"),[h,g]=w.useState([null,null]),[x,v]=w.useState(!1),b=w.useRef(null);w.useEffect(()=>{const _=I=>{b.current&&!b.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const y=_=>{i(_.target.value)},j=_=>{const I=e.find(L=>L.userEmail===_.userEmail&&L.products.some(W=>W.id===_.id)),M=I==null?void 0:I.products.find(L=>L.id===_.id);I&&M&&(r({id:M.id,company:I.name,iconUrl:"",email:I.userEmail,name:I.userName,mailboxId:M.mailboxId??void 0,chatId:M.chatId??void 0,flowStatus:M.flowStatus??void 0,producName:M.productName??void 0}),n("/admin/credit/product/onboarding"))},E=()=>{n("/admin/credit/product/request")},C=[...e.flatMap(_=>_.products.map(I=>({...I,clientName:_.name,userName:_.userName,userEmail:_.userEmail,ownerAdminEmail:_.ownerAdminEmail,ownerAdminName:_.ownerAdminName}))).filter(_=>{var q,B,F;const I=a.toLowerCase(),M=new Date(_.createdAt),[L,W]=h,H=(!L||M>=new Date(L))&&(!W||M<=new Date(W));return(((q=_.productName)==null?void 0:q.toLowerCase().includes(I))||((B=_.clientName)==null?void 0:B.toLowerCase().includes(I))||((F=_.userEmail)==null?void 0:F.toLowerCase().includes(I)))&&H})].sort((_,I)=>{if(!d)return 0;const M=_[d],L=I[d];if(M===L)return 0;if(M==null)return 1;if(L==null)return-1;if(d==="createdAt"){const q=new Date(M).getTime(),B=new Date(L).getTime();return m==="asc"?q-B:B-q}const W=String(M).toLowerCase(),H=String(L).toLowerCase();return m==="asc"?W.localeCompare(H):H.localeCompare(W)}).slice((s-1)*c,s*c),k=_=>{d===_?p(I=>I==="asc"?"desc":"asc"):(f(_),p("asc"))},A=({column:_})=>d!==_?o.jsx(Pr,{className:"text-gray-300",size:16}):m==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Tengo! (credit)"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a,onChange:y})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>v(_=>!_),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:h[0]&&h[1]?`${h[0]} - ${h[1]}`:"Seleccionar fecha"})]}),x&&o.jsx("div",{ref:b,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[0]||"",onChange:_=>g([_.target.value,h[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:h[1]||"",onChange:_=>g([h[0],_.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(A,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(A,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",o.jsx(A,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(A,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>k("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(A,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):C.length>0?C.map((_,I)=>o.jsxs("tr",{onClick:()=>j(_),className:"border-b hover:bg-blue-50 cursor-pointer transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:_.productName}),o.jsx("td",{className:"px-4 py-3",children:_.clientName}),o.jsx("td",{className:"px-4 py-3",children:_.userName}),o.jsx("td",{className:"px-4 py-3",children:_.userEmail}),o.jsx("td",{className:"px-4 py-3",children:new Date(_.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>j(_),children:_.ownerAdminName??"-"})]},I)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:c,onChange:_=>u(Number(_.target.value)),children:[5,10,20].map(_=>o.jsx("option",{value:_,children:_},_))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:s===1,onClick:()=>l(_=>Math.max(_-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:s}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>l(_=>_+1),children:o.jsx(_i,{size:18})})]})]})]})]})}function Lje({open:e,onClose:t,onConfirm:r,title:n="¿Eliminar producto?",description:a="¿Estás seguro de que quieres eliminar este producto? Esta acción no se puede deshacer."}){return w.useEffect(()=>{const i=s=>{s.key==="Escape"&&t()};return e&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n}),o.jsx("p",{className:"text-gray-600 mt-2",children:a}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cancelar"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Eliminar"})]})]})}):null}const $je=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?[]:t.requiredDocuments.filter(n=>n.isUploaded===!0).map(n=>{const a=n.fileName??"",i=a.includes(".")&&a.split(".").pop()||"pdf";return`${n.id}.${i}`})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},Bje=async({adminToken:e,companyId:t,productId:r,userEmail:n,simulation:a=!1})=>{if(a)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const i=await wc({email:n}),s=i.Id??"";if(!i.exist)return{success:!1,message:"Falló obtener las credenciales de usuario",details:"Error desconocido"};const l=await Iv({userUid:s});if(!l.exist)return{success:!1,message:"No se pudo obtener la cantidad de productos del usuario",details:"Error desconocido"};const c=await $je(r);if(c.length===0)console.log("No hay documentos para eliminar.");else if(!await ky("documentos",c))return{success:!1,message:"No se pudo eliminar",details:"Error desconocido"};if(!(await Av({productRequestId:r})).success)return{success:!1,message:"Falló la eliminación del producto",details:"Error desconocido"};if(l.count===1){if(!(await _v({userAuthId:s})).success)return{success:!1,message:"Falló la eliminación del usuario",details:"Error desconocido"};if(!(await yh({uid:s},e)).success)return{success:!1,message:"Falló la eliminación del usuario en Firebase",details:"Error desconocido"}}return(await kv({businessEntityId:t})).success?{success:!0,message:"La eliminación se completó correctamente"}:{success:!1,message:"Falló la eliminación de la empresa",details:"Error desconocido"}}catch(i){return console.error("Error en la eliminación:",i),{success:!1,message:"Ha ocurrido un error inesperado"}}},zje="1",EB=hh.map(e=>({...e,isSelectable:e.id===zje})),SP="#3b82f6",Uje=["Solicitud Producto","Carga Documental","Mesa de Control"],NP="dashboard_stats_cache",qje=w.forwardRef((e,t)=>{var p,h;const{user:r}=mt(),n=((p=r==null?void 0:r.adminTeam)==null?void 0:p.id)??"",[a,i]=w.useState([]),[s,l]=w.useState([]),[c,u]=w.useState(!1),d=w.useRef({subprocesos:null,productos:null}),f=((h=EB.find(g=>g.id==="1"))==null?void 0:h.products.map(g=>g.name))??[];w.useEffect(()=>{const g=localStorage.getItem(NP);if(g)try{const x=JSON.parse(g);x.subprocesos&&x.productos&&(d.current=x,i(x.subprocesos),l(x.productos))}catch{console.warn("⚠️ Error al leer cache local")}},[]);const m=async(g=!1)=>{if(!n)return;const{subprocesos:x,productos:v}=d.current;if(!g&&x&&v){i(x),l(v);return}u(!0);const b=Uje.map(async(S,T)=>{const C=await SE(n,T+1);return{name:S,value:C}}),y=f.map(async S=>{const T=await NE(n,S);return{name:S,value:T}}),[j,E]=await Promise.all([Promise.all(b),Promise.all(y)]),N={subprocesos:j,productos:E};d.current=N,localStorage.setItem(NP,JSON.stringify(N)),i(j),l(E),u(!1)};return w.useImperativeHandle(t,()=>({updateNow:m})),c?o.jsx("div",{className:"flex items-center justify-center h-[500px]",children:o.jsx("p",{className:"text-gray-500 text-lg",children:"Cargando estadísticas..."})}):o.jsx("div",{className:"pt-8 bg-gray-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Etapa de Proceso"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:a,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:a.map((g,x)=>o.jsx(Uo,{fill:SP},`sub-cell-${x}`))})]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribución por Producto"}),o.jsx(ed,{width:"100%",height:400,children:o.jsxs(xd,{layout:"vertical",data:s,margin:{top:10,right:20,left:40,bottom:10},children:[o.jsx(oc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Ds,{type:"number",tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Fs,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},axisLine:!1,tickLine:!1}),o.jsx(Rn,{contentStyle:{backgroundColor:"#ffffff",borderRadius:"10px",borderColor:"#e5e7eb"},formatter:g=>[`${g} clientes`,"Cantidad"]}),o.jsx(Ja,{dataKey:"value",radius:[6,6,6,6],barSize:18,children:s.map((g,x)=>o.jsx(Uo,{fill:SP},`prod-cell-${x}`))})]})})]})]})})});function Vje(){const{businessProducts:e,loading:t,setBusinessProducts:r}=NB(),{selectClient:n}=ct(),a=Mt(),{user:i}=mt(),[s,l]=w.useState(""),[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(null),[h,g]=w.useState("asc"),[x,v]=w.useState([null,null]),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState({title:"",message:"",details:void 0}),[T,C]=w.useState("processing"),[k,A]=w.useState(!1),[_,I]=w.useState(null),M=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&y(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const W=P=>{l(P.target.value)},H=P=>{const z=e.find(G=>G.userEmail===P.userEmail&&G.products.some(O=>O.id===P.id)),D=z==null?void 0:z.products.find(G=>G.id===P.id);z&&D&&(n({id:D.id,company:z.name,iconUrl:"",email:z.userEmail,name:z.userName,mailboxId:D.mailboxId??void 0,chatId:D.chatId??void 0,flowStatus:D.flowStatus??void 0,producName:D.productName??void 0}),a("/admin/credit/product/onboarding"))};w.useEffect(()=>{var P;if(!t){const z=Number(localStorage.getItem("dashboard_product_count")),D=e.reduce((G,O)=>G+O.products.length,0);z!==D&&((P=L.current)==null||P.updateNow(!0),localStorage.setItem("dashboard_product_count",String(D)))}},[t,e]);const q=()=>{a("/admin/credit/product/request")},B=P=>{I(P),A(!0)},F=async()=>{if(_&&(i!=null&&i.idToken)){E(!0),C("processing");const P=await Bje({adminToken:i==null?void 0:i.idToken,companyId:_.clientId,productId:_.id,userEmail:_.userEmail,simulation:!1});if(A(!1),P.success){const z=e.map(D=>D.id!==_.clientId?D:{...D,products:D.products.filter(G=>G.id!==_.id)}).filter(D=>D.products.length>0);r(z),I(null),S({title:"Eliminado con éxito",message:""}),C("success")}else I(null),S({title:"Error",message:P.message,details:P.details}),C("error")}},ne=()=>{E(!1)},J=[...e.flatMap(P=>P.products.map(z=>({...z,clientName:P.name,userName:P.userName,userEmail:P.userEmail,ownerAdminEmail:P.ownerAdminEmail,ownerAdminName:P.ownerAdminName,clientId:P.id}))).filter(P=>{var ie,ue,ye;const z=s.toLowerCase(),D=new Date(P.createdAt),[G,O]=x,fe=(!G||D>=new Date(G))&&(!O||D<=new Date(O));return(((ie=P.productName)==null?void 0:ie.toLowerCase().includes(z))||((ue=P.clientName)==null?void 0:ue.toLowerCase().includes(z))||((ye=P.userEmail)==null?void 0:ye.toLowerCase().includes(z)))&&fe})].sort((P,z)=>{if(!m)return 0;const D=P[m],G=z[m];if(D===G)return 0;if(D==null)return 1;if(G==null)return-1;if(m==="createdAt"){const ie=new Date(D).getTime(),ue=new Date(G).getTime();return h==="asc"?ie-ue:ue-ie}const O=String(D).toLowerCase(),fe=String(G).toLowerCase();return h==="asc"?O.localeCompare(fe):fe.localeCompare(O)}).slice((c-1)*d,c*d),te=P=>{m===P?g(z=>z==="asc"?"desc":"asc"):(p(P),g("asc"))},re=({column:P})=>m!==P?o.jsx(Pr,{className:"text-gray-300",size:16}):h==="asc"?o.jsx(xi,{size:16,className:"text-blue-500"}):o.jsx(Pr,{size:16,className:"text-blue-500"});return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("div",{className:"text-blue-500 font-bold bg-white px-4 py-2 rounded-full shadow-md",children:"Administrador Tengo! (credit)"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Registro de clientes"}),o.jsxs("button",{onClick:q,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center gap-1 transition-colors",children:[o.jsx(on,{size:16}),o.jsx("span",{children:"Nuevo cliente"})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Hs,{size:18,className:"text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar cliente o producto",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-md w-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:W})]}),o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-600 bg-white",onClick:()=>y(P=>!P),children:[o.jsx(ji,{size:16,className:"text-blue-500"}),o.jsx("span",{children:x[0]&&x[1]?`${x[0]} - ${x[1]}`:"Seleccionar fecha"})]}),b&&o.jsx("div",{ref:M,className:"absolute z-10 bg-white border border-gray-300 p-4 shadow-lg rounded-md top-full mt-2",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de inicio"}),o.jsx("input",{type:"date",id:"startDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[0]||"",onChange:P=>v([P.target.value,x[1]])})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de fin"}),o.jsx("input",{type:"date",id:"endDate",className:"border border-gray-300 rounded-md p-2 mt-1",value:x[1]||"",onChange:P=>v([x[0],P.target.value])})]})]})}),o.jsx("button",{className:"border border-gray-200 rounded-md p-2 text-gray-600 bg-white",children:o.jsx(Vs,{size:16,className:"text-gray-500"})})]})]}),o.jsx("div",{className:"overflow-x-auto border rounded-md",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("productName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Producto ",o.jsx(re,{column:"productName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("clientName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Expediente ",o.jsx(re,{column:"clientName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userName"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Clave ",o.jsx(re,{column:"userName"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("userEmail"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Email ",o.jsx(re,{column:"userEmail"})]})}),o.jsx("th",{className:"px-4 py-3 cursor-pointer",onClick:()=>te("createdAt"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Fecha ",o.jsx(re,{column:"createdAt"})]})}),o.jsx("th",{className:"px-4 py-3",children:"Responsable"}),o.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Cargando..."})}):J.length>0?J.map((P,z)=>o.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.productName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.clientName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userName}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.userEmail}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:new Date(P.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 cursor-pointer",onClick:()=>H(P),children:P.ownerAdminName??"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>B(P),children:o.jsx(Zi,{size:16})})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No se encontraron productos."})})})]})}),o.jsxs("div",{className:"flex justify-between items-center mt-8 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Productos por página:"}),o.jsx("select",{className:"border border-gray-200 rounded px-2 py-1",value:d,onChange:P=>f(Number(P.target.value)),children:[5,10,20].map(P=>o.jsx("option",{value:P,children:P},P))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600 disabled:opacity-50",disabled:c===1,onClick:()=>u(P=>Math.max(P-1,1)),children:o.jsx(Ji,{size:18})}),o.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-blue-500 text-white",children:c}),o.jsx("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:()=>u(P=>P+1),children:o.jsx(_i,{size:18})})]})]})]}),o.jsx(Lje,{open:k,onClose:()=>A(!1),onConfirm:F}),j&&o.jsx(_n,{onClose:ne,status:T,messages:N}),o.jsx(qje,{ref:L})]})}function Hje(){const{user:e}=mt(),t=(e==null?void 0:e.isSuperAdmin)||!1;return o.jsx(Yr,{children:t?o.jsx(Vje,{}):o.jsx(Mje,{})})}function Wje(){var s,l,c,u;const{user:e}=mt(),t=((l=(s=e==null?void 0:e.adminRoleDetails)==null?void 0:s.verticalName)==null?void 0:l.toLowerCase())||"",r=((u=(c=e==null?void 0:e.adminRoleDetails)==null?void 0:c.productName)==null?void 0:u.toLowerCase())||"",n=(e==null?void 0:e.isSupportAdmin)||!1,a=(e==null?void 0:e.isMasterAdmin)||!1,i=()=>n?o.jsx(Aje,{}):a?o.jsx(Fje,{}):t.includes("nafin")||r.includes("nafin")?o.jsx(REe,{}):t.includes("credito")||r.includes("credito")?o.jsx(Hje,{}):t.includes("tengo")||r.includes("tengo")?o.jsx(Cje,{}):o.jsx(Yr,{children:o.jsxs("p",{className:"text-red-500",children:["No se encontró un flujo para el producto: ",r," / vertical: ",t]})});return o.jsx(o.Fragment,{children:i()})}const Gje=()=>{const e=Mt(),t=()=>{e("/")};return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:o.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-red-500",children:"403"}),o.jsx("h2",{className:"mt-4 text-2xl font-semibold",children:"Access Denied"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"You do not have permission to view this page."}),o.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Go to Home"})]})})},jB=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=w.useState(!0),[i,s]=w.useState(""),l=f=>{t(m=>m.some(h=>h.id===f)?m.filter(h=>h.id!==f):[...m,{id:f,isRequired:!1}])},c=f=>{t(m=>m.map(p=>p.id===f?{...p,isRequired:!p.isRequired}:p))},u=()=>{a(f=>!f)};w.useEffect(()=>{t(f=>{const m=r.filter(p=>p.isRequired===!0).filter(p=>!f.some(h=>h.id===p.id)).map(p=>({id:p.id,isRequired:!0}));return m.length===0?f:[...f,...m]})},[r,t]);const d=[...r].sort((f,m)=>{const p=f.position??Number.MAX_SAFE_INTEGER,h=m.position??Number.MAX_SAFE_INTEGER;return p-h});return o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),o.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(m=>m.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const m=e.find(h=>h.id===f.id),p=(m==null?void 0:m.isRequired)??!1;return o.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${p?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:!!m,onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("div",{children:o.jsx("span",{className:`font-medium ${p?"text-green-800":"text-gray-800"}`,children:f.name})})]}),m&&o.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${p?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:p?"Hacer opcional":"Hacer obligatorio",children:p?"Obligatorio":"Opcional"})]},f.id)})})}),o.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})},Xje=({handleSubmit:e})=>o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-bold text-white bg-blue-500 rounded",onClick:e,children:"Registrar cliente y documentos"})}),tv=class tv{static getText(t){return tv.mappings[t]||"Texto no asignado"}};cf(tv,"mappings",{1:"Registro Prospecto",2:"Generación credenciales",3:"Recepción documental",4:"Filtro M.C.",5:"Validación Tesorería",6:"Validación M.C.",7:"Firma Documentos"});let OS=tv;const rv=class rv{static getText(t){return rv.mappings[t]||"Texto no asignado"}};cf(rv,"mappings",{1:"Registro de producto",2:"Envio de credenciales",3:"Recepción documental",4:"Filtro revisión humana",5:"Generación Cédula de eligibilidad",6:"Resolución de solicitud",7:"Términos y condiciones"});let RS=rv;function Kje({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:n})}),a<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),o.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>o.jsx("div",{className:"flex flex-col text-center w-full",children:OS.getText(n).split(" ").map((a,i)=>o.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:a},i))},n))})]})}const Yje=({companyName:e,setCompanyName:t,rfc:r,setRfc:n,razonSocial:a,setRazonSocial:i,telefono:s,setTelefono:l,userName:c,setUserName:u,userEmail:d,setUserEmail:f,setFilledStatus:m})=>{const[p,h]=w.useState({}),[g,x]=w.useState({}),v=S=>/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(S.trim()),b=S=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S),y=S=>/^\d{10}$/.test(S),j=()=>{const S={};e.trim()||(S.companyName="El nombre de la empresa es obligatorio."),r.trim()?v(r)||(S.rfc="El RFC no es válido."):S.rfc="El RFC es obligatorio.",s.trim()?y(s)||(S.telefono="El teléfono debe tener 10 dígitos."):S.telefono="El teléfono es obligatorio.",c.trim()||(S.userName="El nombre del usuario es obligatorio."),d.trim()?b(d)||(S.userEmail="El correo electrónico no es válido."):S.userEmail="El correo electrónico es obligatorio.",h(S),m(Object.keys(S).length===0)};w.useEffect(()=>{j()},[e,r,s,c,d]);const E=S=>{x(T=>({...T,[S]:!0}))},N="w-full p-2 text-sm bg-gray-100 rounded border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400";return o.jsxs("div",{children:[o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información General"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Ingresa los datos básicos de tu empresa como el nombre y el logo (opcional)."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Nombre de la Empresa ",o.jsx("span",{className:"text-red-500",children:"*"}),g.companyName&&p.companyName&&o.jsx("span",{className:"text-red-500 text-xs",children:p.companyName})]}),o.jsx("input",{type:"text",value:e,onChange:S=>t(S.target.value),onBlur:()=>E("companyName"),className:N})]}),o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información Legal de la empresa"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Proporciona los datos legales como la fecha de constitución, RFC y el teléfono."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["RFC ",o.jsx("span",{className:"text-red-500",children:"*"}),g.rfc&&p.rfc&&o.jsx("span",{className:"text-red-500 text-xs",children:p.rfc})]}),o.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),onBlur:()=>E("rfc"),className:N})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm mb-1",children:"Razón Social"}),o.jsx("input",{type:"text",placeholder:"Opcional",value:a,onChange:S=>i(S.target.value),className:N})]}),o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Datos de contacto"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Detalla el contacto principal que accederá a la plataforma."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Nombre ",o.jsx("span",{className:"text-red-500",children:"*"}),g.userName&&p.userName&&o.jsx("span",{className:"text-red-500 text-xs",children:p.userName})]}),o.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),onBlur:()=>E("userName"),className:N})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Correo Electrónico ",o.jsx("span",{className:"text-red-500",children:"*"}),g.userEmail&&p.userEmail&&o.jsx("span",{className:"text-red-500 text-xs",children:p.userEmail})]}),o.jsx("input",{type:"email",value:d,onChange:S=>f(S.target.value),onBlur:()=>E("userEmail"),className:N})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Teléfono ",o.jsx("span",{className:"text-red-500",children:"*"}),g.telefono&&p.telefono&&o.jsx("span",{className:"text-red-500 text-xs",children:p.telefono})]}),o.jsx("input",{type:"text",value:s,onChange:S=>l(S.target.value),onBlur:()=>E("telefono"),className:N})]})]})},cr=async e=>{var t,r;try{const n=await yY(e);return console.log("Se actualizó el status del documento de manera exitosa"),(r=(t=n==null?void 0:n.data)==null?void 0:t.requiredDocument_update)!=null&&r.id?{success:!0}:{success:!1}}catch(n){return console.error("Ocurrió un error al actualizar el status del required document",n),{success:!1}}},Hj=async e=>{try{const t=await IY(Ht,e);console.log("Chat creado exitosamente");const r=t.data.chat_insert.id;return r?{success:!0,chatId:r}:{success:!1}}catch(t){return console.error("Ocurrió un error al crear el chat",t),{success:!1}}},cl=async e=>{try{const t=await TY(Ht,e);return console.log("Mensaje guardado exitosamente"),t.data.message_insert.id?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al guardar el mensaje",t),{success:!1}}},Sh=async e=>{try{const t=await dJ(Ht,e);console.log("Mensaje recuperado exitosamente");const r=t.data.messages;return r.length>0?{messages:r}:{messages:[]}}catch(t){return console.error("Ocurrió un error al recuperar el mensaje",t),{messages:[]}}},Nh=async e=>{try{const t=await AY(Ht,e);return console.log("Mensaje actualizado exitosamente"),t.data.message_update?{success:!0}:{success:!1}}catch(t){return console.error("Ocurrió un error al actualizar el mensaje",t),{success:!1}}};async function _B(e,t,r=12){const a=`${e.split("@")[0]}:${t}`,s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(l));return btoa(String.fromCharCode(...c)).replace(/[^a-zA-Z0-9]/g,"").slice(0,r)}const Jje=async(e,t,r,n,a,i,s=!1)=>{if(s)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const l=await wE(r.email);let c,u=!1;if(l.exist&&l.uid)console.log("Usuario ya existe, no se registra en Firebase."),c=l.uid;else{console.log("Usuario no existe, se procede a registrarlo."),r.password=await _B(r.email,n.adminTeamId,12);const g=await _y(r,n.id);if(!g.success)return{success:!1,message:"Falló el registro del usuario",details:g.message};if(c=g.uid||"",!(await xE({name:r.displayName,email:r.email,userAuthId:c})).success)return{success:!1,message:"Falló el registro de credenciales del usuario"};u=!0}const d=await hE(e);if(!d.success)return{success:!1,message:"Falló el registro del representante legal"};t.representativeId=d.representativeId,t.userUid=c;const f=await pE(t);if(!f.success)return{success:!1,message:"Falló el registro de la empresa"};a.businessEntityId=f.id,a.userAuthId=c;const m=await vE(a);if(!m.success)return{success:!1,message:"Falló el registro de la solicitud de crédito"};const p=i.map(g=>({productRequestId:m.Id,documentTemplateId:g.id,isRequired:g.isRequired}));return await Promise.all(p.map(g=>Id(g)))?(await bE({productRequestId:m.Id}),await Hj({productRequestId:m.Id}),{success:!0,message:"El registro se realizó correctamente",details:u?"Usuario creado nuevo":"Usuario ya existente"}):{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(l){return console.error("Error en submitClientAndDocuments:",l),{success:!1,message:"Ha ocurrido un error inesperado"}}},Qje=()=>{const{user:e}=mt(),t=Mt(),r=(e==null?void 0:e.adminRole)||"",[n,a]=w.useState(""),[i,s]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(""),[p,h]=w.useState(""),[g,x]=w.useState(!1),[v,b]=w.useState([]),[y,j]=w.useState([]),[E,N]=w.useState("processing"),[S,T]=w.useState({title:"",message:"",details:void 0}),[C,k]=w.useState(!1),A=async()=>{const L=await W6({CategoryId:r});j(L)};w.useEffect(()=>{A()},[]);const _=async L=>{var K,J;if(L.preventDefault(),k(!0),N("processing"),!g){T({title:"Datos incompletos",message:"Rellena todos los datos solicitados."}),N("error");return}const W=hh.find(te=>te.id==="6"),H=W==null?void 0:W.products.find(te=>te.id==="p1"),q={flowStatus:2,productName:(H==null?void 0:H.name)??"",verticalName:(W==null?void 0:W.name)??"",businessEntityId:"",userAuthId:""},B={name:f,email:p},F={address:void 0,businessName:l,economicSector:void 0,employeeCount:void 0,incorporationDate:void 0,name:n,phone:void 0,rfc:i,yearsActive:void 0,representativeId:"",userUid:"",iconUrl:void 0,adminTeamId:((K=e==null?void 0:e.adminTeam)==null?void 0:K.id)??"",ownerAdminUid:(e==null?void 0:e.uid)??""},ne={displayName:f,email:p,password:""},U={id:(e==null?void 0:e.idToken)||"",adminTeamId:((J=e==null?void 0:e.adminTeam)==null?void 0:J.id)||"",userAdminId:(e==null?void 0:e.uid)||""},R=await Jje(B,F,ne,U,q,v,!1);R.success?(T({title:"Solicitud completada",message:"Has registrado correctamente un producto. Para continuar, regresa a la pantalla principal y selecciona 'Revisar producto'."}),N("success")):(T({title:"Error",message:R.message,details:R.details}),N("error"))},I=()=>{t(-1)},M=()=>{k(!1),E!=="error"&&t(-1)};return o.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center ",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 w-[950px]",children:o.jsx(Kje,{})}),o.jsx("div",{className:"w-[950px] bg-white rounded-lg shadow-md p-6 font-sans",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-medium mb-4",children:"Solicitud de producto Nafin"}),o.jsx("div",{className:"flex space-x-4",children:o.jsx("button",{type:"button",className:"border border-red-500 text-red-500 bg-transparent px-4 py-2 rounded shadow hover:bg-red-500 hover:text-white transition-colors duration-300",onClick:I,children:"Cancelar registro"})})]}),o.jsxs("form",{onSubmit:_,children:[o.jsx(Yje,{companyName:n,setCompanyName:a,rfc:i,setRfc:s,razonSocial:l,setRazonSocial:c,telefono:u,setTelefono:d,userName:f,setUserName:m,userEmail:p,setUserEmail:h,filledStatus:g,setFilledStatus:x}),o.jsx("h2",{className:"text-lg font-bold mb-2 mt-4",children:"Selección de documentos"}),o.jsx(jB,{documents:v,setDocuments:b,docTemplates:y}),o.jsx(Xje,{handleSubmit:_})]})]})}),C&&o.jsx(_n,{onClose:M,status:E,messages:S})]})};function Zje(){return o.jsx(Yr,{children:o.jsx(Qje,{})})}function e_e({currentStep:e=1,totalSteps:t=7,onStepChange:r}){const n=Array.from({length:t},(a,i)=>i+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:n.map((a,i)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=a?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{onClick:()=>r==null?void 0:r(a),className:`w-10 h-10 rounded-full border-2 flex items-center justify-center cursor-pointer transition-colors
                                ${e>=a?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>a?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:a})}),i<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=a?"bg-blue-500":"bg-gray-300"}
                                `})]},a))}),o.jsx("div",{className:"flex justify-between mt-4",children:n.map(a=>o.jsx("div",{className:"flex flex-col text-center w-full",children:RS.getText(a).split(" ").map((i,s)=>o.jsx("span",{className:e===a?"text-blue-500 font-bold":"",children:i},s))},a))})]})}function t_e({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=w.useState(""),{selectedClient:s}=ct(),l=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!0,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await cl({chatId:s.chatId,content:a,isAdmin:!0});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return o.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Usuario"}),o.jsx("button",{onClick:e,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>o.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[o.jsx("div",{children:u.content}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!0&&o.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),o.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),o.jsx("button",{onClick:l,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:o.jsx(nl,{size:20})})]})]})}function r_e({notifications:e,onClose:t}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),o.jsx("button",{onClick:t,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>o.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?o.jsx(_a,{size:20,className:"text-blue-500"}):o.jsx(At,{size:20,className:"text-green-500"}),o.jsx("span",{children:r.content})]})},r.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const n_e=({content:e,type:t="info",duration:r,onClose:n})=>{const[a,i]=w.useState(!0);return w.useEffect(()=>{const s=setTimeout(()=>{i(!1),n()},r);return()=>clearTimeout(s)},[r,n]),a?o.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg flex items-center gap-4 border-l-4 border-blue-500 max-w-lg w-full",children:[t==="info"?o.jsx(_a,{size:24,className:"text-blue-500"}):o.jsx(At,{size:24,className:"text-green-500"}),o.jsx("span",{className:"text-lg",children:e}),o.jsx("button",{onClick:()=>{i(!1),n()},className:"absolute right-4 top-4 text-gray-500",children:o.jsx(pt,{size:20})})]}):null},a_e=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return t?t.requiredDocuments.map(n=>({documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??""})):[]}catch(t){return console.error("Error al obtener los documentos:",t),[]}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Fx={};Fx.version="0.18.5";var kB=1252,i_e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Wj={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Gj=function(e){i_e.indexOf(e)!=-1&&(kB=Wj[0]=e)};function s_e(){Gj(1252)}var fi=function(e){Gj(e)};function Xj(){fi(1200),s_e()}function EP(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function o_e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function CB(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Uf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?o_e(e.slice(2)):t==254&&r==255?CB(e.slice(2)):t==65279?e.slice(1):e},g0=function(t){return String.fromCharCode(t)},jP=function(t){return String.fromCharCode(t)},xo,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tp(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=No.charAt(i)+No.charAt(s)+No.charAt(l)+No.charAt(c);return t}function Na(e){var t="",r=0,n=0,a=0,i=0,s=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=No.indexOf(e.charAt(u++)),s=No.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),l=No.indexOf(e.charAt(u++)),n=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=No.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var st=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ks=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ho(e){return st?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function _P(e){return st?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ga=function(t){return st?Ks(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Iy(e){if(typeof ArrayBuffer>"u")return ga(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ul(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function l_e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Kj(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Kj(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Wr=st?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ks(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function c_e(e){for(var t=[],r=0,n=e.length+250,a=Ho(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|l>>6&15|(s&3)<<4,a[r++]=128|l&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ho(65535),n=65530)}return t.push(a.slice(0,r)),Wr(t)}var Bn=/\u0000/g,qf=/[\u0001-\u0006]/g;function Pu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function mi(e,t){var r=""+e;return r.length>=t?r:xr("0",t-r.length)+r}function Yj(e,t){var r=""+e;return r.length>=t?r:xr(" ",t-r.length)+r}function Mx(e,t){var r=""+e;return r.length>=t?r:r+xr(" ",t-r.length)}function u_e(e,t){var r=""+Math.round(e);return r.length>=t?r:xr("0",t-r.length)+r}function d_e(e,t){var r=""+e;return r.length>=t?r:xr("0",t-r.length)+r}var kP=Math.pow(2,32);function zc(e,t){if(e>kP||e<-kP)return u_e(e,t);var r=Math.round(e);return d_e(r,t)}function Lx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var CP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function f_e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var We={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},TP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},m_e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $x(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=s)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function Rl(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=y_e(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var TB=new Date(1899,11,31,0,0,0),p_e=TB.getTime(),h_e=new Date(1900,2,1,0,0,0);function AB(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=h_e&&(r+=24*60*60*1e3),(r-(p_e+(e.getTimezoneOffset()-TB.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Jj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function g_e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function x_e(e){var t=e<0?12:11,r=Jj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function v_e(e){var t=Jj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ap(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=x_e(e):t===10?r=e.toFixed(10).substr(0,12):r=v_e(e),Jj(g_e(r.toUpperCase()))}function dc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ap(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Qa(14,AB(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function y_e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function b_e(e,t,r,n){var a="",i=0,s=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return p1[r.m-1][1];case 5:return p1[r.m-1][0];default:return p1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return CP[r.q][0];default:return CP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?mi(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=mi(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?mi(c,u):"";return d}function Eo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var IB=/%/g;function w_e(e,t,r){var n=t.replace(IB,""),a=t.length-n.length;return Ns(e,n,r*Math.pow(10,2*a))+xr("%",a)}function S_e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ns(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function PB(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PB(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var OB=/# (\?+)( ?)\/( ?)(\d+)/;function N_e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(s===0?xr(" ",e[1].length+1+e[4].length):Yj(s,e[1].length)+e[2]+"/"+e[3]+mi(l,e[4].length))}function E_e(e,t,r){return r+(t===0?"":""+t)+xr(" ",e[1].length+2+e[4].length)}var RB=/^#*0*\.([0#]+)/,DB=/\).*[0#]/,FB=/\(###\) ###\\?-####/;function Pn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function AP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function IP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function j_e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function __e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ra(e,t,r){if(e.charCodeAt(0)===40&&!t.match(DB)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ra("n",n,r):"("+Ra("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return S_e(e,t,r);if(t.indexOf("%")!==-1)return w_e(e,t,r);if(t.indexOf("E")!==-1)return PB(t,r);if(t.charCodeAt(0)===36)return"$"+Ra(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zc(c,t.length);if(t.match(/^[#?]+$/))return a=zc(r,0),a==="0"&&(a=""),a.length>t.length?a:Pn(t.substr(0,t.length-a.length))+a;if(i=t.match(OB))return N_e(i,c,u);if(t.match(/^#+0+$/))return u+zc(c,t.length-t.indexOf("0"));if(i=t.match(RB))return a=AP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Pn(i[1])).replace(/\.$/,"."+Pn(i[1])).replace(/\.(\d*)$/,function(h,g){return"."+g+xr("0",Pn(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+AP(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Eo(zc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ra(e,t,-r):Eo(""+(Math.floor(r)+j_e(r,i[1].length)))+"."+mi(IP(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ra(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pu(Ra(e,t.replace(/[\\-]/g,""),r)),s=0,Pu(Pu(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<a.length?a.charAt(s++):h==="0"?"0":""}));if(t.match(FB))return a=Ra(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=$x(c,Math.pow(10,s)-1,!1),a=""+u,d=Ns("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Mx(l[2],s),d.length<i[4].length&&(d=Pn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=$x(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Yj(l[1],s)+i[2]+"/"+i[3]+Mx(l[2],s):xr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=zc(r,0),t.length<=a.length?a:Pn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,m=t.length-a.length-f;return Pn(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=IP(r,i[1].length),r<0?"-"+Ra(e,t,-r):Eo(__e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?mi(0,3-h.length):"")+h})+"."+mi(s,i[1].length);switch(t){case"###,##0.00":return Ra(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Eo(zc(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ra(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ra(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function k_e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ns(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function C_e(e,t,r){var n=t.replace(IB,""),a=t.length-n.length;return Ns(e,n,r*Math.pow(10,2*a))+xr("%",a)}function MB(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MB(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ii(e,t,r){if(e.charCodeAt(0)===40&&!t.match(DB)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ii("n",n,r):"("+Ii("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return k_e(e,t,r);if(t.indexOf("%")!==-1)return C_e(e,t,r);if(t.indexOf("E")!==-1)return MB(t,r);if(t.charCodeAt(0)===36)return"$"+Ii(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+mi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Pn(t.substr(0,t.length-a.length))+a;if(i=t.match(OB))return E_e(i,c,u);if(t.match(/^#+0+$/))return u+mi(c,t.length-t.indexOf("0"));if(i=t.match(RB))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Pn(i[1])).replace(/\.$/,"."+Pn(i[1])),a=a.replace(/\.(\d*)$/,function(h,g){return"."+g+xr("0",Pn(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Eo(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ii(e,t,-r):Eo(""+r)+"."+xr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ii(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pu(Ii(e,t.replace(/[\\-]/g,""),r)),s=0,Pu(Pu(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<a.length?a.charAt(s++):h==="0"?"0":""}));if(t.match(FB))return a=Ii(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=$x(c,Math.pow(10,s)-1,!1),a=""+u,d=Ns("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Mx(l[2],s),d.length<i[4].length&&(d=Pn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=$x(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Yj(l[1],s)+i[2]+"/"+i[3]+Mx(l[2],s):xr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Pn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,m=t.length-a.length-f;return Pn(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ii(e,t,-r):Eo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?mi(0,3-h.length):"")+h})+"."+mi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Eo(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ii(e,t.slice(0,t.lastIndexOf(".")),r)+Pn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ns(e,t,r){return(r|0)===r?Ii(e,t,r):Ra(e,t,r)}function T_e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var LB=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Jd(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Lx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(LB))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function A_e(e,t,r,n){for(var a=[],i="",s=0,l="",c="t",u,d,f,m="H";s<e.length;)switch(l=e.charAt(s)){case"G":if(!Lx(e,s))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),h=p==="("||p===")"?p:"t";a[a.length]={t:h,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Rl(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Rl(t,r),u==null))return"";for(i=l;++s<e.length&&e.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var g={t:l,v:l};if(u==null&&(u=Rl(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",s+=5,m="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(LB)){if(u==null&&(u=Rl(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Jd(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++s<e.length&&(l=e.charAt(s))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(s))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++s)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++s;break}var x=0,v=0,b;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=m,c="h",x<1&&(x=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",j;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=b_e(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(j=s+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[s].v+=a[j].v,a[j]={v:"",t:";"},++j;y+=a[s].v,s=j-1;break;case"G":a[s].t="t",a[s].v=dc(t,r);break}var E="",N,S;if(y.length>0){y.charCodeAt(0)==40?(N=t<0&&y.charCodeAt(0)===45?-t:t,S=Ns("n",y,N)):(N=t<0&&n>1?-t:t,S=Ns("n",y,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),j=S.length-1;var T=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){T=s;break}var C=a.length;if(T===a.length&&S.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(j>=a[s].v.length-1?(j-=a[s].v.length,a[s].v=S.substr(j+1,a[s].v.length)):j<0?a[s].v="":(a[s].v=S.substr(0,j+1),j=-1),a[s].t="t",C=s);j>=0&&C<a.length&&(a[C].v=S.substr(0,j+1)+a[C].v)}else if(T!==a.length&&S.indexOf("E")===-1){for(j=S.indexOf(".")-1,s=T;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===T?a[s].v.indexOf(".")-1:a[s].v.length-1,E=a[s].v.substr(d+1);d>=0;--d)j>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(E=S.charAt(j--)+E);a[s].v=E,a[s].t="t",C=s}for(j>=0&&C<a.length&&(a[C].v=S.substr(0,j+1)+a[C].v),j=S.indexOf(".")+1,s=T;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==T)){for(d=a[s].v.indexOf(".")>-1&&s===T?a[s].v.indexOf(".")+1:0,E=a[s].v.substr(0,d);d<a[s].v.length;++d)j<S.length&&(E+=S.charAt(j++));a[s].v=E,a[s].t="t",C=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(N=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Ns(a[s].t,a[s].v,N),a[s].t="t");var k="";for(s=0;s!==a.length;++s)a[s]!=null&&(k+=a[s].v);return k}var PP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function OP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function I_e(e,t){var r=T_e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(PP),l=r[1].match(PP);return OP(t,s)?[n,r[0]]:OP(t,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,i]}function Qa(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:We)[e],n==null&&(n=r.table&&r.table[TP[e]]||We[TP[e]]),n==null&&(n=m_e[e]||"General");break}if(Lx(n,0))return dc(t,r);t instanceof Date&&(t=AB(t,r.date1904));var a=I_e(n,t);if(Lx(a[1]))return dc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return A_e(a[1],t,r,a[0])}function Es(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(We[r]==null){t<0&&(t=r);continue}if(We[r]==e){t=r;break}}t<0&&(t=391)}return We[t]=e,t}function Py(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Es(e[t],t)}function Qd(){We=f_e()}var P_e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},$B=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function O_e(e){var t=typeof e=="number"?We[e]:e;return t=t.replace($B,"(\\d+)"),new RegExp("^"+t+"$")}function R_e(e,t,r){var n=-1,a=-1,i=-1,s=-1,l=-1,c=-1;(t.match($B)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var D_e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,T=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,T[C]=S;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(S){var T=0,C=0,k=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)A[k]=S[k];for(k=0;k!=256;++k)for(C=S[k],T=256+k;T<4096;T+=256)C=A[T]=C>>>8^S[C&255];var _=[];for(k=1;k!=16;++k)_[k-1]=typeof Int32Array<"u"?A.subarray(k*256,k*256+256):A.slice(k*256,k*256+256);return _}var a=n(r),i=a[0],s=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],h=a[9],g=a[10],x=a[11],v=a[12],b=a[13],y=a[14];function j(S,T){for(var C=T^-1,k=0,A=S.length;k<A;)C=C>>>8^r[(C^S.charCodeAt(k++))&255];return~C}function E(S,T){for(var C=T^-1,k=S.length-15,A=0;A<k;)C=y[S[A++]^C&255]^b[S[A++]^C>>8&255]^v[S[A++]^C>>16&255]^x[S[A++]^C>>>24]^g[S[A++]]^h[S[A++]]^p[S[A++]]^m[S[A++]]^f[S[A++]]^d[S[A++]]^u[S[A++]]^c[S[A++]]^l[S[A++]]^s[S[A++]]^i[S[A++]]^r[S[A++]];for(k+=15;A<k;)C=C>>>8^r[(C^S[A++])&255];return~C}function N(S,T){for(var C=T^-1,k=0,A=S.length,_=0,I=0;k<A;)_=S.charCodeAt(k++),_<128?C=C>>>8^r[(C^_)&255]:_<2048?(C=C>>>8^r[(C^(192|_>>6&31))&255],C=C>>>8^r[(C^(128|_&63))&255]):_>=55296&&_<57344?(_=(_&1023)+64,I=S.charCodeAt(k++)&1023,C=C>>>8^r[(C^(240|_>>8&7))&255],C=C>>>8^r[(C^(128|_>>2&63))&255],C=C>>>8^r[(C^(128|I>>6&15|(_&3)<<4))&255],C=C>>>8^r[(C^(128|I&63))&255]):(C=C>>>8^r[(C^(224|_>>12&15))&255],C=C>>>8^r[(C^(128|_>>6&63))&255],C=C>>>8^r[(C^(128|_&63))&255]);return~C}return e.table=r,e.bstr=j,e.buf=E,e.str=N,e}(),Ue=function(){var t={};t.version="1.2.1";function r(V,Q){for(var X=V.split("/"),Y=Q.split("/"),Z=0,ee=0,ce=Math.min(X.length,Y.length);Z<ce;++Z){if(ee=X[Z].length-Y[Z].length)return ee;if(X[Z]!=Y[Z])return X[Z]<Y[Z]?-1:1}return X.length-Y.length}function n(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:n(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(0,Q+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(Q+1)}function i(V,Q){typeof Q=="string"&&(Q=new Date(Q));var X=Q.getHours();X=X<<6|Q.getMinutes(),X=X<<5|Q.getSeconds()>>>1,V.write_shift(2,X);var Y=Q.getFullYear()-1980;Y=Y<<4|Q.getMonth()+1,Y=Y<<5|Q.getDate(),V.write_shift(2,Y)}function s(V){var Q=V.read_shift(2)&65535,X=V.read_shift(2)&65535,Y=new Date,Z=X&31;X>>>=5;var ee=X&15;X>>>=4,Y.setMilliseconds(0),Y.setFullYear(X+1980),Y.setMonth(ee-1),Y.setDate(Z);var ce=Q&31;Q>>>=5;var ve=Q&63;return Q>>>=6,Y.setHours(Q),Y.setMinutes(ve),Y.setSeconds(ce<<1),Y}function l(V){tn(V,0);for(var Q={},X=0;V.l<=V.length-4;){var Y=V.read_shift(2),Z=V.read_shift(2),ee=V.l+Z,ce={};switch(Y){case 21589:X=V.read_shift(1),X&1&&(ce.mtime=V.read_shift(4)),Z>5&&(X&2&&(ce.atime=V.read_shift(4)),X&4&&(ce.ctime=V.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}V.l=ee,Q[Y]=ce}return Q}var c;function u(){return c||(c={})}function d(V,Q){if(V[0]==80&&V[1]==75)return ak(V,Q);if((V[0]|32)==109&&(V[1]|32)==105)return oU(V,Q);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var X=3,Y=512,Z=0,ee=0,ce=0,ve=0,le=0,de=[],me=V.slice(0,512);tn(me,0);var Se=f(me);switch(X=Se[0],X){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Se[1]==0)return ak(V,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Y!==512&&(me=V.slice(0,Y),tn(me,28));var Ae=V.slice(0,Y);m(me,X);var Re=me.read_shift(4,"i");if(X===3&&Re!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Re);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),ve=me.read_shift(4,"i"),Z=me.read_shift(4,"i"),le=me.read_shift(4,"i"),ee=me.read_shift(4,"i");for(var _e=-1,Oe=0;Oe<109&&(_e=me.read_shift(4,"i"),!(_e<0));++Oe)de[Oe]=_e;var Qe=p(V,Y);x(le,ee,Qe,Y,de);var ir=b(Qe,ce,de,Y);ir[ce].name="!Directory",Z>0&&ve!==I&&(ir[ve].name="!MiniFAT"),ir[de[0]].name="!FAT",ir.fat_addrs=de,ir.ssz=Y;var sr={},un=[],sf=[],of=[];y(ce,ir,Qe,un,Z,sr,sf,ve),h(sf,of,un),un.shift();var lf={FileIndex:sf,FullPaths:of};return Q&&Q.raw&&(lf.raw={header:Ae,sectors:Qe}),lf}function f(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(M,"Header Signature: "),V.l+=16;var Q=V.read_shift(2,"u");return[V.read_shift(2,"u"),Q]}function m(V,Q){var X=9;switch(V.l+=2,X=V.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function p(V,Q){for(var X=Math.ceil(V.length/Q)-1,Y=[],Z=1;Z<X;++Z)Y[Z-1]=V.slice(Z*Q,(Z+1)*Q);return Y[X-1]=V.slice(X*Q),Y}function h(V,Q,X){for(var Y=0,Z=0,ee=0,ce=0,ve=0,le=X.length,de=[],me=[];Y<le;++Y)de[Y]=me[Y]=Y,Q[Y]=X[Y];for(;ve<me.length;++ve)Y=me[ve],Z=V[Y].L,ee=V[Y].R,ce=V[Y].C,de[Y]===Y&&(Z!==-1&&de[Z]!==Z&&(de[Y]=de[Z]),ee!==-1&&de[ee]!==ee&&(de[Y]=de[ee])),ce!==-1&&(de[ce]=Y),Z!==-1&&Y!=de[Y]&&(de[Z]=de[Y],me.lastIndexOf(Z)<ve&&me.push(Z)),ee!==-1&&Y!=de[Y]&&(de[ee]=de[Y],me.lastIndexOf(ee)<ve&&me.push(ee));for(Y=1;Y<le;++Y)de[Y]===Y&&(ee!==-1&&de[ee]!==ee?de[Y]=de[ee]:Z!==-1&&de[Z]!==Z&&(de[Y]=de[Z]));for(Y=1;Y<le;++Y)if(V[Y].type!==0){if(ve=Y,ve!=de[ve])do ve=de[ve],Q[Y]=Q[ve]+"/"+Q[Y];while(ve!==0&&de[ve]!==-1&&ve!=de[ve]);de[Y]=-1}for(Q[0]+="/",Y=1;Y<le;++Y)V[Y].type!==2&&(Q[Y]+="/")}function g(V,Q,X){for(var Y=V.start,Z=V.size,ee=[],ce=Y;X&&Z>0&&ce>=0;)ee.push(Q.slice(ce*_,ce*_+_)),Z-=_,ce=El(X,ce*4);return ee.length===0?ge(0):Wr(ee).slice(0,V.size)}function x(V,Q,X,Y,Z){var ee=I;if(V===I){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var ce=X[V],ve=(Y>>>2)-1;if(!ce)return;for(var le=0;le<ve&&(ee=El(ce,le*4))!==I;++le)Z.push(ee);x(El(ce,Y-4),Q-1,X,Y,Z)}}function v(V,Q,X,Y,Z){var ee=[],ce=[];Z||(Z=[]);var ve=Y-1,le=0,de=0;for(le=Q;le>=0;){Z[le]=!0,ee[ee.length]=le,ce.push(V[le]);var me=X[Math.floor(le*4/Y)];if(de=le*4&ve,Y<4+de)throw new Error("FAT boundary crossed: "+le+" 4 "+Y);if(!V[me])break;le=El(V[me],de)}return{nodes:ee,data:HP([ce])}}function b(V,Q,X,Y){var Z=V.length,ee=[],ce=[],ve=[],le=[],de=Y-1,me=0,Se=0,Ae=0,Re=0;for(me=0;me<Z;++me)if(ve=[],Ae=me+Q,Ae>=Z&&(Ae-=Z),!ce[Ae]){le=[];var _e=[];for(Se=Ae;Se>=0;){_e[Se]=!0,ce[Se]=!0,ve[ve.length]=Se,le.push(V[Se]);var Oe=X[Math.floor(Se*4/Y)];if(Re=Se*4&de,Y<4+Re)throw new Error("FAT boundary crossed: "+Se+" 4 "+Y);if(!V[Oe]||(Se=El(V[Oe],Re),_e[Se]))break}ee[Ae]={nodes:ve,data:HP([le])}}return ee}function y(V,Q,X,Y,Z,ee,ce,ve){for(var le=0,de=Y.length?2:0,me=Q[V].data,Se=0,Ae=0,Re;Se<me.length;Se+=128){var _e=me.slice(Se,Se+128);tn(_e,64),Ae=_e.read_shift(2),Re=a_(_e,0,Ae-de),Y.push(Re);var Oe={name:Re,type:_e.read_shift(1),color:_e.read_shift(1),L:_e.read_shift(4,"i"),R:_e.read_shift(4,"i"),C:_e.read_shift(4,"i"),clsid:_e.read_shift(16),state:_e.read_shift(4,"i"),start:0,size:0},Qe=_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2);Qe!==0&&(Oe.ct=j(_e,_e.l-8));var ir=_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2)+_e.read_shift(2);ir!==0&&(Oe.mt=j(_e,_e.l-8)),Oe.start=_e.read_shift(4,"i"),Oe.size=_e.read_shift(4,"i"),Oe.size<0&&Oe.start<0&&(Oe.size=Oe.type=0,Oe.start=I,Oe.name=""),Oe.type===5?(le=Oe.start,Z>0&&le!==I&&(Q[le].name="!StreamData")):Oe.size>=4096?(Oe.storage="fat",Q[Oe.start]===void 0&&(Q[Oe.start]=v(X,Oe.start,Q.fat_addrs,Q.ssz)),Q[Oe.start].name=Oe.name,Oe.content=Q[Oe.start].data.slice(0,Oe.size)):(Oe.storage="minifat",Oe.size<0?Oe.size=0:le!==I&&Oe.start!==I&&Q[le]&&(Oe.content=g(Oe,Q[le].data,(Q[ve]||{}).data))),Oe.content&&tn(Oe.content,0),ee[Re]=Oe,ce.push(Oe)}}function j(V,Q){return new Date((ma(V,Q+4)/1e7*Math.pow(2,32)+ma(V,Q)/1e7-11644473600)*1e3)}function E(V,Q){return u(),d(c.readFileSync(V),Q)}function N(V,Q){var X=Q&&Q.type;switch(X||st&&Buffer.isBuffer(V)&&(X="buffer"),X||"base64"){case"file":return E(V,Q);case"base64":return d(ga(Na(V)),Q);case"binary":return d(ga(V),Q)}return d(V,Q)}function S(V,Q){var X=Q||{},Y=X.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=Y+"/",V.FileIndex[0]={name:Y,type:5}),X.CLSID&&(V.FileIndex[0].clsid=X.CLSID),T(V)}function T(V){var Q="Sh33tJ5";if(!Ue.find(V,"/"+Q)){var X=ge(4);X[0]=55,X[1]=X[3]=50,X[2]=54,V.FileIndex.push({name:Q,type:2,content:X,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+Q),C(V)}}function C(V,Q){S(V);for(var X=!1,Y=!1,Z=V.FullPaths.length-1;Z>=0;--Z){var ee=V.FileIndex[Z];switch(ee.type){case 0:Y?X=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(ee.R*ee.L*ee.C)&&(X=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!Q)){var ce=new Date(1987,1,19),ve=0,le=Object.create?Object.create(null):{},de=[];for(Z=0;Z<V.FullPaths.length;++Z)le[V.FullPaths[Z]]=!0,V.FileIndex[Z].type!==0&&de.push([V.FullPaths[Z],V.FileIndex[Z]]);for(Z=0;Z<de.length;++Z){var me=n(de[Z][0]);Y=le[me],Y||(de.push([me,{name:a(me).replace("/",""),type:1,clsid:W,ct:ce,mt:ce,content:null}]),le[me]=!0)}for(de.sort(function(Re,_e){return r(Re[0],_e[0])}),V.FullPaths=[],V.FileIndex=[],Z=0;Z<de.length;++Z)V.FullPaths[Z]=de[Z][0],V.FileIndex[Z]=de[Z][1];for(Z=0;Z<de.length;++Z){var Se=V.FileIndex[Z],Ae=V.FullPaths[Z];if(Se.name=a(Ae).replace("/",""),Se.L=Se.R=Se.C=-(Se.color=1),Se.size=Se.content?Se.content.length:0,Se.start=0,Se.clsid=Se.clsid||W,Z===0)Se.C=de.length>1?1:-1,Se.size=0,Se.type=5;else if(Ae.slice(-1)=="/"){for(ve=Z+1;ve<de.length&&n(V.FullPaths[ve])!=Ae;++ve);for(Se.C=ve>=de.length?-1:ve,ve=Z+1;ve<de.length&&n(V.FullPaths[ve])!=n(Ae);++ve);Se.R=ve>=de.length?-1:ve,Se.type=1}else n(V.FullPaths[Z+1]||"")==n(Ae)&&(Se.R=Z+1),Se.type=2}}}function k(V,Q){var X=Q||{};if(X.fileType=="mad")return lU(V,X);switch(C(V),X.fileType){case"zip":return tU(V,X)}var Y=function(Re){for(var _e=0,Oe=0,Qe=0;Qe<Re.FileIndex.length;++Qe){var ir=Re.FileIndex[Qe];if(ir.content){var sr=ir.content.length;sr>0&&(sr<4096?_e+=sr+63>>6:Oe+=sr+511>>9)}}for(var un=Re.FullPaths.length+3>>2,sf=_e+7>>3,of=_e+127>>7,lf=sf+Oe+un+of,hl=lf+127>>7,Ky=hl<=109?0:Math.ceil((hl-109)/127);lf+hl+Ky+127>>7>hl;)Ky=++hl<=109?0:Math.ceil((hl-109)/127);var is=[1,Ky,hl,of,un,Oe,_e,0];return Re.FileIndex[0].size=_e<<6,is[7]=(Re.FileIndex[0].start=is[0]+is[1]+is[2]+is[3]+is[4]+is[5])+(is[6]+7>>3),is}(V),Z=ge(Y[7]<<9),ee=0,ce=0;{for(ee=0;ee<8;++ee)Z.write_shift(1,L[ee]);for(ee=0;ee<8;++ee)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),ee=0;ee<3;++ee)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,Y[2]),Z.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:I),Z.write_shift(4,Y[3]),Z.write_shift(-4,Y[1]?Y[0]-1:I),Z.write_shift(4,Y[1]),ee=0;ee<109;++ee)Z.write_shift(-4,ee<Y[2]?Y[1]+ee:-1)}if(Y[1])for(ce=0;ce<Y[1];++ce){for(;ee<236+ce*127;++ee)Z.write_shift(-4,ee<Y[2]?Y[1]+ee:-1);Z.write_shift(-4,ce===Y[1]-1?I:ce+1)}var ve=function(Re){for(ce+=Re;ee<ce-1;++ee)Z.write_shift(-4,ee+1);Re&&(++ee,Z.write_shift(-4,I))};for(ce=ee=0,ce+=Y[1];ee<ce;++ee)Z.write_shift(-4,H.DIFSECT);for(ce+=Y[2];ee<ce;++ee)Z.write_shift(-4,H.FATSECT);ve(Y[3]),ve(Y[4]);for(var le=0,de=0,me=V.FileIndex[0];le<V.FileIndex.length;++le)me=V.FileIndex[le],me.content&&(de=me.content.length,!(de<4096)&&(me.start=ce,ve(de+511>>9)));for(ve(Y[6]+7>>3);Z.l&511;)Z.write_shift(-4,H.ENDOFCHAIN);for(ce=ee=0,le=0;le<V.FileIndex.length;++le)me=V.FileIndex[le],me.content&&(de=me.content.length,!(!de||de>=4096)&&(me.start=ce,ve(de+63>>6)));for(;Z.l&511;)Z.write_shift(-4,H.ENDOFCHAIN);for(ee=0;ee<Y[4]<<2;++ee){var Se=V.FullPaths[ee];if(!Se||Se.length===0){for(le=0;le<17;++le)Z.write_shift(4,0);for(le=0;le<3;++le)Z.write_shift(4,-1);for(le=0;le<12;++le)Z.write_shift(4,0);continue}me=V.FileIndex[ee],ee===0&&(me.start=me.size?me.start-1:I);var Ae=ee===0&&X.root||me.name;if(de=2*(Ae.length+1),Z.write_shift(64,Ae,"utf16le"),Z.write_shift(2,de),Z.write_shift(1,me.type),Z.write_shift(1,me.color),Z.write_shift(-4,me.L),Z.write_shift(-4,me.R),Z.write_shift(-4,me.C),me.clsid)Z.write_shift(16,me.clsid,"hex");else for(le=0;le<4;++le)Z.write_shift(4,0);Z.write_shift(4,me.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,me.start),Z.write_shift(4,me.size),Z.write_shift(4,0)}for(ee=1;ee<V.FileIndex.length;++ee)if(me=V.FileIndex[ee],me.size>=4096)if(Z.l=me.start+1<<9,st&&Buffer.isBuffer(me.content))me.content.copy(Z,Z.l,0,me.size),Z.l+=me.size+511&-512;else{for(le=0;le<me.size;++le)Z.write_shift(1,me.content[le]);for(;le&511;++le)Z.write_shift(1,0)}for(ee=1;ee<V.FileIndex.length;++ee)if(me=V.FileIndex[ee],me.size>0&&me.size<4096)if(st&&Buffer.isBuffer(me.content))me.content.copy(Z,Z.l,0,me.size),Z.l+=me.size+63&-64;else{for(le=0;le<me.size;++le)Z.write_shift(1,me.content[le]);for(;le&63;++le)Z.write_shift(1,0)}if(st)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function A(V,Q){var X=V.FullPaths.map(function(le){return le.toUpperCase()}),Y=X.map(function(le){var de=le.split("/");return de[de.length-(le.slice(-1)=="/"?2:1)]}),Z=!1;Q.charCodeAt(0)===47?(Z=!0,Q=X[0].slice(0,-1)+Q):Z=Q.indexOf("/")!==-1;var ee=Q.toUpperCase(),ce=Z===!0?X.indexOf(ee):Y.indexOf(ee);if(ce!==-1)return V.FileIndex[ce];var ve=!ee.match(qf);for(ee=ee.replace(Bn,""),ve&&(ee=ee.replace(qf,"!")),ce=0;ce<X.length;++ce)if((ve?X[ce].replace(qf,"!"):X[ce]).replace(Bn,"")==ee||(ve?Y[ce].replace(qf,"!"):Y[ce]).replace(Bn,"")==ee)return V.FileIndex[ce];return null}var _=64,I=-2,M="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(V,Q,X){u();var Y=k(V,X);c.writeFileSync(Q,Y)}function B(V){for(var Q=new Array(V.length),X=0;X<V.length;++X)Q[X]=String.fromCharCode(V[X]);return Q.join("")}function F(V,Q){var X=k(V,Q);switch(Q&&Q.type||"buffer"){case"file":return u(),c.writeFileSync(Q.filename,X),X;case"binary":return typeof X=="string"?X:B(X);case"base64":return Tp(typeof X=="string"?X:B(X));case"buffer":if(st)return Buffer.isBuffer(X)?X:Ks(X);case"array":return typeof X=="string"?ga(X):X}return X}var ne;function U(V){try{var Q=V.InflateRaw,X=new Q;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)ne=V;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function R(V,Q){if(!ne)return Ca(V,Q);var X=ne.InflateRaw,Y=new X,Z=Y._processChunk(V.slice(V.l),Y._finishFlushFlag);return V.l+=Y.bytesRead,Z}function K(V){return ne?ne.deflateRawSync(V):De(V)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function P(V){var Q=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var z=typeof Uint8Array<"u",D=z?new Uint8Array(256):[],G=0;G<256;++G)D[G]=P(G);function O(V,Q){var X=D[V&255];return Q<=8?X>>>8-Q:(X=X<<8|D[V>>8&255],Q<=16?X>>>16-Q:(X=X<<8|D[V>>16&255],X>>>24-Q))}function fe(V,Q){var X=Q&7,Y=Q>>>3;return(V[Y]|(X<=6?0:V[Y+1]<<8))>>>X&3}function ie(V,Q){var X=Q&7,Y=Q>>>3;return(V[Y]|(X<=5?0:V[Y+1]<<8))>>>X&7}function ue(V,Q){var X=Q&7,Y=Q>>>3;return(V[Y]|(X<=4?0:V[Y+1]<<8))>>>X&15}function ye(V,Q){var X=Q&7,Y=Q>>>3;return(V[Y]|(X<=3?0:V[Y+1]<<8))>>>X&31}function oe(V,Q){var X=Q&7,Y=Q>>>3;return(V[Y]|(X<=1?0:V[Y+1]<<8))>>>X&127}function we(V,Q,X){var Y=Q&7,Z=Q>>>3,ee=(1<<X)-1,ce=V[Z]>>>Y;return X<8-Y||(ce|=V[Z+1]<<8-Y,X<16-Y)||(ce|=V[Z+2]<<16-Y,X<24-Y)||(ce|=V[Z+3]<<24-Y),ce&ee}function $e(V,Q,X){var Y=Q&7,Z=Q>>>3;return Y<=5?V[Z]|=(X&7)<<Y:(V[Z]|=X<<Y&255,V[Z+1]=(X&7)>>8-Y),Q+3}function ze(V,Q,X){var Y=Q&7,Z=Q>>>3;return X=(X&1)<<Y,V[Z]|=X,Q+1}function Ve(V,Q,X){var Y=Q&7,Z=Q>>>3;return X<<=Y,V[Z]|=X&255,X>>>=8,V[Z+1]=X,Q+8}function Wt(V,Q,X){var Y=Q&7,Z=Q>>>3;return X<<=Y,V[Z]|=X&255,X>>>=8,V[Z+1]=X&255,V[Z+2]=X>>>8,Q+16}function ar(V,Q){var X=V.length,Y=2*X>Q?2*X:Q+5,Z=0;if(X>=Q)return V;if(st){var ee=_P(Y);if(V.copy)V.copy(ee);else for(;Z<V.length;++Z)ee[Z]=V[Z];return ee}else if(z){var ce=new Uint8Array(Y);if(ce.set)ce.set(V);else for(;Z<X;++Z)ce[Z]=V[Z];return ce}return V.length=Y,V}function zt(V){for(var Q=new Array(V),X=0;X<V;++X)Q[X]=0;return Q}function cn(V,Q,X){var Y=1,Z=0,ee=0,ce=0,ve=0,le=V.length,de=z?new Uint16Array(32):zt(32);for(ee=0;ee<32;++ee)de[ee]=0;for(ee=le;ee<X;++ee)V[ee]=0;le=V.length;var me=z?new Uint16Array(le):zt(le);for(ee=0;ee<le;++ee)de[Z=V[ee]]++,Y<Z&&(Y=Z),me[ee]=0;for(de[0]=0,ee=1;ee<=Y;++ee)de[ee+16]=ve=ve+de[ee-1]<<1;for(ee=0;ee<le;++ee)ve=V[ee],ve!=0&&(me[ee]=de[ve+16]++);var Se=0;for(ee=0;ee<le;++ee)if(Se=V[ee],Se!=0)for(ve=O(me[ee],Y)>>Y-Se,ce=(1<<Y+4-Se)-1;ce>=0;--ce)Q[ve|ce<<Se]=Se&15|ee<<4;return Y}var he=z?new Uint16Array(512):zt(512),Ee=z?new Uint16Array(32):zt(32);if(!z){for(var Be=0;Be<512;++Be)he[Be]=0;for(Be=0;Be<32;++Be)Ee[Be]=0}(function(){for(var V=[],Q=0;Q<32;Q++)V.push(5);cn(V,Ee,32);var X=[];for(Q=0;Q<=143;Q++)X.push(8);for(;Q<=255;Q++)X.push(9);for(;Q<=279;Q++)X.push(7);for(;Q<=287;Q++)X.push(8);cn(X,he,288)})();var Ye=function(){for(var Q=z?new Uint8Array(32768):[],X=0,Y=0;X<re.length-1;++X)for(;Y<re[X+1];++Y)Q[Y]=X;for(;Y<32768;++Y)Q[Y]=29;var Z=z?new Uint8Array(259):[];for(X=0,Y=0;X<te.length-1;++X)for(;Y<te[X+1];++Y)Z[Y]=X;function ee(ve,le){for(var de=0;de<ve.length;){var me=Math.min(65535,ve.length-de),Se=de+me==ve.length;for(le.write_shift(1,+Se),le.write_shift(2,me),le.write_shift(2,~me&65535);me-- >0;)le[le.l++]=ve[de++]}return le.l}function ce(ve,le){for(var de=0,me=0,Se=z?new Uint16Array(32768):[];me<ve.length;){var Ae=Math.min(65535,ve.length-me);if(Ae<10){for(de=$e(le,de,+(me+Ae==ve.length)),de&7&&(de+=8-(de&7)),le.l=de/8|0,le.write_shift(2,Ae),le.write_shift(2,~Ae&65535);Ae-- >0;)le[le.l++]=ve[me++];de=le.l*8;continue}de=$e(le,de,+(me+Ae==ve.length)+2);for(var Re=0;Ae-- >0;){var _e=ve[me];Re=(Re<<5^_e)&32767;var Oe=-1,Qe=0;if((Oe=Se[Re])&&(Oe|=me&-32768,Oe>me&&(Oe-=32768),Oe<me))for(;ve[Oe+Qe]==ve[me+Qe]&&Qe<250;)++Qe;if(Qe>2){_e=Z[Qe],_e<=22?de=Ve(le,de,D[_e+1]>>1)-1:(Ve(le,de,3),de+=5,Ve(le,de,D[_e-23]>>5),de+=3);var ir=_e<8?0:_e-4>>2;ir>0&&(Wt(le,de,Qe-te[_e]),de+=ir),_e=Q[me-Oe],de=Ve(le,de,D[_e]>>3),de-=3;var sr=_e<4?0:_e-2>>1;sr>0&&(Wt(le,de,me-Oe-re[_e]),de+=sr);for(var un=0;un<Qe;++un)Se[Re]=me&32767,Re=(Re<<5^ve[me])&32767,++me;Ae-=Qe-1}else _e<=143?_e=_e+48:de=ze(le,de,1),de=Ve(le,de,D[_e]),Se[Re]=me&32767,++me}de=Ve(le,de,0)-1}return le.l=(de+7)/8|0,le.l}return function(le,de){return le.length<8?ee(le,de):ce(le,de)}}();function De(V){var Q=ge(50+Math.floor(V.length*1.1)),X=Ye(V,Q);return Q.slice(0,X)}var gt=z?new Uint16Array(32768):zt(32768),Er=z?new Uint16Array(32768):zt(32768),kt=z?new Uint16Array(128):zt(128),oa=1,Zs=1;function Tn(V,Q){var X=ye(V,Q)+257;Q+=5;var Y=ye(V,Q)+1;Q+=5;var Z=ue(V,Q)+4;Q+=4;for(var ee=0,ce=z?new Uint8Array(19):zt(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,de=z?new Uint8Array(8):zt(8),me=z?new Uint8Array(8):zt(8),Se=ce.length,Ae=0;Ae<Z;++Ae)ce[J[Ae]]=ee=ie(V,Q),le<ee&&(le=ee),de[ee]++,Q+=3;var Re=0;for(de[0]=0,Ae=1;Ae<=le;++Ae)me[Ae]=Re=Re+de[Ae-1]<<1;for(Ae=0;Ae<Se;++Ae)(Re=ce[Ae])!=0&&(ve[Ae]=me[Re]++);var _e=0;for(Ae=0;Ae<Se;++Ae)if(_e=ce[Ae],_e!=0){Re=D[ve[Ae]]>>8-_e;for(var Oe=(1<<7-_e)-1;Oe>=0;--Oe)kt[Re|Oe<<_e]=_e&7|Ae<<3}var Qe=[];for(le=1;Qe.length<X+Y;)switch(Re=kt[oe(V,Q)],Q+=Re&7,Re>>>=3){case 16:for(ee=3+fe(V,Q),Q+=2,Re=Qe[Qe.length-1];ee-- >0;)Qe.push(Re);break;case 17:for(ee=3+ie(V,Q),Q+=3;ee-- >0;)Qe.push(0);break;case 18:for(ee=11+oe(V,Q),Q+=7;ee-- >0;)Qe.push(0);break;default:Qe.push(Re),le<Re&&(le=Re);break}var ir=Qe.slice(0,X),sr=Qe.slice(X);for(Ae=X;Ae<286;++Ae)ir[Ae]=0;for(Ae=Y;Ae<30;++Ae)sr[Ae]=0;return oa=cn(ir,gt,286),Zs=cn(sr,Er,30),Q}function eo(V,Q){if(V[0]==3&&!(V[1]&3))return[Ho(Q),2];for(var X=0,Y=0,Z=_P(Q||1<<18),ee=0,ce=Z.length>>>0,ve=0,le=0;!(Y&1);){if(Y=ie(V,X),X+=3,Y>>>1)Y>>1==1?(ve=9,le=5):(X=Tn(V,X),ve=oa,le=Zs);else{X&7&&(X+=8-(X&7));var de=V[X>>>3]|V[(X>>>3)+1]<<8;if(X+=32,de>0)for(!Q&&ce<ee+de&&(Z=ar(Z,ee+de),ce=Z.length);de-- >0;)Z[ee++]=V[X>>>3],X+=8;continue}for(;;){!Q&&ce<ee+32767&&(Z=ar(Z,ee+32767),ce=Z.length);var me=we(V,X,ve),Se=Y>>>1==1?he[me]:gt[me];if(X+=Se&15,Se>>>=4,!(Se>>>8&255))Z[ee++]=Se;else{if(Se==256)break;Se-=257;var Ae=Se<8?0:Se-4>>2;Ae>5&&(Ae=0);var Re=ee+te[Se];Ae>0&&(Re+=we(V,X,Ae),X+=Ae),me=we(V,X,le),Se=Y>>>1==1?Ee[me]:Er[me],X+=Se&15,Se>>>=4;var _e=Se<4?0:Se-2>>1,Oe=re[Se];for(_e>0&&(Oe+=we(V,X,_e),X+=_e),!Q&&ce<Re&&(Z=ar(Z,Re+100),ce=Z.length);ee<Re;)Z[ee]=Z[ee-Oe],++ee}}}return Q?[Z,X+7>>>3]:[Z.slice(0,ee),X+7>>>3]}function Ca(V,Q){var X=V.slice(V.l||0),Y=eo(X,Q);return V.l+=Y[1],Y[0]}function nk(V,Q){if(V)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function ak(V,Q){var X=V;tn(X,0);var Y=[],Z=[],ee={FileIndex:Y,FullPaths:Z};S(ee,{root:Q.root});for(var ce=X.length-4;(X[ce]!=80||X[ce+1]!=75||X[ce+2]!=5||X[ce+3]!=6)&&ce>=0;)--ce;X.l=ce+4,X.l+=4;var ve=X.read_shift(2);X.l+=6;var le=X.read_shift(4);for(X.l=le,ce=0;ce<ve;++ce){X.l+=20;var de=X.read_shift(4),me=X.read_shift(4),Se=X.read_shift(2),Ae=X.read_shift(2),Re=X.read_shift(2);X.l+=8;var _e=X.read_shift(4),Oe=l(X.slice(X.l+Se,X.l+Se+Ae));X.l+=Se+Ae+Re;var Qe=X.l;X.l=_e+4,eU(X,de,me,ee,Oe),X.l=Qe}return ee}function eU(V,Q,X,Y,Z){V.l+=2;var ee=V.read_shift(2),ce=V.read_shift(2),ve=s(V);if(ee&8257)throw new Error("Unsupported ZIP encryption");for(var le=V.read_shift(4),de=V.read_shift(4),me=V.read_shift(4),Se=V.read_shift(2),Ae=V.read_shift(2),Re="",_e=0;_e<Se;++_e)Re+=String.fromCharCode(V[V.l++]);if(Ae){var Oe=l(V.slice(V.l,V.l+Ae));(Oe[21589]||{}).mt&&(ve=Oe[21589].mt),((Z||{})[21589]||{}).mt&&(ve=Z[21589].mt)}V.l+=Ae;var Qe=V.slice(V.l,V.l+de);switch(ce){case 8:Qe=R(V,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var ir=!1;ee&8&&(le=V.read_shift(4),le==134695760&&(le=V.read_shift(4),ir=!0),de=V.read_shift(4),me=V.read_shift(4)),de!=Q&&nk(ir,"Bad compressed size: "+Q+" != "+de),me!=X&&nk(ir,"Bad uncompressed size: "+X+" != "+me),Xy(Y,Re,Qe,{unsafe:!0,mt:ve})}function tU(V,Q){var X=Q||{},Y=[],Z=[],ee=ge(1),ce=X.compression?8:0,ve=0,le=0,de=0,me=0,Se=0,Ae=V.FullPaths[0],Re=Ae,_e=V.FileIndex[0],Oe=[],Qe=0;for(le=1;le<V.FullPaths.length;++le)if(Re=V.FullPaths[le].slice(Ae.length),_e=V.FileIndex[le],!(!_e.size||!_e.content||Re=="Sh33tJ5")){var ir=me,sr=ge(Re.length);for(de=0;de<Re.length;++de)sr.write_shift(1,Re.charCodeAt(de)&127);sr=sr.slice(0,sr.l),Oe[Se]=D_e.buf(_e.content,0);var un=_e.content;ce==8&&(un=K(un)),ee=ge(30),ee.write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,ce),_e.mt?i(ee,_e.mt):ee.write_shift(4,0),ee.write_shift(-4,Oe[Se]),ee.write_shift(4,un.length),ee.write_shift(4,_e.content.length),ee.write_shift(2,sr.length),ee.write_shift(2,0),me+=ee.length,Y.push(ee),me+=sr.length,Y.push(sr),me+=un.length,Y.push(un),ee=ge(46),ee.write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,ce),ee.write_shift(4,0),ee.write_shift(-4,Oe[Se]),ee.write_shift(4,un.length),ee.write_shift(4,_e.content.length),ee.write_shift(2,sr.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,ir),Qe+=ee.l,Z.push(ee),Qe+=sr.length,Z.push(sr),++Se}return ee=ge(22),ee.write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,Se),ee.write_shift(2,Se),ee.write_shift(4,Qe),ee.write_shift(4,me),ee.write_shift(2,0),Wr([Wr(Y),Wr(Z),ee])}var Fh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rU(V,Q){if(V.ctype)return V.ctype;var X=V.name||"",Y=X.match(/\.([^\.]+)$/);return Y&&Fh[Y[1]]||Q&&(Y=(X=Q).match(/[\.\\]([^\.\\])+$/),Y&&Fh[Y[1]])?Fh[Y[1]]:"application/octet-stream"}function nU(V){for(var Q=Tp(V),X=[],Y=0;Y<Q.length;Y+=76)X.push(Q.slice(Y,Y+76));return X.join(`\r
`)+`\r
`}function aU(V){var Q=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var me=de.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Y=Q.split(`\r
`),Z=0;Z<Y.length;++Z){var ee=Y[Z];if(ee.length==0){X.push("");continue}for(var ce=0;ce<ee.length;){var ve=76,le=ee.slice(ce,ce+ve);le.charAt(ve-1)=="="?ve--:le.charAt(ve-2)=="="?ve-=2:le.charAt(ve-3)=="="&&(ve-=3),le=ee.slice(ce,ce+ve),ce+=ve,ce<ee.length&&(le+="="),X.push(le)}}return X.join(`\r
`)}function iU(V){for(var Q=[],X=0;X<V.length;++X){for(var Y=V[X];X<=V.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+V[++X];Q.push(Y)}for(var Z=0;Z<Q.length;++Z)Q[Z]=Q[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return ga(Q.join(`\r
`))}function sU(V,Q,X){for(var Y="",Z="",ee="",ce,ve=0;ve<10;++ve){var le=Q[ve];if(!le||le.match(/^\s*$/))break;var de=le.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":Y=de[2].trim();break;case"content-type":ee=de[2].trim();break;case"content-transfer-encoding":Z=de[2].trim();break}}switch(++ve,Z.toLowerCase()){case"base64":ce=ga(Na(Q.slice(ve).join("")));break;case"quoted-printable":ce=iU(Q.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var me=Xy(V,Y.slice(X.length),ce,{unsafe:!0});ee&&(me.ctype=ee)}function oU(V,Q){if(B(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=Q&&Q.root||"",Y=(st&&Buffer.isBuffer(V)?V.toString("binary"):B(V)).split(`\r
`),Z=0,ee="";for(Z=0;Z<Y.length;++Z)if(ee=Y[Z],!!/^Content-Location:/i.test(ee)&&(ee=ee.slice(ee.indexOf("file")),X||(X=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ee.slice(0,X.length)!=X););var ce=(Y[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ve="--"+(ce[1]||""),le=[],de=[],me={FileIndex:le,FullPaths:de};S(me);var Se,Ae=0;for(Z=0;Z<Y.length;++Z){var Re=Y[Z];Re!==ve&&Re!==ve+"--"||(Ae++&&sU(me,Y.slice(Se,Z),X),Se=Z)}return me}function lU(V,Q){var X=Q||{},Y=X.boundary||"SheetJS";Y="------="+Y;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],ee=V.FullPaths[0],ce=ee,ve=V.FileIndex[0],le=1;le<V.FullPaths.length;++le)if(ce=V.FullPaths[le].slice(ee.length),ve=V.FileIndex[le],!(!ve.size||!ve.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var de=ve.content,me=st&&Buffer.isBuffer(de)?de.toString("binary"):B(de),Se=0,Ae=Math.min(1024,me.length),Re=0,_e=0;_e<=Ae;++_e)(Re=me.charCodeAt(_e))>=32&&Re<128&&++Se;var Oe=Se>=Ae*4/5;Z.push(Y),Z.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+ce),Z.push("Content-Transfer-Encoding: "+(Oe?"quoted-printable":"base64")),Z.push("Content-Type: "+rU(ve,ce)),Z.push(""),Z.push(Oe?aU(me):nU(me))}return Z.push(Y+`--\r
`),Z.join(`\r
`)}function cU(V){var Q={};return S(Q,V),Q}function Xy(V,Q,X,Y){var Z=Y&&Y.unsafe;Z||S(V);var ee=!Z&&Ue.find(V,Q);if(!ee){var ce=V.FullPaths[0];Q.slice(0,ce.length)==ce?ce=Q:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+Q).replace("//","/")),ee={name:a(Q),type:2},V.FileIndex.push(ee),V.FullPaths.push(ce),Z||Ue.utils.cfb_gc(V)}return ee.content=X,ee.size=X?X.length:0,Y&&(Y.CLSID&&(ee.clsid=Y.CLSID),Y.mt&&(ee.mt=Y.mt),Y.ct&&(ee.ct=Y.ct)),ee}function uU(V,Q){S(V);var X=Ue.find(V,Q);if(X){for(var Y=0;Y<V.FileIndex.length;++Y)if(V.FileIndex[Y]==X)return V.FileIndex.splice(Y,1),V.FullPaths.splice(Y,1),!0}return!1}function dU(V,Q,X){S(V);var Y=Ue.find(V,Q);if(Y){for(var Z=0;Z<V.FileIndex.length;++Z)if(V.FileIndex[Z]==Y)return V.FileIndex[Z].name=a(X),V.FullPaths[Z]=X,!0}return!1}function fU(V){C(V,!0)}return t.find=A,t.read=N,t.parse=d,t.write=F,t.writeFile=q,t.utils={cfb_new:cU,cfb_add:Xy,cfb_del:uU,cfb_mov:dU,cfb_gc:fU,ReadShift:om,CheckField:oz,prep_blob:tn,bconcat:Wr,use_zlib:U,_deflateRaw:De,_inflateRaw:Ca,consts:H},t}();function F_e(e){return typeof e=="string"?Iy(e):Array.isArray(e)?l_e(e):e}function Eh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Iy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?$i(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([F_e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=ul(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function M_e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function yr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function RP(e,t){for(var r=[],n=yr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Oy(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Ry(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function L_e(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Bx=new Date(1899,11,30,0,0,0);function Br(e,t){var r=e.getTime(),n=Bx.getTime()+(e.getTimezoneOffset()-Bx.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var BB=new Date,$_e=Bx.getTime()+(BB.getTimezoneOffset()-Bx.getTimezoneOffset())*6e4,DP=BB.getTimezoneOffset();function Dy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$_e),t.getTimezoneOffset()!==DP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-DP)*6e4),t}function B_e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var FP=new Date("2017-02-19T19:06:09.000Z"),zB=isNaN(FP.getFullYear())?new Date("2/19/17"):FP,z_e=zB.getFullYear()==2017;function Zt(e,t){var r=new Date(e);if(z_e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(zB.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function fc(e,t){if(st&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return $i(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return $i(CB(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return $i(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return $i(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function er(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=er(e[r]));return t}function xr(e,t){for(var r="";r.length<t;)r+=e;return r}function yi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var U_e=["january","february","march","april","may","june","july","august","september","october","november","december"];function bd(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&U_e.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var q_e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],l=1;l<i.length;++l)s.push(a),s.push(i[l]);return s}}();function UB(e){return e?e.content&&e.type?fc(e.content,!0):e.data?Uf(e.data):e.asNodeBuffer&&st?Uf(e.asNodeBuffer().toString("binary")):e.asBinary?Uf(e.asBinary()):e._data&&e._data.getContent?Uf(fc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function qB(e){if(!e)return null;if(e.data)return EP(e.data);if(e.asNodeBuffer&&st)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?EP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function V_e(e){return e&&e.name.slice(-4)===".bin"?qB(e):UB(e)}function Ma(e,t){for(var r=e.FullPaths||yr(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Qj(e,t){var r=Ma(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function kr(e,t,r){if(!r)return V_e(Qj(e,t));if(!t)return null;try{return kr(e,t)}catch{return null}}function xa(e,t,r){if(!r)return UB(Qj(e,t));if(!t)return null;try{return xa(e,t)}catch{return null}}function H_e(e,t,r){return qB(Qj(e,t))}function MP(e){for(var t=e.FullPaths||yr(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function it(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return st?n=Ks(r):n=c_e(r),Ue.utils.cfb_add(e,t,n)}Ue.utils.cfb_add(e,t,r)}else e.file(t,r)}function Zj(){return Ue.utils.cfb_new()}function VB(e,t){switch(t.type){case"base64":return Ue.read(e,{type:"base64"});case"binary":return Ue.read(e,{type:"binary"});case"buffer":case"array":return Ue.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Vf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,W_e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,LP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,G_e=/<[^>]*>/g,kn=Nr.match(LP)?LP:G_e,X_e=/<\w*:/,K_e=/<(\/?)\w+:/;function Ke(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(W_e),l=0,c="",u=0,d="",f="",m=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function rs(e){return e.replace(K_e,"<$1")}var HB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e_=Oy(HB),vt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return HB[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),t_=/[&<>'"]/g,Y_e=/[\u0000-\u0008\u000b-\u001f]/g;function It(e){var t=e+"";return t.replace(t_,function(r){return e_[r]}).replace(Y_e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function $P(e){return It(e).replace(/ /g,"_x0020_")}var WB=/[\u0000-\u001f]/g;function r_(e){var t=e+"";return t.replace(t_,function(r){return e_[r]}).replace(/\n/g,"<br/>").replace(WB,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function J_e(e){var t=e+"";return t.replace(t_,function(r){return e_[r]}).replace(WB,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var BP=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Q_e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Jt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function h1(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function zP(e){var t=Ho(2*e.length),r,n,a=1,i=0,s=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function UP(e){return Ks(e,"binary").toString("utf8")}var x0="foo bar bazâð£",Ft=st&&(UP(x0)==h1(x0)&&UP||zP(x0)==h1(x0)&&zP)||h1,$i=st?function(e){return Ks(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Ip=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),GB=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Z_e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),eke=/<\/?(?:vt:)?variant>/g,tke=/<(?:vt:)([^>]*)>([\s\S]*)</;function qP(e,t){var r=Ke(e),n=e.match(Z_e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(eke,"").match(tke);s&&a.push({v:Ft(s[2]),t:s[1]})}),a}var XB=/(^\s|\s$|\n)/;function rn(e,t){return"<"+e+(t.match(XB)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Pp(e){return yr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ke(e,t,r){return"<"+e+(r!=null?Pp(r):"")+(t!=null?(t.match(XB)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function DS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function rke(e,t){switch(typeof e){case"string":var r=ke("vt:lpwstr",It(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ke((e|0)==e?"vt:i4":"vt:r8",It(String(e)));case"boolean":return ke("vt:bool",e?"true":"false")}if(e instanceof Date)return ke("vt:filetime",DS(e));throw new Error("Unable to serialize "+e)}function n_(e){if(st&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ft(ul(Kj(e)));throw new Error("Bad input format: expected Buffer or string")}var Op=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Mr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Cc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nke(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function ake(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var VP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},HP=st?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ks(t)})):VP(e)}:VP,WP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(vs(e,a)));return n.join("").replace(Bn,"")},a_=st?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Bn,""):WP(e,t,r)}:WP,GP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},KB=st?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):GP(e,t,r)}:GP,XP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Xc(e,a)));return n.join("")},jh=st?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):XP(t,r,n)}:XP,YB=function(e,t){var r=ma(e,t);return r>0?jh(e,t+4,t+4+r-1):""},JB=YB,QB=function(e,t){var r=ma(e,t);return r>0?jh(e,t+4,t+4+r-1):""},ZB=QB,ez=function(e,t){var r=2*ma(e,t);return r>0?jh(e,t+4,t+4+r-1):""},tz=ez,rz=function(t,r){var n=ma(t,r);return n>0?a_(t,r+4,r+4+n):""},nz=rz,az=function(e,t){var r=ma(e,t);return r>0?jh(e,t+4,t+4+r):""},iz=az,sz=function(e,t){return nke(e,t)},zx=sz,i_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};st&&(JB=function(t,r){if(!Buffer.isBuffer(t))return YB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ZB=function(t,r){if(!Buffer.isBuffer(t))return QB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},tz=function(t,r){if(!Buffer.isBuffer(t))return ez(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},nz=function(t,r){if(!Buffer.isBuffer(t))return rz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},iz=function(t,r){if(!Buffer.isBuffer(t))return az(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},zx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):sz(t,r)},i_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Xc=function(e,t){return e[t]},vs=function(e,t){return e[t+1]*256+e[t]},ike=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ma=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},El=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ske=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function om(e,t){var r="",n,a,i=[],s,l,c,u;switch(t){case"dbcs":if(u=this.l,st&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(vs(this,u)),u+=2;e*=2;break;case"utf8":r=jh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=a_(this,this.l,this.l+e);break;case"wstr":return om.call(this,e,"dbcs");case"lpstr-ansi":r=JB(this,this.l),e=4+ma(this,this.l);break;case"lpstr-cp":r=ZB(this,this.l),e=4+ma(this,this.l);break;case"lpwstr":r=tz(this,this.l),e=4+2*ma(this,this.l);break;case"lpp4":e=4+ma(this,this.l),r=nz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ma(this,this.l),r=iz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Xc(this,this.l+e++))!==0;)i.push(g0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=vs(this,this.l+e))!==0;)i.push(g0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Xc(this,u),this.l=u+1,l=om.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(g0(vs(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Xc(this,u),this.l=u+1,l=om.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(g0(Xc(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Xc(this,this.l),this.l++,n;case 2:return n=(t==="i"?ike:vs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?El:ske)(this,this.l),this.l+=4,n):(a=ma(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=zx(this,this.l):a=zx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=KB(this,this.l,e);break}}return this.l+=e,r}var oke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},lke=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},cke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function uke(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)cke(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,oke(this,t,this.l);break;case 8:if(n=8,r==="f"){ake(this,t,this.l);break}case 16:break;case-4:n=4,lke(this,t,this.l);break}return this.l+=n,this}function oz(e,t){var r=KB(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function tn(e,t){e.l=t,e.read_shift=om,e.chk=oz,e.write_shift=uke}function jn(e,t){e.l+=t}function ge(e){var t=Ho(e);return tn(t,0),t}function Ys(e,t,r){if(e){var n,a,i;tn(e,e.l||0);for(var s=e.length,l=0,c=0;e.l<s;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=$p[l]||$p[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function ra(){var e=[],t=st?256:2048,r=function(u){var d=ge(u);return tn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Wr(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:s,_bufs:e}}function be(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=$p[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&i_(r)&&e.push(r)}}function lm(e,t,r){var n=er(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function KP(e,t,r){var n=er(e);return n.s=lm(n.s,t.s,r),n.e=lm(n.e,t.s,r),n}function cm(e,t){if(e.cRel&&e.c<0)for(e=er(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=er(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ge(e);return!e.cRel&&e.cRel!=null&&(r=mke(r)),!e.rRel&&e.rRel!=null&&(r=dke(r)),r}function g1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ur(e.s.c)+":"+(e.e.cRel?"":"$")+ur(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sr(e.s.r)+":"+(e.e.rRel?"":"$")+Sr(e.e.r):cm(e.s,t.biff)+":"+cm(e.e,t.biff)}function s_(e){return parseInt(fke(e),10)-1}function Sr(e){return""+(e+1)}function dke(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fke(e){return e.replace(/\$(\d+)$/,"$1")}function o_(e){for(var t=pke(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ur(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mke(e){return e.replace(/^([A-Z])/,"$$$1")}function pke(e){return e.replace(/^\$([A-Z])/,"$1")}function hke(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function dr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ge(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function na(e){var t=e.indexOf(":");return t==-1?{s:dr(e),e:dr(e)}:{s:dr(e.slice(0,t)),e:dr(e.slice(t+1))}}function nt(e,t){return typeof t>"u"||typeof t=="number"?nt(e.s,e.e):(typeof e!="string"&&(e=Ge(e)),typeof t!="string"&&(t=Ge(t)),e==t?e:e+":"+t)}function yt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function YP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Qa(e.z,r?Br(t):t)}catch{}try{return e.w=Qa((e.XF||{}).numFmtId||(r?14:0),r?Br(t):t)}catch{return""+t}}function Ls(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Js[e.v]||e.v:t==null?YP(e,e.v):YP(e,t))}function dl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function lz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?dr(n.origin):n.origin;s=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=yt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},h=s+f,g=l+m;if(u.s.r>h&&(u.s.r=h),u.s.c>g&&(u.s.c=g),u.e.r<h&&(u.e.r=h),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||We[14],n.cellDates?(p.t="d",p.w=Qa(p.z,Br(p.v))):(p.t="n",p.v=Br(p.v),p.w=Qa(p.z,p.v))):p.t="s";if(a)i[h]||(i[h]=[]),i[h][g]&&i[h][g].z&&(p.z=i[h][g].z),i[h][g]=p;else{var x=Ge({c:g,r:h});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=nt(u)),i}function Zd(e,t){return lz(null,e,t)}function gke(e){return e.read_shift(4,"i")}function bi(e,t){return t||(t=ge(4)),t.write_shift(4,e),t}function Nn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Xr(e,t){var r=!1;return t==null&&(r=!0,t=ge(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function xke(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function vke(e,t){return t||(t=ge(4)),t.write_shift(2,0),t.write_shift(2,0),t}function l_(e,t){var r=e.l,n=e.read_shift(1),a=Nn(e),i=[],s={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(xke(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function yke(e,t){var r=!1;return t==null&&(r=!0,t=ge(15+4*e.t.length)),t.write_shift(1,0),Xr(e.t,t),r?t.slice(0,t.l):t}var bke=l_;function wke(e,t){var r=!1;return t==null&&(r=!0,t=ge(23+4*e.t.length)),t.write_shift(1,1),Xr(e.t,t),t.write_shift(4,1),vke({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function ri(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Tc(e,t){return t==null&&(t=ge(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ac(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ic(e,t){return t==null&&(t=ge(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Ske=Nn,cz=Xr;function c_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ux(e,t){var r=!1;return t==null&&(r=!0,t=ge(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Nke=Nn,FS=c_,u_=Ux;function d_(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?zx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):El(t,0)>>2;return r?a/100:a}function uz(e,t){t==null&&(t=ge(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function dz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Eke(e,t){return t||(t=ge(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Pc=dz,ef=Eke;function wn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mc(e,t){return(t||ge(8)).write_shift(8,e,"f")}function jke(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=ql[a];u&&(t.rgb=Dp(u));break;case 2:t.rgb=Dp([s,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function qx(e,t){if(t||(t=ge(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function _ke(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function kke(e,t){t||(t=ge(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function fz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Cke(e){return fz(e,1)}function Tke(e){return fz(e,2)}var f_=2,Wn=3,v0=11,JP=12,Vx=19,y0=64,Ake=65,Ike=71,Pke=4108,Oke=4126,qr=80,mz=81,Rke=[qr,mz],MS={1:{n:"CodePage",t:f_},2:{n:"Category",t:qr},3:{n:"PresentationFormat",t:qr},4:{n:"ByteCount",t:Wn},5:{n:"LineCount",t:Wn},6:{n:"ParagraphCount",t:Wn},7:{n:"SlideCount",t:Wn},8:{n:"NoteCount",t:Wn},9:{n:"HiddenCount",t:Wn},10:{n:"MultimediaClipCount",t:Wn},11:{n:"ScaleCrop",t:v0},12:{n:"HeadingPairs",t:Pke},13:{n:"TitlesOfParts",t:Oke},14:{n:"Manager",t:qr},15:{n:"Company",t:qr},16:{n:"LinksUpToDate",t:v0},17:{n:"CharacterCount",t:Wn},19:{n:"SharedDoc",t:v0},22:{n:"HyperlinksChanged",t:v0},23:{n:"AppVersion",t:Wn,p:"version"},24:{n:"DigSig",t:Ake},26:{n:"ContentType",t:qr},27:{n:"ContentStatus",t:qr},28:{n:"Language",t:qr},29:{n:"Version",t:qr},255:{},2147483648:{n:"Locale",t:Vx},2147483651:{n:"Behavior",t:Vx},1919054434:{}},LS={1:{n:"CodePage",t:f_},2:{n:"Title",t:qr},3:{n:"Subject",t:qr},4:{n:"Author",t:qr},5:{n:"Keywords",t:qr},6:{n:"Comments",t:qr},7:{n:"Template",t:qr},8:{n:"LastAuthor",t:qr},9:{n:"RevNumber",t:qr},10:{n:"EditTime",t:y0},11:{n:"LastPrinted",t:y0},12:{n:"CreatedDate",t:y0},13:{n:"ModifiedDate",t:y0},14:{n:"PageCount",t:Wn},15:{n:"WordCount",t:Wn},16:{n:"CharCount",t:Wn},17:{n:"Thumbnail",t:Ike},18:{n:"Application",t:qr},19:{n:"DocSecurity",t:Wn},255:{},2147483648:{n:"Locale",t:Vx},2147483651:{n:"Behavior",t:Vx},1919054434:{}},QP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Dke=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Fke(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Mke=Fke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ql=er(Mke),Js={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},$S={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},b0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Lke(e){var t=m_();if(!e||!e.match)return t;var r={};if((e.match(kn)||[]).forEach(function(n){var a=Ke(n);switch(a[0].replace(X_e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[$S[a.ContentType]]!==void 0&&t[$S[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Mr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function hz(e,t){var r=L_e($S),n=[],a;n[n.length]=Nr,n[n.length]=ke("Types",null,{xmlns:Mr.CT,"xmlns:xsd":Mr.xsd,"xmlns:xsi":Mr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ke("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ke("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:b0[c][t.bookType]||b0[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:b0[c][t.bookType]||b0[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Rp(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function um(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(kn)||[]).forEach(function(a){var i=Ke(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Vf(i.Target,t);r[l]=s,n[i.Id]=s}}),r["!id"]=n,r}function Ou(e){var t=[Nr,ke("Relationships",null,{xmlns:Mr.RELS})];return yr(e["!id"]).forEach(function(r){t[t.length]=ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Tt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[ot.HLINK,ot.XPATH,ot.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var $ke="application/vnd.oasis.opendocument.spreadsheet";function Bke(e,t){for(var r=n_(e),n,a;n=Op.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ke(n[0],!1),a.path=="/"&&a.type!==$ke)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function zke(e){var t=[Nr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function ZP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Uke(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function qke(e){var t=[Nr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(ZP(e[r][0],e[r][1])),t.push(Uke("",e[r][0]));return t.push(ZP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function gz(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Fx.version+"</meta:generator></office:meta></office:document-meta>"}var Wa=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Vke=function(){for(var e=new Array(Wa.length),t=0;t<Wa.length;++t){var r=Wa[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function xz(e){var t={};e=Ft(e);for(var r=0;r<Wa.length;++r){var n=Wa[r],a=e.match(Vke[r]);a!=null&&a.length>0&&(t[n[1]]=vt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Zt(t[n[1]]))}return t}function x1(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=It(t),n[n.length]=r?ke(e,t,r):rn(e,t))}function vz(e,t){var r=t||{},n=[Nr,ke("cp:coreProperties",null,{"xmlns:cp":Mr.CORE_PROPS,"xmlns:dc":Mr.dc,"xmlns:dcterms":Mr.dcterms,"xmlns:dcmitype":Mr.dcmitype,"xmlns:xsi":Mr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&x1("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:DS(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&x1("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:DS(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Wa.length;++i){var s=Wa[i],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&x1(s[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Vl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],yz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function bz(e,t,r,n){var a=[];if(typeof e=="string")a=qP(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?qP(t,n).map(function(d){return d.v}):t,l=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=s.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(l,l+c);break}l+=c}}function Hke(e,t,r){var n={};return t||(t={}),e=Ft(e),Vl.forEach(function(a){var i=(e.match(Ip(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=vt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&bz(n.HeadingPairs,n.TitlesOfParts,t,r),t}function wz(e){var t=[],r=ke;return e||(e={}),e.Application="SheetJS",t[t.length]=Nr,t[t.length]=ke("Properties",null,{xmlns:Mr.EXT_PROPS,"xmlns:vt":Mr.vt}),Vl.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=It(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+It(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Wke=/<[^>]+>[^<]*/g;function Gke(e,t){var r={},n="",a=e.match(Wke);if(a)for(var i=0;i!=a.length;++i){var s=a[i],l=Ke(s);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=vt(l.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=vt(d);break;case"bool":r[n]=Jt(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Zt(d);break;case"cy":case"error":r[n]=vt(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function Sz(e){var t=[Nr,ke("Properties",null,{xmlns:Mr.CUST_PROPS,"xmlns:vt":Mr.vt})];if(!e)return t.join("");var r=1;return yr(e).forEach(function(a){++r,t[t.length]=ke("property",rke(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:It(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var BS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},v1;function Xke(e,t,r){v1||(v1=Oy(BS)),t=v1[t]||t,e[t]=r}function Kke(e,t){var r=[];return yr(BS).map(function(n){for(var a=0;a<Wa.length;++a)if(Wa[a][1]==n)return Wa[a];for(a=0;a<Vl.length;++a)if(Vl[a][1]==n)return Vl[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(rn(BS[n[1]]||n[1],a))}}),ke("DocumentProperties",r.join(""),{xmlns:fa.o})}function Yke(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&yr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Wa.length;++s)if(i==Wa[s][1])return;for(s=0;s<Vl.length;++s)if(i==Vl[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ke($P(i),l,{"dt:dt":c}))}}),t&&yr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ke($P(i),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+fa.o+'">'+a.join("")+"</"+n+">"}function p_(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Jke(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ge(8);return s.write_shift(4,n),s.write_shift(4,a),s}function Nz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Ez(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function jz(e,t,r){return t===31?Ez(e):Nz(e,t,r)}function zS(e,t,r){return jz(e,t,r===!1?0:4)}function Qke(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return jz(e,t,0)}function Zke(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Bn,""),e.l-a&2&&(e.l+=2)}return r}function eCe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Bn,"");return r}function tCe(e){var t=e.l,r=Hx(e,mz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Hx(e,Wn);return[r,n]}function rCe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(tCe(e));return r}function eO(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Bn,"").replace(qf,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function _z(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function nCe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Hx(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==JP&&n!==t&&Rke.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===JP?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Nz(e,n,4).replace(Bn,"");case 31:return Ez(e);case 64:return p_(e);case 65:return _z(e);case 71:return nCe(e);case 80:return zS(e,n,!i.raw).replace(Bn,"");case 81:return Qke(e,n).replace(Bn,"");case 4108:return rCe(e);case 4126:case 4127:return n==4127?Zke(e):eCe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function tO(e,t){var r=ge(4),n=ge(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ge(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Jke(t);break;case 31:case 80:for(n=ge(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Wr([r,n])}function rO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,l=0,c=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(b,y){return b[1]-y[1]});var m={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var h=t[i[s][0]];if(m[h.n]=Hx(e,h.t,{raw:!0}),h.p==="version"&&(m[h.n]=String(m[h.n]>>16)+"."+("0000"+String(m[h.n]&65535)).slice(-4)),h.n=="CodePage")switch(m[h.n]){case 0:m[h.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fi(l=m[h.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[h.n])}}else if(i[s][0]===1){if(l=m.CodePage=Hx(e,f_),fi(l),c!==-1){var g=e.l;e.l=i[c][1],u=eO(e,l),e.l=g}}else if(i[s][0]===0){if(l===0){c=s,e.l=i[s+1][1];continue}u=eO(e,l)}else{var x=u[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=_z(e);break;case 30:e.l+=4,v=zS(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=zS(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=br(e,4);break;case 64:e.l+=4,v=Zt(p_(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[x]=v}}return e.l=r+n,m}var kz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aCe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function nO(e,t,r){var n=ge(8),a=[],i=[],s=8,l=0,c=ge(8),u=ge(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=ge(8),u.write_shift(4,0),a.unshift(u);var d=[ge(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=ge(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Wr(d),i.unshift(c),s+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(kz.indexOf(e[l][0])>-1||yz.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var h=r[p];if(h.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=tO(h.t,m)}else{var x=aCe(m);x==-1&&(x=31,m=String(m)),c=tO(x,m)}i.push(c),u=ge(8),u.write_shift(4,t?p:2+l),a.push(u),s+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,v),v+=i[l].length;return n.write_shift(4,s),n.write_shift(4,i.length),Wr([n].concat(a).concat(i))}function aO(e,t,r){var n=e.content;if(!n)return{};tn(n,0);var a,i,s,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Ue.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=rO(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var h;try{h=rO(n,null)}catch{}for(p in h)m[p]=h[p];return m.FMTID=[i,s],m}function iO(e,t,r,n,a,i){var s=ge(a?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Ue.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=nO(e,r,n);if(l.push(c),a){var u=nO(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),l.push(u)}return Wr(l)}function ao(e,t){return e.read_shift(t),null}function iCe(e,t){t||(t=ge(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function sCe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function br(e,t){return e.read_shift(t)===1}function On(e,t){return t||(t=ge(2)),t.write_shift(2,+!!e),t}function Cr(e){return e.read_shift(2,"u")}function La(e,t){return t||(t=ge(2)),t.write_shift(2,e),t}function Cz(e,t){return sCe(e,t,Cr)}function oCe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Tz(e,t,r){return r||(r=ge(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function _h(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function lCe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,l,c={};a&&(s=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function cCe(e){var t=e.t||"",r=ge(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ge(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Wr(a)}function pc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function kh(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):pc(e,n,r)}function Oc(e,t,r){if(r.biff>5)return kh(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Az(e,t,r){return r||(r=ge(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uCe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function dCe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Bn,"");return n&&(e.l+=24),a}function fCe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Bn,"");return r+s}function mCe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return dCe(e);case"0303000000000000c000000000000046":return fCe(e);default:throw new Error("Unsupported Moniker "+r)}}function w0(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Bn,""):"";return r}function sO(e,t){t||(t=ge(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function pCe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,l,c,u="",d,f;a&16&&(i=w0(e,r-e.l)),a&128&&(s=w0(e,r-e.l)),(a&257)===257&&(l=w0(e,r-e.l)),(a&257)===1&&(c=mCe(e,r-e.l)),a&8&&(u=w0(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=p_(e)),e.l=r;var m=s||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function hCe(e){var t=ge(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),sO(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&sO(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Iz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Pz(e,t){var r=Iz(e);return r[3]=0,r}function ns(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function hc(e,t,r,n){return n||(n=ge(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function gCe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function xCe(e,t,r){return t===0?"":Oc(e,t,r)}function vCe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Oz(e){var t=e.read_shift(2),r=d_(e);return[t,r]}function yCe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=_h(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function Fy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Rz(e,t){return t||(t=ge(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Dz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var bCe=Dz;function Fz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function wCe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function SCe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function mn(e){e.l+=2,e.l+=e.read_shift(2)}var NCe={0:mn,4:mn,5:mn,6:mn,7:SCe,8:mn,9:mn,10:mn,11:mn,12:mn,13:wCe,14:mn,15:mn,16:mn,17:mn,18:mn,19:mn,20:mn,21:Fz};function ECe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(NCe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function S0(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function h_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ge(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function jCe(e,t){return t===0||e.read_shift(2),1200}function _Ce(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Oc(e,0,r);return e.read_shift(t+n-e.l),a}function kCe(e,t){var r=!t||t.biff==8,n=ge(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function CCe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function TCe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=_h(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function ACe(e,t){var r=!t||t.biff>=8?2:1,n=ge(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function ICe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(lCe(e));return i.Count=n,i.Unique=a,i}function PCe(e,t){var r=ge(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=cCe(e[a]);var i=Wr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function OCe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function RCe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function DCe(e){var t=gCe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function FCe(e){return e.read_shift(2),e.read_shift(4)}function oO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function MCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:l,Selected:c,TabRatio:u}}function LCe(){var e=ge(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function $Ce(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function BCe(e){var t=ge(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function zCe(){}function UCe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=_h(e,0,r),n}function qCe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ge(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function VCe(e){var t=ns(e);return t.isst=e.read_shift(4),t}function HCe(e,t,r,n){var a=ge(10);return hc(e,t,n,a),a.write_shift(4,r),a}function WCe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ns(e);r.biff==2&&e.l++;var i=kh(e,n-e.l,r);return a.val=i,a}function GCe(e,t,r,n,a){var i=!a||a.biff==8,s=ge(8+ +i+(1+i)*r.length);return hc(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function XCe(e,t,r){var n=e.read_shift(2),a=Oc(e,0,r);return[n,a]}function KCe(e,t,r,n){var a=r&&r.biff==5;n||(n=ge(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var YCe=Oc;function lO(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:s,c}}}function JCe(e,t){var r=t.biff==8||!t.biff?4:2,n=ge(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function QCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=Oz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function ZCe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Oz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function eTe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function tTe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Dke[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function rTe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=tTe(e,t,n.fStyle,r),n}function cO(e,t,r,n){var a=r&&r.biff==5;n||(n=ge(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function nTe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function aTe(e){var t=ge(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function uO(e,t,r){var n=ns(e);(r.biff==2||t==9)&&++e.l;var a=oCe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function iTe(e,t,r,n,a,i){var s=ge(8);return hc(e,t,n,s),Tz(r,i,s),s}function sTe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ns(e),a=wn(e);return n.val=a,n}function oTe(e,t,r,n){var a=ge(14);return hc(e,t,n,a),mc(r,a),a}var dO=xCe;function lTe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=pc(e,i),l=[];n>e.l;)l.push(kh(e));return[i,a,s,l]}function fO(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=yCe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var cTe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function mO(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=pc(e,s,r);a&32&&(u=cTe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:EPe(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function Mz(e,t,r){if(r.biff<8)return uTe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(vCe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function uTe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=_h(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function dTe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=pc(e,n,r),s=pc(e,a,r);return[i,s]}function fTe(e,t,r){var n=Dz(e);e.l++;var a=e.read_shift(1);return t-=8,[jPe(e,t,r),a,n]}function pO(e,t,r){var n=bCe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,SPe(e,t,r)]}function mTe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function pTe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=Oc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,s,i]}}function hTe(e,t,r){return pTe(e,t,r)}function gTe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Fy(e));return r}function xTe(e){var t=ge(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Rz(e[r],t);return t}function vTe(e,t,r){if(r&&r.biff<8)return bTe(e,t,r);var n=Fz(e),a=ECe(e,t-22,n[1]);return{cmo:n,ft:a}}var yTe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function bTe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((yTe[n]||jn)(e,t,r)),{cmo:[a,n,i],ft:s}}function wTe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=uCe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Cr(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=pc(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function STe(e,t){var r=Fy(e);e.l+=16;var n=pCe(e,t-24);return[r,n]}function NTe(e){var t=ge(24),r=dr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Wr([t,hCe(e[1])])}function ETe(e,t){e.read_shift(2);var r=Fy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Bn,""),[r,n]}function jTe(e){var t=e[1].Tooltip,r=ge(10+2*(t.length+1));r.write_shift(2,2048);var n=dr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function _Te(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=QP[r]||r,r=e.read_shift(2),t[1]=QP[r]||r,t}function kTe(e){return e||(e=ge(4)),e.write_shift(2,1),e.write_shift(2,1),e}function CTe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Pz(e));return r}function TTe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Pz(e));return r}function ATe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Lz(e,t,r){if(!r.cellStyles)return jn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function ITe(e,t){var r=ge(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function PTe(e,t){var r={};return t<32||(e.l+=16,r.header=wn(e),r.footer=wn(e),e.l+=2),r}function OTe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function RTe(e){for(var t=ge(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var DTe=ns,FTe=Cz,MTe=kh;function LTe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function $Te(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ns(e);++e.l;var a=Oc(e,t-7,r);return n.t="str",n.val=a,n}function BTe(e){var t=ns(e);++e.l;var r=wn(e);return t.t="n",t.val=r,t}function zTe(e,t,r){var n=ge(15);return Ih(n,e,t),n.write_shift(8,r,"f"),n}function UTe(e){var t=ns(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function qTe(e,t,r){var n=ge(9);return Ih(n,e,t),n.write_shift(2,r),n}function VTe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function HTe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function WTe(e,t,r){var n=e.l+t,a=ns(e),i=e.read_shift(2),s=pc(e,i,r);return e.l=n,a.t="str",a.val=s,a}var GTe=[2,3,48,49,131,139,140,245],US=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Oy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Ho(1);switch(c.type){case"base64":d=ga(Na(l));break;case"binary":d=ga(l);break;case"buffer":case"array":d=l;break}tn(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,h=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:h=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),h&&(d.l+=36);for(var y=[],j={},E=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=h?32:11;d.l<E&&d[d.l]!=13;)switch(j={},j.name=xo.utils.decode(b,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!h&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&y.push(j),f!=2&&(d.l+=h?13:14),j.type){case"B":(!p||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,T=0;for(u[0]=[],T=0;T!=y.length;++T)u[0][T]=y[T].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++S]=[],T=0,T=0;T!=y.length;++T){var C=d.slice(d.l,d.l+y[T].len);d.l+=y[T].len,tn(C,0);var k=xo.utils.decode(b,C);switch(y[T].type){case"C":k.trim().length&&(u[S][T]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[S][T]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[S][T]=k;break;case"F":u[S][T]=parseFloat(k.trim());break;case"+":case"I":u[S][T]=h?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[S][T]=!0;break;case"N":case"F":u[S][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][T]="##MEMO##"+(h?parseInt(k.trim(),10):C.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[S][T]=+k||0);break;case"@":u[S][T]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][T]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][T]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][T]=-C.read_shift(-8,"f");break;case"B":if(p&&y[T].len==8){u[S][T]=C.read_shift(8,"f");break}case"G":case"P":C.l+=y[T].len;break;case"0":if(y[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Zd(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return dl(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var u=c||{};if(+u.codepage>=0&&fi(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ra(),f=Xx(l,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),h=l["!cols"]||[],g=0,x=0,v=0,b=1;for(g=0;g<m.length;++g){if(((h[g]||{}).DBF||{}).name){m[g]=h[g].DBF.name,++v;continue}if(m[g]!=null){if(++v,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(x=0;x<1024;++x)if(m.indexOf(m[g]+"_"+x)==-1){m[g]+="_"+x;break}}}}var y=yt(l["!ref"]),j=[],E=[],N=[];for(g=0;g<=y.e.c-y.s.c;++g){var S="",T="",C=0,k=[];for(x=0;x<p.length;++x)p[x][g]!=null&&k.push(p[x][g]);if(k.length==0||m[g]==null){j[g]="?";continue}for(x=0;x<k.length;++x){switch(typeof k[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=k[x]instanceof Date?"D":"C";break;default:T="C"}C=Math.max(C,String(k[x]).length),S=S&&S!=T?"C":T}C>250&&(C=250),T=((h[g]||{}).DBF||{}).type,T=="C"&&h[g].DBF.len>C&&(C=h[g].DBF.len),S=="B"&&T=="N"&&(S="N",N[g]=h[g].DBF.dec,C=h[g].DBF.len),E[g]=S=="C"||T=="N"?C:i[S]||0,b+=E[g],j[g]=S}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,p.length),A.write_shift(2,296+32*v),A.write_shift(2,b),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[kB]||3)<<8),g=0,x=0;g<m.length;++g)if(m[g]!=null){var _=d.next(32),I=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);_.write_shift(1,I,"sbcs"),_.write_shift(1,j[g]=="?"?"C":j[g],"sbcs"),_.write_shift(4,x),_.write_shift(1,E[g]||i[j[g]]||0),_.write_shift(1,N[g]||0),_.write_shift(1,2),_.write_shift(4,0),_.write_shift(1,0),_.write_shift(4,0),_.write_shift(4,0),x+=E[g]||i[j[g]]||0}var M=d.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<p.length;++g){var L=d.next(b);for(L.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(j[x]){case"L":L.write_shift(1,p[g][x]==null?63:p[g][x]?84:70);break;case"B":L.write_shift(8,p[g][x]||0,"f");break;case"N":var W="0";for(typeof p[g][x]=="number"&&(W=p[g][x].toFixed(N[x]||0)),v=0;v<E[x]-W.length;++v)L.write_shift(1,32);L.write_shift(1,W,"sbcs");break;case"D":p[g][x]?(L.write_shift(4,("0000"+p[g][x].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(p[g][x].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+p[g][x].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[g][x]!=null?p[g][x]:"").slice(0,E[x]);for(L.write_shift(1,H,"sbcs"),v=0;v<E[x]-H.length;++v)L.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),$z=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+yr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var h=e[p];return typeof h=="number"?jP(h):h},n=function(m,p,h){var g=p.charCodeAt(0)-32<<4|h.charCodeAt(0)-48;return g==59?m:jP(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return i(Na(m),p);case"binary":return i(m,p);case"buffer":return i(st&&Buffer.isBuffer(m)?m.toString("binary"):ul(m),p);case"array":return i(fc(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var h=m.split(/[\n\r]+/),g=-1,x=-1,v=0,b=0,y=[],j=[],E=null,N={},S=[],T=[],C=[],k=0,A;for(+p.codepage>=0&&fi(+p.codepage);v!==h.length;++v){k=0;var _=h[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=_.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),M=I[0],L;if(_.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&j.push(_.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,H=!1,q=!1,B=!1,F=-1,ne=-1;for(b=1;b<I.length;++b)switch(I[b].charAt(0)){case"A":break;case"X":x=parseInt(I[b].slice(1))-1,H=!0;break;case"Y":for(g=parseInt(I[b].slice(1))-1,H||(x=0),A=y.length;A<=g;++A)y[A]=[];break;case"K":L=I[b].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(yi(L))?isNaN(bd(L).getDate())||(L=Zt(L)):(L=yi(L),E!==null&&Jd(E)&&(L=Dy(L))),W=!0;break;case"E":B=!0;var U=Ru(I[b].slice(1),{r:g,c:x});y[g][x]=[y[g][x],U];break;case"S":q=!0,y[g][x]=[y[g][x],"S5S"];break;case"G":break;case"R":F=parseInt(I[b].slice(1))-1;break;case"C":ne=parseInt(I[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+_)}if(W&&(y[g][x]&&y[g][x].length==2?y[g][x][0]=L:y[g][x]=L,E=null),q){if(B)throw new Error("SYLK shared formula cannot have own formula");var R=F>-1&&y[F][ne];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");y[g][x][1]=n7(R[1],{r:g-F,c:x-ne})}break;case"F":var K=0;for(b=1;b<I.length;++b)switch(I[b].charAt(0)){case"X":x=parseInt(I[b].slice(1))-1,++K;break;case"Y":for(g=parseInt(I[b].slice(1))-1,A=y.length;A<=g;++A)y[A]=[];break;case"M":k=parseInt(I[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=j[parseInt(I[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=I[b].slice(1).split(" "),A=parseInt(C[0],10);A<=parseInt(C[1],10);++A)k=parseInt(C[2],10),T[A-1]=k===0?{hidden:!0}:{wch:k},Wo(T[A-1]);break;case"C":x=parseInt(I[b].slice(1))-1,T[x]||(T[x]={});break;case"R":g=parseInt(I[b].slice(1))-1,S[g]||(S[g]={}),k>0?(S[g].hpt=k,S[g].hpx=Sd(k)):k===0&&(S[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+_)}K<1&&(E=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+_)}}return S.length>0&&(N["!rows"]=S),T.length>0&&(N["!cols"]=T),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,N]}function s(m,p){var h=a(m,p),g=h[0],x=h[1],v=Zd(g,p);return yr(x).forEach(function(b){v[b]=x[b]}),v}function l(m,p){return dl(s(m,p),p)}function c(m,p,h,g){var x="C;Y"+(h+1)+";X"+(g+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+w_(m.f,{r:h,c:g}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(m,p){p.forEach(function(h,g){var x="F;W"+(g+1)+" "+(g+1)+" ";h.hidden?x+="0":(typeof h.width=="number"&&!h.wpx&&(h.wpx=Fp(h.width)),typeof h.wpx=="number"&&!h.wch&&(h.wch=Mp(h.wpx)),typeof h.wch=="number"&&(x+=Math.round(h.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function d(m,p){p.forEach(function(h,g){var x="F;";h.hidden?x+="M0;":h.hpt?x+="M"+20*h.hpt+";":h.hpx&&(x+="M"+20*Lp(h.hpx)+";"),x.length>2&&m.push(x+"R"+(g+1))})}function f(m,p){var h=["ID;PWXL;N;E"],g=[],x=yt(m["!ref"]),v,b=Array.isArray(m),y=`\r
`;h.push("P;PGeneral"),h.push("F;P0;DG0G8;M255"),m["!cols"]&&u(h,m["!cols"]),m["!rows"]&&d(h,m["!rows"]),h.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var j=x.s.r;j<=x.e.r;++j)for(var E=x.s.c;E<=x.e.c;++E){var N=Ge({r:j,c:E});v=b?(m[j]||[])[E]:m[N],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,m,j,E))}return h.join(y)+y+g.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:s,from_sheet:f}}(),Bz=function(){function e(i,s){switch(s.type){case"base64":return t(Na(i),s);case"binary":return t(i,s);case"buffer":return t(st&&Buffer.isBuffer(i)?i.toString("binary"):ul(i),s);case"array":return t(fc(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],h=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(yi(h))?isNaN(bd(h).getDate())?f[c][u]=h:f[c][u]=Zt(h):f[c][u]=yi(h),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Zd(e(i,s),s)}function n(i,s){return dl(r(i,s),s)}var a=function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=yt(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var h=d.s.c;h<=d.e.c;++h){var g=Ge({r:p,c:h});if(f=m?(c[p]||[])[h]:c[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Qa(f.z||We[14],Br(Zt(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),zz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),h=-1,g=-1,x=0,v=[];x!==p.length;++x){var b=p[x].trim().split(":");if(b[0]==="cell"){var y=dr(b[1]);if(v.length<=y.r)for(h=v.length;h<=y.r;++h)v[h]||(v[h]=[]);switch(h=y.r,g=y.c,b[2]){case"t":v[h][g]=e(b[3]);break;case"v":v[h][g]=+b[3];break;case"vtf":var j=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[h][g]=!!+b[4];break;default:v[h][g]=+b[4];break}b[2]=="vtf"&&(v[h][g]=[v[h][g],j])}}}return m&&m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}function n(f,m){return Zd(r(f,m),m)}function a(f,m){return dl(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],h,g="",x=na(f["!ref"]),v=Array.isArray(f),b=x.s.r;b<=x.e.r;++b)for(var y=x.s.c;y<=x.e.c;++y)if(g=Ge({r:b,c:y}),h=v?(f[b]||[])[y]:f[g],!(!h||h.v==null||h.t==="z")){switch(p=["cell",g,"t"],h.t){case"s":case"str":p.push(t(h.v));break;case"n":h.f?(p[2]="vtf",p[3]="n",p[4]=h.v,p[5]=t(h.f)):(p[2]="v",p[3]=h.v);break;case"b":p[2]="vt"+(h.f?"f":"c"),p[3]="nl",p[4]=h.v?"1":"0",p[5]=t(h.f||(h.v?"TRUE":"FALSE"));break;case"d":var j=Br(Zt(h.v));p[2]="vtc",p[3]="nd",p[4]=""+j,p[5]=h.w||Qa(h.z||We[14],j);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,s,l,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),wd=function(){function e(d,f,m,p,h){h.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(yi(d))?isNaN(bd(d).getDate())?f[m][p]=d:f[m][p]=Zt(d):f[m][p]=yi(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var h=d.split(/[\r\n]/),g=h.length-1;g>=0&&h[g].length===0;)--g;for(var x=10,v=0,b=0;b<=g;++b)v=h[b].indexOf(" "),v==-1?v=h[b].length:v++,x=Math.max(x,v);for(b=0;b<=g;++b){p[b]=[];var y=0;for(e(h[b].slice(0,x).trim(),p,b,y,m),y=1;y<=(h[b].length-x)/10+1;++y)e(h[b].slice(x+(y-1)*10,x+y*10).trim(),p,b,y,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,h=0;p<d.length;++p)(h=d.charCodeAt(p))==34?m=!m:!m&&h in r&&(f[h]=(f[h]||0)+1);h=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&h.push([f[p],p]);if(!h.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&h.push([f[p],p])}return h.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[h.pop()[1]]||44}function i(d,f){var m=f||{},p="",h=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var x=0,v=0,b=0,y=0,j=0,E=p.charCodeAt(0),N=!1,S=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?O_e(m.dateNF):null;function k(){var A=d.slice(y,j),_={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)_.t="z";else if(m.raw)_.t="s",_.v=A;else if(A.trim().length===0)_.t="s",_.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(_.t="s",_.v=A.slice(2,-1).replace(/""/g,'"')):lIe(A)?(_.t="n",_.f=A.slice(1)):(_.t="s",_.v=A);else if(A=="TRUE")_.t="b",_.v=!0;else if(A=="FALSE")_.t="b",_.v=!1;else if(!isNaN(b=yi(A)))_.t="n",m.cellText!==!1&&(_.w=A),_.v=b;else if(!isNaN(bd(A).getDate())||C&&A.match(C)){_.z=m.dateNF||We[14];var I=0;C&&A.match(C)&&(A=R_e(A,m.dateNF,A.match(C)||[]),I=1),m.cellDates?(_.t="d",_.v=Zt(A,I)):(_.t="n",_.v=Br(Zt(A,I))),m.cellText!==!1&&(_.w=Qa(_.z,_.v instanceof Date?Br(_.v):_.v)),m.cellNF||delete _.z}else _.t="s",_.v=A;if(_.t=="z"||(m.dense?(h[x]||(h[x]=[]),h[x][v]=_):h[Ge({c:v,r:x})]=_),y=j+1,T=d.charCodeAt(y),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),S==E)++v;else if(v=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;j<d.length;++j)switch(S=d.charCodeAt(j)){case 34:T===34&&(N=!N);break;case E:case 10:case 13:if(!N&&k())break e;break}return j-y>0&&k(),h["!ref"]=nt(g),h}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Zd(t(d,f),f)}function l(d,f){var m="",p=f.type=="string"?[0,0,0,0]:T_(d,f);switch(f.type){case"base64":m=Na(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof xo<"u"?m=xo.utils.decode(f.codepage,d):m=st&&Buffer.isBuffer(d)?d.toString("binary"):ul(d);break;case"array":m=fc(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Ft(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Ft(m):f.type=="binary"&&typeof xo<"u"&&f.codepage&&(m=xo.utils.decode(f.codepage,xo.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?zz.to_sheet(f.type=="string"?m:Ft(m),f):s(m,f)}function c(d,f){return dl(l(d,f),f)}function u(d){for(var f=[],m=yt(d["!ref"]),p,h=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var x=[],v=m.s.c;v<=m.e.c;++v){var b=Ge({r:g,c:v});if(p=h?(d[g]||[])[v]:d[b],!p||p.v==null){x.push("          ");continue}for(var y=(p.w||(Ls(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function XTe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=$z.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return wd.to_workbook(e,t)}}var Hl=function(){function e(U,R,K){if(U){tn(U,U.l||0);for(var J=K.Enum||F;U.l<U.length;){var te=U.read_shift(2),re=J[te]||J[65535],P=U.read_shift(2),z=U.l+P,D=re.f&&re.f(U,P,K);if(U.l=z,R(D,re,te))return}}}function t(U,R){switch(R.type){case"base64":return r(ga(Na(U)),R);case"binary":return r(ga(U),R);case"buffer":case"array":return r(U,R)}throw"Unsupported type "+R.type}function r(U,R){if(!U)return U;var K=R||{},J=K.dense?[]:{},te="Sheet1",re="",P=0,z={},D=[],G=[],O={s:{r:0,c:0},e:{r:0,c:0}},fe=K.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)K.Enum=F,e(U,function(oe,we,$e){switch($e){case 0:K.vers=oe,oe>=4096&&(K.qpro=!0);break;case 6:O=oe;break;case 204:oe&&(re=oe);break;case 222:re=oe;break;case 15:case 51:K.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:$e==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=K.dateNF||We[14],K.cellDates&&(oe[1].t="d",oe[1].v=Dy(oe[1].v))),K.qpro&&oe[3]>P&&(J["!ref"]=nt(O),z[te]=J,D.push(te),J=K.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},P=oe[3],te=re||"Sheet"+(P+1),re="");var ze=K.dense?(J[oe[0].r]||[])[oe[0].c]:J[Ge(oe[0])];if(ze){ze.t=oe[1].t,ze.v=oe[1].v,oe[1].z!=null&&(ze.z=oe[1].z),oe[1].f!=null&&(ze.f=oe[1].f);break}K.dense?(J[oe[0].r]||(J[oe[0].r]=[]),J[oe[0].r][oe[0].c]=oe[1]):J[Ge(oe[0])]=oe[1];break}},K);else if(U[2]==26||U[2]==14)K.Enum=ne,U[2]==14&&(K.qpro=!0,U.l=0),e(U,function(oe,we,$e){switch($e){case 204:te=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>P&&(J["!ref"]=nt(O),z[te]=J,D.push(te),J=K.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},P=oe[3],te="Sheet"+(P+1)),fe>0&&oe[0].r>=fe)break;K.dense?(J[oe[0].r]||(J[oe[0].r]=[]),J[oe[0].r][oe[0].c]=oe[1]):J[Ge(oe[0])]=oe[1],O.e.c<oe[0].c&&(O.e.c=oe[0].c),O.e.r<oe[0].r&&(O.e.r=oe[0].r);break;case 27:oe[14e3]&&(G[oe[14e3][0]]=oe[14e3][1]);break;case 1537:G[oe[0]]=oe[1],oe[0]==P&&(te=oe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(J["!ref"]=nt(O),z[re||te]=J,D.push(re||te),!G.length)return{SheetNames:D,Sheets:z};for(var ie={},ue=[],ye=0;ye<G.length;++ye)z[D[ye]]?(ue.push(G[ye]||D[ye]),ie[G[ye]]=z[G[ye]]||z[D[ye]]):(ue.push(G[ye]),ie[G[ye]]={"!ref":"A1"});return{SheetNames:ue,Sheets:ie}}function n(U,R){var K=R||{};if(+K.codepage>=0&&fi(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var J=ra(),te=yt(U["!ref"]),re=Array.isArray(U),P=[];Ce(J,0,i(1030)),Ce(J,6,c(te));for(var z=Math.min(te.e.r,8191),D=te.s.r;D<=z;++D)for(var G=Sr(D),O=te.s.c;O<=te.e.c;++O){D===te.s.r&&(P[O]=ur(O));var fe=P[O]+G,ie=re?(U[D]||[])[O]:U[fe];if(!(!ie||ie.t=="z"))if(ie.t=="n")(ie.v|0)==ie.v&&ie.v>=-32768&&ie.v<=32767?Ce(J,13,p(D,O,ie.v)):Ce(J,14,g(D,O,ie.v));else{var ue=Ls(ie);Ce(J,15,f(D,O,ue.slice(0,239)))}}return Ce(J,1),J.end()}function a(U,R){var K=R||{};if(+K.codepage>=0&&fi(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var J=ra();Ce(J,0,s(U));for(var te=0,re=0;te<U.SheetNames.length;++te)(U.Sheets[U.SheetNames[te]]||{})["!ref"]&&Ce(J,27,B(U.SheetNames[te],re++));var P=0;for(te=0;te<U.SheetNames.length;++te){var z=U.Sheets[U.SheetNames[te]];if(!(!z||!z["!ref"])){for(var D=yt(z["!ref"]),G=Array.isArray(z),O=[],fe=Math.min(D.e.r,8191),ie=D.s.r;ie<=fe;++ie)for(var ue=Sr(ie),ye=D.s.c;ye<=D.e.c;++ye){ie===D.s.r&&(O[ye]=ur(ye));var oe=O[ye]+ue,we=G?(z[ie]||[])[ye]:z[oe];if(!(!we||we.t=="z"))if(we.t=="n")Ce(J,23,k(ie,ye,P,we.v));else{var $e=Ls(we);Ce(J,22,S(ie,ye,P,$e.slice(0,239)))}}++P}}return Ce(J,1),J.end()}function i(U){var R=ge(2);return R.write_shift(2,U),R}function s(U){var R=ge(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var K=0,J=0,te=0,re=0;re<U.SheetNames.length;++re){var P=U.SheetNames[re],z=U.Sheets[P];if(!(!z||!z["!ref"])){++te;var D=na(z["!ref"]);K<D.e.r&&(K=D.e.r),J<D.e.c&&(J=D.e.c)}}return K>8191&&(K=8191),R.write_shift(2,K),R.write_shift(1,te),R.write_shift(1,J),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(U,R,K){var J={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&K.qpro?(J.s.c=U.read_shift(1),U.l++,J.s.r=U.read_shift(2),J.e.c=U.read_shift(1),U.l++,J.e.r=U.read_shift(2),J):(J.s.c=U.read_shift(2),J.s.r=U.read_shift(2),R==12&&K.qpro&&(U.l+=2),J.e.c=U.read_shift(2),J.e.r=U.read_shift(2),R==12&&K.qpro&&(U.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function c(U){var R=ge(8);return R.write_shift(2,U.s.c),R.write_shift(2,U.s.r),R.write_shift(2,U.e.c),R.write_shift(2,U.e.r),R}function u(U,R,K){var J=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(J[0].c=U.read_shift(1),J[3]=U.read_shift(1),J[0].r=U.read_shift(2),U.l+=2):(J[2]=U.read_shift(1),J[0].c=U.read_shift(2),J[0].r=U.read_shift(2)),J}function d(U,R,K){var J=U.l+R,te=u(U,R,K);if(te[1].t="s",K.vers==20768){U.l++;var re=U.read_shift(1);return te[1].v=U.read_shift(re,"utf8"),te}return K.qpro&&U.l++,te[1].v=U.read_shift(J-U.l,"cstr"),te}function f(U,R,K){var J=ge(7+K.length);J.write_shift(1,255),J.write_shift(2,R),J.write_shift(2,U),J.write_shift(1,39);for(var te=0;te<J.length;++te){var re=K.charCodeAt(te);J.write_shift(1,re>=128?95:re)}return J.write_shift(1,0),J}function m(U,R,K){var J=u(U,R,K);return J[1].v=U.read_shift(2,"i"),J}function p(U,R,K){var J=ge(7);return J.write_shift(1,255),J.write_shift(2,R),J.write_shift(2,U),J.write_shift(2,K,"i"),J}function h(U,R,K){var J=u(U,R,K);return J[1].v=U.read_shift(8,"f"),J}function g(U,R,K){var J=ge(13);return J.write_shift(1,255),J.write_shift(2,R),J.write_shift(2,U),J.write_shift(8,K,"f"),J}function x(U,R,K){var J=U.l+R,te=u(U,R,K);if(te[1].v=U.read_shift(8,"f"),K.qpro)U.l=J;else{var re=U.read_shift(2);j(U.slice(U.l,U.l+re),te),U.l+=re}return te}function v(U,R,K){var J=R&32768;return R&=-32769,R=(J?U:0)+(R>=8192?R-16384:R),(J?"":"$")+(K?ur(R):Sr(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(U,R){tn(U,0);for(var K=[],J=0,te="",re="",P="",z="";U.l<U.length;){var D=U[U.l++];switch(D){case 0:K.push(U.read_shift(8,"f"));break;case 1:re=v(R[0].c,U.read_shift(2),!0),te=v(R[0].r,U.read_shift(2),!1),K.push(re+te);break;case 2:{var G=v(R[0].c,U.read_shift(2),!0),O=v(R[0].r,U.read_shift(2),!1);re=v(R[0].c,U.read_shift(2),!0),te=v(R[0].r,U.read_shift(2),!1),K.push(G+O+":"+re+te)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(U.read_shift(2));break;case 6:{for(var fe="";D=U[U.l++];)fe+=String.fromCharCode(D);K.push('"'+fe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:z=K.pop(),P=K.pop(),K.push(["AND","OR"][D-20]+"("+P+","+z+")");break;default:if(D<32&&y[D])z=K.pop(),P=K.pop(),K.push(P+y[D]+z);else if(b[D]){if(J=b[D][1],J==69&&(J=U[U.l++]),J>K.length){console.error("WK1 bad formula parse 0x"+D.toString(16)+":|"+K.join("|")+"|");return}var ie=K.slice(-J);K.length-=J,K.push(b[D][0]+"("+ie.join(",")+")")}else return D<=7?console.error("WK1 invalid opcode "+D.toString(16)):D<=24?console.error("WK1 unsupported op "+D.toString(16)):D<=30?console.error("WK1 invalid opcode "+D.toString(16)):D<=115?console.error("WK1 unsupported function opcode "+D.toString(16)):console.error("WK1 unrecognized opcode "+D.toString(16))}}K.length==1?R[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function E(U){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=U.read_shift(2),R[3]=U[U.l++],R[0].c=U[U.l++],R}function N(U,R){var K=E(U);return K[1].t="s",K[1].v=U.read_shift(R-4,"cstr"),K}function S(U,R,K,J){var te=ge(6+J.length);te.write_shift(2,U),te.write_shift(1,K),te.write_shift(1,R),te.write_shift(1,39);for(var re=0;re<J.length;++re){var P=J.charCodeAt(re);te.write_shift(1,P>=128?95:P)}return te.write_shift(1,0),te}function T(U,R){var K=E(U);K[1].v=U.read_shift(2);var J=K[1].v>>1;if(K[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return K[1].v=J,K}function C(U,R){var K=E(U),J=U.read_shift(4),te=U.read_shift(4),re=U.read_shift(2);if(re==65535)return J===0&&te===3221225472?(K[1].t="e",K[1].v=15):J===0&&te===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var P=re&32768;return re=(re&32767)-16446,K[1].v=(1-P*2)*(te*Math.pow(2,re+32)+J*Math.pow(2,re)),K}function k(U,R,K,J){var te=ge(14);if(te.write_shift(2,U),te.write_shift(1,K),te.write_shift(1,R),J==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var re=0,P=0,z=0,D=0;return J<0&&(re=1,J=-J),P=Math.log2(J)|0,J/=Math.pow(2,P-31),D=J>>>0,D&2147483648||(J/=2,++P,D=J>>>0),J-=D,D|=2147483648,D>>>=0,J*=Math.pow(2,32),z=J>>>0,te.write_shift(4,z),te.write_shift(4,D),P+=16383+(re?32768:0),te.write_shift(2,P),te}function A(U,R){var K=C(U);return U.l+=R-14,K}function _(U,R){var K=E(U),J=U.read_shift(4);return K[1].v=J>>6,K}function I(U,R){var K=E(U),J=U.read_shift(8,"f");return K[1].v=J,K}function M(U,R){var K=I(U);return U.l+=R-10,K}function L(U,R){return U[U.l+R-1]==0?U.read_shift(R,"cstr"):""}function W(U,R){var K=U[U.l++];K>R-1&&(K=R-1);for(var J="";J.length<K;)J+=String.fromCharCode(U[U.l++]);return J}function H(U,R,K){if(!(!K.qpro||R<21)){var J=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var te=U.read_shift(R-21,"cstr");return[J,te]}}function q(U,R){for(var K={},J=U.l+R;U.l<J;){var te=U.read_shift(2);if(te==14e3){for(K[te]=[0,""],K[te][0]=U.read_shift(2);U[U.l];)K[te][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return K}function B(U,R){var K=ge(5+U.length);K.write_shift(2,14e3),K.write_shift(2,R);for(var J=0;J<U.length;++J){var te=U.charCodeAt(J);K[K.l++]=te>127?95:te}return K[K.l++]=0,K}var F={0:{n:"BOF",f:Cr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:h},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:_},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function KTe(e){var t={},r=e.match(kn),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Ke(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Wj[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var YTe=function(){var e=Ip("t"),t=Ip("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var l={t:"s",v:vt(s[1])},c=i.match(t);return c&&(l.s=KTe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),JTe=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),QTe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ZTe=/<(?:\w+:)?r>/,eAe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function g_(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=vt(Ft(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ft(e),r&&(n.h=r_(n.t))):e.match(ZTe)&&(n.r=Ft(e),n.t=vt(Ft((e.replace(eAe,"").match(QTe)||[]).join("").replace(kn,""))),r&&(n.h=JTe(YTe(n.r)))),n):{t:""}}var tAe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rAe=/<(?:\w+:)?(?:si|sstItem)>/g,nAe=/<\/(?:\w+:)?(?:si|sstItem)>/;function aAe(e,t){var r=[],n="";if(!e)return r;var a=e.match(tAe);if(a){n=a[2].replace(rAe,"").split(nAe);for(var i=0;i!=n.length;++i){var s=g_(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Ke(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var iAe=/^\s|\s$|[\t\n\r]/;function Uz(e,t){if(!t.bookSST)return"";var r=[Nr];r[r.length]=ke("sst",null,{xmlns:Cc[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(iAe)&&(i+=' xml:space="preserve"'),i+=">"+It(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function sAe(e){return[e.read_shift(4),e.read_shift(4)]}function oAe(e,t){var r=[],n=!1;return Ys(e,function(i,s,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function lAe(e,t){return t||(t=ge(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var cAe=yke;function uAe(e){var t=ra();be(t,159,lAe(e));for(var r=0;r<e.length;++r)be(t,19,cAe(e[r]));return be(t,160),t.end()}function qz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function js(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function dAe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=js(e,4),t.U=js(e,4),t.W=js(e,4),t}function fAe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mAe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(fAe(e));return t}function pAe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function hAe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=js(e,4),t.U=js(e,4),t.W=js(e,4),t}function gAe(e){var t=hAe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Vz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Hz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function xAe(e){var t=js(e);switch(t.Minor){case 2:return[t.Minor,vAe(e)];case 3:return[t.Minor,yAe()];case 4:return[t.Minor,bAe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function vAe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Vz(e,r),a=Hz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function yAe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function bAe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(kn,function(i){var s=Ke(i);switch(rs(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=s[l]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function wAe(e,t){var r={},n=r.EncryptionVersionInfo=js(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Vz(e,a),t-=a,r.EncryptionVerifier=Hz(e,t),r}function SAe(e){var t={},r=t.EncryptionVersionInfo=js(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function x_(e){var t=0,r,n=qz(e),a=n.length+1,i,s,l,c,u;for(r=Ho(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^s;return t^52811}var Wz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,l){return n(s^l)},i=function(s){for(var l=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(s){for(var l=qz(s),c=i(l),u=l.length,d=Ho(16),f=0;f!=16;++f)d[f]=0;var m,p,h;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,h=15-l.length;h>0;)m=c>>8,d[u]=a(e[h],m),--u,--h,m=c&255,d[u]=a(l[u],m),--u,--h;return d}}(),NAe=function(e,t,r,n,a){a||(a=t),n||(n=Wz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},EAe=function(e){var t=0,r=Wz(e);return function(n){var a=NAe("",n,t,r);return t=a[1],a[0]}};function jAe(e,t,r,n){var a={key:Cr(e),verificationBytes:Cr(e)};return r.password&&(a.verifier=x_(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=EAe(r.password)),a}function _Ae(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=SAe(e):n.Data=wAe(e,t),n}function kAe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?_Ae(e,t-2,n):jAe(e,r.biff>=8?t:t-2,r,n),n}var Gz=function(){function e(a,i){switch(i.type){case"base64":return t(Na(a),i);case"binary":return t(a,i);case"buffer":return t(st&&Buffer.isBuffer(a)?a.toString("binary"):ul(a),i);case"array":return t(fc(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},l=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,p=0,h,g=-1;h=m.exec(d);){switch(h[0]){case"\\cell":var x=d.slice(p,m.lastIndex-h[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[f][g]=v:l[Ge({r:f,c:g})]=v}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=nt(u),l}function r(a,i){return dl(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=yt(a["!ref"]),l,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Ge({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Ls(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function CAe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Dp(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function TAe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4;break}return[l/6,c,u/2]}function AAe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-l),s[0]+=c,s[1]+=a;break;case 2:c=a*(l-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-l),s[1]+=c,s[2]+=a;break;case 4:c=a*(l-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-l),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function Wx(e,t){if(t===0)return e;var r=TAe(CAe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Dp(AAe(r))}var Xz=6,IAe=15,PAe=1,bn=Xz;function Fp(e){return Math.floor((e+Math.round(128/bn)/256)*bn)}function Mp(e){return Math.floor((e-5)/bn*100+.5)/100}function Gx(e){return Math.round((e*bn+5)/bn*256)/256}function y1(e){return Gx(Mp(Fp(e)))}function v_(e){var t=Math.abs(e-y1(e)),r=bn;if(t>.005)for(bn=PAe;bn<IAe;++bn)Math.abs(e-y1(e))<=t&&(t=Math.abs(e-y1(e)),r=bn);bn=r}function Wo(e){e.width?(e.wpx=Fp(e.width),e.wch=Mp(e.wpx),e.MDW=bn):e.wpx?(e.wch=Mp(e.wpx),e.width=Gx(e.wch),e.MDW=bn):typeof e.wch=="number"&&(e.width=Gx(e.wch),e.wpx=Fp(e.width),e.MDW=bn),e.customWidth&&delete e.customWidth}var OAe=96,Kz=OAe;function Lp(e){return e*96/Kz}function Sd(e){return e*Kz/96}var RAe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DAe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(kn)||[]).forEach(function(s){var l=Ke(s);switch(rs(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Jt(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Jt(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function FAe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(kn)||[]).forEach(function(s){var l=Ke(s);switch(rs(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function MAe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(kn)||[]).forEach(function(s){var l=Ke(s);switch(rs(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Ft(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Jt(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Jt(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Jt(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Jt(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Jt(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Jt(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Jt(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Wj[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Jt(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=ql[a.color.index];a.color.index==81&&(c=ql[1]),c||(c=ql[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Wx(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function LAe(e,t,r){t.NumberFmt=[];for(var n=yr(We),a=0;a<n.length;++a)t.NumberFmt[n[a]]=We[n[a]];var i=e[0].match(kn);if(i)for(a=0;a<i.length;++a){var s=Ke(i[a]);switch(rs(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=vt(Ft(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Es(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function $Ae(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ke("numFmt",null,{numFmtId:n,formatCode:It(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var N0=["numFmtId","fillId","fontId","borderId","xfId"],E0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function BAe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(kn)||[]).forEach(function(i){var s=Ke(i),l=0;switch(rs(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],l=0;l<N0.length;++l)n[N0[l]]&&(n[N0[l]]=parseInt(n[N0[l]],10));for(l=0;l<E0.length;++l)n[E0[l]]&&(n[E0[l]]=Jt(n[E0[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Jt(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function zAe(e){var t=[];return t[t.length]=ke("cellXfs",null),e.forEach(function(r){t[t.length]=ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var UAe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&LAe(f,d,u),(f=l.match(a))&&MAe(f,d,c,u),(f=l.match(n))&&FAe(f,d,c,u),(f=l.match(i))&&DAe(f,d,c,u),(f=l.match(r))&&BAe(f,d,u),d}}();function Yz(e,t){var r=[Nr,ke("styleSheet",null,{xmlns:Cc[0],"xmlns:vt":Mr.vt})],n;return e.SSF&&(n=$Ae(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=zAe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function qAe(e,t){var r=e.read_shift(2),n=Nn(e);return[r,n]}function VAe(e,t,r){r||(r=ge(6+4*t.length)),r.write_shift(2,e),Xr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function HAe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=_ke(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=jke(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Nn(e),n}function WAe(e,t){t||(t=ge(25+4*32)),t.write_shift(2,e.sz*20),kke(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),qx(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Xr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var GAe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],b1,XAe=jn;function hO(e,t){t||(t=ge(4*3+8*7+16*1)),b1||(b1=Oy(GAe));var r=b1[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(qx({auto:1},t),qx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function KAe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Jz(e,t,r){r||(r=ge(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Af(e,t){return t||(t=ge(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var YAe=jn;function JAe(e,t){return t||(t=ge(51)),t.write_shift(1,0),Af(null,t),Af(null,t),Af(null,t),Af(null,t),Af(null,t),t.length>t.l?t.slice(0,t.l):t}function QAe(e,t){return t||(t=ge(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ux(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ZAe(e,t,r){var n=ge(2052);return n.write_shift(4,e),Ux(t,n),Ux(r,n),n.length>n.l?n.slice(0,n.l):n}function e4e(e,t,r){var n={};n.NumberFmt=[];for(var a in We)n.NumberFmt[a]=We[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Ys(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Es(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Wx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function t4e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(be(e,615,bi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&be(e,44,VAe(a,t[a]))}),be(e,616))}}function r4e(e){var t=1;be(e,611,bi(t)),be(e,43,WAe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),be(e,612)}function n4e(e){var t=2;be(e,603,bi(t)),be(e,45,hO({patternType:"none"})),be(e,45,hO({patternType:"gray125"})),be(e,604)}function a4e(e){var t=1;be(e,613,bi(t)),be(e,46,JAe()),be(e,614)}function i4e(e){var t=1;be(e,626,bi(t)),be(e,47,Jz({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),be(e,627)}function s4e(e,t){be(e,617,bi(t.length)),t.forEach(function(r){be(e,47,Jz(r,0))}),be(e,618)}function o4e(e){var t=1;be(e,619,bi(t)),be(e,48,QAe({xfId:0,builtinId:0,name:"Normal"})),be(e,620)}function l4e(e){var t=0;be(e,505,bi(t)),be(e,506)}function c4e(e){var t=0;be(e,508,ZAe(t,"TableStyleMedium9","PivotStyleMedium4")),be(e,509)}function u4e(e,t){var r=ra();return be(r,278),t4e(r,e.SSF),r4e(r),n4e(r),a4e(r),i4e(r),s4e(r,t.cellXfs),o4e(r),l4e(r),c4e(r),be(r,279),r.end()}var d4e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function f4e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(kn)||[]).forEach(function(a){var i=Ke(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[d4e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function m4e(){}function p4e(){}var h4e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,g4e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,x4e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function v4e(e,t,r){t.themeElements={};var n;[["clrScheme",h4e,f4e],["fontScheme",g4e,m4e],["fmtScheme",x4e,p4e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var y4e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Qz(e,t){(!e||e.length===0)&&(e=y_());var r,n={};if(!(r=e.match(y4e)))throw new Error("themeElements not found in theme");return v4e(r[0],n,t),n.raw=e,n}function y_(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Nr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function b4e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=VB(i,{type:"array"})}catch{return}var l=xa(s,"theme/theme/theme1.xml",!0);if(l)return Qz(l,r)}}function w4e(e){return e.read_shift(4)}function S4e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=N4e(e,4);break;case 2:t.xclrValue=Iz(e);break;case 3:t.xclrValue=w4e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function N4e(e,t){return jn(e,t)}function E4e(e,t){return jn(e,t)}function j4e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=S4e(e);break;case 6:n[1]=E4e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function _4e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(j4e(e,r-e.l));return{ixfe:n,ext:i}}function k4e(e,t){t.forEach(function(r){switch(r[0]){}})}function C4e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Nn(e)}}function T4e(e){var t=ge(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Xr(e.name,t),t.slice(0,t.l)}function A4e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function I4e(e){var t=ge(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function P4e(e,t){var r=ge(8+2*t.length);return r.write_shift(4,e),Xr(t,r),r.slice(0,r.l)}function O4e(e){return e.l+=4,e.read_shift(4)!=0}function R4e(e,t){var r=ge(8);return r.write_shift(4,e),r.write_shift(4,1),r}function D4e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,l=2;return Ys(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function F4e(){var e=ra();return be(e,332),be(e,334,bi(1)),be(e,335,T4e({name:"XLDAPR",version:12e4,flags:3496657072})),be(e,336),be(e,339,P4e(1,"XLDAPR")),be(e,52),be(e,35,bi(514)),be(e,4096,bi(0)),be(e,4097,La(1)),be(e,36),be(e,53),be(e,340),be(e,337,R4e(1)),be(e,51,I4e([[1,0]])),be(e,338),be(e,333),e.end()}function M4e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(kn,function(l){var c=Ke(l);switch(rs(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Zz(){var e=[Nr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function L4e(e){var t=[];if(!e)return t;var r=1;return(e.match(kn)||[]).forEach(function(n){var a=Ke(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function $4e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ge(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function B4e(e,t,r){var n=[];return Ys(e,function(i,s,l){switch(l){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function z4e(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Ys(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function U4e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var pu=1024;function e7(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ke("xml",null,{"xmlns:v":fa.v,"xmlns:o":fa.o,"xmlns:x":fa.x,"xmlns:mv":fa.mv}).replace(/\/>/,">"),ke("o:shapelayout",ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ke("v:shapetype",[ke("v:stroke",null,{joinstyle:"miter"}),ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];pu<e*1e3;)pu+=1e3;return t.forEach(function(i){var s=dr(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ke("v:fill",c,l),d={on:"t",obscured:"t"};++pu,a=a.concat(["<v:shape"+Pp({id:"_x0000_s"+pu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ke("v:shadow",null,d),ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rn("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),rn("x:AutoFill","False"),rn("x:Row",String(s.r)),rn("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function gO(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var l=dr(s.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[s.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[s.ref]=i;var c=yt(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=nt(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function q4e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Ke(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=dr(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&g_(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function t7(e){var t=[Nr,ke("comments",null,{xmlns:Cc[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=It(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(It(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(rn("t",It(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)s+=`Reply:
    `+i[l]+`
`;t.push(rn("t",It(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function V4e(e,t){var r=[],n=!1,a={},i=0;return e.replace(kn,function(l,c){var u=Ke(l);switch(rs(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function H4e(e,t,r){var n=[Nr,ke("ThreadedComments",null,{xmlns:Mr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ke("threadedComment",rn("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function W4e(e,t){var r=[],n=!1;return e.replace(kn,function(i){var s=Ke(i);switch(rs(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function G4e(e){var t=[Nr,ke("personList",null,{xmlns:Mr.TCMNT,"xmlns:x":Cc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function X4e(e){var t={};t.iauthor=e.read_shift(4);var r=Pc(e);return t.rfx=r.s,t.ref=Ge(r.s),e.l+=16,t}function K4e(e,t){return t==null&&(t=ge(36)),t.write_shift(4,e[1].iauthor),ef(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Y4e=Nn;function J4e(e){return Xr(e.slice(0,54))}function Q4e(e,t){var r=[],n=[],a={},i=!1;return Ys(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Z4e(e){var t=ra(),r=[];return be(t,628),be(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),be(t,632,J4e(a.a)))})}),be(t,631),be(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:dr(n[0]),e:dr(n[0])};be(t,635,K4e([i,a])),a.t&&a.t.length>0&&be(t,637,wke(a)),be(t,636),delete a.iauthor})}),be(t,634),be(t,629),t.end()}var eIe="application/vnd.ms-office.vbaProject";function tIe(e){var t=Ue.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ue.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ue.write(t)}function rIe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ue.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var r7=["xlsb","xlsm","xlam","biff8","xla"];function nIe(){return{"!type":"dialog"}}function aIe(){return{"!type":"dialog"}}function iIe(){return{"!type":"macro"}}function sIe(){return{"!type":"macro"}}var Ru=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ur(d)+(c?"":"$")+Sr(u)}return function(a,i){return t=i,a.replace(e,r)}}(),b_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w_=function(){return function(t,r){return t.replace(b_,function(n,a,i,s,l,c){var u=o_(s)-(i?0:r.c),d=s_(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}}();function n7(e,t){return e.replace(b_,function(r,n,a,i,s,l){return n+(a=="$"?a+i:ur(o_(i)+t.c))+(s=="$"?s+l:Sr(s_(l)+t.r))})}function oIe(e,t,r){var n=na(t),a=n.s,i=dr(r),s={r:i.r-a.r,c:i.c-a.c};return n7(e,s)}function lIe(e){return e.length!=1}function xO(e){return e.replace(/_xlfn\./g,"")}function jr(e){e.l+=1}function Go(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function a7(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return i7(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Go(e),l=Go(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function i7(e){var t=Go(e),r=Go(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function cIe(e,t,r){if(r.biff<8)return i7(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Go(e),s=Go(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function s7(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return uIe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Go(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function uIe(e){var t=Go(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function dIe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function fIe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return mIe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:l}}function mIe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function pIe(e,t,r){var n=(e[e.l++]&96)>>5,a=a7(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function hIe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=a7(e,i,r);return[n,a,s]}function gIe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function xIe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function vIe(e,t,r){var n=(e[e.l++]&96)>>5,a=cIe(e,t-1,r);return[n,a]}function yIe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function vO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function bIe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function wIe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function SIe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function NIe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function EIe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function o7(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jIe(e){return e.read_shift(2),o7(e)}function _Ie(e){return e.read_shift(2),o7(e)}function kIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=s7(e,0,r);return[n,a]}function CIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=fIe(e,0,r);return[n,a]}function TIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=s7(e,0,r);return[n,a,i]}function AIe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[OPe[a],u7[a],n]}function IIe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:PIe(e);return[a,(i[0]===0?u7:PPe)[i[1]]]}function PIe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function OIe(e,t,r){e.l+=r&&r.biff==2?3:4}function RIe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function DIe(e){return e.l++,Js[e.read_shift(1)]}function FIe(e){return e.l++,e.read_shift(2)}function MIe(e){return e.l++,e.read_shift(1)!==0}function LIe(e){return e.l++,wn(e)}function $Ie(e,t,r){return e.l++,_h(e,t-1,r)}function BIe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=br(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Js[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=wn(e);break;case 2:r[1]=Oc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zIe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Pc:Fy)(e));return a}function UIe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var l=0;l!=a;++l)s[i][l]=BIe(e,r.biff);return s}function qIe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function VIe(e,t,r){if(r.biff==5)return HIe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function HIe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function WIe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function GIe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function XIe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function KIe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var YIe=jn,JIe=jn,QIe=jn;function Ch(e,t,r){return e.l+=2,[dIe(e)]}function S_(e){return e.l+=6,[]}var ZIe=Ch,ePe=S_,tPe=S_,rPe=Ch;function l7(e){return e.l+=2,[Cr(e),e.read_shift(2)&1]}var nPe=Ch,aPe=l7,iPe=S_,sPe=Ch,oPe=Ch,lPe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cPe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=lPe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function uPe(e){return e.l+=2,[e.read_shift(4)]}function dPe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function fPe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function mPe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function pPe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function hPe(e){return e.l+=4,[0,0]}var yO={1:{n:"PtgExp",f:RIe},2:{n:"PtgTbl",f:QIe},3:{n:"PtgAdd",f:jr},4:{n:"PtgSub",f:jr},5:{n:"PtgMul",f:jr},6:{n:"PtgDiv",f:jr},7:{n:"PtgPower",f:jr},8:{n:"PtgConcat",f:jr},9:{n:"PtgLt",f:jr},10:{n:"PtgLe",f:jr},11:{n:"PtgEq",f:jr},12:{n:"PtgGe",f:jr},13:{n:"PtgGt",f:jr},14:{n:"PtgNe",f:jr},15:{n:"PtgIsect",f:jr},16:{n:"PtgUnion",f:jr},17:{n:"PtgRange",f:jr},18:{n:"PtgUplus",f:jr},19:{n:"PtgUminus",f:jr},20:{n:"PtgPercent",f:jr},21:{n:"PtgParen",f:jr},22:{n:"PtgMissArg",f:jr},23:{n:"PtgStr",f:$Ie},26:{n:"PtgSheet",f:dPe},27:{n:"PtgEndSheet",f:fPe},28:{n:"PtgErr",f:DIe},29:{n:"PtgBool",f:MIe},30:{n:"PtgInt",f:FIe},31:{n:"PtgNum",f:LIe},32:{n:"PtgArray",f:yIe},33:{n:"PtgFunc",f:AIe},34:{n:"PtgFuncVar",f:IIe},35:{n:"PtgName",f:qIe},36:{n:"PtgRef",f:kIe},37:{n:"PtgArea",f:pIe},38:{n:"PtgMemArea",f:WIe},39:{n:"PtgMemErr",f:YIe},40:{n:"PtgMemNoMem",f:JIe},41:{n:"PtgMemFunc",f:GIe},42:{n:"PtgRefErr",f:XIe},43:{n:"PtgAreaErr",f:gIe},44:{n:"PtgRefN",f:CIe},45:{n:"PtgAreaN",f:vIe},46:{n:"PtgMemAreaN",f:mPe},47:{n:"PtgMemNoMemN",f:pPe},57:{n:"PtgNameX",f:VIe},58:{n:"PtgRef3d",f:TIe},59:{n:"PtgArea3d",f:hIe},60:{n:"PtgRefErr3d",f:KIe},61:{n:"PtgAreaErr3d",f:xIe},255:{}},gPe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xPe={1:{n:"PtgElfLel",f:l7},2:{n:"PtgElfRw",f:sPe},3:{n:"PtgElfCol",f:ZIe},6:{n:"PtgElfRwV",f:oPe},7:{n:"PtgElfColV",f:rPe},10:{n:"PtgElfRadical",f:nPe},11:{n:"PtgElfRadicalS",f:iPe},13:{n:"PtgElfColS",f:ePe},15:{n:"PtgElfColSV",f:tPe},16:{n:"PtgElfRadicalLel",f:aPe},25:{n:"PtgList",f:cPe},29:{n:"PtgSxName",f:uPe},255:{}},vPe={0:{n:"PtgAttrNoop",f:hPe},1:{n:"PtgAttrSemi",f:EIe},2:{n:"PtgAttrIf",f:SIe},4:{n:"PtgAttrChoose",f:bIe},8:{n:"PtgAttrGoto",f:wIe},16:{n:"PtgAttrSum",f:OIe},32:{n:"PtgAttrBaxcel",f:vO},33:{n:"PtgAttrBaxcel",f:vO},64:{n:"PtgAttrSpace",f:jIe},65:{n:"PtgAttrSpaceSemi",f:_Ie},128:{n:"PtgAttrIfError",f:NIe},255:{}};function Th(e,t,r,n){if(n.biff<8)return jn(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=UIe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=zIe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(jn(e,t)),i}function Ah(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=yO[i]||yO[gPe[i]],(i===24||i===25)&&(a=(i===24?xPe:vPe)[e[e.l+1]]),!a||!a.f?jn(e,t):s.push([a.n,a.f(e,t,r)]);return s}function yPe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var bPe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wPe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function c7(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bO(e,t,r){var n=c7(e,t,r);return n=="#REF"?n:wPe(n,r)}function gn(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,m=0,p,h="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=xr(" ",e[0][g][1][1]);break;case 1:x=xr("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}l.push(u+bPe[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=lm(y[1][1],s,a),l.push(cm(d,i));break;case"PtgRefN":d=r?lm(y[1][1],r,a):y[1][1],l.push(cm(d,i));break;case"PtgRef3d":f=y[1][1],d=lm(y[1][2],s,a),h=bO(n,f,a),l.push(h+"!"+cm(d,i));break;case"PtgFunc":case"PtgFuncVar":var j=y[1][0],E=y[1][1];j||(j=0),j&=127;var N=j==0?[]:l.slice(-j);l.length-=j,E==="User"&&(E=N.shift()),l.push(E+"("+N.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":p=KP(y[1][1],r?{s:r}:s,a),l.push(g1(p,a));break;case"PtgArea":p=KP(y[1][1],s,a),l.push(g1(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],h=bO(n,f,a),l.push(h+"!"+g1(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=y[1][2];var S=(n.names||[])[m-1]||(n[0]||[])[m],T=S?S.Name:"SH33TJSNAME"+String(m);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var C=y[1][1];m=y[1][2];var k;if(a.biff<=5)C<0&&(C=-C),n[C]&&(k=n[C][m]);else{var A="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][m]&&n[C][m].itab>0&&(A=n.SheetNames[n[C][m].itab-1]+"!"):A=n.SheetNames[m-1]+"!"),n[C]&&n[C][m])A+=n[C][m].Name;else if(n[0]&&n[0][m])A+=n[0][m].Name;else{var _=(c7(n,C,a)||"").split(";;");_[m-1]?A=_[m-1]:A+="SH33TJSERRX"}l.push(A);break}k||(k={Name:"SH33TJSERRY"}),l.push(k.Name);break;case"PtgParen":var I="(",M=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:I=xr(" ",e[0][g][1][1])+I;break;case 3:I=xr("\r",e[0][g][1][1])+I;break;case 4:M=xr(" ",e[0][g][1][1])+M;break;case 5:M=xr("\r",e[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(I+l.pop()+M);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var L={c:r.c,r:r.r};if(n.sharedf[Ge(d)]){var W=n.sharedf[Ge(d)];l.push(gn(W,s,L,n,a))}else{var H=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(gn(u[1],s,L,n,a)),H=!0;break}H||l.push(y[1])}break;case"PtgArray":l.push("{"+yPe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&q.indexOf(e[0][v][0])==-1){y=e[0][g];var B=!0;switch(y[1][0]){case 4:B=!1;case 0:x=xr(" ",y[1][1]);break;case 5:B=!1;case 1:x=xr("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((B?x:"")+l.pop()+(B?"":x)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function SPe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],jn(e,t-2)];var l=Ah(e,s,r);return t!==s+a&&(i=Th(e,t-s-a,l,r)),e.l=n,[l,i]}function NPe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],jn(e,t-2)];var l=Ah(e,s,r);return t!==s+a&&(i=Th(e,t-s-a,l,r)),e.l=n,[l,i]}function EPe(e,t,r,n){var a=e.l+t,i=Ah(e,n,r),s;return a!==e.l&&(s=Th(e,a-e.l,i,r)),[i,s]}function jPe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Ah(e,i,r);return i==65535?[[],jn(e,t-2)]:(t!==i+2&&(a=Th(e,n-i-2,s,r)),[s,a])}function _Pe(e){var t;if(vs(e,e.l+6)!==65535)return[wn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function kPe(e){if(e==null){var t=ge(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mc(e);return mc(0)}function w1(e,t,r){var n=e.l+t,a=ns(e);r.biff==2&&++e.l;var i=_Pe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=NPe(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:s>>3&1,tt:i[1]}}function CPe(e,t,r,n,a){var i=hc(t,r,a),s=kPe(e.v),l=ge(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ge(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Wr([i,s,l,u]);return f}function My(e,t,r){var n=e.read_shift(4),a=Ah(e,n,r),i=e.read_shift(4),s=i>0?Th(e,i,a,r):null;return[a,s]}var TPe=My,Ly=My,APe=My,IPe=My,PPe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},u7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},OPe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wO(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function RPe(e){var t="of:="+e.replace(b_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function S1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function DPe(e){return e.replace(/\./,"!")}var dm={},Du={},fm=typeof Map<"u";function N_(e,t,r){var n=0,a=e.length;if(r){if(fm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=fm?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(fm?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function $y(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(bn=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Mp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Gx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Wl(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function fl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Es(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function d7(e,t,r,n,a,i){try{n.cellNF&&(e.z=We[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Zt(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(We[t]==null&&Es(P_e[t]||"General",t),e.t==="e")e.w=e.w||Js[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ap(e.v);else if(e.t==="d"){var s=Br(e.v);(s|0)===s?e.w=s.toString(10):e.w=Ap(s)}else{if(e.v===void 0)return"";e.w=dc(e.v,Du)}else e.t==="d"?e.w=Qa(t,Br(e.v),Du):e.w=Qa(t,e.v,Du)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Wx(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Wx(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function FPe(e,t,r){if(e&&e["!ref"]){var n=yt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function MPe(e,t){var r=yt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=nt(r))}var LPe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,$Pe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,BPe=/<(?:\w:)?hyperlink [^>]*>/mg,zPe=/"(\w*:\w*)"/,UPe=/<(?:\w:)?col\b[^>]*[\/]?>/g,qPe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,VPe=/<(?:\w:)?pageMargins[^>]*\/>/g,f7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,HPe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,WPe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function GPe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match($Pe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(f7);m?E_(m[0],l,a,r):(m=u.match(HPe))&&KPe(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var h=u.slice(p,p+50).match(zPe);h&&MPe(l,h[1])}var g=u.match(WPe);g&&g[1]&&lOe(g[1],a);var x=[];if(t.cellStyles){var v=u.match(UPe);v&&nOe(x,v)}f&&dOe(f[1],l,t,c,i,s);var b=d.match(qPe);b&&(l["!autofilter"]=iOe(b[0]));var y=[],j=d.match(LPe);if(j)for(p=0;p!=j.length;++p)y[p]=yt(j[p].slice(j[p].indexOf('"')+1));var E=d.match(BPe);E&&eOe(l,E,n);var N=d.match(VPe);if(N&&(l["!margins"]=tOe(Ke(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=nt(c)),t.sheetRows>0&&l["!ref"]){var S=yt(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=nt(S))}return x.length>0&&(l["!cols"]=x),y.length>0&&(l["!merges"]=y),l}function XPe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+nt(e[r])+'"/>';return t+"</mergeCells>"}function E_(e,t,r,n){var a=Ke(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=vt(Ft(a.codeName)))}function KPe(e,t,r,n,a){E_(e.slice(0,e.indexOf(">")),r,n,a)}function YPe(e,t,r,n,a){var i=!1,s={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=$i(It(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ke("outlinePr",null,u)}!i&&!l||(a[a.length]=ke("sheetPr",l,s))}var JPe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],QPe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZPe(e){var t={sheet:1};return JPe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),QPe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=x_(e.password).toString(16).toUpperCase()),ke("sheetProtection",null,t)}function eOe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Ke(Ft(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+vt(i.location))):(i.Target="#"+vt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=yt(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Ge({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function tOe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function rOe(e){return Wl(e),ke("pageMargins",null,e)}function nOe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ke(t[n],!0);a.hidden&&(a.hidden=Jt(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,v_(a.width)),Wo(a);i<=s;)e[i++]=er(a)}}function aOe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ke("col",null,$y(a,n)));return r[r.length]="</cols>",r.join("")}function iOe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function sOe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:nt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=na(a);s.s.r==s.e.r&&(s.e.r=na(t["!ref"]).e.r,a=nt(s));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ke("autoFilter",null,{ref:a})}var oOe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function lOe(e,t){t.Views||(t.Views=[{}]),(e.match(oOe)||[]).forEach(function(r,n){var a=Ke(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Jt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function cOe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ke("sheetViews",ke("sheetView",null,a),{})}function uOe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Js[e.v];break;case"d":n&&n.cellDates?a=Zt(e.v,-1).toISOString():(e=er(e),e.t="n",a=""+(e.v=Br(Zt(e.v)))),typeof e.z>"u"&&(e.z=We[14]);break;default:a=e.v;break}var l=rn("v",It(a)),c={r:t},u=fl(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=rn("v",""+N_(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ke("f",It(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ke("c",l,c)}var dOe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Ip("v"),s=Ip("f");return function(c,u,d,f,m,p){for(var h=0,g="",x=[],v=[],b=0,y=0,j=0,E="",N,S,T=0,C=0,k,A,_=0,I=0,M=Array.isArray(p.CellXf),L,W=[],H=[],q=Array.isArray(u),B=[],F={},ne=!1,U=!!d.sheetStubs,R=c.split(t),K=0,J=R.length;K!=J;++K){g=R[K].trim();var te=g.length;if(te!==0){var re=0;e:for(h=0;h<te;++h)switch(g[h]){case">":if(g[h-1]!="/"){++h;break e}if(d&&d.cellStyles){if(S=Ke(g.slice(re,h),!0),T=S.r!=null?parseInt(S.r,10):T+1,C=-1,d.sheetRows&&d.sheetRows<T)continue;F={},ne=!1,S.ht&&(ne=!0,F.hpt=parseFloat(S.ht),F.hpx=Sd(F.hpt)),S.hidden=="1"&&(ne=!0,F.hidden=!0),S.outlineLevel!=null&&(ne=!0,F.level=+S.outlineLevel),ne&&(B[T-1]=F)}break;case"<":re=h;break}if(re>=h)break;if(S=Ke(g.slice(re,h),!0),T=S.r!=null?parseInt(S.r,10):T+1,C=-1,!(d.sheetRows&&d.sheetRows<T)){f.s.r>T-1&&(f.s.r=T-1),f.e.r<T-1&&(f.e.r=T-1),d&&d.cellStyles&&(F={},ne=!1,S.ht&&(ne=!0,F.hpt=parseFloat(S.ht),F.hpx=Sd(F.hpt)),S.hidden=="1"&&(ne=!0,F.hidden=!0),S.outlineLevel!=null&&(ne=!0,F.level=+S.outlineLevel),ne&&(B[T-1]=F)),x=g.slice(h).split(e);for(var P=0;P!=x.length&&x[P].trim().charAt(0)=="<";++P);for(x=x.slice(P),h=0;h!=x.length;++h)if(g=x[h].trim(),g.length!==0){if(v=g.match(r),b=h,y=0,j=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(b=0,E=v[1],y=0;y!=E.length&&!((j=E.charCodeAt(y)-64)<1||j>26);++y)b=26*b+j;--b,C=b}else++C;for(y=0;y!=g.length&&g.charCodeAt(y)!==62;++y);if(++y,S=Ke(g.slice(0,y),!0),S.r||(S.r=Ge({r:T-1,c:C})),E=g.slice(y),N={t:""},(v=E.match(i))!=null&&v[1]!==""&&(N.v=vt(v[1])),d.cellFormula){if((v=E.match(s))!=null&&v[1]!==""){if(N.f=vt(Ft(v[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=xO(N.f)),v[0].indexOf('t="array"')>-1)N.F=(E.match(a)||[])[1],N.F.indexOf(":")>-1&&W.push([yt(N.F),N.F]);else if(v[0].indexOf('t="shared"')>-1){A=Ke(v[0]);var z=vt(Ft(v[1]));d.xlfn||(z=xO(z)),H[parseInt(A.si,10)]=[A,z,S.r]}}else(v=E.match(/<f[^>]*\/>/))&&(A=Ke(v[0]),H[A.si]&&(N.f=oIe(H[A.si][1],H[A.si][2],S.r)));var D=dr(S.r);for(y=0;y<W.length;++y)D.r>=W[y][0].s.r&&D.r<=W[y][0].e.r&&D.c>=W[y][0].s.c&&D.c<=W[y][0].e.c&&(N.F=W[y][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(U)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!U)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!U)continue;N.t="z"}else k=dm[parseInt(N.v,10)],N.v=k.t,N.r=k.r,d.cellHTML&&(N.h=k.h);break;case"str":N.t="s",N.v=N.v!=null?Ft(N.v):"",d.cellHTML&&(N.h=r_(N.v));break;case"inlineStr":v=E.match(n),N.t="s",v!=null&&(k=g_(v[1]))?(N.v=k.t,d.cellHTML&&(N.h=k.h)):N.v="";break;case"b":N.v=Jt(N.v);break;case"d":d.cellDates?N.v=Zt(N.v,1):(N.v=Br(Zt(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=pz[N.v];break}if(_=I=0,L=null,M&&S.s!==void 0&&(L=p.CellXf[S.s],L!=null&&(L.numFmtId!=null&&(_=L.numFmtId),d.cellStyles&&L.fillId!=null&&(I=L.fillId))),d7(N,_,I,d,m,p),d.cellDates&&M&&N.t=="n"&&Jd(We[_])&&(N.t="d",N.v=Dy(N.v)),S.cm&&d.xlmeta){var G=(d.xlmeta.Cell||[])[+S.cm-1];G&&G.type=="XLDAPR"&&(N.D=!0)}if(q){var O=dr(S.r);u[O.r]||(u[O.r]=[]),u[O.r][O.c]=N}else u[S.r]=N}}}}B.length>0&&(u["!rows"]=B)}}();function fOe(e,t,r,n){var a=[],i=[],s=yt(e["!ref"]),l="",c,u="",d=[],f=0,m=0,p=e["!rows"],h=Array.isArray(e),g={r:u},x,v=-1;for(m=s.s.c;m<=s.e.c;++m)d[m]=ur(m);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=Sr(f),m=s.s.c;m<=s.e.c;++m){c=d[m]+u;var b=h?(e[f]||[])[m]:e[c];b!==void 0&&(l=uOe(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(x=p[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=Lp(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=ke("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},x=p[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=Lp(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=ke("row","",g));return a.join("")}function m7(e,t,r,n){var a=[Nr,ke("worksheet",null,{xmlns:Cc[0],"xmlns:r":Mr.r})],i=r.SheetNames[e],s=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=yt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=nt(d)}n||(n={}),c["!comments"]=[];var f=[];YPe(c,r,e,t,a),a[a.length]=ke("dimension",null,{ref:u}),a[a.length]=cOe(c,t,e,r),t.sheetFormat&&(a[a.length]=ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=aOe(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=fOe(c,t),l.length>0&&(a[a.length]=l)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=ZPe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=sOe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=XPe(c["!merges"]));var m=-1,p,h=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(h=Tt(n,-1,It(g[1].Target).replace(/#.*$/,""),ot.HLINK),p["r:id"]="rId"+h),(m=g[1].Target.indexOf("#"))>-1&&(p.location=It(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=It(g[1].Tooltip)),a[a.length]=ke("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=rOe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=rn("ignoredErrors",ke("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(h=Tt(n,-1,"../drawings/drawing"+(e+1)+".xml",ot.DRAW),a[a.length]=ke("drawing",null,{"r:id":"rId"+h}),c["!drawing"]=f),c["!comments"].length>0&&(h=Tt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ot.VML),a[a.length]=ke("legacyDrawing",null,{"r:id":"rId"+h}),c["!legacy"]=h),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function mOe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function pOe(e,t,r){var n=ge(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Lp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var h=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ge(u)];h&&(f<0&&(f=p),m=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function hOe(e,t,r,n){var a=pOe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&be(e,0,a)}var gOe=Pc,xOe=ef;function vOe(){}function yOe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ske(e),r}function bOe(e,t,r){r==null&&(r=ge(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return qx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),cz(e,r),r.slice(0,r.l)}function wOe(e){var t=ri(e);return[t]}function SOe(e,t,r){return r==null&&(r=ge(8)),Tc(t,r)}function NOe(e){var t=Ac(e);return[t]}function EOe(e,t,r){return r==null&&(r=ge(4)),Ic(t,r)}function jOe(e){var t=ri(e),r=e.read_shift(1);return[t,r,"b"]}function _Oe(e,t,r){return r==null&&(r=ge(9)),Tc(t,r),r.write_shift(1,e.v?1:0),r}function kOe(e){var t=Ac(e),r=e.read_shift(1);return[t,r,"b"]}function COe(e,t,r){return r==null&&(r=ge(5)),Ic(t,r),r.write_shift(1,e.v?1:0),r}function TOe(e){var t=ri(e),r=e.read_shift(1);return[t,r,"e"]}function AOe(e,t,r){return r==null&&(r=ge(9)),Tc(t,r),r.write_shift(1,e.v),r}function IOe(e){var t=Ac(e),r=e.read_shift(1);return[t,r,"e"]}function POe(e,t,r){return r==null&&(r=ge(8)),Ic(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function OOe(e){var t=ri(e),r=e.read_shift(4);return[t,r,"s"]}function ROe(e,t,r){return r==null&&(r=ge(12)),Tc(t,r),r.write_shift(4,t.v),r}function DOe(e){var t=Ac(e),r=e.read_shift(4);return[t,r,"s"]}function FOe(e,t,r){return r==null&&(r=ge(8)),Ic(t,r),r.write_shift(4,t.v),r}function MOe(e){var t=ri(e),r=wn(e);return[t,r,"n"]}function LOe(e,t,r){return r==null&&(r=ge(16)),Tc(t,r),mc(e.v,r),r}function p7(e){var t=Ac(e),r=wn(e);return[t,r,"n"]}function $Oe(e,t,r){return r==null&&(r=ge(12)),Ic(t,r),mc(e.v,r),r}function BOe(e){var t=ri(e),r=d_(e);return[t,r,"n"]}function zOe(e,t,r){return r==null&&(r=ge(12)),Tc(t,r),uz(e.v,r),r}function UOe(e){var t=Ac(e),r=d_(e);return[t,r,"n"]}function qOe(e,t,r){return r==null&&(r=ge(8)),Ic(t,r),uz(e.v,r),r}function VOe(e){var t=ri(e),r=l_(e);return[t,r,"is"]}function HOe(e){var t=ri(e),r=Nn(e);return[t,r,"str"]}function WOe(e,t,r){return r==null&&(r=ge(12+4*e.v.length)),Tc(t,r),Xr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function GOe(e){var t=Ac(e),r=Nn(e);return[t,r,"str"]}function XOe(e,t,r){return r==null&&(r=ge(8+4*e.v.length)),Ic(t,r),Xr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function KOe(e,t,r){var n=e.l+t,a=ri(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Ly(e,n-e.l,r);s[3]=gn(l,null,a,r.supbooks,r)}else e.l=n;return s}function YOe(e,t,r){var n=e.l+t,a=ri(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Ly(e,n-e.l,r);s[3]=gn(l,null,a,r.supbooks,r)}else e.l=n;return s}function JOe(e,t,r){var n=e.l+t,a=ri(e);a.r=r["!row"];var i=wn(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Ly(e,n-e.l,r);s[3]=gn(l,null,a,r.supbooks,r)}else e.l=n;return s}function QOe(e,t,r){var n=e.l+t,a=ri(e);a.r=r["!row"];var i=Nn(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Ly(e,n-e.l,r);s[3]=gn(l,null,a,r.supbooks,r)}else e.l=n;return s}var ZOe=Pc,eRe=ef;function tRe(e,t){return t==null&&(t=ge(4)),t.write_shift(4,e),t}function rRe(e,t){var r=e.l+t,n=Pc(e),a=c_(e),i=Nn(e),s=Nn(e),l=Nn(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return s&&(c.Tooltip=s),c}function nRe(e,t){var r=ge(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ef({s:dr(e[0]),e:dr(e[0])},r),u_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Xr(a||"",r),Xr(e[1].Tooltip||"",r),Xr("",r),r.slice(0,r.l)}function aRe(){}function iRe(e,t,r){var n=e.l+t,a=dz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var l=TPe(e,n-e.l,r);s[1]=l}else e.l=n;return s}function sRe(e,t,r){var n=e.l+t,a=Pc(e),i=[a];if(r.cellFormula){var s=IPe(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function oRe(e,t,r){r==null&&(r=ge(18));var n=$y(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var h7=["left","right","top","bottom","header","footer"];function lRe(e){var t={};return h7.forEach(function(r){t[r]=wn(e)}),t}function cRe(e,t){return t==null&&(t=ge(6*8)),Wl(e),h7.forEach(function(r){mc(e[r],t)}),t}function uRe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function dRe(e,t,r){r==null&&(r=ge(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function fRe(e){var t=ge(24);return t.write_shift(4,4),t.write_shift(4,1),ef(e,t),t}function mRe(e,t){return t==null&&(t=ge(16*4+2)),t.write_shift(2,e.password?x_(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function pRe(){}function hRe(){}function gRe(e,t,r,n,a,i,s){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,h,g,x,v,b,y,j,E,N=[];l.biff=12,l["!row"]=0;var S=0,T=!1,C=[],k={},A=l.supbooks||a.supbooks||[[]];if(A.sharedf=k,A.arrayf=C,A.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!l.supbooks&&(l.supbooks=A,a.Names))for(var _=0;_<a.Names.length;++_)A[0][_+1]=a.Names[_];var I=[],M=[],L=!1;$p[16]={n:"BrtShortReal",f:p7};var W;if(Ys(e,function(B,F,ne){if(!m)switch(ne){case 148:u=B;break;case 0:p=B,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),j=Sr(x=p.r),l["!row"]=p.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=Sd(B.hpt)),M[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(h={t:B[2]},B[2]){case"n":h.v=B[1];break;case"s":y=dm[B[1]],h.v=y.t,h.r=y.r;break;case"b":h.v=!!B[1];break;case"e":h.v=B[1],l.cellText!==!1&&(h.w=Js[h.v]);break;case"str":h.t="s",h.v=B[1];break;case"is":h.t="s",h.v=B[1].t;break}if((g=s.CellXf[B[0].iStyleRef])&&d7(h,g.numFmtId,null,l,i,s),v=B[0].c==-1?v+1:B[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=h):c[ur(v)+j]=h,l.cellFormula){for(T=!1,S=0;S<C.length;++S){var U=C[S];p.r>=U[0].s.r&&p.r<=U[0].e.r&&v>=U[0].s.c&&v<=U[0].e.c&&(h.F=nt(U[0]),T=!0)}!T&&B.length>3&&(h.f=B[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),l.cellDates&&g&&h.t=="n"&&Jd(We[g.numFmtId])){var R=Rl(h.v);R&&(h.t="d",h.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}W&&(W.type=="XLDAPR"&&(h.D=!0),W=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;h={t:"z",v:void 0},v=B[0].c==-1?v+1:B[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=h):c[ur(v)+j]=h,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),W&&(W.type=="XLDAPR"&&(h.D=!0),W=void 0);break;case 176:N.push(B);break;case 49:W=((l.xlmeta||{}).Cell||[])[B-1];break;case 494:var K=n["!id"][B.relId];for(K?(B.Target=K.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=K):B.relId==""&&(B.Target="#"+B.loc),x=B.rfx.s.r;x<=B.rfx.e.r;++x)for(v=B.rfx.s.c;v<=B.rfx.e.c;++v)l.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=B):(b=Ge({c:v,r:x}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=B);break;case 426:if(!l.cellFormula)break;C.push(B),E=l.dense?c[x][v]:c[ur(v)+j],E.f=gn(B[1],d,{r:p.r,c:v},A,l),E.F=nt(B[0]);break;case 427:if(!l.cellFormula)break;k[Ge(B[0].s)]=B[1],E=l.dense?c[x][v]:c[ur(v)+j],E.f=gn(B[1],d,{r:p.r,c:v},A,l);break;case 60:if(!l.cellStyles)break;for(;B.e>=B.s;)I[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},L||(L=!0,v_(B.w/256)),Wo(I[B.e+1]);break;case 161:c["!autofilter"]={ref:nt(B)};break;case 476:c["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(c["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!F.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=nt(u||d)),l.sheetRows&&c["!ref"]){var H=yt(c["!ref"]);l.sheetRows<=+H.e.r&&(H.e.r=l.sheetRows-1,H.e.r>d.e.r&&(H.e.r=d.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>d.e.c&&(H.e.c=d.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),c["!fullref"]=c["!ref"],c["!ref"]=nt(H))}return N.length>0&&(c["!merges"]=N),I.length>0&&(c["!cols"]=I),M.length>0&&(c["!rows"]=M),c}function xRe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=er(t),t.z=t.z||We[14],t.v=Br(Zt(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=fl(a.cellXfs,t,a),t.l&&i["!links"].push([Ge(c),t.l]),t.c&&i["!comments"].push([Ge(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=N_(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,s?be(e,18,FOe(t,c)):be(e,7,ROe(t,c))):(c.t="str",s?be(e,17,XOe(t,c)):be(e,6,WOe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?be(e,13,qOe(t,c)):be(e,2,zOe(t,c)):s?be(e,16,$Oe(t,c)):be(e,5,LOe(t,c)),!0;case"b":return c.t="b",s?be(e,15,COe(t,c)):be(e,4,_Oe(t,c)),!0;case"e":return c.t="e",s?be(e,14,POe(t,c)):be(e,3,AOe(t,c)),!0}return s?be(e,12,EOe(t,c)):be(e,1,SOe(t,c)),!0}function vRe(e,t,r,n){var a=yt(t["!ref"]||"A1"),i,s="",l=[];be(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=Sr(d),hOe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=ur(m)),i=l[m]+s;var p=c?(t[d]||[])[m]:t[i];if(!p){f=!1;continue}f=xRe(e,p,d,m,n,t,f)}}be(e,146)}function yRe(e,t){!t||!t["!merges"]||(be(e,177,tRe(t["!merges"].length)),t["!merges"].forEach(function(r){be(e,176,eRe(r))}),be(e,178))}function bRe(e,t){!t||!t["!cols"]||(be(e,390),t["!cols"].forEach(function(r,n){r&&be(e,60,oRe(n,r))}),be(e,391))}function wRe(e,t){!t||!t["!ref"]||(be(e,648),be(e,649,fRe(yt(t["!ref"]))),be(e,650))}function SRe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Tt(r,-1,n[1].Target.replace(/#.*$/,""),ot.HLINK);be(e,494,nRe(n,a))}}),delete t["!links"]}function NRe(e,t,r,n){if(t["!comments"].length>0){var a=Tt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ot.VML);be(e,551,u_("rId"+a)),t["!legacy"]=a}}function ERe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:nt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=na(i);l.s.r==l.e.r&&(l.e.r=na(t["!ref"]).e.r,i=nt(l));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),be(e,161,ef(yt(i))),be(e,162)}}function jRe(e,t,r){be(e,133),be(e,137,dRe(t,r)),be(e,138),be(e,134)}function _Re(e,t){t["!protect"]&&be(e,535,mRe(t["!protect"]))}function kRe(e,t,r,n){var a=ra(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=yt(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],be(a,129),(r.vbaraw||s["!outline"])&&be(a,147,bOe(l,s["!outline"])),be(a,148,xOe(c)),jRe(a,s,r.Workbook),bRe(a,s),vRe(a,s,e,t),_Re(a,s),ERe(a,s,r,e),yRe(a,s),SRe(a,s,n),s["!margins"]&&be(a,476,cRe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&wRe(a,s),NRe(a,s,e,n),be(a,130),a.end()}function CRe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=vt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function TRe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=CRe(f);d.s.r=d.s.c=0,d.e.c=l,u=ur(l),m[0].forEach(function(p,h){s[u+Sr(h)]={t:"n",v:p,z:m[1]},c=h}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(s["!ref"]=nt(d)),s}function ARe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,l=e.match(f7);return l&&E_(l[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function IRe(e,t){e.l+=10;var r=Nn(e);return{name:r}}function PRe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Ys(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var j_=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ORe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],RRe=[],DRe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function SO(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Jt(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function NO(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Jt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function g7(e){NO(e.WBProps,j_),NO(e.CalcPr,DRe),SO(e.WBView,ORe),SO(e.Sheets,RRe),Du.date1904=Jt(e.WBProps.date1904)}function FRe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Jt(e.Workbook.WBProps.date1904)?"true":"false"}var MRe="][*?/\\".split("");function x7(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return MRe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function LRe(e,t,r){e.forEach(function(n,a){x7(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function $Re(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];LRe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)FPe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var BRe=/<\w+:workbook/;function zRe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(kn,function(c,u){var d=Ke(c);switch(rs(d[0])){case"<?xml":break;case"<workbook":c.match(BRe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":j_.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Jt(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Ft(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=vt(Ft(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Ft(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Jt(d.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=vt(Ft(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Cc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return g7(r),r}function v7(e){var t=[Nr];t[t.length]=ke("workbook",null,{xmlns:Cc[0],"xmlns:r":Mr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(j_.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ke("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:It(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ke("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ke("definedName",It(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function URe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=FS(e),r.name=Nn(e),r}function qRe(e,t){return t||(t=ge(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),u_(e.strRelID,t),Xr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function VRe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Nn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function HRe(e,t){t||(t=ge(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),cz(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function WRe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function GRe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Nke(e),s=APe(e,0,r),l=c_(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function XRe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],$p[16]={n:"BrtFRTArchID$",f:WRe},Ys(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=gn(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),g7(r),r.Names=i,r.supbooks=s,r}function KRe(e,t){be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};be(e,156,qRe(a))}be(e,144)}function YRe(e,t){t||(t=ge(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Xr("SheetJS",t),Xr(Fx.version,t),Xr(Fx.version,t),Xr("7262",t),t.length>t.l?t.slice(0,t.l):t}function JRe(e,t){t||(t=ge(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function QRe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(be(e,135),be(e,158,JRe(a)),be(e,136))}}function ZRe(e,t){var r=ra();return be(r,131),be(r,128,YRe()),be(r,153,HRe(e.Workbook&&e.Workbook.WBProps||null)),QRe(r,e),KRe(r,e),be(r,132),r.end()}function e5e(e,t,r){return t.slice(-4)===".bin"?XRe(e,r):zRe(e,r)}function t5e(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?gRe(e,n,r,a,i,s,l):GPe(e,n,r,a,i,s,l)}function r5e(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?PRe(e,n,r,a,i):ARe(e,n,r,a,i)}function n5e(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?iIe():sIe()}function a5e(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?nIe():aIe()}function i5e(e,t,r,n){return t.slice(-4)===".bin"?e4e(e,r,n):UAe(e,r,n)}function s5e(e,t,r){return Qz(e,r)}function o5e(e,t,r){return t.slice(-4)===".bin"?oAe(e,r):aAe(e,r)}function l5e(e,t,r){return t.slice(-4)===".bin"?Q4e(e,r):q4e(e,r)}function c5e(e,t,r){return t.slice(-4)===".bin"?B4e(e):L4e(e)}function u5e(e,t,r,n){return r.slice(-4)===".bin"?z4e(e,t,r,n):void 0}function d5e(e,t,r){return t.slice(-4)===".bin"?D4e(e,t,r):M4e(e,t,r)}function f5e(e,t,r){return(t.slice(-4)===".bin"?ZRe:v7)(e)}function m5e(e,t,r,n,a){return(t.slice(-4)===".bin"?kRe:m7)(e,r,n,a)}function p5e(e,t,r){return(t.slice(-4)===".bin"?u4e:Yz)(e,r)}function h5e(e,t,r){return(t.slice(-4)===".bin"?uAe:Uz)(e,r)}function g5e(e,t,r){return(t.slice(-4)===".bin"?Z4e:t7)(e)}function x5e(e){return(e.slice(-4)===".bin"?F4e:Zz)()}var y7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,b7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ii(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(y7),i,s,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(b7),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}function v5e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(y7),a,i,s,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(b7),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var mm;function y5e(e,t){var r=mm[e]||vt(e);return r==="General"?dc(t):Qa(r,t)}function b5e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Jt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Zt(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[vt(t)]=a}function w5e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Js[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ap(e.v):e.w=dc(e.v):e.w=y5e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=mm[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Jd(n)){var a=Rl(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function S5e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=RAe[n.Pattern]||n.Pattern)}e[t.ID]=t}function N5e(e,t,r,n,a,i,s,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],h=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Jt(e);break;case"String":n.t="s",n.r=BP(vt(e)),n.v=e.indexOf("<")>-1?vt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Zt(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=vt(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=pz[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=BP(t||e));break}if(w5e(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=vt(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Ru(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Ru("RC:RC",a):n.ArrayRange&&(n.F=Ru(n.ArrayRange,a),c.push([yt(n.F),n.F]))}else for(h=0;h<c.length;++h)a.r>=c[h][0].s.r&&a.r<=c[h][0].e.r&&a.c>=c[h][0].s.c&&a.c<=c[h][0].e.c&&(n.F=c[h][1]);u.cellStyles&&(p.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function E5e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function N1(e,t){var r=t||{};Qd();var n=Uf(n_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Ft(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=er(r);return s.type="string",wd.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(we){a.indexOf("<"+we)>=0&&(i=!0)}),i)return c3e(n,r);mm={"General Number":"General","General Date":We[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":We[15],"Short Date":We[14],"Long Time":We[19],"Medium Time":We[18],"Short Time":We[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:We[2],Standard:We[4],Percent:We[10],Scientific:We[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},p="",h={},g={},x=ii('<Data ss:Type="String">'),v=0,b=0,y=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},N={},S="",T=0,C=[],k={},A={},_=0,I=[],M=[],L={},W=[],H,q=!1,B=[],F=[],ne={},U=0,R=0,K={Sheets:[],WBProps:{date1904:!1}},J={};Op.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";l=Op.exec(n);)switch(l[3]=(te=l[3]).toLowerCase()){case"data":if(te=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?N5e(n.slice(v,l.index),S,x,c[c.length-1][0]=="comment"?L:h,{c:b,r:y},E,W[b],g,B,r):(S="",x=ii(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(M.length>0&&(h.c=M),(!r.sheetRows||r.sheetRows>y)&&h.v!==void 0&&(r.dense?(m[y]||(m[y]=[]),m[y][b]=h):m[ur(b)+Sr(y)]=h),h.HRef&&(h.l={Target:vt(h.HRef)},h.HRefScreenTip&&(h.l.Tooltip=h.HRefScreenTip),delete h.HRef,delete h.HRefScreenTip),(h.MergeAcross||h.MergeDown)&&(U=b+(parseInt(h.MergeAcross,10)|0),R=y+(parseInt(h.MergeDown,10)|0),C.push({s:{c:b,r:y},e:{c:U,r:R}})),!r.sheetStubs)h.MergeAcross?b=U+1:++b;else if(h.MergeAcross||h.MergeDown){for(var re=b;re<=U;++re)for(var P=y;P<=R;++P)(re>b||P>y)&&(r.dense?(m[P]||(m[P]=[]),m[P][re]={t:"z"}):m[ur(re)+Sr(P)]={t:"z"});b=U+1}else++b;else h=v5e(l[0]),h.Index&&(b=+h.Index-1),b<j.s.c&&(j.s.c=b),b>j.e.c&&(j.e.c=b),l[0].slice(-2)==="/>"&&++b,M=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<j.s.r&&(j.s.r=y),y>j.e.r&&(j.e.r=y),l[0].slice(-2)==="/>"&&(g=ii(l[0]),g.Index&&(y=+g.Index-1)),b=0,++y):(g=ii(l[0]),g.Index&&(y=+g.Index-1),ne={},(g.AutoFitHeight=="0"||g.Height)&&(ne.hpx=parseInt(g.Height,10),ne.hpt=Lp(ne.hpx),F[y]=ne),g.Hidden=="1"&&(ne.hidden=!0,F[y]=ne));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(m["!ref"]=nt(j),r.sheetRows&&r.sheetRows<=j.e.r&&(m["!fullref"]=m["!ref"],j.e.r=r.sheetRows-1,m["!ref"]=nt(j))),C.length&&(m["!merges"]=C),W.length>0&&(m["!cols"]=W),F.length>0&&(m["!rows"]=F),d[p]=m}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([l[3],!1]),u=ii(l[0]),p=vt(u.Name),m=r.dense?[]:{},C=[],B=[],F=[],J={name:p,Hidden:0},K.Sheets.push(J);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),W=[],q=!1}break;case"style":l[1]==="/"?S5e(E,N,r):N=ii(l[0]);break;case"numberformat":N.nf=vt(ii(l[0]).Format||"General"),mm[N.nf]&&(N.nf=mm[N.nf]);for(var z=0;z!=392&&We[z]!=N.nf;++z);if(z==392){for(z=57;z!=392;++z)if(We[z]==null){Es(N.nf,z);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(H=ii(l[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!q&&H.wpx>10){q=!0,bn=Xz;for(var D=0;D<W.length;++D)W[D]&&Wo(W[D])}q&&Wo(H),W[H.Index-1||W.length]=H;for(var G=0;G<+H.Span;++G)W[W.length]=er(H);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var O=Ke(l[0]),fe={Name:O.Name,Ref:Ru(O.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(fe.Sheet=K.Sheets.length-1),K.Names.push(fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(T,l.index):T=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=ii(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Xke(k,te,n.slice(_,l.index)):_=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));E5e(L),M.push(L)}else c.push([l[3],!1]),u=ii(l[0]),L={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ie=ii(l[0]);m["!autofilter"]={ref:Ru(ie.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return CO(n,r);var ue=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ue=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ue=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ue=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ue=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(_,l.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else _=l.index+l[0].length;break;case"header":m["!margins"]||Wl(m["!margins"]={},"xlml"),isNaN(+Ke(l[0]).Margin)||(m["!margins"].header=+Ke(l[0]).Margin);break;case"footer":m["!margins"]||Wl(m["!margins"]={},"xlml"),isNaN(+Ke(l[0]).Margin)||(m["!margins"].footer=+Ke(l[0]).Margin);break;case"pagemargins":var ye=Ke(l[0]);m["!margins"]||Wl(m["!margins"]={},"xlml"),isNaN(+ye.Top)||(m["!margins"].top=+ye.Top),isNaN(+ye.Left)||(m["!margins"].left=+ye.Left),isNaN(+ye.Right)||(m["!margins"].right=+ye.Right),isNaN(+ye.Bottom)||(m["!margins"].bottom=+ye.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ue=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ue=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ue=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ue=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ue=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ue=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ue=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ue=!1}break;case"smarttags":break;default:ue=!1;break}if(ue||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?b5e(A,te,I,n.slice(_,l.index)):(I=l,_=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var oe={};return!r.bookSheets&&!r.bookProps&&(oe.Sheets=d),oe.SheetNames=f,oe.Workbook=K,oe.SSF=er(We),oe.Props=k,oe.Custprops=A,oe}function qS(e,t){switch(k_(t=t||{}),t.type||"base64"){case"base64":return N1(Na(e),t);case"binary":case"buffer":case"file":return N1(e,t);case"array":return N1(ul(e),t)}}function j5e(e,t){var r=[];return e.Props&&r.push(Kke(e.Props,t)),e.Custprops&&r.push(Yke(e.Props,e.Custprops)),r.join("")}function _5e(){return""}function k5e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ke("NumberFormat",null,{"ss:Format":It(We[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ke("Style",i.join(""),s))}),ke("Styles",r.join(""))}function w7(e){return ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+w_(e.Ref,{r:0,c:0})})}function C5e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(w7(a)))}return ke("Names",r.join(""))}function T5e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var l=a[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(w7(l)))}return i.join("")}function A5e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ke("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ke("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(rn("ProtectContents","True")),e["!protect"].objects&&a.push(rn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(rn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(rn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(rn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ke("WorksheetOptions",a.join(""),{xmlns:fa.x})}function I5e(e){return e.map(function(t){var r=Q_e(t.t||""),n=ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ke("Comment",n,{"ss:Author":t.a})}).join("")}function P5e(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+It(w_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=dr(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=It(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=It(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Js[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||We[14]);break;case"s":f="String",m=J_e(e.v||"");break}var p=fl(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=s.c+1;var h=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+h+"</Data>";return(e.c||[]).length>0&&(g+=I5e(e.c)),ke("Cell",g,l)}function O5e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Sd(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function R5e(e,t,r,n){if(!e["!ref"])return"";var a=yt(e["!ref"]),i=e["!merges"]||[],s=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,v){Wo(x);var b=!!x.width,y=$y(v,x),j={"ss:Index":v+1};b&&(j["ss:Width"]=Fp(y.width)),x.hidden&&(j["ss:Hidden"]="1"),l.push(ke("Column",null,j))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[O5e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},h=Ge(p),g=c?(e[u]||[])[f]:e[h];d.push(P5e(g,h,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function D5e(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?T5e(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?R5e(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(A5e(i,t,e,r)),n.join("")}function F5e(e,t){t||(t={}),e.SSF||(e.SSF=er(We)),e.SSF&&(Qd(),Py(e.SSF),t.revssf=Ry(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(j5e(e,t)),r.push(_5e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ke("Worksheet",D5e(n,t,e),{"ss:Name":It(e.SheetNames[n])}));return r[2]=k5e(e,t),r[3]=C5e(e),Nr+ke("Workbook",r.join(""),{xmlns:fa.ss,"xmlns:o":fa.o,"xmlns:x":fa.x,"xmlns:ss":fa.ss,"xmlns:dt":fa.dt,"xmlns:html":fa.html})}function M5e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Cke(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Tke(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var L5e=[60,1084,2066,2165,2175];function $5e(e,t,r,n,a){var i=n,s=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}s.push(l),r.l+=i;for(var c=vs(r,r.l),u=VS[c],d=0;u!=null&&L5e.indexOf(c)>-1;)i=vs(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),s.push(l),r.l+=4+i,u=VS[c=vs(r,r.l)];var f=Wr(s);tn(f,0);var m=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(m),m+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ai(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=We[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Js[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ap(e.v):e.w=dc(e.v):e.w=Qa(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Jd(We[n]||String(n))){var a=Rl(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function j0(e,t,r){return{v:e,ixfe:t,t:r}}function B5e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},l=null,c=[],u="",d={},f,m="",p,h,g,x,v={},b=[],y,j,E=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},C=function(De){return De<8?ql[De]:De<64&&N[De-8]||ql[De]},k=function(De,gt,Er){var kt=gt.XF.data;if(!(!kt||!kt.patternType||!Er||!Er.cellStyles)){gt.s={},gt.s.patternType=kt.patternType;var oa;(oa=Dp(C(kt.icvFore)))&&(gt.s.fgColor={rgb:oa}),(oa=Dp(C(kt.icvBack)))&&(gt.s.bgColor={rgb:oa})}},A=function(De,gt,Er){if(!(ne>1)&&!(Er.sheetRows&&De.r>=Er.sheetRows)){if(Er.cellStyles&&gt.XF&&gt.XF.data&&k(De,gt,Er),delete gt.ixfe,delete gt.XF,f=De,m=Ge(De),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),De.r<s.s.r&&(s.s.r=De.r),De.c<s.s.c&&(s.s.c=De.c),De.r+1>s.e.r&&(s.e.r=De.r+1),De.c+1>s.e.c&&(s.e.c=De.c+1),Er.cellFormula&&gt.f){for(var kt=0;kt<b.length;++kt)if(!(b[kt][0].s.c>De.c||b[kt][0].s.r>De.r)&&!(b[kt][0].e.c<De.c||b[kt][0].e.r<De.r)){gt.F=nt(b[kt][0]),(b[kt][0].s.c!=De.c||b[kt][0].s.r!=De.r)&&delete gt.f,gt.f&&(gt.f=""+gn(b[kt][1],s,De,B,_));break}}Er.dense?(a[De.r]||(a[De.r]=[]),a[De.r][De.c]=gt):a[m]=gt}},_={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(_.password=t.password);var I,M=[],L=[],W=[],H=[],q=!1,B=[];B.SheetNames=_.snames,B.sharedf=_.sharedf,B.arrayf=_.arrayf,B.names=[],B.XTI=[];var F=0,ne=0,U=0,R=[],K=[],J;_.codepage=1200,fi(1200);for(var te=!1;e.l<e.length-1;){var re=e.l,P=e.read_shift(2);if(P===0&&F===10)break;var z=e.l===e.length?0:e.read_shift(2),D=VS[P];if(D&&D.f){if(t.bookSheets&&F===133&&P!==133)break;if(F=P,D.r===2||D.r==12){var G=e.read_shift(2);if(z-=2,!_.enc&&G!==P&&((G&255)<<8|G>>8)!==P)throw new Error("rt mismatch: "+G+"!="+P);D.r==12&&(e.l+=10,z-=10)}var O={};if(P===10?O=D.f(e,z,_):O=$5e(P,D,e,z,_),ne==0&&[9,521,1033,2057].indexOf(F)===-1)continue;switch(P){case 34:r.opts.Date1904=S.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(_.enc||(e.l=0),_.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:_.lastuser=O;break;case 66:var fe=Number(O);switch(fe){case 21010:fe=1200;break;case 32768:fe=1e4;break;case 32769:fe=1252;break}fi(_.codepage=fe),te=!0;break;case 317:_.rrtabid=O;break;case 25:_.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:_.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(a["!type"]="dialog"),O.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),O.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(O);break;case 430:B.push([O]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(O);break;case 24:case 536:J={Name:O.Name,Ref:gn(O.rgce,s,null,B,_)},O.itab>0&&(J.Sheet=O.itab-1),B.names.push(J),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(K[O.itab-1]={ref:nt(O.rgce[0][0][1][2])});break;case 22:_.ExternCount=O;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(O),B.XTI=B.XTI.concat(O);break;case 2196:if(_.biff<8)break;J!=null&&(J.Comment=O[1]);break;case 18:a["!protect"]=O;break;case 19:O!==0&&_.WTF&&console.error("Password verifier: "+O);break;case 133:i[O.pos]=O,_.snames.push(O.name);break;case 10:{if(--ne)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=nt(s),t.sheetRows&&t.sheetRows<=s.e.r){var ie=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=nt(s),s.e.r=ie}s.e.r++,s.e.c++}M.length>0&&(a["!merges"]=M),L.length>0&&(a["!objects"]=L),W.length>0&&(a["!cols"]=W),H.length>0&&(a["!rows"]=H),S.Sheets.push(T)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(_.biff===8&&(_.biff={9:2,521:3,1033:4}[P]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),_.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(_.biff=5,te=!0,fi(_.codepage=28591)),_.biff==8&&O.BIFFVer==0&&O.dt==16&&(_.biff=2),ne++)break;if(a=t.dense?[]:{},_.biff<8&&!te&&(te=!0,fi(_.codepage=t.codepage||1252)),_.biff<5||O.BIFFVer==0&&O.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ue={pos:e.l-z,name:u};i[ue.pos]=ue,_.snames.push(u)}else u=(i[re]||{name:""}).name;O.dt==32&&(a["!type"]="chart"),O.dt==64&&(a["!type"]="macro"),M=[],L=[],_.arrayf=b=[],W=[],H=[],q=!1,T={Hidden:(i[re]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[O.r]||[])[O.c]:a[Ge({c:O.c,r:O.r})])&&++O.c,y={ixfe:O.ixfe,XF:E[O.ixfe]||{},v:O.val,t:"n"},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 5:case 517:y={ixfe:O.ixfe,XF:E[O.ixfe],v:O.val,t:O.t},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 638:y={ixfe:O.ixfe,XF:E[O.ixfe],v:O.rknum,t:"n"},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 189:for(var ye=O.c;ye<=O.C;++ye){var oe=O.rkrec[ye-O.c][0];y={ixfe:oe,XF:E[oe],v:O.rkrec[ye-O.c][1],t:"n"},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:ye,r:O.r},y,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){l=O;break}if(y=j0(O.val,O.cell.ixfe,O.tt),y.XF=E[y.ixfe],t.cellFormula){var we=O.formula;if(we&&we[0]&&we[0][0]&&we[0][0][0]=="PtgExp"){var $e=we[0][0][1][0],ze=we[0][0][1][1],Ve=Ge({r:$e,c:ze});v[Ve]?y.f=""+gn(O.formula,s,O.cell,B,_):y.F=((t.dense?(a[$e]||[])[ze]:a[Ve])||{}).F}else y.f=""+gn(O.formula,s,O.cell,B,_)}U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A(O.cell,y,t),l=O}break;case 7:case 519:if(l)l.val=O,y=j0(O,l.cell.ixfe,"s"),y.XF=E[y.ixfe],t.cellFormula&&(y.f=""+gn(l.formula,s,l.cell,B,_)),U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(O);var Wt=Ge(O[0].s);if(p=t.dense?(a[O[0].s.r]||[])[O[0].s.c]:a[Wt],t.cellFormula&&p){if(!l||!Wt||!p)break;p.f=""+gn(O[1],s,O[0],B,_),p.F=nt(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;v[Ge(l.cell)]=O[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Ge(l.cell)],(p||{}).f=""+gn(O[0],s,f,B,_)}}break;case 253:y=j0(c[O.isst].t,O.ixfe,"s"),c[O.isst].h&&(y.h=c[O.isst].h),y.XF=E[y.ixfe],U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:O.ixfe,XF:E[O.ixfe],t:"z"},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t));break;case 190:if(t.sheetStubs)for(var ar=O.c;ar<=O.C;++ar){var zt=O.ixfe[ar-O.c];y={ixfe:zt,XF:E[zt],t:"z"},U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:ar,r:O.r},y,t)}break;case 214:case 516:case 4:y=j0(O.val,O.ixfe,"s"),y.XF=E[y.ixfe],U>0&&(y.z=R[y.ixfe>>8&63]),Ai(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 0:case 512:ne===1&&(s=O);break;case 252:c=O;break;case 1054:if(_.biff==4){R[U++]=O[1];for(var cn=0;cn<U+163&&We[cn]!=O[1];++cn);cn>=163&&Es(O[1],U+163)}else Es(O[1],O[0]);break;case 30:{R[U++]=O;for(var he=0;he<U+163&&We[he]!=O;++he);he>=163&&Es(O,U+163)}break;case 229:M=M.concat(O);break;case 93:L[O.cmo[0]]=_.lastobj=O;break;case 438:_.lastobj.TxO=O;break;case 127:_.lastobj.ImData=O;break;case 440:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[x]||[])[g]:a[Ge({c:g,r:x})],p&&(p.l=O[1]);break;case 2048:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[x]||[])[g]:a[Ge({c:g,r:x})],p&&p.l&&(p.l.Tooltip=O[1]);break;case 28:{if(_.biff<=5&&_.biff>=2)break;p=t.dense?(a[O[0].r]||[])[O[0].c]:a[Ge(O[0])];var Ee=L[O[2]];p||(t.dense?(a[O[0].r]||(a[O[0].r]=[]),p=a[O[0].r][O[0].c]={t:"z"}):p=a[Ge(O[0])]={t:"z"},s.e.r=Math.max(s.e.r,O[0].r),s.s.r=Math.min(s.s.r,O[0].r),s.e.c=Math.max(s.e.c,O[0].c),s.s.c=Math.min(s.s.c,O[0].c)),p.c||(p.c=[]),h={a:O[1],t:Ee.TxO.t},p.c.push(h)}break;case 2173:k4e(E[O.ixfe],O.ext);break;case 125:{if(!_.cellStyles)break;for(;O.e>=O.s;)W[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},q||(q=!0,v_(O.w/256)),Wo(W[O.e+1])}break;case 520:{var Be={};O.level!=null&&(H[O.r]=Be,Be.level=O.level),O.hidden&&(H[O.r]=Be,Be.hidden=!0),O.hpt&&(H[O.r]=Be,Be.hpt=O.hpt,Be.hpx=Sd(O.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Wl(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[P]]=O;break;case 161:a["!margins"]||Wl(a["!margins"]={}),a["!margins"].header=O.header,a["!margins"].footer=O.footer;break;case 574:O.RTL&&(S.Views[0].RTL=!0);break;case 146:N=O;break;case 2198:I=O;break;case 140:j=O;break;case 442:u?T.CodeName=O||T.name:S.WBProps.CodeName=O||"ThisWorkbook";break}}else D||console.error("Missing Info for XLS Record 0x"+P.toString(16)),e.l+=z}return r.SheetNames=yr(i).sort(function(Ye,De){return Number(Ye)-Number(De)}).map(function(Ye){return i[Ye].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&K.forEach(function(Ye,De){r.Sheets[r.SheetNames[De]]["!autofilter"]=Ye}),r.Strings=c,r.SSF=er(We),_.enc&&(r.Encryption=_.enc),I&&(r.Themes=I),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),B.names.length>0&&(S.Names=B.names),r.Workbook=S,r}var pm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function z5e(e,t,r){var n=Ue.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=aO(n,MS,pm.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=Ue.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var l=aO(s,LS,pm.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(bz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function U5e(e,t){var r=[],n=[],a=[],i=0,s,l=RP(MS,"n"),c=RP(LS,"n");if(e.Props)for(s=yr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=yr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)kz.indexOf(a[i][0])>-1||yz.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Ue.utils.cfb_add(t,"/SummaryInformation",iO(n,pm.SI,c,LS)),(r.length||u.length)&&Ue.utils.cfb_add(t,"/DocumentSummaryInformation",iO(r,pm.DSI,l,MS,u.length?u:null,pm.UDI))}function S7(e,t){t||(t={}),k_(t),Xj(),t.codepage&&Gj(t.codepage);var r,n;if(e.FullPaths){if(Ue.find(e,"/encryption"))throw new Error("File is password-protected");r=Ue.find(e,"!CompObj"),n=Ue.find(e,"/Workbook")||Ue.find(e,"/Book")}else{switch(t.type){case"base64":e=ga(Na(e));break;case"binary":e=ga(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}tn(e,0),n={content:e}}var a,i;if(r&&M5e(r),t.bookProps&&!t.bookSheets)a={};else{var s=st?"buffer":"array";if(n&&n.content)a=B5e(n.content,t);else if((i=Ue.find(e,"PerfectOffice_MAIN"))&&i.content)a=Hl.to_workbook(i.content,(t.type=s,t));else if((i=Ue.find(e,"NativeContent_MAIN"))&&i.content)a=Hl.to_workbook(i.content,(t.type=s,t));else throw(i=Ue.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ue.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=tIe(e))}var l={};return e.FullPaths&&z5e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function q5e(e,t){var r=t||{},n=Ue.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ue.utils.cfb_add(n,a,N7(e,r)),r.biff==8&&(e.Props||e.Custprops)&&U5e(e,n),r.biff==8&&e.vbaraw&&rIe(n,Ue.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var $p={0:{f:mOe},1:{f:wOe},2:{f:BOe},3:{f:TOe},4:{f:jOe},5:{f:MOe},6:{f:HOe},7:{f:OOe},8:{f:QOe},9:{f:JOe},10:{f:KOe},11:{f:YOe},12:{f:NOe},13:{f:UOe},14:{f:IOe},15:{f:kOe},16:{f:p7},17:{f:GOe},18:{f:DOe},19:{f:l_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:GRe},40:{},42:{},43:{f:HAe},44:{f:qAe},45:{f:XAe},46:{f:YAe},47:{f:KAe},48:{},49:{f:gke},50:{},51:{f:A4e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Lz},62:{f:VOe},63:{f:$4e},64:{f:pRe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:jn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:uRe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:yOe},148:{f:gOe,p:16},151:{f:aRe},152:{},153:{f:VRe},154:{},155:{},156:{f:URe},157:{},158:{},159:{T:1,f:sAe},160:{T:-1},161:{T:1,f:Pc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ZOe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:C4e},336:{T:-1},337:{f:O4e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:FS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Mz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iRe},427:{f:sRe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lRe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:vOe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:FS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Y4e},633:{T:1},634:{T:-1},635:{T:1,f:X4e},636:{T:-1},637:{f:bke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:IRe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hRe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},VS={6:{f:w1},10:{f:ao},12:{f:Cr},13:{f:Cr},14:{f:br},15:{f:br},16:{f:wn},17:{f:br},18:{f:br},19:{f:Cr},20:{f:dO},21:{f:dO},23:{f:Mz},24:{f:mO},25:{f:br},26:{},27:{},28:{f:hTe},29:{},34:{f:br},35:{f:fO},38:{f:wn},39:{f:wn},40:{f:wn},41:{f:wn},42:{f:br},43:{f:br},47:{f:kAe},49:{f:UCe},51:{f:Cr},60:{},61:{f:MCe},64:{f:br},65:{f:zCe},66:{f:Cr},77:{},80:{},81:{},82:{},85:{f:Cr},89:{},90:{},91:{},92:{f:_Ce},93:{f:vTe},94:{},95:{f:br},96:{},97:{},99:{f:br},125:{f:Lz},128:{f:nTe},129:{f:CCe},130:{f:Cr},131:{f:br},132:{f:br},133:{f:TCe},134:{},140:{f:_Te},141:{f:Cr},144:{},146:{f:TTe},151:{},152:{},153:{},154:{},155:{},156:{f:Cr},157:{},158:{},160:{f:FTe},161:{f:PTe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ZCe},190:{f:eTe},193:{f:ao},197:{},198:{},199:{},200:{},201:{},202:{f:br},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Cr},220:{},221:{f:br},222:{},224:{f:rTe},225:{f:jCe},226:{f:ao},227:{},229:{f:gTe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ICe},253:{f:VCe},255:{f:OCe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Cz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:br},353:{f:ao},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lTe},431:{f:br},432:{},433:{},434:{},437:{},438:{f:wTe},439:{f:br},440:{f:STe},441:{},442:{f:kh},443:{},444:{f:Cr},445:{},446:{},448:{f:ao},449:{f:FCe,r:2},450:{f:ao},512:{f:lO},513:{f:DTe},515:{f:sTe},516:{f:WCe},517:{f:uO},519:{f:MTe},520:{f:RCe},523:{},545:{f:pO},549:{f:oO},566:{},574:{f:$Ce},638:{f:QCe},659:{},1048:{},1054:{f:XCe},1084:{},1212:{f:fTe},2048:{f:ETe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:S0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ao},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ATe,r:12},2173:{f:_4e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:br,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dTe,r:12},2197:{},2198:{f:b4e,r:12},2199:{},2200:{},2201:{},2202:{f:mTe,r:12},2203:{f:ao},2204:{},2205:{},2206:{},2207:{},2211:{f:DCe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Cr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:OTe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:CTe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:lO},1:{},2:{f:UTe},3:{f:BTe},4:{f:$Te},5:{f:uO},7:{f:VTe},8:{},9:{f:S0},11:{},22:{f:Cr},30:{f:YCe},31:{},32:{},33:{f:pO},36:{},37:{f:oO},50:{f:HTe},62:{},52:{},67:{},68:{f:Cr},69:{},86:{},126:{},127:{f:LTe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:WTe},223:{},234:{},354:{},421:{},518:{f:w1},521:{f:S0},536:{f:mO},547:{f:fO},561:{},579:{},1030:{f:w1},1033:{f:S0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ce(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&i_(r)&&e.push(r)}}function V5e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ce(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],l=0,c=0,u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Ih(e,t,r){return e||(e=ge(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function H5e(e,t,r,n){var a=ge(9);return Ih(a,e,t),Tz(r,n||"b",a),a}function W5e(e,t,r){var n=ge(8+2*r.length);return Ih(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function G5e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Br(Zt(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ce(e,2,qTe(r,n,a)):Ce(e,3,zTe(r,n,a));return;case"b":case"e":Ce(e,5,H5e(r,n,t.v,t.t));return;case"s":case"str":Ce(e,4,W5e(r,n,(t.v||"").slice(0,255)));return}Ce(e,1,Ih(null,r,n))}function X5e(e,t,r,n){var a=Array.isArray(t),i=yt(t["!ref"]||"A1"),s,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=nt(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Sr(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=ur(d)),s=c[d]+l;var f=a?(t[u]||[])[d]:t[s];f&&G5e(e,f,u,d)}}}function K5e(e,t){for(var r=t||{},n=ra(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ce(n,r.biff==4?1033:r.biff==3?521:9,h_(e,16,r)),X5e(n,e.Sheets[e.SheetNames[a]],a,r),Ce(n,10),n.end()}function Y5e(e,t,r){Ce(e,49,qCe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function J5e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ce(e,1054,KCe(a,t[a],r))})}function Q5e(e,t){var r=ge(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ce(e,2151,r),r=ge(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Rz(yt(t["!ref"]||"A1"),r),r.write_shift(4,4),Ce(e,2152,r)}function Z5e(e,t){for(var r=0;r<16;++r)Ce(e,224,cO({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ce(e,224,cO(n,0,t))})}function e3e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ce(e,440,NTe(n)),n[1].Tooltip&&Ce(e,2048,jTe(n))}delete t["!links"]}function t3e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ce(e,125,ITe($y(a,n),a))})}}function r3e(e,t,r,n,a){var i=16+fl(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ce(e,513,hc(r,n,i));return}if(t.bf)Ce(e,6,CPe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Br(Zt(t.v)):t.v;Ce(e,515,oTe(r,n,s,i));break;case"b":case"e":Ce(e,517,iTe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=N_(a.Strings,t.v,a.revStrings);Ce(e,253,HCe(r,n,l,i))}else Ce(e,516,GCe(r,n,(t.v||"").slice(0,255),i,a));break;default:Ce(e,513,hc(r,n,i))}}function n3e(e,t,r){var n=ra(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],p=yt(i["!ref"]||"A1"),h=u?65536:16384;if(p.e.c>255||p.e.r>=h){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,h-1)}Ce(n,2057,h_(r,16,t)),Ce(n,13,La(1)),Ce(n,12,La(100)),Ce(n,15,On(!0)),Ce(n,17,On(!1)),Ce(n,16,mc(.001)),Ce(n,95,On(!0)),Ce(n,42,On(!1)),Ce(n,43,On(!1)),Ce(n,130,La(1)),Ce(n,128,aTe()),Ce(n,131,On(!1)),Ce(n,132,On(!1)),u&&t3e(n,i["!cols"]),Ce(n,512,JCe(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Sr(g);for(var x=p.s.c;x<=p.e.c;++x){g===p.s.r&&(m[x]=ur(x)),d=m[x]+f;var v=c?(i[g]||[])[x]:i[d];v&&(r3e(n,v,g,x,t),u&&v.l&&i["!links"].push([d,v.l]))}}var b=l.CodeName||l.name||a;return u&&Ce(n,574,BCe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ce(n,229,xTe(i["!merges"])),u&&e3e(n,i),Ce(n,442,Az(b)),u&&Q5e(n,i),Ce(n,10),n.end()}function a3e(e,t,r){var n=ra(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ce(n,2057,h_(e,5,r)),r.bookType=="xla"&&Ce(n,135),Ce(n,225,l?La(1200):null),Ce(n,193,iCe(2)),c&&Ce(n,191),c&&Ce(n,192),Ce(n,226),Ce(n,92,kCe("SheetJS",r)),Ce(n,66,La(l?1200:1252)),l&&Ce(n,353,La(0)),l&&Ce(n,448),Ce(n,317,RTe(e.SheetNames.length)),l&&e.vbaraw&&Ce(n,211),l&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Ce(n,442,Az(u))}Ce(n,156,La(17)),Ce(n,25,On(!1)),Ce(n,18,On(!1)),Ce(n,19,La(0)),l&&Ce(n,431,On(!1)),l&&Ce(n,444,La(0)),Ce(n,61,LCe()),Ce(n,64,On(!1)),Ce(n,141,La(0)),Ce(n,34,On(FRe(e)=="true")),Ce(n,14,On(!0)),l&&Ce(n,439,On(!1)),Ce(n,218,La(0)),Y5e(n,e,r),J5e(n,e.SSF,r),Z5e(n,r),l&&Ce(n,352,On(!1));var d=n.end(),f=ra();l&&Ce(f,140,kTe()),l&&r.Strings&&V5e(f,252,PCe(r.Strings)),Ce(f,10);var m=f.end(),p=ra(),h=0,g=0;for(g=0;g<e.SheetNames.length;++g)h+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var x=d.length+h+m.length;for(g=0;g<e.SheetNames.length;++g){var v=i[g]||{};Ce(p,133,ACe({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var b=p.end();if(h!=b.length)throw new Error("BS8 "+h+" != "+b.length);var y=[];return d.length&&y.push(d),b.length&&y.push(b),m.length&&y.push(m),Wr(y)}function i3e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=er(We)),e&&e.SSF&&(Qd(),Py(e.SSF),r.revssf=Ry(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,C_(r),r.cellXfs=[],fl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=n3e(a,r,e);return n.unshift(a3e(e,n,r)),Wr(n)}function N7(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=na(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return i3e(e,t);case 4:case 3:case 2:return K5e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function EO(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,l=i&&i.index||e.length,c=q_e(e.slice(s,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},h=[];for(s=0;s<c.length;++s){var g=c[s].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var b=v[l].trim();if(b.match(/<t[dh]/i)){for(var y=b,j=0;y.charAt(0)=="<"&&(j=y.indexOf(">"))>-1;)y=y.slice(j+1);for(var E=0;E<h.length;++E){var N=h[E];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,E=-1)}var S=Ke(b.slice(0,b.indexOf(">")));m=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||m>1)&&h.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var T=S.t||S["data-t"]||"";if(!y.length){d+=m;continue}if(y=GB(y),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!y.length){d+=m;continue}var C={t:"s",v:y};r.raw||!y.trim().length||T=="s"||(y==="TRUE"?C={t:"b",v:!0}:y==="FALSE"?C={t:"b",v:!1}:isNaN(yi(y))?isNaN(bd(y).getDate())||(C={t:"d",v:Zt(y)},r.cellDates||(C={t:"n",v:Br(C.v)}),C.z=r.dateNF||We[14]):C={t:"n",v:yi(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[Ge({r:u,c:d})]=C,d+=m}}}}return n["!ref"]=nt(p),h.length&&(n["!merges"]=h),n}function s3e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Ge({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],m=f&&f.v!=null&&(f.h||r_(f.w||(Ls(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ke("td",m,p))}}var h="<tr>";return h+i.join("")+"</tr>"}var o3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',l3e="</body></html>";function c3e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return dl(EO(r[0],t),t);var n=I_();return r.forEach(function(a,i){P_(n,EO(a,t),"Sheet"+(i+1))}),n}function u3e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function E7(e,t){var r=t||{},n=r.header!=null?r.header:o3e,a=r.footer!=null?r.footer:l3e,i=[n],s=na(e["!ref"]);r.dense=Array.isArray(e),i.push(u3e(e,s,r));for(var l=s.s.r;l<=s.e.r;++l)i.push(s3e(e,s,l,r));return i.push("</table>"+a),i.join("")}function j7(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?dr(n.origin):n.origin;a=s.r,i=s.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=na(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),h=0,g=0,x=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);h<l.length&&g<c;++h){var j=l[h];if(jO(j)){if(n.display)continue;p[g]={hidden:!0}}var E=j.children;for(x=v=0;x<E.length;++x){var N=E[x];if(!(n.display&&jO(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):GB(N.innerHTML),T=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<f.length;++m){var C=f[m];C.s.c==v+i&&C.s.r<g+a&&g+a<=C.e.r&&(v=C.e.c+1-i,m=-1)}y=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:g+a,c:v+i},e:{r:g+a+(b||1)-1,c:v+i+(y||1)-1}});var k={t:"s",v:S},A=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?k.t=A||"z":n.raw||S.trim().length==0||A=="s"||(S==="TRUE"?k={t:"b",v:!0}:S==="FALSE"?k={t:"b",v:!1}:isNaN(yi(S))?isNaN(bd(S).getDate())||(k={t:"d",v:Zt(S)},n.cellDates||(k={t:"n",v:Br(k.v)}),k.z=n.dateNF||We[14]):k={t:"n",v:yi(S)})),k.z===void 0&&T!=null&&(k.z=T);var _="",I=N.getElementsByTagName("A");if(I&&I.length)for(var M=0;M<I.length&&!(I[M].hasAttribute("href")&&(_=I[M].getAttribute("href"),_.charAt(0)!="#"));++M);_&&_.charAt(0)!="#"&&(k.l={Target:_}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=k):e[Ge({c:v+i,r:g+a})]=k,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=nt(u),g>=c&&(e["!fullref"]=nt((u.e.r=l.length-h+g-1+a,u))),e}function _7(e,t){var r=t||{},n=r.dense?[]:{};return j7(n,e,t)}function d3e(e,t){return dl(_7(e,t),t)}function jO(e){var t="",r=f3e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function f3e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function m3e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=vt(t.replace(/<[^>]*>/g,""));return[r]}var _O={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function k7(e,t){var r=t||{},n=n_(e),a=[],i,s,l={name:""},c="",u=0,d,f,m={},p=[],h=r.dense?[]:{},g,x,v={value:""},b="",y=0,j=[],E=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,C={},k=[],A={},_=0,I=0,M=[],L=1,W=1,H=[],q={Names:[]},B={},F=["",""],ne=[],U={},R="",K=0,J=!1,te=!1,re=0;for(Op.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Op.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?h["!ref"]=nt(S):h["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(h["!fullref"]=h["!ref"],S.e.r=r.sheetRows-1,h["!ref"]=nt(S)),k.length&&(h["!merges"]=k),M.length&&(h["!rows"]=M),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=h,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Ke(g[0],!1),E=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,h=r.dense?[]:{},k=[],M=[],te=!0);break;case"table-row-group":g[1]==="/"?--T:++T;break;case"table-row":case"行":if(g[1]==="/"){E+=L,L=1;break}if(f=Ke(g[0],!1),f.行号?E=f.行号-1:E==-1&&(E=0),L=+f["number-rows-repeated"]||1,L<10)for(re=0;re<L;++re)T>0&&(M[E+re]={level:T});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(h[E]||(h[E]=[]),h[E][N]={t:"z"}):h[Ge({r:E,c:N})]={t:"z"}),b="",j=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++N,v=Ke(g[0],!1),W=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=wO(vt(v.formula))),(v.数据类型||v["value-type"])=="string"&&(x.t="s",x.v=vt(v["string-value"]||""),r.dense?(h[E]||(h[E]=[]),h[E][N]=x):h[Ge({r:E,c:N})]=x),N+=W-1;else if(g[1]!=="/"){++N,b="",y=0,j=[],W=1;var P=L?E+L-1:E;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),E<S.s.r&&(S.s.r=E),P>S.e.r&&(S.e.r=P),v=Ke(g[0],!1),ne=[],U={},x={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=vt(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(_=parseInt(v["number-matrix-rows-spanned"],10)||0,I=parseInt(v["number-matrix-columns-spanned"],10)||0,A={s:{r:E,c:N},e:{r:E+_-1,c:N+I-1}},x.F=nt(A),H.push([A,x.F])),v.formula)x.f=wO(v.formula);else for(re=0;re<H.length;++re)E>=H[re][0].s.r&&E<=H[re][0].e.r&&N>=H[re][0].s.c&&N<=H[re][0].e.c&&(x.F=H[re][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(_=parseInt(v["number-rows-spanned"],10)||0,I=parseInt(v["number-columns-spanned"],10)||0,A={s:{r:E,c:N},e:{r:E+_-1,c:N+I-1}},k.push(A)),v["number-columns-repeated"]&&(W=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Jt(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=Zt(v["date-value"]),r.cellDates||(x.t="n",x.v=Br(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=B_e(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Dy(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.数据数值);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(b=vt(v["string-value"]),j=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(J=!1,x.t==="s"&&(x.v=b||"",j.length&&(x.R=j),J=y==0),B.Target&&(x.l=B),ne.length>0&&(x.c=ne,ne=[]),b&&r.cellText!==!1&&(x.w=b),J&&(x.t="z",delete x.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var z=0;z<L;++z){if(W=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(h[E+z]||(h[E+z]=[]),h[E+z][N]=z==0?x:er(x);--W>0;)h[E+z][N+W]=er(x);else for(h[Ge({r:E+z,c:N})]=x;--W>0;)h[Ge({r:E+z,c:N+W})]=er(x);S.e.c<=N&&(S.e.c=N)}W=parseInt(v["number-columns-repeated"]||"1",10),N+=W-1,W=0,x={},b="",j=[]}B={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;U.t=b,j.length&&(U.R=j),U.a=R,ne.push(U)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);R="",K=0,b="",y=0,j=[];break;case"creator":g[1]==="/"?R=n.slice(K,g.index):K=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",y=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Ke(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ke(g[0],!1),c+=_O[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ke(g[0],!1),c+=_O[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=Ke(g[0],!1),F=S1(s["cell-range-address"]);var D={Name:s.name,Ref:F[0]+"!"+F[1]};te&&(D.Sheet=p.length),q.Names.push(D);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var G=m3e(n.slice(y,g.index));b=(b.length>0?b+`
`:"")+G[0]}else Ke(g[0],!1),y=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{F=S1(Ke(g[0])["target-range-address"]),m[F[0]]["!autofilter"]={ref:F[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(B=Ke(g[0],!1),!B.href)break;B.Target=vt(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(F=S1(B.Target.slice(1)),B.Target="#"+F[0]+"!"+F[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var O={Sheets:m,SheetNames:p,Workbook:q};return r.bookSheets&&delete O.Sheets,O}function kO(e,t){t=t||{},Ma(e,"META-INF/manifest.xml")&&Bke(kr(e,"META-INF/manifest.xml"),t);var r=xa(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=k7(Ft(r),t);return Ma(e,"meta.xml")&&(n.Props=xz(kr(e,"meta.xml"))),n}function CO(e,t){return k7(e,t)}var p3e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Pp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Nr+t}}(),TO=function(){var e=function(i){return It(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,l){var c=[];c.push('      <table:table table:name="'+It(s.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=na(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,h=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,b={},y="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(v=!0),b["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,b["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(v){c.push(r);continue}var j=Ge({r:u,c:d}),E=h?(i[u]||[])[d]:i[j];if(E&&E.f&&(b["table:formula"]=It(RPe(E.f)),E.F&&E.F.slice(0,j.length)==j)){var N=na(E.F);b["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,b["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":y=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":y=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":y=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":y=E.w||Zt(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Zt(E.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(y);if(E.l&&E.l.Target){var T=E.l.Target;T=T.charAt(0)=="#"?"#"+DPe(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),S=ke("text:a",S,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+ke("table:table-cell",ke("text:p",S,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Wo(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,l){var c=[Nr],u=Pp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Pp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(gz().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function C7(e,t){if(t.bookType=="fods")return TO(e,t);var r=Zj(),n="",a=[],i=[];return n="mimetype",it(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",it(r,n,TO(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",it(r,n,p3e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",it(r,n,Nr+gz()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",it(r,n,qke(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",it(r,n,zke(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function HS(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ft(ul(e))}function h3e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ga($i(e))}function g3e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Xo(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function AO(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function x3e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function v3e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Bp(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ct(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function vr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function bt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Bp(e,r),i=a&7;a=Math.floor(a/8);var s=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:s=4,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Bp(e,r),l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Qr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ct(n*8+a.type)),a.type==2&&t.push(Ct(a.data.length)),t.push(a.data))})}),Xo(t)}function __(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Da(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Bp(e,n),i=bt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:vr(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=bt(l.data),u=vr(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=vr(i[3][0].data)>>>0>0),r.push(s)}return r}function Uc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ct(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ct(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Ct(s.data.length)}],n[2].push({data:Qr(s.meta),type:2})});var i=Qr(n);t.push(Ct(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Xo(t)}function y3e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Bp(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=t[r[0]],l>1&&(s|=t[r[0]+1]<<8),l>2&&(s|=t[r[0]+2]<<16),l>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Xo(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Xo(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Fa(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(y3e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Xo(t)}function qc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Ct(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Xo(t)}function b3e(e,t,r,n){var a=gc(e),i=a.getUint32(4,!0),s=(n>1?12:8)+AO(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(s,!0),s+=4),s+=AO(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function w3e(e,t,r){var n=gc(e),a=n.getUint32(8,!0),i=12,s=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=x3e(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function E1(e,t){var r=new Uint8Array(32),n=gc(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,v3e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function j1(e,t){var r=new Uint8Array(32),n=gc(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function S3e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return b3e(e,t,r,e[0]);case 5:return w3e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function hn(e){var t=bt(e);return Bp(t[1][0].data)}function IO(e,t){var r=bt(t.data),n=vr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var l=bt(s.data),c=vr(l[1][0].data)>>>0;switch(n){case 1:i[c]=HS(l[3][0].data);break;case 8:{var u=e[hn(l[9][0].data)][0],d=bt(u.data),f=e[hn(d[1][0].data)][0],m=vr(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=bt(f.data);i[c]=p[3].map(function(h){return HS(h.data)}).join("")}break}}),i}function N3e(e,t){var r,n,a,i,s,l,c,u,d,f,m,p,h,g,x=bt(e),v=vr(x[1][0].data)>>>0,b=vr(x[2][0].data)>>>0,y=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&vr(x[8][0].data)>0||!1,j,E;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)j=(l=(s=x[7])==null?void 0:s[0])==null?void 0:l.data,E=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(p=(m=x[4])==null?void 0:m[0])==null?void 0:p.data,E=(g=(h=x[3])==null?void 0:h[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=y?4:1,S=gc(j),T=[],C=0;C<j.length/2;++C){var k=S.getUint16(C*2,!0);k<65535&&T.push([C,k])}if(T.length!=b)throw"Expected ".concat(b," cells, found ").concat(T.length);var A=[];for(C=0;C<T.length-1;++C)A[T[C][0]]=E.subarray(T[C][1]*N,T[C+1][1]*N);return T.length>=1&&(A[T[T.length-1][0]]=E.subarray(T[T.length-1][1]*N)),{R:v,cells:A}}function E3e(e,t){var r,n=bt(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?vr(n[7][0].data)>>>0>0?1:0:-1,i=__(n[5],function(s){return N3e(s,a)});return{nrows:vr(n[4][0].data)>>>0,data:i.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(c,u){if(s[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));s[l.R][u]=c}),s},[])}}function j3e(e,t,r){var n,a=bt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(vr(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(vr(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=nt(i);var s=bt(a[4][0].data),l=IO(e,e[hn(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?IO(e,e[hn(s[17][0].data)][0]):[],u=bt(s[3][0].data),d=0;u[1].forEach(function(f){var m=bt(f.data),p=e[hn(m[2][0].data)][0],h=vr(p.meta[1][0].data);if(h!=6002)throw new Error("6001 unexpected reference to ".concat(h));var g=E3e(e,p);g.data.forEach(function(x,v){x.forEach(function(b,y){var j=Ge({r:d+v,c:y}),E=S3e(b,l,c);E&&(r[j]=E)})}),d+=g.nrows})}function _3e(e,t){var r=bt(t.data),n={"!ref":"A1"},a=e[hn(r[2][0].data)],i=vr(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return j3e(e,a[0],n),n}function k3e(e,t){var r,n=bt(t.data),a={name:(r=n[1])!=null&&r[0]?HS(n[1][0].data):"",sheets:[]},i=__(n[2],hn);return i.forEach(function(s){e[s].forEach(function(l){var c=vr(l.meta[1][0].data);c==6e3&&a.sheets.push(_3e(e,l))})}),a}function C3e(e,t){var r=I_(),n=bt(t.data),a=__(n[1],hn);if(a.forEach(function(i){e[i].forEach(function(s){var l=vr(s.meta[1][0].data);if(l==2){var c=k3e(e,s);c.sheets.forEach(function(u,d){P_(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function _1(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Fa(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Da(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&vr(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||s.forEach(function(c){i[c].forEach(function(u){var d=vr(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return C3e(i,l)}function T3e(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&vr(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=gc(e[7][0].data),d=0,f=[],m=gc(e[4][0].data),p=0,h=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var x,v;switch(typeof t[g]){case"string":x=E1({t:"s",v:t[g]},r),v=j1({t:"s",v:t[g]},r);break;case"number":x=E1({t:"n",v:t[g]},r),v=j1({t:"n",v:t[g]},r);break;case"boolean":x=E1({t:"b",v:t[g]},r),v=j1({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,h.push(v),p+=v.length,++c}for(e[2][0].data=Ct(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=Xo(f),e[3][0].data=Xo(h),c}function A3e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=na(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(nt(n)));var i=Xx(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(K){typeof K=="string"&&s.push(K)})});var l={},c=[],u=Ue.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,K){return[R,u.FullPaths[K]]}).forEach(function(R){var K=R[0],J=R[1];if(K.type==2&&K.name.match(/\.iwa/)){var te=K.content,re=Fa(te),P=Da(re);P.forEach(function(z){c.push(z.id),l[z.id]={deps:[],location:J,type:vr(z.messages[0].meta[1][0].data)}})}}),c.sort(function(R,K){return R-K});var d=c.filter(function(R){return R>1}).map(function(R){return[R,Ct(R)]});u.FileIndex.map(function(R,K){return[R,u.FullPaths[K]]}).forEach(function(R){var K=R[0];if(R[1],!!K.name.match(/\.iwa/)){var J=Da(Fa(K.content));J.forEach(function(te){te.messages.forEach(function(re){d.forEach(function(P){te.messages.some(function(z){return vr(z.meta[1][0].data)!=11006&&g3e(z.data,P[1])})&&l[P[0]].deps.push(te.id)})})})}});for(var f=Ue.find(u,l[1].location),m=Da(Fa(f.content)),p,h=0;h<m.length;++h){var g=m[h];g.id==1&&(p=g)}var x=hn(bt(p.messages[0].data)[1][0].data);for(f=Ue.find(u,l[x].location),m=Da(Fa(f.content)),h=0;h<m.length;++h)g=m[h],g.id==x&&(p=g);for(x=hn(bt(p.messages[0].data)[2][0].data),f=Ue.find(u,l[x].location),m=Da(Fa(f.content)),h=0;h<m.length;++h)g=m[h],g.id==x&&(p=g);for(x=hn(bt(p.messages[0].data)[2][0].data),f=Ue.find(u,l[x].location),m=Da(Fa(f.content)),h=0;h<m.length;++h)g=m[h],g.id==x&&(p=g);var v=bt(p.messages[0].data);{v[6][0].data=Ct(n.e.r+1),v[7][0].data=Ct(n.e.c+1);var b=hn(v[46][0].data),y=Ue.find(u,l[b].location),j=Da(Fa(y.content));{for(var E=0;E<j.length&&j[E].id!=b;++E);if(j[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var N=bt(j[E].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=n.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:Ct(S+420690)}],N[1].push({type:2,data:Qr(T)}),N[2].push({type:0,data:Ct(S)}),N[3].push({type:0,data:Ct(S)})}N[4]=[],N[5]=[],N[6]=[];for(var C=0;C<=n.e.r;++C)T=[],T[1]=T[2]=[{type:0,data:Ct(C+726270)}],N[4].push({type:2,data:Qr(T)}),N[5].push({type:0,data:Ct(C)}),N[6].push({type:0,data:Ct(C)});j[E].messages[0].data=Qr(N)}y.content=qc(Uc(j)),y.size=y.content.length,delete v[46];var k=bt(v[4][0].data);{k[7][0].data=Ct(n.e.r+1);var A=bt(k[1][0].data),_=hn(A[2][0].data);y=Ue.find(u,l[_].location),j=Da(Fa(y.content));{if(j[0].id!=_)throw"Bad HeaderStorageBucket";var I=bt(j[0].messages[0].data);for(C=0;C<i.length;++C){var M=bt(I[2][0].data);M[1][0].data=Ct(C),M[4][0].data=Ct(i[C].length),I[2][C]={type:I[2][0].type,data:Qr(M)}}j[0].messages[0].data=Qr(I)}y.content=qc(Uc(j)),y.size=y.content.length;var L=hn(k[2][0].data);y=Ue.find(u,l[L].location),j=Da(Fa(y.content));{if(j[0].id!=L)throw"Bad HeaderStorageBucket";for(I=bt(j[0].messages[0].data),S=0;S<=n.e.c;++S)M=bt(I[2][0].data),M[1][0].data=Ct(S),M[4][0].data=Ct(n.e.r+1),I[2][S]={type:I[2][0].type,data:Qr(M)};j[0].messages[0].data=Qr(I)}y.content=qc(Uc(j)),y.size=y.content.length;var W=hn(k[4][0].data);(function(){for(var R=Ue.find(u,l[W].location),K=Da(Fa(R.content)),J,te=0;te<K.length;++te){var re=K[te];re.id==W&&(J=re)}var P=bt(J.messages[0].data);{P[3]=[];var z=[];s.forEach(function(O,fe){z[1]=[{type:0,data:Ct(fe)}],z[2]=[{type:0,data:Ct(1)}],z[3]=[{type:2,data:h3e(O)}],P[3].push({type:2,data:Qr(z)})})}J.messages[0].data=Qr(P);var D=Uc(K),G=qc(D);R.content=G,R.size=R.content.length})();var H=bt(k[3][0].data);{var q=H[1][0];delete H[2];var B=bt(q.data);{var F=hn(B[2][0].data);(function(){for(var R=Ue.find(u,l[F].location),K=Da(Fa(R.content)),J,te=0;te<K.length;++te){var re=K[te];re.id==F&&(J=re)}var P=bt(J.messages[0].data);{delete P[6],delete H[7];var z=new Uint8Array(P[5][0].data);P[5]=[];for(var D=0,G=0;G<=n.e.r;++G){var O=bt(z);D+=T3e(O,i[G],s),O[1][0].data=Ct(G),P[5].push({data:Qr(O),type:2})}P[1]=[{type:0,data:Ct(n.e.c+1)}],P[2]=[{type:0,data:Ct(n.e.r+1)}],P[3]=[{type:0,data:Ct(D)}],P[4]=[{type:0,data:Ct(n.e.r+1)}]}J.messages[0].data=Qr(P);var fe=Uc(K),ie=qc(fe);R.content=ie,R.size=R.content.length})()}q.data=Qr(B)}k[3][0].data=Qr(H)}v[4][0].data=Qr(k)}p.messages[0].data=Qr(v);var ne=Uc(m),U=qc(ne);return f.content=U,f.size=f.content.length,u}function T7(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function k_(e){T7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function C_(e){T7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function I3e(e){return ot.WS.indexOf(e)>-1?"sheet":e==ot.CS?"chart":e==ot.DS?"dialog":e==ot.MS?"macro":e&&e.length?e:"sheet"}function P3e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,I3e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function O3e(e,t,r,n,a,i,s,l,c,u,d,f){try{i[n]=um(xa(e,r,!0),t);var m=kr(e,t),p;switch(l){case"sheet":p=t5e(m,t,a,c,i[n],u,d,f);break;case"chart":if(p=r5e(m,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var h=Vf(p["!drawel"].Target,t),g=Rp(h),x=U4e(xa(e,h,!0),um(xa(e,g,!0),h)),v=Vf(x,h),b=Rp(v);p=TRe(xa(e,v,!0),v,c,um(xa(e,b,!0),v),u,p);break;case"macro":p=n5e(m,t,a,c,i[n],u,d,f);break;case"dialog":p=a5e(m,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}s[n]=p;var y=[];i&&i[n]&&yr(i[n]).forEach(function(j){var E="";if(i[n][j].Type==ot.CMNT){E=Vf(i[n][j].Target,t);var N=l5e(kr(e,E,!0),E,c);if(!N||!N.length)return;gO(p,N,!1)}i[n][j].Type==ot.TCMNT&&(E=Vf(i[n][j].Target,t),y=y.concat(V4e(kr(e,E,!0),c)))}),y&&y.length&&gO(p,y,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Pa(e){return e.charAt(0)=="/"?e.slice(1):e}function R3e(e,t){if(Qd(),t=t||{},k_(t),Ma(e,"META-INF/manifest.xml")||Ma(e,"objectdata.xml"))return kO(e,t);if(Ma(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof _1<"u"){if(e.FileIndex)return _1(e);var r=Ue.utils.cfb_new();return MP(e).forEach(function(M){it(r,M,H_e(e,M))}),_1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ma(e,"[Content_Types].xml"))throw Ma(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ma(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=MP(e),a=Lke(xa(e,"[Content_Types].xml")),i=!1,s,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",kr(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!kr(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(dm=[],a.sst)try{dm=o5e(kr(e,Pa(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(c=s5e(xa(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=i5e(kr(e,Pa(a.style)),a.style,c,t))}a.links.map(function(M){try{var L=um(xa(e,Rp(Pa(M))),M);return u5e(kr(e,Pa(M)),L,M,t)}catch{}});var d=e5e(kr(e,Pa(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=kr(e,Pa(a.coreprops[0]),!0),m&&(f=xz(m)),a.extprops.length!==0&&(m=kr(e,Pa(a.extprops[0]),!0),m&&Hke(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=xa(e,Pa(a.custprops[0]),!0),m&&(p=Gke(m,t)));var h={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(L){return L.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(h.Props=f,h.Custprops=p),t.bookSheets&&typeof s<"u"&&(h.SheetNames=s),t.bookSheets?h.SheetNames:t.bookProps))return h;s={};var g={};t.bookDeps&&a.calcchain&&(g=c5e(kr(e,Pa(a.calcchain)),a.calcchain));var x=0,v={},b,y;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var E=0;E!=j.length;++E)f.SheetNames[E]=j[E].name}var N=i?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),T=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ma(e,T)||(T="xl/_rels/workbook."+N+".rels");var C=um(xa(e,T,!0),T.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=d5e(kr(e,Pa(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=W4e(kr(e,Pa(a.people[0])),t)),C&&(C=P3e(C,d.Sheets));var k=kr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var A="sheet";if(C&&C[x]?(b="xl/"+C[x][1].replace(/[\/]?xl\//,""),Ma(e,b)||(b=C[x][1]),Ma(e,b)||(b=T.replace(/_rels\/.*$/,"")+C[x][1]),A=C[x][2]):(b="xl/worksheets/sheet"+(x+1-k)+"."+N,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var _=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==x&&(_=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==f.SheetNames[x].toLowerCase()&&(_=1);if(!_)continue e}}O3e(e,b,y,f.SheetNames[x],x,v,s,A,t,d,c,u)}return h={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:dm,Styles:u,Themes:c,SSF:er(We)},t&&t.bookFiles&&(e.files?(h.keys=n,h.files=e.files):(h.keys=[],h.files={},e.FullPaths.forEach(function(M,L){M=M.replace(/^Root Entry[\/]/,""),h.keys.push(M),h.files[M]=e.FileIndex[L]}))),t&&t.bookVBA&&(a.vba.length>0?h.vbaraw=kr(e,Pa(a.vba[0]),!0):a.defaults&&a.defaults.bin===eIe&&(h.vbaraw=kr(e,"xl/vbaProject.bin",!0))),h}function D3e(e,t){var r=t||{},n="Workbook",a=Ue.find(e,n);try{if(n="/!DataSpaces/Version",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(dAe(a.content),n="/!DataSpaces/DataSpaceMap",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=mAe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=pAe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);gAe(a.content)}catch{}if(n="/EncryptionInfo",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=xAe(a.content);if(n="/EncryptedPackage",a=Ue.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function F3e(e,t){return t.bookType=="ods"?C7(e,t):t.bookType=="numbers"?A3e(e,t):t.bookType=="xlsb"?M3e(e,t):L3e(e,t)}function M3e(e,t){pu=1024,e&&!e.SSF&&(e.SSF=er(We)),e&&e.SSF&&(Qd(),Py(e.SSF),t.revssf=Ry(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=r7.indexOf(t.bookType)>-1,a=m_();C_(t=t||{});var i=Zj(),s="",l=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",it(i,s,vz(e.Props,t)),a.coreprops.push(s),Tt(t.rels,2,s,ot.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,it(i,s,wz(e.Props)),a.extprops.push(s),Tt(t.rels,3,s,ot.EXT_PROPS),e.Custprops!==e.Props&&yr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",it(i,s,Sz(e.Custprops)),a.custprops.push(s),Tt(t.rels,4,s,ot.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,it(i,s,m5e(l-1,s,t,e,d)),a.sheets.push(s),Tt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ot.WS[0])}if(f){var p=f["!comments"],h=!1,g="";p&&p.length>0&&(g="xl/comments"+l+"."+r,it(i,g,g5e(p,g)),a.comments.push(g),Tt(d,-1,"../comments"+l+"."+r,ot.CMNT),h=!0),f["!legacy"]&&h&&it(i,"xl/drawings/vmlDrawing"+l+".vml",e7(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&it(i,Rp(s),Ou(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,it(i,s,h5e(t.Strings,s,t)),a.strs.push(s),Tt(t.wbrels,-1,"sharedStrings."+r,ot.SST)),s="xl/workbook."+r,it(i,s,f5e(e,s)),a.workbooks.push(s),Tt(t.rels,1,s,ot.WB),s="xl/theme/theme1.xml",it(i,s,y_(e.Themes,t)),a.themes.push(s),Tt(t.wbrels,-1,"theme/theme1.xml",ot.THEME),s="xl/styles."+r,it(i,s,p5e(e,s,t)),a.styles.push(s),Tt(t.wbrels,-1,"styles."+r,ot.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",it(i,s,e.vbaraw),a.vba.push(s),Tt(t.wbrels,-1,"vbaProject.bin",ot.VBA)),s="xl/metadata."+r,it(i,s,x5e(s)),a.metadata.push(s),Tt(t.wbrels,-1,"metadata."+r,ot.XLMETA),it(i,"[Content_Types].xml",hz(a,t)),it(i,"_rels/.rels",Ou(t.rels)),it(i,"xl/_rels/workbook."+r+".rels",Ou(t.wbrels)),delete t.revssf,delete t.ssf,i}function L3e(e,t){pu=1024,e&&!e.SSF&&(e.SSF=er(We)),e&&e.SSF&&(Qd(),Py(e.SSF),t.revssf=Ry(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=r7.indexOf(t.bookType)>-1,a=m_();C_(t=t||{});var i=Zj(),s="",l=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",it(i,s,vz(e.Props,t)),a.coreprops.push(s),Tt(t.rels,2,s,ot.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,it(i,s,wz(e.Props)),a.extprops.push(s),Tt(t.rels,3,s,ot.EXT_PROPS),e.Custprops!==e.Props&&yr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",it(i,s,Sz(e.Custprops)),a.custprops.push(s),Tt(t.rels,4,s,ot.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,it(i,s,m7(l-1,t,e,f)),a.sheets.push(s),Tt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ot.WS[0])}if(m){var h=m["!comments"],g=!1,x="";if(h&&h.length>0){var v=!1;h.forEach(function(b){b[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,it(i,x,H4e(h,d,t)),a.threadedcomments.push(x),Tt(f,-1,"../threadedComments/threadedComment"+l+"."+r,ot.TCMNT)),x="xl/comments"+l+"."+r,it(i,x,t7(h)),a.comments.push(x),Tt(f,-1,"../comments"+l+"."+r,ot.CMNT),g=!0}m["!legacy"]&&g&&it(i,"xl/drawings/vmlDrawing"+l+".vml",e7(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&it(i,Rp(s),Ou(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,it(i,s,Uz(t.Strings,t)),a.strs.push(s),Tt(t.wbrels,-1,"sharedStrings."+r,ot.SST)),s="xl/workbook."+r,it(i,s,v7(e)),a.workbooks.push(s),Tt(t.rels,1,s,ot.WB),s="xl/theme/theme1.xml",it(i,s,y_(e.Themes,t)),a.themes.push(s),Tt(t.wbrels,-1,"theme/theme1.xml",ot.THEME),s="xl/styles."+r,it(i,s,Yz(e,t)),a.styles.push(s),Tt(t.wbrels,-1,"styles."+r,ot.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",it(i,s,e.vbaraw),a.vba.push(s),Tt(t.wbrels,-1,"vbaProject.bin",ot.VBA)),s="xl/metadata."+r,it(i,s,Zz()),a.metadata.push(s),Tt(t.wbrels,-1,"metadata."+r,ot.XLMETA),d.length>1&&(s="xl/persons/person.xml",it(i,s,G4e(d)),a.people.push(s),Tt(t.wbrels,-1,"persons/person.xml",ot.PEOPLE)),it(i,"[Content_Types].xml",hz(a,t)),it(i,"_rels/.rels",Ou(t.rels)),it(i,"xl/_rels/workbook."+r+".rels",Ou(t.wbrels)),delete t.revssf,delete t.ssf,i}function T_(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Na(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function $3e(e,t){return Ue.find(e,"EncryptedPackage")?D3e(e,t):S7(e,t)}function B3e(e,t){var r,n=e,a=t||{};return a.type||(a.type=st&&Buffer.isBuffer(e)?"buffer":"base64"),r=VB(n,a),R3e(r,a)}function A7(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return qS(e.slice(r),t);default:break e}return wd.to_workbook(e,t)}function z3e(e,t){var r="",n=T_(e,t);switch(t.type){case"base64":r=Na(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=fc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ft(r)),t.type="binary",A7(r,t)}function U3e(e,t){var r=e;return t.type=="base64"&&(r=Na(r)),r=xo.utils.decode(1200,r.slice(2),"str"),t.type="binary",A7(r,t)}function q3e(e){return e.match(/[^\x00-\x7F]/)?$i(e):e}function k1(e,t,r,n){return n?(r.type="string",wd.to_workbook(e,r)):wd.to_workbook(t,r)}function Ei(e,t){Xj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ei(new Uint8Array(e),(r=er(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Du={},r.dateNF&&(Du.dateNF=r.dateNF),r.type||(r.type=st&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=st?"buffer":"binary",n=M_e(e),typeof Uint8Array<"u"&&!st&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=q3e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return r=er(r),r.type="array",Ei(Kj(n),r)}switch((a=T_(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return $3e(Ue.read(n,r),r);break;case 9:if(a[1]<=8)return S7(n,r);break;case 60:return qS(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return XTe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Bz.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?B3e(n,r):k1(e,n,r,i);case 239:return a[3]===60?qS(n,r):k1(e,n,r,i);case 255:if(a[1]===254)return U3e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Hl.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Hl.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return US.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Gz.to_workbook(n,r);break;case 10:case 13:case 32:return z3e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return GTe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?US.to_workbook(n,r):k1(e,n,r,i)}function I7(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Eh(t.file,Ue.write(e,{type:st?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ue.write(e,t)}function V3e(e,t){var r=er(t||{}),n=F3e(e,r);return H3e(n,r)}function H3e(e,t){var r={},n=st?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ue.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Iy(a))}return t.password&&typeof encrypt_agile<"u"?I7(encrypt_agile(a,t.password),t):t.type==="file"?Eh(t.file,a):t.type=="string"?Ft(a):a}function W3e(e,t){var r=t||{},n=q5e(e,r);return I7(n,r)}function Pi(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Tp($i(n));case"binary":return $i(n);case"string":return e;case"file":return Eh(t.file,n,"utf8");case"buffer":return st?Ks(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Pi(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function G3e(e,t){switch(t.type){case"base64":return Tp(e);case"binary":return e;case"string":return e;case"file":return Eh(t.file,e,"binary");case"buffer":return st?Ks(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Tp(r):t.type=="string"?Ft(r):r;case"file":return Eh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function P7(e,t){Xj(),$Re(e);var r=er(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=P7(e,r);return r.type="array",Iy(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Pi(F5e(e,r),r);case"slk":case"sylk":return Pi($z.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Pi(E7(e.Sheets[e.SheetNames[a]],r),r);case"txt":return G3e(O7(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Pi(A_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Pi(Bz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return _0(US.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Pi(wd.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Pi(Gz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Pi(zz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Pi(C7(e,r),r);case"wk1":return _0(Hl.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return _0(Hl.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),_0(N7(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),W3e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return V3e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function X3e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Ph(e,t,r){var n={};return n.type="file",n.file=t,X3e(n),P7(e,n)}function K3e(e,t,r,n,a,i,s,l){var c=Sr(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var h=s?e[r][p]:e[n[p]+c];if(h===void 0||h.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var g=h.v;switch(h.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+h.t)}if(i[p]!=null){if(g==null)if(h.t=="e"&&g===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&g===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(h.t!=="n"||h.t==="n"&&l.rawNumbers!==!1)?g:Ls(h,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function Xx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=yt(d);break;case"number":c=yt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Sr(c.s.r),m=[],p=[],h=0,g=0,x=Array.isArray(e),v=c.s.r,b=0,y={};x&&!e[v]&&(e[v]=[]);var j=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(j[b]||{}).hidden)switch(m[b]=ur(b),r=x?e[v][b]:e[m[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=Ls(r,null,u),g=y[s]||0,!g)y[s]=1;else{do l=s+"_"+g++;while(y[l]);y[s]=g,y[l]=1}i[b]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(E[v]||{}).hidden){var N=K3e(e,c,v,m,n,i,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[h++]=N.row)}return p.length=h,p}var PO=/"/g;function Y3e(e,t,r,n,a,i,s,l){for(var c=!0,u=[],d="",f=Sr(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Ls(p,null,l));for(var h=0,g=0;h!==d.length;++h)if((g=d.charCodeAt(h))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(PO,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(PO,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(s)}function A_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=yt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],h=a.s.c;h<=a.e.c;++h)(m[h]||{}).hidden||(f[h]=ur(h));for(var g=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=Y3e(e,a,x,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function O7(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=A_(e,t);return r}function J3e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=yt(e["!ref"]),i="",s=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)s[l]=ur(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Sr(d),l=a.s.c;l<=a.e.c;++l)if(t=s[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function R7(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?dr(n.origin):n.origin;s=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:s+t.length-1+a}};if(i["!ref"]){var f=yt(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,x){yr(g).forEach(function(v){(p=m.indexOf(v))==-1&&(m[p=m.length]=v);var b=g[v],y="z",j="",E=Ge({c:l+p,r:s+x+a});u=zp(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Br(b)),j=n.dateNF||We[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,j&&(u.z=j)):i[E]=u={t:y,v:b},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var h=Sr(s);if(a)for(p=0;p<m.length;++p)i[ur(p+l)+h]={t:"s",v:m[p]};return i["!ref"]=nt(d),i}function Q3e(e,t){return R7(null,e,t)}function zp(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=dr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?zp(e,Ge(t)):zp(e,Ge({r:t,c:r||0}))}function Z3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function I_(){return{SheetNames:[],Sheets:{}}}function P_(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(x7(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function eDe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Z3e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function tDe(e,t){return e.z=t,e}function D7(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function rDe(e,t,r){return D7(e,"#"+t,r)}function nDe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function aDe(e,t,r,n){for(var a=typeof t!="string"?t:yt(t),i=typeof t=="string"?t:nt(t),s=a.s.r;s<=a.e.r;++s)for(var l=a.s.c;l<=a.e.c;++l){var c=zp(e,s,l);c.t="n",c.F=i,delete c.v,s==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var nr={encode_col:ur,encode_row:Sr,encode_cell:Ge,encode_range:nt,decode_col:o_,decode_row:s_,split_cell:hke,decode_cell:dr,decode_range:na,format_cell:Ls,sheet_add_aoa:lz,sheet_add_json:R7,sheet_add_dom:j7,aoa_to_sheet:Zd,json_to_sheet:Q3e,table_to_sheet:_7,table_to_book:d3e,sheet_to_csv:A_,sheet_to_txt:O7,sheet_to_json:Xx,sheet_to_html:E7,sheet_to_formulae:J3e,sheet_to_row_object_array:Xx,sheet_get_cell:zp,book_new:I_,book_append_sheet:P_,book_set_sheet_visibility:eDe,cell_set_number_format:tDe,cell_set_hyperlink:D7,cell_set_internal_link:rDe,cell_add_comment:nDe,sheet_set_array_formula:aDe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const iDe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(sDe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},sDe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})},xc=async(e,t)=>{const r=await Tv({productRequestId:t,flowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success},tf=({goToBackStep:e,goToNextStep:t,currentStep:r,totalSteps:n})=>o.jsxs("div",{className:"flex items-center justify-between pt-4",children:[o.jsx("button",{onClick:e,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r>2?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r<3,children:"Volver"}),o.jsx("button",{onClick:t,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r<n?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r>=n,children:r<n?"Siguiente":"Finalizado"})]}),By=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),o.jsx("p",{className:"mb-4",children:a}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:t,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:r,children:"Confirmar"})]})]})}):null;async function Kx(e,t){try{console.log("generado token");const n={uid:(await wc({email:e??""})).Id??""};return{success:!0,token:(await Uj(n,t??"")).token}}catch(r){return console.error("Error generating token:",r),{success:!1,token:""}}}function oDe(e,t,r){return`
    <!doctype html>
    <html lang="es">

    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
        <title>Broxel</title>
    
        <meta name="color-scheme" content="light dark">
        <style type="text/css">
            @media (prefers-color-scheme: dark) {
                .darkmode {
                    background-color: #1e1e1e !important;
                }
    
                .darkmode p {
                    color: #777777 !important;
                }
            }
        </style>
    
    
    
        <style type="text/css">
            body,
            #bodyTable,
            #bodyCell {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }
    
            #templateBody {
                /*background-color:  #f1f3f5 !important;*/
                background-color: #f1f3f5 !important;
                border-top: 0;
                border-bottom: 0;
            }
    
    
            #bodyBackground {
                border-collapse: separate !important;
                background-color: #FFFFFF !important;
                border: 1px solid #eeeeee !important;
                border-radius: 12px;
            }
    
            #templateHeader {
                /*@editable*/
                background-color: #f1f3f5 !important;
                /*@editable*/
                padding-top: 10px;
                /*@editable*/
                padding-bottom: 10px;
            }
    
    
    
            @media only screen and (max-width: 580px) {
                body {
                    width: 100% !important;
                    min-width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .templateContainer {
                    max-width: 580px !important;
                    width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .mcnImage {
                    height: auto !important;
                    width: 100% !important;
                }
    
            }
    
    
    
    
            /*CircularStdBlack*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 800;
                font-style: normal;
            }
    
            /*CircularStdBold*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 600;
                font-style: normal;
            }
    
            /*CircularStdMedium*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 500;
                font-style: normal;
            }
    
            /*CircularStdBook*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 400;
                font-style: normal;
            }
    
    
            h1 {
                font-size: 58px !important;
                line-height: 64px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h2 {
                font-size: 46px !important;
                line-height: 55px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h3 {
                font-size: 40px !important;
                line-height: 49px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h4 {
                font-size: 32px !important;
                line-height: 40px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h5 {
                font-size: 27px !important;
                line-height: 33px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                text-transform: none !important;
                letter-spacing: 0px !important;
            }
    
            h6 {
                font-size: 21px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-weight: 800 !important;
                text-transform: none !important;
                color: #001E30 !important;
                letter-spacing: 0px !important;
                margin-bottom: -11px;
            }
    
            p {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400 !important;
                letter-spacing: 0px !important;
            }
    
    
            li {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            ol {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            a {
                color: #0075ff !important;
                font-weight: 700 !important;
                text-decoration: none !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
    
            span.linkfooter {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-size: 12px;
                font-weight: 300;
                color: #0075ff;
            }
    
            b {
                font-weight: 800 !important;
            }
    
            ul {
                margin-left: -11px;
                margin-top: 30px !important;
            }
    
            @media only screen and (max-width: 480px) {
                .contenedor {
                    background-color: #ffffff !important;
                    width: 96% !important;
                    max-width: 580px !important;
                    overflow: hidden !important;
                    border-radius: 3px !important;
                    padding: 40px 0px !important;
                    margin-top: 40px !important;
                }
            }
        </style>
    
    
    
    
    </head>
    
    
    
    <body lang="es" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
        <style type="text/css">
            body,
            table,
            td,
            h1,
            h2,
            h3,
            h4,
            h5,
            ol,
            ul,
            p {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
        </style>
    
    
        <!-- PREHEADER AQUÍ-->
        <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la
            plataforma y completa tus datos</span>
        <!-- PREHEADER AQUÍ-->
    
        <center>
            <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                <tr>
                    <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                        <!-- BEGIN TEMPLATE // -->
    
    
    
    
                        <!-- BEGIN HEADER // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                            <tr>
                                <td align="center" valign="top">
                                    <span style="line-height:1px;">&nbsp;</span>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER -->
    
    
    
    
    
    
    
                        <!-- BEGIN HEADER LOGO // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                    <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                    <tr>
                                                        <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">
    
    
    
                                                            <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">
    
    
    
    
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER LOGO -->
    
    
    
    
    
    
                        <!-- BEGIN BODY // -->
                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding: 7px 7px;">
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                    <tr>
    
    
    
    
                                                        <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                        <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                            <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->
    
    
    
    
    
                                                            <!-- IMAGEN SUPERIOR EN BODY // -->
                                                            <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                            <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;"
                                                                            class="mcnImage">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
    
                                                            <!-- FIN IMAGEN SUPERIOR EN BODY // -->
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">
    
    
                                                                            <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->
    
    
    
    
                                                                            <!-- TITLE HEADER BODY // -->
    
                                                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                                <tr>
                                                                                    <td class="fallback-text" align="center">
                                                                                        <h2 style="
      font-size: 40px !important;
      line-height: 51px !important;
      font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
      color: #001E30 !important;
      font-weight: 800 !important; 
      text-align: center !important;
      max-width: 480px !important;
      letter-spacing: 0px !important;"> Notificación NAFIN: ${e}<span style="color:#00a6f5">.</span>
                                                                                        </h2>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- FIN TITLE HEADER BODY // -->
    
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">
    
    
    
    
                                                                            <!-- BEGIN CONTENT // -->
    
                                                                            <p style="
    font-size: 18px !important;
    line-height: 30px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    text-align: center !important;
    font-weight: 400;
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;
    max-width: 480px;
    margin: auto;">
    
    
                                                                                ${t}
    
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
                                                                                </table>
                                                                                <!--FIN UN ESPACIO-->
    
    
    
                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
    font-size: 1em !important;
    line-height: 30px !important;
    font-family: 'CircularStd', 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 400; 
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;">
    
    
    
    
    
    
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
    
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!--TEXTO DESTACADO-->
    
                                                                                    <h5 style="font-size: 27px !important;
    line-height: 33px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 800 !important;
    text-transform: none !important;
    margin: 3px auto 10px;
    max-width: 420px !important;
    letter-spacing: 0px !important;
    text-align:center !important;">
                                                                                    Ingresa a la plataforma ahora.</h5>
    
                                                                                    <!--FIN TEXTO DESTACADO-->
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!-- TABLA BOTON-->
                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">
    
    
    
                                                                                                    <!--BOTON-->
                                                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                        <tbody class="mcnButtonBlockOuter">
                                                                                                            <tr>
                                                                                                                <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                    <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                    <a href=${r} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                    <!--BOTON-->
    
    
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <!-- FIN TABLA BOTON-->
    
    
    
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
    
                                                                                    <!-- END CONTENT // -->
    
                                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
    
                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">
    
    
    
                                                                                <!-- END CONTENIDO EN BODY // -->
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
    
    
                                                                </td>
                                                    </tr>
                                                    </table>
    
    
                                                    </td>
                                        </tr>
                                        </table>
                                        </td>
                            </tr>
                            </table>
                            <!-- // END BODY -->
    
    
    
    
    
    
                            <!-- BEGIN FOOTER // -->
                            <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
    
                                <!-- FOOTER -->
                                <tr>
                                    <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">
    
    
                                        <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                            <tbody>
    
    
                                                <tr>
                                                    <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">
    
    
                                                        <p style="
                            font-size: 13px!important;
                            line-height: 21px!important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400; margin-top: 7px!important;
                            text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                            letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                            <b>¿Necesitas ayuda?</b><br>
                                                            Llámanos desde México o Estados Unidos al
                                                            <a href="tel: 5593700536"
                                                                style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                            Este correo es automatizado, favor&nbsp;de&nbsp;no responder
    
    
    
    
    
    
    
                                                            <br>&nbsp;<br>&nbsp;
                                                            <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important;">Aviso de Privacidad</a>
    
                                                    </p>
                                                </td>
    
                                            </tr>
    
                                            <tr>
                                                <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">
    
    
                                                    <!-- CONTENIDO PARRAFO LEGALES
    
                            <p style="font-size: 10px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            line-height: 19px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            This is an automated email.
                        </span>
                                                        </p>
    
    
                                                        <p style="font-size: 10px !important;
                            line-height: 19px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>
    
                            The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>
    
                            Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                            </span></p>
    
    
                                                        <p style="font-size: 13px!important;
                            line-height: 21px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400;
                            text-align: center !important;
                            letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                            <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                            Unsubscribe from these emails.
                            </a> CONTENIDO PARRAFO LEGALES-->
    
    
    
    
    
                                                            <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">
    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
    
                                    </td>
                                </tr>
                                <!-- FIN FOOTER -->
    
                            </table>
                            <!-- // END FOOTER -->
    
    
    
    
    
    
    
                            <!-- // END TEMPLATE -->
                            </td>
                </tr>
                </table>
        </center>
    </body>
    
    </html>
    `}const Rc=(e,t,r)=>oDe(e,t,r),OO="xxxx@nafin.gob.mx",RO="xxxx@nafin.gob.mx",lDe=({prospectName:e,personName:t,body:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Estimado <b>${t}</b>, <b>${e}</b>:<br><br>

    Presentes<br><br>

    ${r}<br><br>

    Cualquier duda adicional, quedamos pendientes para ser contactados a las siguientes cuentas de correo electrónico: 
    <a href="mailto:${OO}">${OO}</a>, 
    <a href="mailto:${RO}">${RO}</a>.<br><br>

    <b>Nacional Financiera B.N.D.</b>
`;return Rc(a,i,n)},cDe=({prospectName:e,personName:t,body:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Estimado <b>${t}</b>, <b>${e}</b><br><br>

    Presentes<br><br>

    ${r}<br><br>
  
    <b>Nacional Financiera B.N.D.</b>
`;return Rc(a,i,n)},uDe=({name:e,numAprobados:t,numRechazados:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Hola <b>${e}</b>,<br><br>
    
    Te informamos que hay una <b>actualización</b> en la revisión de los documentos de tu solicitud de crédito con <b>Nacional Financiera</b>.<br><br>
    
    <b>Resumen de la revisión</b>:<br>
    - <b>Documentos aprobados</b>: ${t}<br>
    - <b>Documentos rechazados</b>: ${r}<br><br>
    
    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
    `;return Rc(a,i,n)},dDe=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    Hola <b>${e}</b>,<br><br>
    
    Nos complace informarte que el equipo de <b>Nacional Financiera</b> ha completado la revisión y validación de los documentos para tu solicitud de crédito.<br><br>
    
    En breve recibirás instrucciones detalladas sobre los siguientes pasos y el resultado de tu solicitud. Te recomendamos estar atento a tu correo electrónico y a las notificaciones en nuestra plataforma.<br><br>
    
    Atentamente,<br>
    <b>El equipo de Nacional Financiera</b>
`;return Rc(r,n,t)},fDe=({name:e,numAprobados:t,numRechazados:r,numPendientes:n,url:a})=>{const i="Actualización en tu trámite",s=`
    Hola <b>${e}</b>,<br><br>

    Te informamos que hay una actualización en la revisión de los documentos de tu solicitud de crédito con <b>Nacional Financiera</b>.<br><br>

    <b>Resumen de la revisión:</b><br><br>

    - Documentos recibidos correctamente y enviados a mesa de control: ${t}<br>
    - Documentos rechazados: ${r}<br>
    - Documentos pendientes de envío: ${n}<br><br>

    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
`;return Rc(i,s,a)},mDe=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    <b>${e}</b> Nos complace informarte que la recepción de documentos se completo con éxito,  comenzaremos la revisión y nos pondremos en contacto contigo en las próximas horas.

    `;return Rc(r,n,t)},pDe=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
        <b>${e}</b>, tenemos novedades sobre tu trámite en la plataforma de crédito<b>NAFIN.</b>
        Para conocer los detalles y los próximos pasos, ingresa a tu cuenta y revisa
        la sección de tu solicitud:
    `;return Rc(r,n,t)},hDe=()=>`En atención al proceso de su Solicitud de Crédito realizada a esta Dirección de Proyectos y Financiamiento Corporativo y de la revisión al expediente de elegibilidad, nos es grato informar que se han emitido los Términos y Condiciones Preliminares (Indicativos) en favor de su solicitud de crédito.

Por lo anterior, podrá descargar los mismos para su revisión y, en su caso, aceptación mediante firma del documento anexo que deberá ser subido en esta misma plataforma.`,gDe=()=>`En atención al proceso de su Solicitud de Crédito realizada a esta Dirección de Proyectos y Financiamiento Corporativo y de la revisión al expediente de elegibilidad, nos es grato informar que se han emitido los Términos y Condiciones Preliminares (Indicativos).

Me permito hacer de su conocimiento que, una vez revisada y analizada la información y documentación soporte de su solicitud de crédito, se ha determinado que Nacional Financiera B.N.D. no podrá atender dicha línea bajo las condiciones presentes, por lo que se dará de baja su solicitud de crédito.

Ante tal circunstancia, agradezco y reconozco la buena gestión de su parte en el trámite y en el seguimiento del análisis que se venía realizando.

Por lo que, en caso de presentarse una nueva oportunidad de financiamiento, estaremos gustosos de trabajar nuevamente con ustedes.`,xDe=()=>{const[e,t]=w.useState({product:"",isAcepted:!1,isRejected:!1,description:"",productRequestId:""}),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[s,l]=w.useState(!1),[c,u]=w.useState(!1),{selectedClient:d,selectClient:f}=ct(),[m,p]=w.useState(null),[h,g]=w.useState(6),[x,v]=w.useState(!1),[b,y]=w.useState([]),[j,E]=w.useState(!1),[N,S]=w.useState(null),[T,C]=w.useState(null),[k,A]=w.useState(!1),[_,I]=w.useState(""),{user:M}=mt(),[L,W]=w.useState(!1),H=(ie,ue)=>{t(ye=>({...ye,[ie]:ue}))},q=ie=>{const{name:ue,value:ye}=ie.target;t(oe=>({...oe,[ue]:ye}))},B=ie=>{const{name:ue,checked:ye}=ie.target;t(oe=>({...oe,isAcepted:ue==="isAcepted"?ye:!ye&&oe.isAcepted,isRejected:ue==="isRejected"?ye:!ye&&oe.isRejected}))},F=async ie=>{ie.target.files&&ie.target.files.length>0&&(p(ie.target.files[0]),ie.target.files[0]&&(n(!0),await ts((d==null?void 0:d.id)||"",ie.target.files[0],"documentos")?se.success("Documento subido."):se.error("Error cargar el archivo."),n(!1)))},ne=()=>{p(null),l(!1)},U=async()=>{const ie=await CE({productRequestId:(d==null?void 0:d.id)??""});ie?(t({product:ie.product??"",isAcepted:ie.isAcepted??!1,isRejected:ie.isRejected??!1,description:ie.description??"",productRequestId:(d==null?void 0:d.id)??""}),I(ie.id),u(!0),l(!0)):H("description",te())},R=async()=>{var ye;n(!0);const ie=d==null?void 0:d.id,ue="Terminos y condiciones.pdf";if(ie){const oe=((ye=ue.split(".").pop())==null?void 0:ye.toLowerCase())??"",ze=await Un("view","documentos",ie,"token",oe);ze.data?(S(ze.data),C(oe)):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}n(!1)},K=()=>S(null),J=async()=>{v(!0);const ie=b.filter(we=>we.isUploaded),ue=ie.map(we=>we.id),ye=ie.reduce((we,$e)=>(we[$e.id]=$e.fileName??`documento_${$e.id}.pdf`,we),{});console.log("IDs de documentos subidos:",ue),console.log("Nombres de archivos:",ye),await AEe("documentos",ue,ye),v(!1)};w.useEffect(()=>{console.log("inicalizando resolution"),d&&U(),g((d==null?void 0:d.flowStatus)??0),console.log("flujo actual",d==null?void 0:d.flowStatus)},[]),w.useEffect(()=>{(async()=>{if(!(d!=null&&d.id)){se.error("No hay una empresa seleccionada.");return}const ue=await a_e(d.id);y(ue),console.log("Documentos actualizados:",ue)})()},[]),w.useEffect(()=>{H("description",te())},[e.isAcepted,e.isRejected]);const te=()=>{if(d){const ie=e.isAcepted,ue=e.isRejected;let ye="";return ie&&(ye=hDe()),ue&&(ye=gDe()),ye}};function re(ie){return ie.replace(/\n/g,"<br>")}const P=async ie=>{ie.preventDefault(),E(!0),i(!1);try{if(d){const ue=await Kx((d==null?void 0:d.email)??"",(M==null?void 0:M.idToken)??""),oe="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+ue.token,we=e.isAcepted;let $e="";if(we?$e=lDe({prospectName:d.company??"",personName:d.name??"",url:oe,body:re(e.description??"")}):$e=cDe({prospectName:d.company??"",personName:d.name??"",url:oe,body:re(e.description??"")}),await yd((d==null?void 0:d.email)??"",(d==null?void 0:d.ccemail)??"","Resolución NAFIN",$e,void 0,"Términos y condiciones.pdf"))se.success("Cliente notificado.");else{se.error("Error al enviar el correo.");return}}if(d){let ue={success:!1,Id:""};if(c){const{productRequestId:ye,...oe}=e,we={...oe,ResolutionDataId:_};ue=await AJ(we)}else e.productRequestId=d.id,ue=await TJ(e),I(ue.Id);ue?(se.success("Se envió la resolución correctamente"),c||await xc(7,(d==null?void 0:d.id)??""),u(!0)):se.error("Ocurrió un error al enviar los datos de resolución."),i(!0)}}catch(ue){console.error("Error al enviar los datos:",ue),se.error("Ocurrió un error.")}finally{E(!1),p(null),l(!0)}},z=()=>{c?d&&(f({flowStatus:7}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):G()},D=()=>{d&&(f({flowStatus:5}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},G=()=>{A(!0)},O=()=>{A(!1)},fe=()=>{console.log("Confirmación aceptada"),d&&(f({flowStatus:7}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")),A(!1)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center bg-transparent relative ",children:[r&&o.jsx("div",{className:"absolute inset-0 flex justify-center items-center z-50 bg-white bg-opacity-60",children:o.jsx(at,{className:"animate-spin text-blue-600 w-10 h-10"})}),L&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full text-center",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Función no disponible"}),o.jsx("p",{className:"text-gray-700 mb-6",children:"Esta función no está habilitada por el momento."}),o.jsx("button",{onClick:()=>W(!1),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Cerrar"})]})}),o.jsxs("div",{className:"w-full max-w-3xl p-8 bg-white rounded-md shadow-md",children:[o.jsxs("form",{className:"space-y-6",onSubmit:P,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Producto"}),o.jsxs("select",{id:"product",name:"product",value:e.product||"",onChange:q,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),o.jsx("option",{value:"Crédito simple",children:"Crédito simple"}),o.jsx("option",{value:"Crédito revolvente",children:"Crédito revolvente"}),o.jsx("option",{value:"Crédito IVA",children:"Crédito IVA"}),o.jsx("option",{value:"Dictamen técnico",children:"Dictamen técnico"}),o.jsx("option",{value:"Certificación prime",children:"Certificación prime"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),o.jsxs("div",{className:"mt-2 flex space-x-6",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isAcepted",checked:e.isAcepted===!0,onChange:B,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm",children:"Aceptado"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isRejected",checked:e.isRejected===!0,onChange:B,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm",children:"Rechazado"})]})]})]})]}),!m&&!s&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("label",{className:"flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white font-medium py-2 px-4 rounded-lg cursor-pointer w-full md:w-1/2 transition",children:[o.jsx(Ka,{className:"w-4 h-4"}),o.jsx("span",{children:"Cargar Términos y Condiciones"}),o.jsx("input",{type:"file",className:"hidden",accept:".pdf",onChange:F})]})}),(m||s)&&o.jsxs("div",{className:"mt-4 p-4 border border-gray-300 rounded-lg flex justify-between items-center bg-gray-50 hover:bg-gray-100 cursor-pointer",onClick:R,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-800",children:(m==null?void 0:m.name)??"Términos y condiciones"}),m&&o.jsxs("p",{className:"text-xs text-gray-500",children:[(m.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx("button",{onClick:ie=>{ie.stopPropagation(),ne()},type:"button",className:"text-red-500 hover:text-red-700",children:o.jsx(Zi,{className:"w-5 h-5"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),o.jsx("textarea",{lang:"es",spellCheck:!0,id:"description",name:"description",value:e.description||"",placeholder:"Ingrese descripción de la resolución",onChange:q,rows:3,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsx("div",{className:"mt-8",children:o.jsx("button",{type:"submit",disabled:r,className:"w-full text-lg font-semibold flex justify-center items-center px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-xl shadow-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:j?o.jsxs("span",{className:"flex items-center",children:[o.jsx(at,{className:"mr-2 h-5 w-5 animate-spin"}),"Enviando..."]}):o.jsxs("span",{className:"flex items-center",children:[o.jsx(tc,{className:"mr-2 h-5 w-5"}),"Enviar Resolución"]})})}),a&&o.jsxs("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md flex items-center",children:[o.jsx(At,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:"¡Datos enviados correctamente!"})]})]}),h===6&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[o.jsxs("button",{onClick:J,disabled:x,className:"w-full flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-4 rounded-lg transition disabled:opacity-50",children:[x?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),"Descargar expediente"]}),o.jsx("button",{onClick:()=>W(!0),className:"w-full flex items-center justify-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-4 rounded-lg transition",children:"Subir a OneDrive"})]})]}),N&&o.jsx(iDe,{fileUrl:N,onClose:K,fileType:T??"pdf"})]}),o.jsx("div",{className:"mt-8",children:o.jsx(tf,{goToBackStep:D,goToNextStep:z,currentStep:6,totalSteps:7})}),o.jsx(By,{isOpen:k,onClose:O,onConfirm:fe,title:"¿Deseas continuar?",message:"Aún no has enviado la resolución de la solicitud"})]})},vDe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(yDe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},yDe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})};function bDe(){const[e,t]=w.useState(!1),{selectedClient:r,selectClient:n}=ct(),[a,i]=w.useState(null),[s,l]=w.useState(null),[c,u]=w.useState(!1),d=async()=>{t(!0);try{await Un("download","documentos",(r==null?void 0:r.id)??"","token","pdf","términos y condiciones.pdf")}catch(g){console.log(g)}finally{t(!1)}},f=()=>i(null),m=async()=>{var v;u(!0);const g=r==null?void 0:r.id,x="Terminos y condiciones.pdf";if(g){const b=((v=x.split(".").pop())==null?void 0:v.toLowerCase())??"",E=await Un("view","documentos",g,"token",b);E.data?(i(E.data),l(b)):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}u(!1)},p=()=>{r&&(n({flowStatus:8}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3"))},h=()=>{r&&(n({flowStatus:6}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))};return o.jsxs("div",{children:[o.jsxs("div",{className:"min-h-min py-12 px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[o.jsxs("div",{id:"terms-content",className:"prose max-w-none text-gray-700 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Términos y Condiciones"}),o.jsx("p",{children:"Estos Términos y Condiciones regulan el uso del servicio proporcionado por nuestra empresa. Al acceder o utilizar nuestro servicio, usted acepta estar sujeto a estos Términos. Si no está de acuerdo con alguna parte de los términos, no podrá acceder al servicio."})]}),o.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[o.jsxs("button",{onClick:d,disabled:e,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[e?o.jsx(at,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(Od,{className:"mr-2 h-5 w-5"}),e?"Descargando...":"Descargar Términos y Condiciones Firmados"]}),o.jsxs("button",{onClick:m,disabled:c,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[c?o.jsx(at,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(rl,{className:"mr-2 h-5 w-5"}),c?"Cargando...":"Ver Términos y Condiciones Firmados"]})]})]})})}),a&&o.jsx(vDe,{fileUrl:a,onClose:f,fileType:s??"pdf"})]}),o.jsx("div",{children:o.jsx(tf,{goToBackStep:h,goToNextStep:p,currentStep:7,totalSteps:7})})]})}const wDe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},SDe=({onSelectDocument:e,isSectionComplete:t,setIsSectionComplete:r})=>{const[n,a]=w.useState({requiredDocuments:[]}),[i,s]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{selectedClient:f}=ct(),[m,p]=w.useState(!1),[h,g]=w.useState(!1),[x,v]=w.useState(!1),{user:b}=mt(),y=w.useRef(null);w.useEffect(()=>{const k=A=>{y.current&&!y.current.contains(A.target)&&s(null)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const j=async()=>{const k=f==null?void 0:f.name,A=await Kx((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??""),I="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+A.token,M=dDe({name:k??"",url:I});await xc(5,(f==null?void 0:f.id)??""),await yd((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",M)?se.success("Sección completa, Cliente notificado"):se.error("Ocurrió un error al enviar el correo")},E=async()=>{const k=f==null?void 0:f.name,A=await Kx((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??""),I="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+A.token,M=n.requiredDocuments.filter(q=>q.isApproved).length,L=n.requiredDocuments.filter(q=>q.isRejected).length,W=uDe({name:k??"",numAprobados:M,numRechazados:L,url:I});await yd((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",W)?se.success("Cliente notificado"):se.error("Ocurrió un error")};w.useEffect(()=>{(async()=>{if(!f){se.error("No hay una empresa seleccionada.");return}try{const A=await aa({productRequestId:f.id});A&&a(A)}catch(A){se.error("Ocurrió un error al obtener los documentos."),console.error("Error fetching documents:",A)}})()},[f]);const N=async k=>{if(p(!0),k.id)try{if((await cr({id:k.id,isApproved:!0,isRejected:!1,rejectReason:""})).success){const _=n.requiredDocuments.findIndex(I=>I.id===k.id);if(_!==-1){const I=[...n.requiredDocuments];I[_]={...I[_],isApproved:!0,isRejected:!1,rejectReason:""},a({requiredDocuments:I}),se.success("Documento aprobado con éxito.")}else se.error("Documento no encontrado en la lista.")}else se.error("Error al aprobar el documento. Inténtalo de nuevo.")}catch(A){console.error("Error al aprobar el documento:",A),se.error("Ocurrió un error al aprobar el documento.")}},S=async k=>{if(p(!0),u)try{if((await cr({id:u.id,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:k})).success){const _=n.requiredDocuments.findIndex(I=>I.id===u.id);if(_!==-1){const I=[...n.requiredDocuments];I[_]={...I[_],isRejected:!0,rejectReason:k,isApproved:!1},a({requiredDocuments:I}),se.success("Documento rechazado con éxito.")}else se.error("Documento no encontrado en la lista.")}else se.error("Error al rechazar el documento. Inténtalo de nuevo.")}catch(A){console.error("Error al rechazar el documento:",A),se.error("Ocurrió un error al rechazar el documento.")}finally{c(!1),d(null),s(null)}},T=k=>{d(k),c(!0)},C=async k=>{n.requiredDocuments.length>0&&n.requiredDocuments.every(A=>A.isApproved)?r(!0):k&&(await xc(3,(f==null?void 0:f.id)??""),r(!1))};return w.useEffect(()=>{C(t)},[n]),o.jsxs("div",{children:[m?o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,o.jsxs("div",{className:"grid gap-4 mt-4 max-h-[400px] overflow-y-auto pb-24",children:[n.requiredDocuments.map(k=>o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg  relative ${k.isRejected?"bg-red-100":k.isApproved?"bg-green-100":k.isUploaded?"bg-blue-100":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:k.documentTemplate.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{title:k.isUploaded?"Documento subido":"Esperando subida",children:k.isUploaded?o.jsx(Um,{className:"text-green-500 w-5 h-5"}):o.jsx(Gr,{className:"text-yellow-500 w-5 h-5"})}),o.jsx("div",{title:k.isPreApproved?"Pre-aprobado":"Pendiente de pre-aprobación",children:k.isPreApproved?o.jsx(At,{className:"text-blue-500 w-5 h-5"}):o.jsx(Gr,{className:"text-gray-400 w-5 h-5"})}),o.jsx("div",{title:k.isApproved?"Aprobado":"Pendiente de aprobación",children:k.isApproved?o.jsx(At,{className:"text-green-500 w-5 h-5"}):o.jsx(Gr,{className:"text-yellow-500 w-5 h-5"})}),o.jsx("div",{title:k.isRejected?"Rechazado":"No rechazado",children:k.isRejected?o.jsx(qs,{className:"text-red-500 w-5 h-5"}):o.jsx(Gr,{className:"text-gray-400 w-5 h-5"})})]}),k.isRejected&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Motivo de rechazo: ",k.rejectReason]})]}),o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>s(A=>A===k.id?null:k.id),children:"Opciones"}),i===k.id&&o.jsx("div",{ref:y,className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-lg w-48 z-10",children:o.jsx("ul",{children:k.isUploaded?o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>e(k),children:"Ver Documento"})}),o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>{N(k),s(null)},children:"Aprobar"})}),o.jsx("li",{className:"border-t border-gray-200",children:o.jsx("button",{className:"w-full px-4 py-2 text-left text-red-500 hover:bg-gray-100",onClick:()=>T(k),children:"Rechazar"})})]}):o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"Documento no disponible"})})})})]})})]},k.id)),o.jsx(wDe,{isOpen:l,onClose:()=>c(!1),onConfirm:S}),o.jsx(pr,{})]}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsxs("button",{onClick:async()=>{g(!0),await j(),g(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[h?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),"Aprobar la recepción documental",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Establece esta sección como completa y notifica al cliente por correo que sus documentos fueron aprobados"})]}),o.jsxs("button",{onClick:async()=>{v(!0),await E(),v(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[x?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),"Notificar al usuario de un cambio",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Envía una notificación al usuario sobre actualizaciones en su solicitud"})]})]})]})},NDe=({fileUrl:e,fileType:t})=>{const r=()=>{const n=t==null?void 0:t.toLowerCase();return n==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):n==="xlsx"||n==="xls"?o.jsx(EDe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center overflow-hidden",children:r()})},EDe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%] w-full",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})};function jDe(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const _De=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kDe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CDe={};function DO(e,t){return(CDe.jsx?kDe:_De).test(e)}const TDe=/[ \t\n\f\r]/g;function ADe(e){return typeof e=="object"?e.type==="text"?FO(e.value):!1:FO(e)}function FO(e){return e.replace(TDe,"")===""}class Oh{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Oh.prototype.normal={};Oh.prototype.property={};Oh.prototype.space=void 0;function F7(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Oh(r,n,t)}function WS(e){return e.toLowerCase()}class sa{constructor(t,r){this.attribute=r,this.property=t}}sa.prototype.attribute="";sa.prototype.booleanish=!1;sa.prototype.boolean=!1;sa.prototype.commaOrSpaceSeparated=!1;sa.prototype.commaSeparated=!1;sa.prototype.defined=!1;sa.prototype.mustUseProperty=!1;sa.prototype.number=!1;sa.prototype.overloadedBoolean=!1;sa.prototype.property="";sa.prototype.spaceSeparated=!1;sa.prototype.space=void 0;let IDe=0;const tt=Dc(),Tr=Dc(),M7=Dc(),je=Dc(),Ut=Dc(),Fu=Dc(),la=Dc();function Dc(){return 2**++IDe}const GS=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:Tr,commaOrSpaceSeparated:la,commaSeparated:Fu,number:je,overloadedBoolean:M7,spaceSeparated:Ut},Symbol.toStringTag,{value:"Module"})),C1=Object.keys(GS);class O_ extends sa{constructor(t,r,n,a){let i=-1;if(super(t,r),MO(this,"space",a),typeof n=="number")for(;++i<C1.length;){const s=C1[i];MO(this,C1[i],(n&GS[s])===GS[s])}}}O_.prototype.defined=!0;function MO(e,t,r){r&&(e[t]=r)}function rf(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new O_(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[WS(n)]=n,r[WS(i.attribute)]=n}return new Oh(t,r,e.space)}const L7=rf({properties:{ariaActiveDescendant:null,ariaAtomic:Tr,ariaAutoComplete:null,ariaBusy:Tr,ariaChecked:Tr,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:Ut,ariaCurrent:null,ariaDescribedBy:Ut,ariaDetails:null,ariaDisabled:Tr,ariaDropEffect:Ut,ariaErrorMessage:null,ariaExpanded:Tr,ariaFlowTo:Ut,ariaGrabbed:Tr,ariaHasPopup:null,ariaHidden:Tr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ut,ariaLevel:je,ariaLive:null,ariaModal:Tr,ariaMultiLine:Tr,ariaMultiSelectable:Tr,ariaOrientation:null,ariaOwns:Ut,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:Tr,ariaReadOnly:Tr,ariaRelevant:null,ariaRequired:Tr,ariaRoleDescription:Ut,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:Tr,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function $7(e,t){return t in e?e[t]:t}function B7(e,t){return $7(e,t.toLowerCase())}const PDe=rf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fu,acceptCharset:Ut,accessKey:Ut,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:Ut,autoFocus:tt,autoPlay:tt,blocking:Ut,capture:null,charSet:null,checked:tt,cite:null,className:Ut,cols:je,colSpan:null,content:null,contentEditable:Tr,controls:tt,controlsList:Ut,coords:je|Fu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:M7,draggable:Tr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:Ut,height:je,hidden:tt,high:je,href:null,hrefLang:null,htmlFor:Ut,httpEquiv:Ut,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:Ut,itemRef:Ut,itemScope:tt,itemType:Ut,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:je,pattern:null,ping:Ut,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:Ut,required:tt,reversed:tt,rows:je,rowSpan:je,sandbox:Ut,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:Tr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:Tr,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ut,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:Tr,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:B7}),ODe=rf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:la,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:Ut,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fu,g2:Fu,glyphName:Fu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:la,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ut,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:la,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:la,rev:la,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:la,requiredFeatures:la,requiredFonts:la,requiredFormats:la,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:la,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:la,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:la,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$7}),z7=rf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),U7=rf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:B7}),q7=rf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),RDe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},DDe=/[A-Z]/g,LO=/-[a-z]/g,FDe=/^data[-\w.:]+$/i;function MDe(e,t){const r=WS(t);let n=t,a=sa;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&FDe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(LO,$De);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!LO.test(i)){let s=i.replace(DDe,LDe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=O_}return new a(n,t)}function LDe(e){return"-"+e.toLowerCase()}function $De(e){return e.charAt(1).toUpperCase()}const BDe=F7([L7,PDe,z7,U7,q7],"html"),R_=F7([L7,ODe,z7,U7,q7],"svg");function zDe(e){return e.join(" ").trim()}var D_={},$O=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,UDe=/\n/g,qDe=/^\s*/,VDe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,HDe=/^:\s*/,WDe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GDe=/^[;\s]*/,XDe=/^\s+|\s+$/g,KDe=`
`,BO="/",zO="*",jl="",YDe="comment",JDe="declaration",QDe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(h){var g=h.match(UDe);g&&(r+=g.length);var x=h.lastIndexOf(KDe);n=~x?h.length-x:n+h.length}function i(){var h={line:r,column:n};return function(g){return g.position=new s(h),u(),g}}function s(h){this.start=h,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function l(h){var g=new Error(t.source+":"+r+":"+n+": "+h);if(g.reason=h,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function c(h){var g=h.exec(e);if(g){var x=g[0];return a(x),e=e.slice(x.length),g}}function u(){c(qDe)}function d(h){var g;for(h=h||[];g=f();)g!==!1&&h.push(g);return h}function f(){var h=i();if(!(BO!=e.charAt(0)||zO!=e.charAt(1))){for(var g=2;jl!=e.charAt(g)&&(zO!=e.charAt(g)||BO!=e.charAt(g+1));)++g;if(g+=2,jl===e.charAt(g-1))return l("End of comment missing");var x=e.slice(2,g-2);return n+=2,a(x),e=e.slice(g),n+=2,h({type:YDe,comment:x})}}function m(){var h=i(),g=c(VDe);if(g){if(f(),!c(HDe))return l("property missing ':'");var x=c(WDe),v=h({type:JDe,property:UO(g[0].replace($O,jl)),value:x?UO(x[0].replace($O,jl)):jl});return c(GDe),v}}function p(){var h=[];d(h);for(var g;g=m();)g!==!1&&(h.push(g),d(h));return h}return u(),p()};function UO(e){return e?e.replace(XDe,jl):jl}var ZDe=vo&&vo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D_,"__esModule",{value:!0});D_.default=tFe;var eFe=ZDe(QDe);function tFe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,eFe.default)(e),a=typeof t=="function";return n.forEach(function(i){if(i.type==="declaration"){var s=i.property,l=i.value;a?t(s,l,i):l&&(r=r||{},r[s]=l)}}),r}var zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.camelCase=void 0;var rFe=/^--[a-zA-Z0-9_-]+$/,nFe=/-([a-z])/g,aFe=/^[^-]+$/,iFe=/^-(webkit|moz|ms|o|khtml)-/,sFe=/^-(ms)-/,oFe=function(e){return!e||aFe.test(e)||rFe.test(e)},lFe=function(e,t){return t.toUpperCase()},qO=function(e,t){return"".concat(t,"-")},cFe=function(e,t){return t===void 0&&(t={}),oFe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(sFe,qO):e=e.replace(iFe,qO),e.replace(nFe,lFe))};zy.camelCase=cFe;var uFe=vo&&vo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dFe=uFe(D_),fFe=zy;function XS(e,t){var r={};return!e||typeof e!="string"||(0,dFe.default)(e,function(n,a){n&&a&&(r[(0,fFe.camelCase)(n,t)]=a)}),r}XS.default=XS;var mFe=XS;const pFe=Ot(mFe),V7=H7("end"),F_=H7("start");function H7(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function hFe(e){const t=F_(e),r=V7(e);if(t&&r)return{start:t,end:r}}function hm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?VO(e.position):"start"in e||"end"in e?VO(e):"line"in e||"column"in e?KS(e):""}function KS(e){return HO(e&&e.line)+":"+HO(e&&e.column)}function VO(e){return KS(e&&e.start)+"-"+KS(e&&e.end)}function HO(e){return e&&typeof e=="number"?e:1}class Cn extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},s=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(s=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?i.ruleId=n:(i.source=n.slice(0,c),i.ruleId=n.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=l?l.line:void 0,this.name=hm(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Cn.prototype.file="";Cn.prototype.name="";Cn.prototype.reason="";Cn.prototype.message="";Cn.prototype.stack="";Cn.prototype.column=void 0;Cn.prototype.line=void 0;Cn.prototype.ancestors=void 0;Cn.prototype.cause=void 0;Cn.prototype.fatal=void 0;Cn.prototype.place=void 0;Cn.prototype.ruleId=void 0;Cn.prototype.source=void 0;const M_={}.hasOwnProperty,gFe=new Map,xFe=/[A-Z]/g,vFe=new Set(["table","tbody","thead","tfoot","tr"]),yFe=new Set(["td","th"]),W7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function bFe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=CFe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=kFe(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?R_:BDe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=G7(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function G7(e,t,r){if(t.type==="element")return wFe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return SFe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return EFe(e,t,r);if(t.type==="mdxjsEsm")return NFe(e,t);if(t.type==="root")return jFe(e,t,r);if(t.type==="text")return _Fe(e,t)}function wFe(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=R_,e.schema=a),e.ancestors.push(t);const i=K7(e,t.tagName,!1),s=TFe(e,t);let l=$_(e,t);return vFe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!ADe(c):!0})),X7(e,s,i,t),L_(s,l),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function SFe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Up(e,t.position)}function NFe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Up(e,t.position)}function EFe(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=R_,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:K7(e,t.name,!0),s=AFe(e,t),l=$_(e,t);return X7(e,s,i,t),L_(s,l),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function jFe(e,t,r){const n={};return L_(n,$_(e,t)),e.create(t,e.Fragment,n,r)}function _Fe(e,t){return t.value}function X7(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function L_(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function kFe(e,t,r){return n;function n(a,i,s,l){const u=Array.isArray(s.children)?r:t;return l?u(i,s,l):u(i,s)}}function CFe(e,t){return r;function r(n,a,i,s){const l=Array.isArray(i.children),c=F_(n);return t(a,i,s,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function TFe(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&M_.call(t.properties,a)){const i=IFe(e,a,t.properties[a]);if(i){const[s,l]=i;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&yFe.has(t.tagName)?n=l:r[s]=l}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function AFe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const s=i.expression;s.type;const l=s.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else Up(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else Up(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function $_(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:gFe;for(;++n<t.children.length;){const i=t.children[n];let s;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;s=c+"-"+u,a.set(c,u+1)}}const l=G7(e,i,s);l!==void 0&&r.push(l)}return r}function IFe(e,t,r){const n=MDe(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?jDe(r):zDe(r)),n.property==="style"){let a=typeof r=="object"?r:PFe(e,String(r));return e.stylePropertyNameCase==="css"&&(a=OFe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?RDe[n.property]||n.property:n.attribute,r]}}function PFe(e,t){try{return pFe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new Cn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=W7+"#cannot-parse-style-attribute",a}}function K7(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,s;for(;++i<a.length;){const l=DO(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}n=s}else n=DO(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return M_.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);Up(e)}function Up(e,t){const r=new Cn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=W7+"#cannot-handle-mdx-estrees-without-createevaluater",r}function OFe(e){const t={};let r;for(r in e)M_.call(e,r)&&(t[RFe(r)]=e[r]);return t}function RFe(e){let t=e.replace(xFe,DFe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function DFe(e){return"-"+e.toLowerCase()}const T1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},FFe={};function B_(e,t){const r=FFe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Y7(e,n,a)}function Y7(e,t,r){if(MFe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return WO(e.children,t,r)}return Array.isArray(e)?WO(e,t,r):""}function WO(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=Y7(e[a],t,r);return n.join("")}function MFe(e){return!!(e&&typeof e=="object")}const GO=document.createElement("i");function z_(e){const t="&"+e+";";GO.innerHTML=t;const r=GO.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function wa(e,t,r,n){const a=e.length;let i=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);i<n.length;)s=n.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function za(e,t){return e.length>0?(wa(e,e.length,0,t),e):t}const XO={}.hasOwnProperty;function J7(e){const t={};let r=-1;for(;++r<e.length;)LFe(t,e[r]);return t}function LFe(e,t){let r;for(r in t){const a=(XO.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let s;if(i)for(s in i){XO.call(a,s)||(a[s]=[]);const l=i[s];$Fe(a[s],Array.isArray(l)?l:l?[l]:[])}}}function $Fe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);wa(e,0,0,n)}function Q7(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function wi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fn=ml(/[A-Za-z]/),Sn=ml(/[\dA-Za-z]/),BFe=ml(/[#-'*+\--9=?A-Z^-~]/);function Yx(e){return e!==null&&(e<32||e===127)}const YS=ml(/\d/),zFe=ml(/[\dA-Fa-f]/),UFe=ml(/[!-/:-@[-`{-~]/);function qe(e){return e!==null&&e<-2}function Bt(e){return e!==null&&(e<0||e===32)}function ut(e){return e===-2||e===-1||e===32}const Uy=ml(new RegExp("\\p{P}|\\p{S}","u")),vc=ml(/\s/);function ml(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function nf(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let s="";if(i===37&&Sn(e.charCodeAt(r+1))&&Sn(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(r+1);i<56320&&l>56319&&l<57344?(s=String.fromCharCode(i,l),a=1):s="�"}else s=String.fromCharCode(i);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+a+1,s=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function ht(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(c){return ut(c)?(e.enter(r),l(c)):t(c)}function l(c){return ut(c)&&i++<a?(e.consume(c),l):(e.exit(r),t(c))}}const qFe={tokenize:VFe};function VFe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ht(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return qe(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),s)}}const HFe={tokenize:WFe},KO={tokenize:GFe};function WFe(e){const t=this,r=[];let n=0,a,i,s;return l;function l(y){if(n<r.length){const j=r[n];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(y)}return u(y)}function c(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const j=t.events.length;let E=j,N;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){N=t.events[E][1].end;break}v(n);let S=j;for(;S<t.events.length;)t.events[S][1].end={...N},S++;return wa(t.events,E+1,0,t.events.slice(j)),t.events.length=S,u(y)}return l(y)}function u(y){if(n===r.length){if(!a)return m(y);if(a.currentConstruct&&a.currentConstruct.concrete)return h(y);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(KO,d,f)(y)}function d(y){return a&&b(),v(n),m(y)}function f(y){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,h(y)}function m(y){return t.containerState={},e.attempt(KO,p,h)(y)}function p(y){return n++,r.push([t.currentConstruct,t.containerState]),m(y)}function h(y){if(y===null){a&&b(),v(0),e.consume(y);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),g(y)}function g(y){if(y===null){x(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return qe(y)?(e.consume(y),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(y),g)}function x(y,j){const E=t.sliceStream(y);if(j&&E.push(null),y.previous=i,i&&(i.next=y),i=y,a.defineSkip(y.start),a.write(E),t.parser.lazy[y.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<s&&(!a.events[N][1].end||a.events[N][1].end.offset>s))return;const S=t.events.length;let T=S,C,k;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(C){k=t.events[T][1].end;break}C=!0}for(v(n),N=S;N<t.events.length;)t.events[N][1].end={...k},N++;wa(t.events,T+1,0,t.events.slice(S)),t.events.length=N}}function v(y){let j=r.length;for(;j-- >y;){const E=r[j];t.containerState=E[1],E[0].exit.call(t,e)}r.length=y}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function GFe(e,t,r){return ht(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Nd(e){if(e===null||Bt(e)||vc(e))return 1;if(Uy(e))return 2}function qy(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const JS={name:"attention",resolveAll:XFe,tokenize:KFe};function XFe(e,t){let r=-1,n,a,i,s,l,c,u,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},m={...e[r][1].start};YO(f,-c),YO(m,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:m},i={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[n][1].end={...s.start},e[r][1].start={...l.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=za(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=za(u,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),u=za(u,qy(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=za(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,u=za(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,wa(e,n-1,r-n+3,u),r=n+u.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function KFe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=Nd(n);let i;return s;function s(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Nd(c),f=!d||d===2&&a||r.includes(c),m=!a||a===2&&d||r.includes(n);return u._open=!!(i===42?f:f&&(a||!m)),u._close=!!(i===42?m:m&&(d||!f)),t(c)}}function YO(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YFe={name:"autolink",tokenize:JFe};function JFe(e,t,r){let n=0;return a;function a(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return Fn(p)?(e.consume(p),s):p===64?r(p):u(p)}function s(p){return p===43||p===45||p===46||Sn(p)?(n=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),n=0,c):(p===43||p===45||p===46||Sn(p))&&n++<32?(e.consume(p),l):(n=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Yx(p)?r(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):BFe(p)?(e.consume(p),u):r(p)}function d(p){return Sn(p)?f(p):r(p)}function f(p){return p===46?(e.consume(p),n=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Sn(p))&&n++<63){const h=p===45?m:f;return e.consume(p),h}return r(p)}}const Rh={partial:!0,tokenize:QFe};function QFe(e,t,r){return n;function n(i){return ut(i)?ht(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||qe(i)?t(i):r(i)}}const Z7={continuation:{tokenize:e6e},exit:t6e,name:"blockQuote",tokenize:ZFe};function ZFe(e,t,r){const n=this;return a;function a(s){if(s===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return r(s)}function i(s){return ut(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function e6e(e,t,r){const n=this;return a;function a(s){return ut(s)?ht(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(Z7,t,r)(s)}}function t6e(e){e.exit("blockQuote")}const e9={name:"characterEscape",tokenize:r6e};function r6e(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return UFe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const t9={name:"characterReference",tokenize:n6e};function n6e(e,t,r){const n=this;let a=0,i,s;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,s=Sn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=zFe,d):(e.enter("characterReferenceValue"),i=7,s=YS,d(f))}function d(f){if(f===59&&a){const m=e.exit("characterReferenceValue");return s===Sn&&!z_(n.sliceSerialize(m))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&a++<i?(e.consume(f),d):r(f)}}const JO={partial:!0,tokenize:i6e},QO={concrete:!0,name:"codeFenced",tokenize:a6e};function a6e(e,t,r){const n=this,a={partial:!0,tokenize:E};let i=0,s=0,l;return c;function c(N){return u(N)}function u(N){const S=n.events[n.events.length-1];return i=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===l?(s++,e.consume(N),d):s<3?r(N):(e.exit("codeFencedFenceSequence"),ut(N)?ht(e,f,"whitespace")(N):f(N))}function f(N){return N===null||qe(N)?(e.exit("codeFencedFence"),n.interrupt?t(N):e.check(JO,g,j)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||qe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):ut(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ht(e,p,"whitespace")(N)):N===96&&N===l?r(N):(e.consume(N),m)}function p(N){return N===null||qe(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||qe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===l?r(N):(e.consume(N),h)}function g(N){return e.attempt(a,j,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return i>0&&ut(N)?ht(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||qe(N)?e.check(JO,g,j)(N):(e.enter("codeFlowValue"),y(N))}function y(N){return N===null||qe(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),y)}function j(N){return e.exit("codeFenced"),t(N)}function E(N,S,T){let C=0;return k;function k(L){return N.enter("lineEnding"),N.consume(L),N.exit("lineEnding"),A}function A(L){return N.enter("codeFencedFence"),ut(L)?ht(N,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):_(L)}function _(L){return L===l?(N.enter("codeFencedFenceSequence"),I(L)):T(L)}function I(L){return L===l?(C++,N.consume(L),I):C>=s?(N.exit("codeFencedFenceSequence"),ut(L)?ht(N,M,"whitespace")(L):M(L)):T(L)}function M(L){return L===null||qe(L)?(N.exit("codeFencedFence"),S(L)):T(L)}}}function i6e(e,t,r){const n=this;return a;function a(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const A1={name:"codeIndented",tokenize:o6e},s6e={partial:!0,tokenize:l6e};function o6e(e,t,r){const n=this;return a;function a(u){return e.enter("codeIndented"),ht(e,i,"linePrefix",5)(u)}function i(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?c(u):qe(u)?e.attempt(s6e,s,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||qe(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function l6e(e,t,r){const n=this;return a;function a(s){return n.parser.lazy[n.now().line]?r(s):qe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):ht(e,i,"linePrefix",5)(s)}function i(s){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):qe(s)?a(s):r(s)}}const c6e={name:"codeText",previous:d6e,resolve:u6e,tokenize:f6e};function u6e(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function d6e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f6e(e,t,r){let n=0,a,i;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),n++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):qe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||qe(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class m6e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&If(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),If(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),If(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);If(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);If(this.left,r.reverse())}}}function If(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function r9(e){const t={};let r=-1,n,a,i,s,l,c,u;const d=new m6e(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,p6e(d,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(s=d.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(n[1].end={...d.get(a)[1].start},l=d.slice(a,r),l.unshift(n),d.splice(a,r-a+1,l))}}return wa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function p6e(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],u={};let d,f,m=-1,p=r,h=0,g=0;const x=[g];for(;p;){for(;e.get(++a)[1]!==p;);i.push(a),p._tokenizer||(d=n.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=r;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(g=m+1,x.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),m=x.length;m--;){const v=l.slice(x[m],x[m+1]),b=i.pop();c.push([b,b+v.length-1]),e.splice(b,2,v)}for(c.reverse(),m=-1;++m<c.length;)u[h+c[m][0]]=h+c[m][1],h+=c[m][1]-c[m][0]-1;return u}const h6e={resolve:x6e,tokenize:v6e},g6e={partial:!0,tokenize:y6e};function x6e(e){return r9(e),e}function v6e(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):qe(l)?e.check(g6e,s,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function y6e(e,t,r){const n=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ht(e,i,"linePrefix")}function i(s){if(s===null||qe(s))return r(s);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function n9(e,t,r,n,a,i,s,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(v),e.exit(i),m):v===null||v===32||v===41||Yx(v)?r(v):(e.enter(n),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(v))}function m(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),m(v)):v===null||v===60||qe(v)?r(v):(e.consume(v),v===92?h:p)}function h(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!d&&(v===null||v===41||Bt(v))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(n),t(v)):d<u&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||Yx(v)?r(v):(e.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function a9(e,t,r,n,a,i){const s=this;let l=0,c;return u;function u(p){return e.enter(n),e.enter(a),e.consume(p),e.exit(a),e.enter(i),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?r(p):p===93?(e.exit(i),e.enter(a),e.consume(p),e.exit(a),e.exit(n),t):qe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||qe(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!ut(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function i9(e,t,r,n,a,i){let s;return l;function l(m){return m===34||m===39||m===40?(e.enter(n),e.enter(a),e.consume(m),e.exit(a),s=m===40?41:m,c):r(m)}function c(m){return m===s?(e.enter(a),e.consume(m),e.exit(a),e.exit(n),t):(e.enter(i),u(m))}function u(m){return m===s?(e.exit(i),c(s)):m===null?r(m):qe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),ht(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===s||m===null||qe(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:d)}function f(m){return m===s||m===92?(e.consume(m),d):d(m)}}function gm(e,t){let r;return n;function n(a){return qe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):ut(a)?ht(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const b6e={name:"definition",tokenize:S6e},w6e={partial:!0,tokenize:N6e};function S6e(e,t,r){const n=this;let a;return i;function i(p){return e.enter("definition"),s(p)}function s(p){return a9.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return a=wi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):r(p)}function c(p){return Bt(p)?gm(e,u)(p):u(p)}function u(p){return n9(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(w6e,f,f)(p)}function f(p){return ut(p)?ht(e,m,"whitespace")(p):m(p)}function m(p){return p===null||qe(p)?(e.exit("definition"),n.parser.defined.push(a),t(p)):r(p)}}function N6e(e,t,r){return n;function n(l){return Bt(l)?gm(e,a)(l):r(l)}function a(l){return i9(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return ut(l)?ht(e,s,"whitespace")(l):s(l)}function s(l){return l===null||qe(l)?t(l):r(l)}}const E6e={name:"hardBreakEscape",tokenize:j6e};function j6e(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return qe(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const _6e={name:"headingAtx",resolve:k6e,tokenize:C6e};function k6e(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},wa(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function C6e(e,t,r){let n=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&n++<6?(e.consume(d),s):d===null||Bt(d)?(e.exit("atxHeadingSequence"),l(d)):r(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||qe(d)?(e.exit("atxHeading"),t(d)):ut(d)?ht(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Bt(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const T6e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZO=["pre","script","style","textarea"],A6e={concrete:!0,name:"htmlFlow",resolveTo:O6e,tokenize:R6e},I6e={partial:!0,tokenize:F6e},P6e={partial:!0,tokenize:D6e};function O6e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function R6e(e,t,r){const n=this;let a,i,s,l,c;return u;function u(R){return d(R)}function d(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),f}function f(R){return R===33?(e.consume(R),m):R===47?(e.consume(R),i=!0,g):R===63?(e.consume(R),a=3,n.interrupt?t:F):Fn(R)?(e.consume(R),s=String.fromCharCode(R),x):r(R)}function m(R){return R===45?(e.consume(R),a=2,p):R===91?(e.consume(R),a=5,l=0,h):Fn(R)?(e.consume(R),a=4,n.interrupt?t:F):r(R)}function p(R){return R===45?(e.consume(R),n.interrupt?t:F):r(R)}function h(R){const K="CDATA[";return R===K.charCodeAt(l++)?(e.consume(R),l===K.length?n.interrupt?t:_:h):r(R)}function g(R){return Fn(R)?(e.consume(R),s=String.fromCharCode(R),x):r(R)}function x(R){if(R===null||R===47||R===62||Bt(R)){const K=R===47,J=s.toLowerCase();return!K&&!i&&ZO.includes(J)?(a=1,n.interrupt?t(R):_(R)):T6e.includes(s.toLowerCase())?(a=6,K?(e.consume(R),v):n.interrupt?t(R):_(R)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(R):i?b(R):y(R))}return R===45||Sn(R)?(e.consume(R),s+=String.fromCharCode(R),x):r(R)}function v(R){return R===62?(e.consume(R),n.interrupt?t:_):r(R)}function b(R){return ut(R)?(e.consume(R),b):k(R)}function y(R){return R===47?(e.consume(R),k):R===58||R===95||Fn(R)?(e.consume(R),j):ut(R)?(e.consume(R),y):k(R)}function j(R){return R===45||R===46||R===58||R===95||Sn(R)?(e.consume(R),j):E(R)}function E(R){return R===61?(e.consume(R),N):ut(R)?(e.consume(R),E):y(R)}function N(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),c=R,S):ut(R)?(e.consume(R),N):T(R)}function S(R){return R===c?(e.consume(R),c=null,C):R===null||qe(R)?r(R):(e.consume(R),S)}function T(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Bt(R)?E(R):(e.consume(R),T)}function C(R){return R===47||R===62||ut(R)?y(R):r(R)}function k(R){return R===62?(e.consume(R),A):r(R)}function A(R){return R===null||qe(R)?_(R):ut(R)?(e.consume(R),A):r(R)}function _(R){return R===45&&a===2?(e.consume(R),W):R===60&&a===1?(e.consume(R),H):R===62&&a===4?(e.consume(R),ne):R===63&&a===3?(e.consume(R),F):R===93&&a===5?(e.consume(R),B):qe(R)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(I6e,U,I)(R)):R===null||qe(R)?(e.exit("htmlFlowData"),I(R)):(e.consume(R),_)}function I(R){return e.check(P6e,M,U)(R)}function M(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),L}function L(R){return R===null||qe(R)?I(R):(e.enter("htmlFlowData"),_(R))}function W(R){return R===45?(e.consume(R),F):_(R)}function H(R){return R===47?(e.consume(R),s="",q):_(R)}function q(R){if(R===62){const K=s.toLowerCase();return ZO.includes(K)?(e.consume(R),ne):_(R)}return Fn(R)&&s.length<8?(e.consume(R),s+=String.fromCharCode(R),q):_(R)}function B(R){return R===93?(e.consume(R),F):_(R)}function F(R){return R===62?(e.consume(R),ne):R===45&&a===2?(e.consume(R),F):_(R)}function ne(R){return R===null||qe(R)?(e.exit("htmlFlowData"),U(R)):(e.consume(R),ne)}function U(R){return e.exit("htmlFlow"),t(R)}}function D6e(e,t,r){const n=this;return a;function a(s){return qe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):r(s)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function F6e(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Rh,t,r)}}const M6e={name:"htmlText",tokenize:L6e};function L6e(e,t,r){const n=this;let a,i,s;return l;function l(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),c}function c(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),E):F===63?(e.consume(F),y):Fn(F)?(e.consume(F),T):r(F)}function u(F){return F===45?(e.consume(F),d):F===91?(e.consume(F),i=0,h):Fn(F)?(e.consume(F),b):r(F)}function d(F){return F===45?(e.consume(F),p):r(F)}function f(F){return F===null?r(F):F===45?(e.consume(F),m):qe(F)?(s=f,H(F)):(e.consume(F),f)}function m(F){return F===45?(e.consume(F),p):f(F)}function p(F){return F===62?W(F):F===45?m(F):f(F)}function h(F){const ne="CDATA[";return F===ne.charCodeAt(i++)?(e.consume(F),i===ne.length?g:h):r(F)}function g(F){return F===null?r(F):F===93?(e.consume(F),x):qe(F)?(s=g,H(F)):(e.consume(F),g)}function x(F){return F===93?(e.consume(F),v):g(F)}function v(F){return F===62?W(F):F===93?(e.consume(F),v):g(F)}function b(F){return F===null||F===62?W(F):qe(F)?(s=b,H(F)):(e.consume(F),b)}function y(F){return F===null?r(F):F===63?(e.consume(F),j):qe(F)?(s=y,H(F)):(e.consume(F),y)}function j(F){return F===62?W(F):y(F)}function E(F){return Fn(F)?(e.consume(F),N):r(F)}function N(F){return F===45||Sn(F)?(e.consume(F),N):S(F)}function S(F){return qe(F)?(s=S,H(F)):ut(F)?(e.consume(F),S):W(F)}function T(F){return F===45||Sn(F)?(e.consume(F),T):F===47||F===62||Bt(F)?C(F):r(F)}function C(F){return F===47?(e.consume(F),W):F===58||F===95||Fn(F)?(e.consume(F),k):qe(F)?(s=C,H(F)):ut(F)?(e.consume(F),C):W(F)}function k(F){return F===45||F===46||F===58||F===95||Sn(F)?(e.consume(F),k):A(F)}function A(F){return F===61?(e.consume(F),_):qe(F)?(s=A,H(F)):ut(F)?(e.consume(F),A):C(F)}function _(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),a=F,I):qe(F)?(s=_,H(F)):ut(F)?(e.consume(F),_):(e.consume(F),M)}function I(F){return F===a?(e.consume(F),a=void 0,L):F===null?r(F):qe(F)?(s=I,H(F)):(e.consume(F),I)}function M(F){return F===null||F===34||F===39||F===60||F===61||F===96?r(F):F===47||F===62||Bt(F)?C(F):(e.consume(F),M)}function L(F){return F===47||F===62||Bt(F)?C(F):r(F)}function W(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):r(F)}function H(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),q}function q(F){return ut(F)?ht(e,B,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):B(F)}function B(F){return e.enter("htmlTextData"),s(F)}}const U_={name:"labelEnd",resolveAll:U6e,resolveTo:q6e,tokenize:V6e},$6e={tokenize:H6e},B6e={tokenize:W6e},z6e={tokenize:G6e};function U6e(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&wa(e,0,e.length,r),e}function q6e(e,t){let r=e.length,n=0,a,i,s,l;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(s=r);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=za(l,e.slice(i+1,i+n+3)),l=za(l,[["enter",d,t]]),l=za(l,qy(t.parser.constructs.insideSpan.null,e.slice(i+n+4,s-3),t)),l=za(l,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),l=za(l,e.slice(s+1)),l=za(l,[["exit",c,t]]),wa(e,i,e.length,l),e}function V6e(e,t,r){const n=this;let a=n.events.length,i,s;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return l;function l(m){return i?i._inactive?f(m):(s=n.parser.defined.includes(wi(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):r(m)}function c(m){return m===40?e.attempt($6e,d,s?d:f)(m):m===91?e.attempt(B6e,d,s?u:f)(m):s?d(m):f(m)}function u(m){return e.attempt(z6e,d,f)(m)}function d(m){return t(m)}function f(m){return i._balanced=!0,r(m)}}function H6e(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Bt(f)?gm(e,i)(f):i(f)}function i(f){return f===41?d(f):n9(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Bt(f)?gm(e,c)(f):d(f)}function l(f){return r(f)}function c(f){return f===34||f===39||f===40?i9(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Bt(f)?gm(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function W6e(e,t,r){const n=this;return a;function a(l){return a9.call(n,e,i,s,"reference","referenceMarker","referenceString")(l)}function i(l){return n.parser.defined.includes(wi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function s(l){return r(l)}}function G6e(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const X6e={name:"labelStartImage",resolveAll:U_.resolveAll,tokenize:K6e};function K6e(e,t,r){const n=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):r(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const Y6e={name:"labelStartLink",resolveAll:U_.resolveAll,tokenize:J6e};function J6e(e,t,r){const n=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const I1={name:"lineEnding",tokenize:Q6e};function Q6e(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ht(e,t,"linePrefix")}}const rg={name:"thematicBreak",tokenize:Z6e};function Z6e(e,t,r){let n=0,a;return i;function i(u){return e.enter("thematicBreak"),s(u)}function s(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||qe(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===a?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),ut(u)?ht(e,l,"whitespace")(u):l(u))}}const Hn={continuation:{tokenize:nMe},exit:iMe,name:"list",tokenize:rMe},eMe={partial:!0,tokenize:sMe},tMe={partial:!0,tokenize:aMe};function rMe(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return l;function l(p){const h=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:YS(p)){if(n.containerState.type||(n.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(rg,r,u)(p):u(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return r(p)}function c(p){return YS(p)&&++s<10?(e.consume(p),c):(!n.interrupt||s<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):r(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(Rh,n.interrupt?r:d,e.attempt(eMe,m,f))}function d(p){return n.containerState.initialBlankLine=!0,i++,m(p)}function f(p){return ut(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):r(p)}function m(p){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function nMe(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Rh,a,i);function a(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ht(e,t,"listItemIndent",n.containerState.size+1)(l)}function i(l){return n.containerState.furtherBlankLines||!ut(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(tMe,t,s)(l))}function s(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,ht(e,e.attempt(Hn,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function aMe(e,t,r){const n=this;return ht(e,a,"listItemIndent",n.containerState.size+1);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(i):r(i)}}function iMe(e){e.exit(this.containerState.type)}function sMe(e,t,r){const n=this;return ht(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=n.events[n.events.length-1];return!ut(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const eR={name:"setextUnderline",resolveTo:oMe,tokenize:lMe};function oMe(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function lMe(e,t,r){const n=this;let a;return i;function i(u){let d=n.events.length,f;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){f=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),a=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),ut(u)?ht(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||qe(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const cMe={tokenize:uMe};function uMe(e){const t=this,r=e.attempt(Rh,n,e.attempt(this.parser.constructs.flowInitial,a,ht(e,e.attempt(this.parser.constructs.flow,a,e.attempt(h6e,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const dMe={resolveAll:o9()},fMe=s9("string"),mMe=s9("text");function s9(e){return{resolveAll:o9(e==="text"?pMe:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,s,l);return s;function s(d){return u(d)?i(d):l(d)}function l(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),c}function c(d){return u(d)?(r.exit("data"),i(d)):(r.consume(d),c)}function u(d){if(d===null)return!0;const f=a[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function o9(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function pMe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,s=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const u={type:r===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:n.start._bufferIndex+s,_index:n.start._index+i,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const hMe={42:Hn,43:Hn,45:Hn,48:Hn,49:Hn,50:Hn,51:Hn,52:Hn,53:Hn,54:Hn,55:Hn,56:Hn,57:Hn,62:Z7},gMe={91:b6e},xMe={[-2]:A1,[-1]:A1,32:A1},vMe={35:_6e,42:rg,45:[eR,rg],60:A6e,61:eR,95:rg,96:QO,126:QO},yMe={38:t9,92:e9},bMe={[-5]:I1,[-4]:I1,[-3]:I1,33:X6e,38:t9,42:JS,60:[YFe,M6e],91:Y6e,92:[E6e,e9],93:U_,95:JS,96:c6e},wMe={null:[JS,dMe]},SMe={null:[42,95]},NMe={null:[]},EMe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SMe,contentInitial:gMe,disable:NMe,document:hMe,flow:vMe,flowInitial:xMe,insideSpan:wMe,string:yMe,text:bMe},Symbol.toStringTag,{value:"Module"}));function jMe(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let s=[],l=[];const c={attempt:S(E),check:S(N),consume:b,enter:y,exit:j,interrupt:S(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:h,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function f(A){return s=za(s,A),x(),s[s.length-1]!==null?[]:(T(t,0),u.events=qy(i,u.events,u),u.events)}function m(A,_){return kMe(p(A),_)}function p(A){return _Me(s,A)}function h(){const{_bufferIndex:A,_index:_,line:I,column:M,offset:L}=n;return{_bufferIndex:A,_index:_,line:I,column:M,offset:L}}function g(A){a[A.line]=A.column,k()}function x(){let A;for(;n._index<s.length;){const _=s[n._index];if(typeof _=="string")for(A=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===A&&n._bufferIndex<_.length;)v(_.charCodeAt(n._bufferIndex));else v(_)}}function v(A){d=d(A)}function b(A){qe(A)?(n.line++,n.column=1,n.offset+=A===-3?2:1,k()):A!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=A}function y(A,_){const I=_||{};return I.type=A,I.start=h(),u.events.push(["enter",I,u]),l.push(I),I}function j(A){const _=l.pop();return _.end=h(),u.events.push(["exit",_,u]),_}function E(A,_){T(A,_.from)}function N(A,_){_.restore()}function S(A,_){return I;function I(M,L,W){let H,q,B,F;return Array.isArray(M)?U(M):"tokenize"in M?U([M]):ne(M);function ne(te){return re;function re(P){const z=P!==null&&te[P],D=P!==null&&te.null,G=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(D)?D:D?[D]:[]];return U(G)(P)}}function U(te){return H=te,q=0,te.length===0?W:R(te[q])}function R(te){return re;function re(P){return F=C(),B=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?J():te.tokenize.call(_?Object.assign(Object.create(u),_):u,c,K,J)(P)}}function K(te){return A(B,F),L}function J(te){return F.restore(),++q<H.length?R(H[q]):W}}}function T(A,_){A.resolveAll&&!i.includes(A)&&i.push(A),A.resolve&&wa(u.events,_,u.events.length-_,A.resolve(u.events.slice(_),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function C(){const A=h(),_=u.previous,I=u.currentConstruct,M=u.events.length,L=Array.from(l);return{from:M,restore:W};function W(){n=A,u.previous=_,u.currentConstruct=I,u.events.length=M,l=L,k()}}function k(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function _Me(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let s;if(r===a)s=[e[r].slice(n,i)];else{if(s=e.slice(r,a),n>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(n):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function kMe(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,n.push(s)}return n.join("")}function CMe(e){const n={constructs:J7([EMe,...(e||{}).extensions||[]]),content:a(qFe),defined:[],document:a(HFe),flow:a(cMe),lazy:{},string:a(fMe),text:a(mMe)};return n;function a(i){return s;function s(l){return jMe(n,i,l)}}}function TMe(e){for(;!r9(e););return e}const tR=/[\0\t\n\r]/g;function AMe(){let e=1,t="",r=!0,n;return a;function a(i,s,l){const c=[];let u,d,f,m,p;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,t="",r&&(i.charCodeAt(0)===65279&&f++,r=void 0);f<i.length;){if(tR.lastIndex=f,u=tR.exec(i),m=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(m),!u){t=i.slice(f);break}if(p===10&&f===m&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),f<m&&(c.push(i.slice(f,m)),e+=m-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}f=m+1}return l&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const IMe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function PMe(e){return e.replace(IMe,OMe)}function OMe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return Q7(r.slice(i?2:1),i?16:10)}return z_(r)||e}const l9={}.hasOwnProperty;function RMe(e,t,r){return typeof t!="string"&&(r=t,t=void 0),DMe(r)(TMe(CMe(r).document().write(AMe()(e,t,!0))))}function DMe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i($e),autolinkProtocol:C,autolinkEmail:C,atxHeading:i(ue),blockQuote:i(D),characterEscape:C,characterReference:C,codeFenced:i(G),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(G,s),codeText:i(O,s),codeTextData:C,data:C,codeFlowValue:C,definition:i(fe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ie),hardBreakEscape:i(ye),hardBreakTrailing:i(ye),htmlFlow:i(oe,s),htmlFlowData:C,htmlText:i(oe,s),htmlTextData:C,image:i(we),label:s,link:i($e),listItem:i(Ve),listItemValue:m,listOrdered:i(ze,f),listUnordered:i(ze),paragraph:i(Wt),reference:R,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(ue),strong:i(ar),thematicBreak:i(cn)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:z,autolinkProtocol:P,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:te,characterReference:re,codeFenced:c(x),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:h,codeFlowValue:k,codeIndented:c(v),codeText:c(L),codeTextData:k,data:k,definition:c(),definitionDestinationString:j,definitionLabelString:b,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(_),hardBreakTrailing:c(_),htmlFlow:c(I),htmlFlowData:k,htmlText:c(M),htmlTextData:k,image:c(H),label:B,labelText:q,lineEnding:A,link:c(W),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:K,resourceDestinationString:F,resourceTitleString:ne,resource:U,setextHeading:c(T),setextHeadingLineSequence:S,setextHeadingText:N,strong:c(),thematicBreak:c()}};c9(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(he){let Ee={type:"root",children:[]};const Be={stack:[Ee],tokenStack:[],config:t,enter:l,exit:u,buffer:s,resume:d,data:r},Ye=[];let De=-1;for(;++De<he.length;)if(he[De][1].type==="listOrdered"||he[De][1].type==="listUnordered")if(he[De][0]==="enter")Ye.push(De);else{const gt=Ye.pop();De=a(he,gt,De)}for(De=-1;++De<he.length;){const gt=t[he[De][0]];l9.call(gt,he[De][1].type)&&gt[he[De][1].type].call(Object.assign({sliceSerialize:he[De][2].sliceSerialize},Be),he[De][1])}if(Be.tokenStack.length>0){const gt=Be.tokenStack[Be.tokenStack.length-1];(gt[1]||rR).call(Be,void 0,gt[0])}for(Ee.position={start:io(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:io(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)Ee=t.transforms[De](Ee)||Ee;return Ee}function a(he,Ee,Be){let Ye=Ee-1,De=-1,gt=!1,Er,kt,oa,Zs;for(;++Ye<=Be;){const Tn=he[Ye];switch(Tn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tn[0]==="enter"?De++:De--,Zs=void 0;break}case"lineEndingBlank":{Tn[0]==="enter"&&(Er&&!Zs&&!De&&!oa&&(oa=Ye),Zs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zs=void 0}if(!De&&Tn[0]==="enter"&&Tn[1].type==="listItemPrefix"||De===-1&&Tn[0]==="exit"&&(Tn[1].type==="listUnordered"||Tn[1].type==="listOrdered")){if(Er){let eo=Ye;for(kt=void 0;eo--;){const Ca=he[eo];if(Ca[1].type==="lineEnding"||Ca[1].type==="lineEndingBlank"){if(Ca[0]==="exit")continue;kt&&(he[kt][1].type="lineEndingBlank",gt=!0),Ca[1].type="lineEnding",kt=eo}else if(!(Ca[1].type==="linePrefix"||Ca[1].type==="blockQuotePrefix"||Ca[1].type==="blockQuotePrefixWhitespace"||Ca[1].type==="blockQuoteMarker"||Ca[1].type==="listItemIndent"))break}oa&&(!kt||oa<kt)&&(Er._spread=!0),Er.end=Object.assign({},kt?he[kt][1].start:Tn[1].end),he.splice(kt||Ye,0,["exit",Er,Tn[2]]),Ye++,Be++}if(Tn[1].type==="listItemPrefix"){const eo={type:"listItem",_spread:!1,start:Object.assign({},Tn[1].start),end:void 0};Er=eo,he.splice(Ye,0,["enter",eo,Tn[2]]),Ye++,Be++,oa=void 0,Zs=!0}}}return he[Ee][1]._spread=gt,Be}function i(he,Ee){return Be;function Be(Ye){l.call(this,he(Ye),Ye),Ee&&Ee.call(this,Ye)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(he,Ee,Be){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Ee,Be||void 0]),he.position={start:io(Ee.start),end:void 0}}function c(he){return Ee;function Ee(Be){he&&he.call(this,Be),u.call(this,Be)}}function u(he,Ee){const Be=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==he.type&&(Ee?Ee.call(this,he,Ye[0]):(Ye[1]||rR).call(this,he,Ye[0]));else throw new Error("Cannot close `"+he.type+"` ("+hm({start:he.start,end:he.end})+"): it’s not open");Be.position.end=io(he.end)}function d(){return B_(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(he){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function p(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=he}function h(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=he}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Ee=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ee,Be.identifier=wi(this.sliceSerialize(he)).toLowerCase()}function y(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=he}function j(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=he}function E(he){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Be=this.sliceSerialize(he).length;Ee.depth=Be}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function S(he){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function C(he){const Be=this.stack[this.stack.length-1].children;let Ye=Be[Be.length-1];(!Ye||Ye.type!=="text")&&(Ye=zt(),Ye.position={start:io(he.start),end:void 0},Be.push(Ye)),this.stack.push(Ye)}function k(he){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(he),Ee.position.end=io(he.end)}function A(he){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=Ee.children[Ee.children.length-1];Be.position.end=io(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ee.type)&&(C.call(this,he),k.call(this,he))}function _(){this.data.atHardBreak=!0}function I(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=he}function M(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=he}function L(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=he}function W(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ee,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function H(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ee,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function q(he){const Ee=this.sliceSerialize(he),Be=this.stack[this.stack.length-2];Be.label=PMe(Ee),Be.identifier=wi(Ee).toLowerCase()}function B(){const he=this.stack[this.stack.length-1],Ee=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const Ye=he.children;Be.children=Ye}else Be.alt=Ee}function F(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=he}function ne(){const he=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=he}function U(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function K(he){const Ee=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ee,Be.identifier=wi(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function J(he){this.data.characterReferenceType=he.type}function te(he){const Ee=this.sliceSerialize(he),Be=this.data.characterReferenceType;let Ye;Be?(Ye=Q7(Ee,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=z_(Ee);const De=this.stack[this.stack.length-1];De.value+=Ye}function re(he){const Ee=this.stack.pop();Ee.position.end=io(he.end)}function P(he){k.call(this,he);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(he)}function z(he){k.call(this,he);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(he)}function D(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function O(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ie(){return{type:"emphasis",children:[]}}function ue(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function oe(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function ze(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Ve(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function Wt(){return{type:"paragraph",children:[]}}function ar(){return{type:"strong",children:[]}}function zt(){return{type:"text",value:""}}function cn(){return{type:"thematicBreak"}}}function io(e){return{line:e.line,column:e.column,offset:e.offset}}function c9(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?c9(e,n):FMe(e,n)}}function FMe(e,t){let r;for(r in t)if(l9.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function rR(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+hm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+hm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+hm({start:t.start,end:t.end})+") is still open")}function MMe(e){const t=this;t.parser=r;function r(n){return RMe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function LMe(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function $Me(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function BMe(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function zMe(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UMe(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qMe(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=nf(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=i+1,l+=1,e.footnoteCounts.set(n,l);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function VMe(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HMe(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function u9(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=n:a.push({type:"text",value:n}),a}function WMe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return u9(e,t);const a={src:nf(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function GMe(e,t){const r={src:nf(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function XMe(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function KMe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return u9(e,t);const a={href:nf(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function YMe(e,t){const r={href:nf(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JMe(e,t,r){const n=e.all(t),a=r?QMe(r):d9(t),i={},s=[];if(typeof t.checked=="boolean"){const d=n[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const d=n[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?s.push(...d.children):s.push(d)}const c=n[n.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,u),e.applyData(t,u)}function QMe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=d9(r[n])}return t}function d9(e){const t=e.spread;return t??e.children.length>1}function ZMe(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const s=n[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function eLe(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tLe(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function rLe(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nLe(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),a.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=F_(t.children[1]),c=V7(t.children[t.children.length-1]);l&&c&&(s.position={start:l,end:c}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function aLe(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,l=s?s.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],m={},p=s?s[c]:void 0;p&&(m.align=p);let h={type:"element",tagName:i,properties:m,children:[]};f&&(h.children=e.all(f),e.patch(f,h),h=e.applyData(f,h)),u.push(h)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function iLe(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const nR=9,aR=32;function sLe(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(iR(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(iR(t.slice(a),a>0,!1)),i.join("")}function iR(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===nR||i===aR;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===nR||i===aR;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function oLe(e,t){const r={type:"text",value:sLe(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function lLe(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const cLe={blockquote:LMe,break:$Me,code:BMe,delete:zMe,emphasis:UMe,footnoteReference:qMe,heading:VMe,html:HMe,imageReference:WMe,image:GMe,inlineCode:XMe,linkReference:KMe,link:YMe,listItem:JMe,list:ZMe,paragraph:eLe,root:tLe,strong:rLe,table:nLe,tableCell:iLe,tableRow:aLe,text:oLe,thematicBreak:lLe,toml:k0,yaml:k0,definition:k0,footnoteDefinition:k0};function k0(){}const f9=-1,Vy=0,xm=1,Jx=2,q_=3,V_=4,H_=5,W_=6,m9=7,p9=8,sR=typeof self=="object"?self:globalThis,uLe=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,s]=t[a];switch(i){case Vy:case f9:return r(s,a);case xm:{const l=r([],a);for(const c of s)l.push(n(c));return l}case Jx:{const l=r({},a);for(const[c,u]of s)l[n(c)]=n(u);return l}case q_:return r(new Date(s),a);case V_:{const{source:l,flags:c}=s;return r(new RegExp(l,c),a)}case H_:{const l=r(new Map,a);for(const[c,u]of s)l.set(n(c),n(u));return l}case W_:{const l=r(new Set,a);for(const c of s)l.add(n(c));return l}case m9:{const{name:l,message:c}=s;return r(new sR[l](c),a)}case p9:return r(BigInt(s),a);case"BigInt":return r(Object(BigInt(s)),a);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return r(new DataView(l),s)}}return r(new sR[i](s),a)};return n},oR=e=>uLe(new Map,e)(0),Vc="",{toString:dLe}={},{keys:fLe}=Object,Pf=e=>{const t=typeof e;if(t!=="object"||!e)return[Vy,t];const r=dLe.call(e).slice(8,-1);switch(r){case"Array":return[xm,Vc];case"Object":return[Jx,Vc];case"Date":return[q_,Vc];case"RegExp":return[V_,Vc];case"Map":return[H_,Vc];case"Set":return[W_,Vc];case"DataView":return[xm,r]}return r.includes("Array")?[xm,r]:r.includes("Error")?[m9,r]:[Jx,r]},C0=([e,t])=>e===Vy&&(t==="function"||t==="symbol"),mLe=(e,t,r,n)=>{const a=(s,l)=>{const c=n.push(s)-1;return r.set(l,c),c},i=s=>{if(r.has(s))return r.get(s);let[l,c]=Pf(s);switch(l){case Vy:{let d=s;switch(c){case"bigint":l=p9,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([f9],s)}return a([l,d],s)}case xm:{if(c){let m=s;return c==="DataView"?m=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(s)),a([c,[...m]],s)}const d=[],f=a([l,d],s);for(const m of s)d.push(i(m));return f}case Jx:{if(c)switch(c){case"BigInt":return a([c,s.toString()],s);case"Boolean":case"Number":case"String":return a([c,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const d=[],f=a([l,d],s);for(const m of fLe(s))(e||!C0(Pf(s[m])))&&d.push([i(m),i(s[m])]);return f}case q_:return a([l,s.toISOString()],s);case V_:{const{source:d,flags:f}=s;return a([l,{source:d,flags:f}],s)}case H_:{const d=[],f=a([l,d],s);for(const[m,p]of s)(e||!(C0(Pf(m))||C0(Pf(p))))&&d.push([i(m),i(p)]);return f}case W_:{const d=[],f=a([l,d],s);for(const m of s)(e||!C0(Pf(m)))&&d.push(i(m));return f}}const{message:u}=s;return a([l,{name:c,message:u}],s)};return i},lR=(e,{json:t,lossy:r}={})=>{const n=[];return mLe(!(t||r),!!t,new Map,n)(e),n},Qx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?oR(lR(e,t)):structuredClone(e):(e,t)=>oR(lR(e,t));function pLe(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function hLe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gLe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||pLe,n=e.options.footnoteBackLabel||hLe,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),m=nf(f.toLowerCase());let p=0;const h=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){h.length>0&&h.push({type:"text",value:" "});let b=typeof r=="string"?r:r(c,p);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Qx(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Hy=function(e){if(e==null)return bLe;if(typeof e=="function")return Wy(e);if(typeof e=="object")return Array.isArray(e)?xLe(e):vLe(e);if(typeof e=="string")return yLe(e);throw new Error("Expected function, string, or object as test")};function xLe(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Hy(e[r]);return Wy(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function vLe(e){const t=e;return Wy(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function yLe(e){return Wy(t);function t(r){return r&&r.type===e}}function Wy(e){return t;function t(r,n,a){return!!(wLe(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function bLe(){return!0}function wLe(e){return e!==null&&typeof e=="object"&&"type"in e}const h9=[],SLe=!0,QS=!1,NLe="skip";function g9(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=Hy(a),s=n?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=h9,h,g,x;if((!t||i(c,u,d[d.length-1]||void 0))&&(p=ELe(r(c,d)),p[0]===QS))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==NLe)for(g=(n?v.children.length:-1)+s,x=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(h=l(b,g,x)(),h[0]===QS)return h;g=typeof h[1]=="number"?h[1]:g+s}}return p}}}function ELe(e){return Array.isArray(e)?e:typeof e=="number"?[SLe,e]:e==null?h9:[e]}function G_(e,t,r,n){let a,i,s;typeof t=="function"&&typeof r!="function"?(i=void 0,s=t,a=r):(i=t,s=r,a=n),g9(e,i,l,a);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return s(c,f,d)}}const ZS={}.hasOwnProperty,jLe={};function _Le(e,t){const r=t||jLe,n=new Map,a=new Map,i=new Map,s={...cLe,...r.handlers},l={all:u,applyData:CLe,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:c,options:r,patch:kLe,wrap:ALe};return G_(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?n:a,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),l;function c(d,f){const m=d.type,p=l.handlers[m];if(ZS.call(l.handlers,m)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:g,...x}=d,v=Qx(x);return v.children=l.all(d),v}return Qx(d)}return(l.options.unknownHandler||TLe)(l,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const h=l.one(m[p],d);if(h){if(p&&m[p-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=cR(h.value)),!Array.isArray(h)&&h.type==="element")){const g=h.children[0];g&&g.type==="text"&&(g.value=cR(g.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function kLe(e,t){e.position&&(t.position=hFe(e))}function CLe(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&i&&Object.assign(r.properties,Qx(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function TLe(e,t){const r=t.data||{},n="value"in t&&!(ZS.call(r,"hProperties")||ZS.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ALe(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function cR(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function uR(e,t){const r=_Le(e,t),n=r.one(e,void 0),a=gLe(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function ILe(e,t){return e&&"run"in e?async function(r,n){const a=uR(r,{file:n,...t});await e.run(a,n)}:function(r,n){return uR(r,{file:n,...e||t})}}function dR(e){if(e)throw e}var ng=Object.prototype.hasOwnProperty,x9=Object.prototype.toString,fR=Object.defineProperty,mR=Object.getOwnPropertyDescriptor,pR=function(t){return typeof Array.isArray=="function"?Array.isArray(t):x9.call(t)==="[object Array]"},hR=function(t){if(!t||x9.call(t)!=="[object Object]")return!1;var r=ng.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&ng.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||ng.call(t,a)},gR=function(t,r){fR&&r.name==="__proto__"?fR(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},xR=function(t,r){if(r==="__proto__")if(ng.call(t,r)){if(mR)return mR(t,r).value}else return;return t[r]},PLe=function e(){var t,r,n,a,i,s,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=xR(l,r),a=xR(t,r),l!==a&&(d&&a&&(hR(a)||(i=pR(a)))?(i?(i=!1,s=n&&pR(n)?n:[]):s=n&&hR(n)?n:{},gR(l,{name:r,newValue:e(d,s,a)})):typeof a<"u"&&gR(l,{name:r,newValue:a}));return l};const P1=Ot(PLe);function eN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function OLe(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...a);function l(c,...u){const d=e[++i];let f=-1;if(c){s(c);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?RLe(d,l)(...u):s(null,...u)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function RLe(e,t){let r;return n;function n(...s){const l=e.length>s.length;let c;l&&s.push(a);try{c=e.apply(this,s)}catch(u){const d=u;if(l&&r)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(s,...l){r||(r=!0,t(s,...l))}function i(s){a(null,s)}}const Ri={basename:DLe,dirname:FLe,extname:MLe,join:LLe,sep:"/"};function DLe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dh(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else s<0&&(i=!0,s=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(n=a):(l=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function FLe(e){if(Dh(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function MLe(e){Dh(e);let t=e.length,r=-1,n=0,a=-1,i=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function LLe(...e){let t=-1,r;for(;++t<e.length;)Dh(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":$Le(r)}function $Le(e){Dh(e);const t=e.codePointAt(0)===47;let r=BLe(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function BLe(e,t){let r="",n=0,a=-1,i=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),a=s,i=0;continue}}else if(r.length>0){r="",n=0,a=s,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),n=s-a-1;a=s,i=0}else l===46&&i>-1?i++:i=-1}return r}function Dh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const zLe={cwd:ULe};function ULe(){return"/"}function tN(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qLe(e){if(typeof e=="string")e=new URL(e);else if(!tN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VLe(e)}function VLe(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const O1=["history","path","basename","stem","extname","dirname"];class v9{constructor(t){let r;t?tN(t)?r={path:t}:typeof t=="string"||HLe(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":zLe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<O1.length;){const i=O1[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)O1.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Ri.basename(this.path):void 0}set basename(t){D1(t,"basename"),R1(t,"basename"),this.path=Ri.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ri.dirname(this.path):void 0}set dirname(t){vR(this.basename,"dirname"),this.path=Ri.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ri.extname(this.path):void 0}set extname(t){if(R1(t,"extname"),vR(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ri.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){tN(t)&&(t=qLe(t)),D1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ri.basename(this.path,this.extname):void 0}set stem(t){D1(t,"stem"),R1(t,"stem"),this.path=Ri.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new Cn(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function R1(e,t){if(e&&e.includes(Ri.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ri.sep+"`")}function D1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vR(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function HLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WLe=function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},GLe={}.hasOwnProperty;class X_ extends WLe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OLe()}copy(){const t=new X_;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(P1(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(L1("data",this.frozen),this.namespace[t]=r,this):GLe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(L1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=T0(t),n=this.parser||this.Parser;return F1("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),F1("process",this.parser||this.Parser),M1("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,s){const l=T0(t),c=n.parse(l);n.run(c,l,function(d,f,m){if(d||!f||!m)return u(d);const p=f,h=n.stringify(p,m);YLe(h)?m.value=h:m.result=h,u(d,m)});function u(d,f){d||!f?s(d):i?i(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),F1("processSync",this.parser||this.Parser),M1("processSync",this.compiler||this.Compiler),this.process(t,a),bR("processSync","process",r),n;function a(i,s){r=!0,dR(i),n=s}}run(t,r,n){yR(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(s,l){const c=T0(r);a.run(t,c,u);function u(d,f,m){const p=f||t;d?l(d):s?s(p):n(void 0,p,m)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),bR("runSync","run",n),a;function i(s,l){dR(s),a=l,n=!0}}stringify(t,r){this.freeze();const n=T0(r),a=this.compiler||this.Compiler;return M1("stringify",a),yR(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(L1("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=P1(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,m=-1;for(;++f<n.length;)if(n[f][0]===u){m=f;break}if(m===-1)n.push([u,...d]);else if(d.length>0){let[p,...h]=d;const g=n[m][1];eN(g)&&eN(p)&&(p=P1(!0,g,p)),n[m]=[u,p,...h]}}}}const XLe=new X_().freeze();function F1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function M1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function L1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yR(e){if(!eN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bR(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function T0(e){return KLe(e)?e:new v9(e)}function KLe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function YLe(e){return typeof e=="string"||JLe(e)}function JLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QLe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wR=[],SR={allowDangerousHtml:!0},ZLe=/^(https?|ircs?|mailto|xmpp)$/i,e8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function af(e){const t=t8e(e),r=r8e(e);return n8e(t.runSync(t.parse(r),r),e)}function t8e(e){const t=e.rehypePlugins||wR,r=e.remarkPlugins||wR,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...SR}:SR;return XLe().use(MMe).use(r).use(ILe,n).use(t)}function r8e(e){const t=e.children||"",r=new v9;return typeof t=="string"&&(r.value=t),r}function n8e(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||a8e;for(const d of e8e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+QLe+d.id,void 0);return G_(e,u),bFe(e,{Fragment:o.Fragment,components:a,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return s?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in T1)if(Object.hasOwn(T1,p)&&Object.hasOwn(d.properties,p)){const h=d.properties[p],g=T1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=c(String(h||""),p,d))}}if(d.type==="element"){let p=r?!r.includes(d.tagName):i?i.includes(d.tagName):!1;if(!p&&n&&typeof f=="number"&&(p=!n(d,f,m)),p&&m&&typeof f=="number")return l&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function a8e(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||ZLe.test(e.slice(0,t))?e:""}const i8e=({selectedDocument:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState(!1),[,u]=w.useState(!1),[d,f]=w.useState({}),[m,p]=w.useState({}),[h,g]=w.useState(null),[x,v]=w.useState(null),[b,y]=w.useState(!1);w.useEffect(()=>{e&&E(e.id,e.isUploaded??!1,e.fileName??"")},[e]);const j=k=>{const A=String(k);navigator.clipboard.writeText(A).then(()=>{g(A),setTimeout(()=>g(null),1500)})},E=async(k,A,_)=>{var M;const I=((M=_.split(".").pop())==null?void 0:M.toLowerCase())??"";if(s(A),A){const H=await Un("view","documentos",k,"token",I);H.data?(r(H.data),a(I??"pdf")):se.error("Error al visualizar el documento.")}},N=async()=>{c(!0);try{if(e!=null&&e.id){const A=await kc(e.id,"documentos","");A&&A.extracted?(p(A.extracted),u(!0)):(p({"Análisis de entidades":[{name:"Datos no encontrados",value:0}]}),se.error("Error al extraer datos, reintente."),u(!1))}se.success("Extracción completada.")}catch(k){console.log(k),console.log("erroosillo")}finally{c(!1)}},S=async k=>{y(!0);try{if(e!=null&&e.id){const _=await Vj(e.id,"documentos","",k);v(_||"❌ Vaya, algo no salió bien")}}catch(A){console.log(A)}finally{y(!1)}},T=()=>{if(Object.keys(d).length===0){se.error("No hay tablas para exportar.");return}const k=nr.book_new();Object.keys(d).forEach(A=>{const _=d[A];if(_.rows.length===0)return;const I=_.tableTitle.substring(0,31),M=nr.aoa_to_sheet([_.columns,..._.rows]);nr.book_append_sheet(k,M,I)}),Ph(k,"extracted_data.xlsx")},C=async()=>{c(!0);try{if(e!=null&&e.id){const A=await IEe(e.id,"documentos","");A&&typeof A.extracted=="object"&&Object.keys(A.extracted).length>0?(f(A.extracted),se.success("Extracción completada."),u(!0)):(f({"Análisis de entidades":{tableTitle:"Análisis de entidades",columns:["Nombre","Valor"],rows:[["Datos no encontrados","0"]]}}),u(!1),se.warning("No se encontraron datos válidos para extraer."))}}catch(k){console.log(k),se.error("Error al extraer datos.")}finally{c(!1)}};return o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("div",{className:"col-span-2 bg-gray-100 rounded-lg shadow-md",children:o.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center",children:i?t?o.jsx(NDe,{fileUrl:t,fileType:n??"pdf"}):o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Cargando vista previa..."})]}):o.jsx("span",{className:"text-red-500",children:"El usuario no ha subido este documento."})})}),o.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[b&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Analizando..."})]})}),o.jsx("input",{type:"text",placeholder:"Escribe tu pregunta...",className:"border border-gray-300 bg-white rounded-md px-4 py-2 w-full",onKeyDown:k=>{if(k.key==="Enter"){k.preventDefault();const A=k.currentTarget.value;A.trim()!==""&&(S(A),k.currentTarget.value="")}}}),x&&o.jsx("div",{className:"bg-white p-4 rounded border border-gray-200 relative",children:o.jsx(af,{children:x})}),o.jsx("h2",{className:"text-lg font-semibold text-center",children:"Entidades Extraídas"}),o.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[o.jsx("button",{onClick:N,disabled:l,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:l?"Extrayendo...":"Extraer Todo"}),o.jsx("button",{onClick:C,disabled:l,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:l?"Extrayendo...":"Extraer Tablas"})]}),o.jsx("button",{onClick:T,className:"bg-green-500 text-white px-4 py-2 rounded-lg mt-4 w-full",children:"Exportar a Excel"}),o.jsxs("div",{className:"max-h-[65vh] min-h-96 overflow-y-auto grid grid-cols-1 gap-6",children:[Object.keys(d).map((k,A)=>{const _=d[k];return o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:_.tableTitle}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-200",children:o.jsx("tr",{children:_.columns.map((I,M)=>o.jsx("th",{className:"border border-gray-300 p-2 text-left",children:I},M))})}),o.jsx("tbody",{children:_.rows.map((I,M)=>o.jsx("tr",{className:"hover:bg-gray-100",children:I.map((L,W)=>o.jsx("td",{className:"border border-gray-300 p-2",children:L},W))},M))})]})})]},A)}),Object.entries(m).map(([k,A])=>o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-2",children:[o.jsx("h3",{className:"text-md font-bold mb-2",children:k}),o.jsx("ul",{children:A.map((_,I)=>o.jsxs("li",{className:"border-b py-1 flex justify-between items-center",children:[o.jsx("span",{children:_.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:_.value}),o.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>j(_.value),children:h===_.value?o.jsx(Za,{className:"w-4 h-4 text-green-500"}):o.jsx(KJ,{className:"w-4 h-4"})})]})]},I))})]},k))]})]})]})};function NR(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function s8e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function o8e(e,t,r){const a=Hy((r||{}).ignore||[]),i=l8e(t);let s=-1;for(;++s<i.length;)g9(e,"text",l);function l(u,d){let f=-1,m;for(;++f<d.length;){const p=d[f],h=m?m.children:void 0;if(a(p,h?h.indexOf(p):void 0,m))return;m=p}if(m)return c(u,d)}function c(u,d){const f=d[d.length-1],m=i[s][0],p=i[s][1];let h=0;const x=f.children.indexOf(u);let v=!1,b=[];m.lastIndex=0;let y=m.exec(u.value);for(;y;){const j=y.index,E={index:y.index,input:y.input,stack:[...d,u]};let N=p(...y,E);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?m.lastIndex=j+1:(h!==j&&b.push({type:"text",value:u.value.slice(h,j)}),Array.isArray(N)?b.push(...N):N&&b.push(N),h=j+y[0].length,v=!0),!m.global)break;y=m.exec(u.value)}return v?(h<u.value.length&&b.push({type:"text",value:u.value.slice(h)}),f.children.splice(x,1,...b)):b=[u],x+b.length}}function l8e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([c8e(a[0]),u8e(a[1])])}return t}function c8e(e){return typeof e=="string"?new RegExp(s8e(e),"g"):e}function u8e(e){return typeof e=="function"?e:function(){return e}}const $1="phrasing",B1=["autolink","link","image","label"];function d8e(){return{transforms:[v8e],enter:{literalAutolink:m8e,literalAutolinkEmail:z1,literalAutolinkHttp:z1,literalAutolinkWww:z1},exit:{literalAutolink:x8e,literalAutolinkEmail:g8e,literalAutolinkHttp:p8e,literalAutolinkWww:h8e}}}function f8e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$1,notInConstruct:B1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$1,notInConstruct:B1},{character:":",before:"[ps]",after:"\\/",inConstruct:$1,notInConstruct:B1}]}}function m8e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function z1(e){this.config.enter.autolinkProtocol.call(this,e)}function p8e(e){this.config.exit.autolinkProtocol.call(this,e)}function h8e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function g8e(e){this.config.exit.autolinkEmail.call(this,e)}function x8e(e){this.exit(e)}function v8e(e){o8e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,y8e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),b8e]],{ignore:["link","linkReference"]})}function y8e(e,t,r,n,a){let i="";if(!y9(a)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!w8e(r)))return!1;const s=S8e(r+n);if(!s[0])return!1;const l={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function b8e(e,t,r,n){return!y9(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function w8e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function S8e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=NR(e,"(");let i=NR(e,")");for(;n!==-1&&a>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function y9(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||vc(r)||Uy(r))&&(!t||r!==47)}b9.peek=I8e;function N8e(){this.buffer()}function E8e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function j8e(){this.buffer()}function _8e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function k8e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=wi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function C8e(e){this.exit(e)}function T8e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=wi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function A8e(e){this.exit(e)}function I8e(){return"["}function b9(e,t,r,n){const a=r.createTracker(n);let i=a.move("[^");const s=r.enter("footnoteReference"),l=r.enter("reference");return i+=a.move(r.safe(r.associationId(e),{after:"]",before:i})),l(),s(),i+=a.move("]"),i}function P8e(){return{enter:{gfmFootnoteCallString:N8e,gfmFootnoteCall:E8e,gfmFootnoteDefinitionLabelString:j8e,gfmFootnoteDefinition:_8e},exit:{gfmFootnoteCallString:k8e,gfmFootnoteCall:C8e,gfmFootnoteDefinitionLabelString:T8e,gfmFootnoteDefinition:A8e}}}function O8e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:b9},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,i,s){const l=i.createTracker(s);let c=l.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return c+=l.move(i.safe(i.associationId(n),{before:c,after:"]"})),d(),c+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,l.current()),t?w9:R8e))),u(),c}}function R8e(e,t,r){return t===0?e:w9(e,t,r)}function w9(e,t,r){return(r?"":"    ")+e}const D8e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];S9.peek=B8e;function F8e(){return{canContainEols:["delete"],enter:{strikethrough:L8e},exit:{strikethrough:$8e}}}function M8e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:D8e}],handlers:{delete:S9}}}function L8e(e){this.enter({type:"delete",children:[]},e)}function $8e(e){this.exit(e)}function S9(e,t,r,n){const a=r.createTracker(n),i=r.enter("strikethrough");let s=a.move("~~");return s+=r.containerPhrasing(e,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function B8e(){return"~"}function z8e(e){return e.length}function U8e(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||z8e,i=[],s=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],x=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const b=q8e(e[d][v]);if(r.alignDelimiters!==!1){const y=a(b);x[v]=y,(c[v]===void 0||y>c[v])&&(c[v]=y)}g.push(b)}s[d]=g,l[d]=x}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<u;)i[f]=ER(n[f]);else{const g=ER(n);for(;++f<u;)i[f]=g}f=-1;const m=[],p=[];for(;++f<u;){const g=i[f];let x="",v="";g===99?(x=":",v=":"):g===108?x=":":g===114&&(v=":");let b=r.alignDelimiters===!1?1:Math.max(1,c[f]-x.length-v.length);const y=x+"-".repeat(b)+v;r.alignDelimiters!==!1&&(b=x.length+b+v.length,b>c[f]&&(c[f]=b),p[f]=b),m[f]=y}s.splice(1,0,m),l.splice(1,0,p),d=-1;const h=[];for(;++d<s.length;){const g=s[d],x=l[d];f=-1;const v=[];for(;++f<u;){const b=g[f]||"";let y="",j="";if(r.alignDelimiters!==!1){const E=c[f]-(x[f]||0),N=i[f];N===114?y=" ".repeat(E):N===99?E%2?(y=" ".repeat(E/2+.5),j=" ".repeat(E/2-.5)):(y=" ".repeat(E/2),j=y):j=" ".repeat(E)}r.delimiterStart!==!1&&!f&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||f)&&v.push(" "),r.alignDelimiters!==!1&&v.push(y),v.push(b),r.alignDelimiters!==!1&&v.push(j),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||f!==u-1)&&v.push("|")}h.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return h.join(`
`)}function q8e(e){return e==null?"":String(e)}function ER(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function V8e(e,t,r,n){const a=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const s=r.indentLines(r.containerFlow(e,i.current()),H8e);return a(),s}function H8e(e,t,r){return">"+(r?"":" ")+e}function W8e(e,t){return jR(e,t.inConstruct,!0)&&!jR(e,t.notInConstruct,!1)}function jR(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function _R(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&W8e(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function G8e(e,t){const r=String(e);let n=r.indexOf(t),a=n,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++i>s&&(s=i):i=1,a=n+t.length,n=r.indexOf(t,a);return s}function X8e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function K8e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Y8e(e,t,r,n){const a=K8e(r),i=e.value||"",s=a==="`"?"GraveAccent":"Tilde";if(X8e(e,r)){const f=r.enter("codeIndented"),m=r.indentLines(i,J8e);return f(),m}const l=r.createTracker(n),c=a.repeat(Math.max(G8e(i,a)+1,3)),u=r.enter("codeFenced");let d=l.move(c);if(e.lang){const f=r.enter(`codeFencedLang${s}`);d+=l.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${s}`);d+=l.move(" "),d+=l.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),i&&(d+=l.move(i+`
`)),d+=l.move(c),u(),d}function J8e(e,t,r){return(r?"":"    ")+e}function K_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Q8e(e,t,r,n){const a=K_(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("definition");let l=r.enter("label");const c=r.createTracker(n);let u=c.move("[");return u+=c.move(r.safe(r.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=r.enter(`title${i}`),u+=c.move(" "+a),u+=c.move(r.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),l()),s(),u}function Z8e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function qp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Zx(e,t,r){const n=Nd(e),a=Nd(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}N9.peek=e$e;function N9(e,t,r,n){const a=Z8e(r),i=r.enter("emphasis"),s=r.createTracker(n),l=s.move(a);let c=s.move(r.containerPhrasing(e,{after:a,before:l,...s.current()}));const u=c.charCodeAt(0),d=Zx(n.before.charCodeAt(n.before.length-1),u,a);d.inside&&(c=qp(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Zx(n.after.charCodeAt(0),f,a);m.inside&&(c=c.slice(0,-1)+qp(f));const p=s.move(a);return i(),r.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+p}function e$e(e,t,r){return r.options.emphasis||"*"}function t$e(e,t){let r=!1;return G_(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,QS}),!!((!e.depth||e.depth<3)&&B_(e)&&(t.options.setext||r))}function r$e(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(t$e(e,r)){const d=r.enter("headingSetext"),f=r.enter("phrasing"),m=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(a===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(a),l=r.enter("headingAtx"),c=r.enter("phrasing");i.move(s+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=qp(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,r.options.closeAtx&&(u+=" "+s),c(),l(),u}E9.peek=n$e;function E9(e){return e.value||""}function n$e(){return"<"}j9.peek=a$e;function j9(e,t,r,n){const a=K_(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("image");let l=r.enter("label");const c=r.createTracker(n);let u=c.move("![");return u+=c.move(r.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=r.enter(`title${i}`),u+=c.move(" "+a),u+=c.move(r.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),l()),u+=c.move(")"),s(),u}function a$e(){return"!"}_9.peek=i$e;function _9(e,t,r,n){const a=e.referenceType,i=r.enter("imageReference");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");const u=r.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return s(),r.stack=d,i(),a==="full"||!u||u!==f?c+=l.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function i$e(){return"!"}k9.peek=s$e;function k9(e,t,r){let n=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const s=r.unsafe[i],l=r.compilePattern(s);let c;if(s.atBreak)for(;c=l.exec(n);){let u=c.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(c.index+1)}}return a+n+a}function s$e(){return"`"}function C9(e,t){const r=B_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}T9.peek=o$e;function T9(e,t,r,n){const a=K_(r),i=a==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let l,c;if(C9(e,r)){const d=r.stack;r.stack=[],l=r.enter("autolink");let f=s.move("<");return f+=s.move(r.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),l(),r.stack=d,f}l=r.enter("link"),c=r.enter("label");let u=s.move("[");return u+=s.move(r.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(r.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(c=r.enter("destinationRaw"),u+=s.move(r.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=r.enter(`title${i}`),u+=s.move(" "+a),u+=s.move(r.safe(e.title,{before:u,after:a,...s.current()})),u+=s.move(a),c()),u+=s.move(")"),l(),u}function o$e(e,t,r){return C9(e,r)?"<":"["}A9.peek=l$e;function A9(e,t,r,n){const a=e.referenceType,i=r.enter("linkReference");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");const u=r.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return s(),r.stack=d,i(),a==="full"||!u||u!==f?c+=l.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function l$e(){return"["}function Y_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function c$e(e){const t=Y_(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function u$e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function I9(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function d$e(e,t,r,n){const a=r.enter("list"),i=r.bulletCurrent;let s=e.ordered?u$e(r):Y_(r);const l=e.ordered?s==="."?")":".":c$e(r);let c=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),I9(r)===s&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=l),r.bulletCurrent=s;const u=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=i,a(),u}function f$e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function m$e(e,t,r,n){const a=f$e(r);let i=r.bulletCurrent||Y_(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const l=r.createTracker(n);l.move(i+" ".repeat(s-i.length)),l.shift(s);const c=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,l.current()),d);return c(),u;function d(f,m,p){return m?(p?"":" ".repeat(s))+f:(p?i:i+" ".repeat(s-i.length))+f}}function p$e(e,t,r,n){const a=r.enter("paragraph"),i=r.enter("phrasing"),s=r.containerPhrasing(e,n);return i(),a(),s}const h$e=Hy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function g$e(e,t,r,n){return(e.children.some(function(s){return h$e(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function x$e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}P9.peek=v$e;function P9(e,t,r,n){const a=x$e(r),i=r.enter("strong"),s=r.createTracker(n),l=s.move(a+a);let c=s.move(r.containerPhrasing(e,{after:a,before:l,...s.current()}));const u=c.charCodeAt(0),d=Zx(n.before.charCodeAt(n.before.length-1),u,a);d.inside&&(c=qp(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Zx(n.after.charCodeAt(0),f,a);m.inside&&(c=c.slice(0,-1)+qp(f));const p=s.move(a+a);return i(),r.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+p}function v$e(e,t,r){return r.options.strong||"*"}function y$e(e,t,r,n){return r.safe(e.value,n)}function b$e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function w$e(e,t,r){const n=(I9(r)+(r.options.ruleSpaces?" ":"")).repeat(b$e(r));return r.options.ruleSpaces?n.slice(0,-1):n}const O9={blockquote:V8e,break:_R,code:Y8e,definition:Q8e,emphasis:N9,hardBreak:_R,heading:r$e,html:E9,image:j9,imageReference:_9,inlineCode:k9,link:T9,linkReference:A9,list:d$e,listItem:m$e,paragraph:p$e,root:g$e,strong:P9,text:y$e,thematicBreak:w$e};function S$e(){return{enter:{table:N$e,tableData:kR,tableHeader:kR,tableRow:j$e},exit:{codeText:_$e,table:E$e,tableData:U1,tableHeader:U1,tableRow:U1}}}function N$e(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function E$e(e){this.exit(e),this.data.inTable=void 0}function j$e(e){this.enter({type:"tableRow",children:[]},e)}function U1(e){this.exit(e)}function kR(e){this.enter({type:"tableCell",children:[]},e)}function _$e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,k$e));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function k$e(e,t){return t==="|"?t:e}function C$e(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:c,tableRow:l}};function s(p,h,g,x){return u(d(p,g,x),p.align)}function l(p,h,g,x){const v=f(p,g,x),b=u([v]);return b.slice(0,b.indexOf(`
`))}function c(p,h,g,x){const v=g.enter("tableCell"),b=g.enter("phrasing"),y=g.containerPhrasing(p,{...x,before:i,after:i});return b(),v(),y}function u(p,h){return U8e(p,{align:h,alignDelimiters:n,padding:r,stringLength:a})}function d(p,h,g){const x=p.children;let v=-1;const b=[],y=h.enter("table");for(;++v<x.length;)b[v]=f(x[v],h,g);return y(),b}function f(p,h,g){const x=p.children;let v=-1;const b=[],y=h.enter("tableRow");for(;++v<x.length;)b[v]=c(x[v],p,h,g);return y(),b}function m(p,h,g){let x=O9.inlineCode(p,h,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function T$e(){return{exit:{taskListCheckValueChecked:CR,taskListCheckValueUnchecked:CR,paragraph:I$e}}}function A$e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:P$e}}}function CR(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function I$e(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let i=-1,s;for(;++i<a.length;){const l=a[i];if(l.type==="paragraph"){s=l;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function P$e(e,t,r,n){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);i&&l.move(s);let c=O9.listItem(e,t,r,{...n,...l.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+s}}function O$e(){return[d8e(),P8e(),F8e(),S$e(),T$e()]}function R$e(e){return{extensions:[f8e(),O8e(e),M8e(),C$e(e),A$e()]}}const D$e={tokenize:z$e,partial:!0},R9={tokenize:U$e,partial:!0},D9={tokenize:q$e,partial:!0},F9={tokenize:V$e,partial:!0},F$e={tokenize:H$e,partial:!0},M9={name:"wwwAutolink",tokenize:$$e,previous:$9},L9={name:"protocolAutolink",tokenize:B$e,previous:B9},Qs={name:"emailAutolink",tokenize:L$e,previous:z9},as={};function M$e(){return{text:as}}let xl=48;for(;xl<123;)as[xl]=Qs,xl++,xl===58?xl=65:xl===91&&(xl=97);as[43]=Qs;as[45]=Qs;as[46]=Qs;as[95]=Qs;as[72]=[Qs,L9];as[104]=[Qs,L9];as[87]=[Qs,M9];as[119]=[Qs,M9];function L$e(e,t,r){const n=this;let a,i;return s;function s(f){return!rN(f)||!z9.call(n,n.previous)||J_(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return rN(f)?(e.consume(f),l):f===64?(e.consume(f),c):r(f)}function c(f){return f===46?e.check(F$e,d,u)(f):f===45||f===95||Sn(f)?(i=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),a=!0,c}function d(f){return i&&a&&Fn(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}function $$e(e,t,r){const n=this;return a;function a(s){return s!==87&&s!==119||!$9.call(n,n.previous)||J_(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(D$e,e.attempt(R9,e.attempt(D9,i),r),r)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function B$e(e,t,r){const n=this;let a="",i=!1;return s;function s(f){return(f===72||f===104)&&B9.call(n,n.previous)&&!J_(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),l):r(f)}function l(f){if(Fn(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=a.toLowerCase();if(m==="http"||m==="https")return e.consume(f),c}return r(f)}function c(f){return f===47?(e.consume(f),i?u:(i=!0,c)):r(f)}function u(f){return f===null||Yx(f)||Bt(f)||vc(f)||Uy(f)?r(f):e.attempt(R9,e.attempt(D9,d),r)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function z$e(e,t,r){let n=0;return a;function a(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),a):s===46&&n===3?(e.consume(s),i):r(s)}function i(s){return s===null?r(s):t(s)}}function U$e(e,t,r){let n,a,i;return s;function s(u){return u===46||u===95?e.check(F9,c,l)(u):u===null||Bt(u)||vc(u)||u!==45&&Uy(u)?c(u):(i=!0,e.consume(u),s)}function l(u){return u===95?n=!0:(a=n,n=void 0),e.consume(u),s}function c(u){return a||n||!i?r(u):t(u)}}function q$e(e,t){let r=0,n=0;return a;function a(s){return s===40?(r++,e.consume(s),a):s===41&&n<r?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(F9,t,i)(s):s===null||Bt(s)||vc(s)?t(s):(e.consume(s),a)}function i(s){return s===41&&n++,e.consume(s),a}}function V$e(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),i):l===93?(e.consume(l),a):l===60||l===null||Bt(l)||vc(l)?t(l):r(l)}function a(l){return l===null||l===40||l===91||Bt(l)||vc(l)?t(l):n(l)}function i(l){return Fn(l)?s(l):r(l)}function s(l){return l===59?(e.consume(l),n):Fn(l)?(e.consume(l),s):r(l)}}function H$e(e,t,r){return n;function n(i){return e.consume(i),a}function a(i){return Sn(i)?r(i):t(i)}}function $9(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Bt(e)}function B9(e){return!Fn(e)}function z9(e){return!(e===47||rN(e))}function rN(e){return e===43||e===45||e===46||e===95||Sn(e)}function J_(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const W$e={tokenize:eBe,partial:!0};function G$e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:J$e,continuation:{tokenize:Q$e},exit:Z$e}},text:{91:{name:"gfmFootnoteCall",tokenize:Y$e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:X$e,resolveTo:K$e}}}}function X$e(e,t,r){const n=this;let a=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;a--;){const c=n.events[a][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!s||!s._balanced)return r(c);const u=wi(n.sliceSerialize({start:s.end,end:n.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function K$e(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}function Y$e(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,s;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!s||f===null||f===91||Bt(f))return r(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return a.includes(wi(n.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return Bt(f)||(s=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function J$e(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,s=0,l;return c;function c(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(h)}function d(h){if(s>999||h===93&&!l||h===null||h===91||Bt(h))return r(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return i=wi(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Bt(h)||(l=!0),s++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}function m(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),ht(e,p,"gfmFootnoteDefinitionWhitespace")):r(h)}function p(h){return t(h)}}function Q$e(e,t,r){return e.check(Rh,t,e.attempt(W$e,t,r))}function Z$e(e){e.exit("gfmFootnoteDefinition")}function eBe(e,t,r){const n=this;return ht(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):r(i)}}function tBe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(s,l){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let u=c;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[c][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[c][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[c][1].start)},m=[["enter",d,l],["enter",s[u][1],l],["exit",s[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&wa(m,m.length,0,qy(p,s.slice(u+1,c),l)),wa(m,m.length,0,[["exit",f,l],["enter",s[c][1],l],["exit",s[c][1],l],["exit",d,l]]),wa(s,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function i(s,l,c){const u=this.previous,d=this.events;let f=0;return m;function m(h){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(h):(s.enter("strikethroughSequenceTemporary"),p(h))}function p(h){const g=Nd(u);if(h===126)return f>1?c(h):(s.consume(h),f++,p);if(f<2&&!r)return c(h);const x=s.exit("strikethroughSequenceTemporary"),v=Nd(h);return x._open=!v||v===2&&!!g,x._close=!g||g===2&&!!v,l(h)}}}class rBe{constructor(){this.map=[]}add(t,r,n){nBe(this,t,r,n)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const i of a)t.push(i);a=n.pop()}this.map.length=0}}function nBe(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function aBe(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function iBe(){return{flow:{null:{name:"table",tokenize:sBe,resolveAll:oBe}}}}function sBe(e,t,r){const n=this;let a=0,i=0,s;return l;function l(k){let A=n.events.length-1;for(;A>-1;){const M=n.events[A][1].type;if(M==="lineEnding"||M==="linePrefix")A--;else break}const _=A>-1?n.events[A][1].type:null,I=_==="tableHead"||_==="tableRow"?N:c;return I===N&&n.parser.lazy[n.now().line]?r(k):I(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(s=!0,i+=1),d(k)}function d(k){return k===null?r(k):qe(k)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p):r(k):ut(k)?ht(e,d,"whitespace")(k):(i+=1,s&&(s=!1,a+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(k)))}function f(k){return k===null||k===124||Bt(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?m:f)}function m(k){return k===92||k===124?(e.consume(k),f):f(k)}function p(k){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(k):(e.enter("tableDelimiterRow"),s=!1,ut(k)?ht(e,h,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):h(k))}function h(k){return k===45||k===58?x(k):k===124?(s=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),g):E(k)}function g(k){return ut(k)?ht(e,x,"whitespace")(k):x(k)}function x(k){return k===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):k===45?(i+=1,v(k)):k===null||qe(k)?j(k):E(k)}function v(k){return k===45?(e.enter("tableDelimiterFiller"),b(k)):E(k)}function b(k){return k===45?(e.consume(k),b):k===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(k))}function y(k){return ut(k)?ht(e,j,"whitespace")(k):j(k)}function j(k){return k===124?h(k):k===null||qe(k)?!s||a!==i?E(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):E(k)}function E(k){return r(k)}function N(k){return e.enter("tableRow"),S(k)}function S(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),S):k===null||qe(k)?(e.exit("tableRow"),t(k)):ut(k)?ht(e,S,"whitespace")(k):(e.enter("data"),T(k))}function T(k){return k===null||k===124||Bt(k)?(e.exit("data"),S(k)):(e.consume(k),k===92?C:T)}function C(k){return k===92||k===124?(e.consume(k),T):T(k)}}function oBe(e,t){let r=-1,n=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],l=!1,c=0,u,d,f;const m=new rBe;for(;++r<e.length;){const p=e[r],h=p[1];p[0]==="enter"?h.type==="tableHead"?(l=!1,c!==0&&(TR(m,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(r,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(n=!0,f=void 0,i=[0,0,0,0],s=[0,r+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(r,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],f=A0(m,t,i,a,void 0,f),i=[0,0,0,0]),s[2]=r)):h.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(s[0]=s[1],f=A0(m,t,i,a,void 0,f)),i=s,s=[i[1],r,0,0])):h.type==="tableHead"?(l=!0,c=r):h.type==="tableRow"||h.type==="tableDelimiterRow"?(c=r,i[1]!==0?(s[0]=s[1],f=A0(m,t,i,a,r,f)):s[1]!==0&&(f=A0(m,t,s,a,r,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(s[3]=r)}for(c!==0&&TR(m,t,c,u,d),m.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=aBe(t.events,r))}return e}function A0(e,t,r,n,a,i){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(i.end=Object.assign({},Kc(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const c=Kc(t.events,r[1]);if(i={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const u=Kc(t.events,r[2]),d=Kc(t.events,r[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const m=t.events[r[2]],p=t.events[r[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",r[3]>r[2]+1){const h=r[2]+1,g=r[3]-r[2]-1;e.add(h,g,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Kc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function TR(e,t,r,n,a){const i=[],s=Kc(t.events,r);a&&(a.end=Object.assign({},s),i.push(["exit",a,t])),n.end=Object.assign({},s),i.push(["exit",n,t]),e.add(r+1,0,i)}function Kc(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const lBe={name:"tasklistCheck",tokenize:uBe};function cBe(){return{text:{91:lBe}}}function uBe(e,t,r){const n=this;return a;function a(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return Bt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):r(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(c)}function l(c){return qe(c)?t(c):ut(c)?e.check({tokenize:dBe},t,r)(c):r(c)}}function dBe(e,t,r){return ht(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function fBe(e){return J7([M$e(),G$e(),tBe(e),iBe(),cBe()])}const mBe={};function Q_(e){const t=this,r=e||mBe,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(fBe(r)),i.push(O$e()),s.push(R$e(r))}const q1=[{label:"Garantías vs financiamiento",value:"Evalúa si el total de garantías registradas respalda adecuadamente el monto solicitado en el financiamiento."},{label:"Discrepancias detectadas",value:"Detecta posibles inconsistencias entre las garantías registradas y los montos de financiamiento aprobados."},{label:"Resumen garantías",value:"Genera un resumen detallado de todas las garantías registradas para la empresa."},{label:"Resumen financiamiento",value:"Genera un resumen del financiamiento solicitado por la empresa, incluyendo montos y condiciones."},{label:"Resumen general",value:"Genera un resumen general que incluya el financiamiento solicitado por la empresa y resumen detallado de todas las garantías registradas para la empresa."},{label:"Valor total garantías",value:"Calcula el valor total de todas las garantías registradas para la empresa."},{label:"Garantía mayor valor",value:"Identifica la garantía con el mayor valor patrimonial registrado."},{label:"Propietarios de garantías",value:"Lista los propietarios de las garantías registradas."},{label:"Monto solicitado",value:"Indica el monto total de financiamiento solicitado por la empresa."},{label:"Plazo del crédito",value:"Muestra el plazo del crédito solicitado y su período de gracia si aplica."},{label:"Incidencias legales",value:"Indica si la empresa tiene incidencias legales y cuál es el impacto económico estimado."}];function pBe(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),{selectedClient:a}=ct(),[i,s]=w.useState(!1),l=()=>{navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)},c=async()=>{if(!(a!=null&&a.id)){console.error("No hay cliente seleccionado.");return}try{const p=await Cv({productRequestId:a.id});if(!p||p.length===0){console.warn("No se encontraron datos de garantías.");return}return p.map(h=>{const g=h.sinGravamen===!1,x=h.garantia==="Obligación solidaria";return[`Garantía: ${h.garantia}`,`Descripción: ${h.descripcion}`,h.ubicacion?`Ubicación: ${h.ubicacion}`:"",h.propietario?`Propietario: ${h.propietario}`:"",h.obligadoSolidario&&x?`Obligado Solidario: ${h.obligadoSolidario}`:"",h.valorPatrimonial&&x?`Valor Patrimonial: $${h.valorPatrimonial.toLocaleString()}`:"",h.fechaAdquisicion?`Fecha de Adquisición: ${h.fechaAdquisicion}`:"",h.valorActual?`Valor Actual: $${h.valorActual.toLocaleString()}`:"",h.valorAdquisicion?`Valor de Adquisición: $${h.valorAdquisicion.toLocaleString()}`:"",h.fechaValor?`Última Fecha de Avalúo: ${h.fechaValor}`:"",`Moneda: ${h.moneda??"No especificado"}`,`Sin Gravamen: ${h.sinGravamen?"Sí":"No"}`,g&&h.gravamenConQuien?`Gravamen con: ${h.gravamenConQuien}`:"",g&&h.gravamenDescripcion?`Descripción del Gravamen: ${h.gravamenDescripcion}`:"",h.garante?`Garante: ${h.garante}`:"",h.indiceGarantia?`Índice de Garantía: ${h.indiceGarantia}`:""].filter(Boolean).join(" , ")}).join("Otra garatia: ")}catch(p){console.error("Error al obtener los datos de garantías:",p)}},u=async()=>{if(!(a!=null&&a.id)){console.error("No hay cliente seleccionado.");return}try{const p=await yE({productRequestId:a.id});if(!p){console.warn("No se encontraron datos de financiamiento.");return}return p.map(h=>{var g,x,v,b;return[`Razón Social: ${h.razonSocial}`,`RFC: ${h.rfc}`,`Monto Solicitado: $${((g=h.montoSolicitado)==null?void 0:g.toLocaleString())??""}`,`Destino de Recursos: ${h.destinoRecursos}`,`Fecha de Constitución: ${h.incorporationDate}`,`Moneda: ${h.moneda}`,`Tipo de Crédito: ${h.tipoCredito}`,`Plazo del Crédito: ${h.plazoCredito} años`,`Período de Gracia: ${h.tipoCredito==="Revolvente"?"No aplica":h.periodoGracia?`${h.periodoGracia} meses`:"No especificado"}`,`Amortización de Capital: ${h.amortizacionCapital}`,`Especificación de Amortización: ${h.amortizacionCapital==="otro"?h.amortizacionCapitalOtro:""}`,`Frecuencia de Pago de Intereses: ${h.pagoIntereses}`,`Fuente de Pago: ${h.fuentePago}`,`Especificación de Fuente de Pago: ${h.fuentePago==="otros"?h.fuentePagoOtros:""}`,`Empresa con Riesgo Compartido: ${h.riesgoComun?h.empresa:""}`,`Monto Autorizado: ${h.riesgoComun?`$${(x=h.montoAutorizado)==null?void 0:x.toLocaleString()}`:""}`,`Saldo Vigente: ${h.riesgoComun?`$${(v=h.saldoVigente)==null?void 0:v.toLocaleString()}`:""}`,`Nombre de la Persona Expuesta: ${h.personasExpuestas?h.nombre:""}`,`Relación: ${h.personasExpuestas?h.relacion:""}`,`Actividad Realizada: ${h.personasExpuestas?h.actividadRealizada:""}`,`Descripción del Juicio: ${h.incidenciasLegales?h.descripcionJuicio:""}`,`Consecuencias: ${h.incidenciasLegales?h.consecuencias:""}`,`Monto Estimado: ${h.incidenciasLegales?`$${(b=h.monto)==null?void 0:b.toLocaleString()}`:""}`,`Fecha estimada de contratación del crédito: ${h.timing}`,`Información Adicional: ${h.informacionAdicional}`,`PEP Involucrado: ${h.pepInvolucrado}`,`Nombre del PEP: ${h.nombrePep}`,`Detalles del Cargo del PEP: ${h.detallesCargoPep}`,`Período del Cargo del PEP: ${h.periodoDelCargo}`,`Institución del Cargo del PEP: ${h.institucionDelCargoPep}`,`País del Cargo del PEP: ${h.paisDeCargoPep}`,`Familiar en Función Pública: ${h.familiarFuncionPublica}`,`Nombre del Familiar PEP: ${h.nombreFamiliarPep}`,`Nombre del Socio PEP: ${h.nombreSocioPep}`,`Parentesco del Socio PEP: ${h.parentescoSocioPep}`,`Período del Cargo del Familiar: ${h.periodoCargoFamiliar}`,`País del Cargo del Familiar: ${h.paisCargoFamiliar}`,`Institución del Cargo del Familiar: ${h.institucionCargoFamiliar}`].filter(Boolean).join(" , ")}).join("otro datos de financiamiento: ")}catch(p){console.error("Error al obtener los datos de financiamiento:",p)}},d=async p=>{n(!0),t("");try{const[h,g]=await Promise.all([u(),c()]),x=JSON.stringify({financialData:h,warrantyData:g});console.log(x);const v=await qj(p,x??"");t(v.summary||"No se pudo generar el resumen.")}catch(h){console.error("Error al obtener el resumen:",h),t("Ocurrió un error al generar el resumen. Intenta nuevamente.")}finally{n(!1)}},[f,m]=w.useState(!1);return o.jsxs("div",{className:"",children:[o.jsxs("div",{className:"w-full text-center",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Análisis inteligente"}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[(f?q1:q1.slice(0,5)).map(({label:p,value:h},g)=>o.jsx("button",{onClick:()=>d(h),className:"px-4 py-2 text-sm font-medium bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-all",children:p},g)),q1.length>4&&o.jsx("button",{onClick:()=>m(!f),className:"px-4 py-2 text-sm font-medium bg-gray-300 text-gray-700 rounded-lg shadow-md hover:bg-gray-400 transition-all",children:f?"Mostrar menos":"Mostrar todo"})]})})]}),o.jsxs("div",{className:"overflow-hidden",children:[r&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center",children:[o.jsx(at,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("p",{className:"text-lg font-semibold mt-4",children:"Analizando"})]})}),o.jsx("div",{className:"",children:e?o.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 relative",children:[o.jsx(af,{remarkPlugins:[Q_],children:e}),o.jsx("button",{onClick:l,className:"absolute top-2 right-2 p-2 bg-gray-200 rounded-full hover:bg-gray-300","aria-label":"Copiar al portapapeles",children:i?o.jsx(At,{size:15,className:"text-green-500"}):o.jsx(Gi,{size:15,className:"text-gray-600"})})]}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Selecciona una opción para obtener el análisis"})})]})]})}const U9=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,i]=w.useState(null),{selectedClient:s}=ct();if(w.useEffect(()=>{(async()=>{try{if(s){n(!0);const u=await yE({productRequestId:s==null?void 0:s.id});u&&u.length>0?t(u[0]):t(null)}else se.error("No hay una empresa seleccionada.")}catch(u){i("Error al cargar los datos"),se.error("Error al obtener los datos."),console.log(u)}finally{n(!1)}})()},[s]),r)return o.jsx("p",{children:"Cargando..."});if(a)return o.jsx("p",{className:"text-red-500",children:a});if(!e)return o.jsx("p",{children:"No hay datos disponibles."});function l(c){var d;return((d=[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}].find(f=>f.code===c))==null?void 0:d.name)||"Código no encontrado"}return o.jsxs("div",{className:"p-4 bg-white rounded-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Financiamiento"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.razonSocial&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Razón Social:"})," ",e.razonSocial]}),e.rfc&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"RFC:"})," ",e.rfc]}),e.destinoRecursos&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Destino de Recursos:"})," ",e.destinoRecursos]}),e.incorporationDate&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Fecha de constitución:"})," ",e.incorporationDate]}),e.moneda&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Moneda:"})," ",e.moneda]}),e.montoSolicitado&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Monto Solicitado:"})," ",e.montoSolicitado]}),e.tipoCredito&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Tipo de Crédito:"})," ",e.tipoCredito]}),e.plazoCredito&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Plazo del Crédito:"})," ",e.plazoCredito," años"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Período de Gracia:"})," ",e.tipoCredito==="Revolvente"?o.jsx("span",{className:"text-gray-500",children:"No aplica"}):e.periodoGracia?`${e.periodoGracia} meses`:o.jsx("span",{className:"text-gray-500",children:"No especificado"})]}),e.amortizacionCapital&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Amortización de Capital:"})," ",e.amortizacionCapital]}),e.amortizacionCapital==="otro"&&e.amortizacionCapitalOtro&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Especificación de Amortización:"})," ",e.amortizacionCapitalOtro]}),e.pagoIntereses&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Frecuencia de Pago de Intereses:"})," ",e.pagoIntereses]}),e.fuentePago&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Fuente de Pago:"})," ",l(e.fuentePago)]}),e.fuentePago==="otros"&&e.fuentePagoOtros&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Especificación de Fuente de Pago:"})," ",e.fuentePagoOtros]}),e.riesgoComun&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Empresa con Riesgo Compartido:"})," ",e.empresa]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Monto Autorizado:"})," ",e.montoAutorizado]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Saldo Vigente:"})," ",e.saldoVigente]})]}),e.personasExpuestas&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Nombre de la Persona Expuesta:"})," ",e.nombre]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Relación:"})," ",e.relacion]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Actividad Realizada:"})," ",e.actividadRealizada]})]}),e.incidenciasLegales&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Descripción del Juicio:"})," ",e.descripcionJuicio]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Consecuencias:"})," ",e.consecuencias]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Monto Estimado:"})," ",e.monto]})]}),e.timing&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Fecha estimada de contratación del crédito:"})," ",e.timing]}),e.informacionAdicional&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"font-medium",children:"Información Adicional:"})," ",e.informacionAdicional]}),e.pepInvolucrado&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"PEP Involucrado:"})," ",e.pepInvolucrado]}),e.nombrePep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Nombre del PEP:"})," ",e.nombrePep]}),e.detallesCargoPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Detalles del Cargo del PEP:"})," ",e.detallesCargoPep]}),e.periodoDelCargo&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Período del Cargo del PEP:"})," ",e.periodoDelCargo]}),e.institucionDelCargoPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Institución del Cargo del PEP:"})," ",e.institucionDelCargoPep]}),e.paisDeCargoPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"País del Cargo del PEP:"})," ",e.paisDeCargoPep]}),e.familiarFuncionPublica&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Familiar en Función Pública:"})," ",e.familiarFuncionPublica]}),e.nombreFamiliarPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Nombre del Familiar PEP:"})," ",e.nombreFamiliarPep]}),e.nombreSocioPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Nombre del Socio PEP:"})," ",e.nombreSocioPep]}),e.parentescoSocioPep&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Parentesco del Socio PEP:"})," ",e.parentescoSocioPep]}),e.periodoCargoFamiliar&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Período del Cargo del Familiar:"})," ",e.periodoCargoFamiliar]}),e.paisCargoFamiliar&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"País del Cargo del Familiar:"})," ",e.paisCargoFamiliar]}),e.institucionCargoFamiliar&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Institución del Cargo del Familiar:"})," ",e.institucionCargoFamiliar]})]}),o.jsx(pr,{})]})},q9=()=>{const[e,t]=w.useState([]),{selectedClient:r}=ct();w.useEffect(()=>{(async()=>{if(r){const l=await Cv({productRequestId:r.id});l&&t(l)}else se.error("No hay una empresa seleccionada.")})()},[]);const n=e.filter(s=>s.garantia!=="Obligación solidaria"),a=e.filter(s=>s.garantia==="Obligación solidaria"),i=(s,l,c)=>o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2 text-left",children:s}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[c.map(u=>o.jsx("th",{className:"p-2 min-w-[150px] text-left",children:u.label},u.key)),o.jsx("th",{className:"p-2 text-left",children:"Acciones"})]})}),o.jsx("tbody",{children:l.length>0?l.map((u,d)=>o.jsxs("tr",{className:`${d%2===0?"bg-white":""}`,children:[c.map(f=>{var m;return o.jsx("td",{className:"p-2",children:f.key==="sinGravamen"?u.sinGravamen?"Sí":"No":f.key==="valorActual"||f.key==="valorAdquisicion"||f.key==="valorPatrimonial"?((m=u[f.key])==null?void 0:m.toLocaleString("es-MX"))??"":u[f.key]??""},f.key)}),o.jsx("td",{className:"p-2 text-center",children:o.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Eliminar"})})]},d)):o.jsx("tr",{children:o.jsx("td",{colSpan:c.length+1,className:"p-4 text-center text-gray-500",children:"No hay garantías agregadas."})})})]})})]});return o.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Garantías"}),o.jsx("button",{className:"p-2 bg-gray-200 rounded hover:bg-gray-300",children:o.jsx(eM,{size:20})})]}),i("",n,[{key:"garantia",label:"Garantía"},{key:"descripcion",label:"Descripción"},{key:"ubicacion",label:"Ubicación"},{key:"propietario",label:"Propietario"},{key:"fechaAdquisicion",label:"Fecha Adq."},{key:"valorActual",label:"Valor Actual"},{key:"valorAdquisicion",label:"Valor Adq."},{key:"fechaValor",label:"Últ. Avalúo"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Gravamen con Quién"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"garante",label:"Garante"},{key:"indiceGarantia",label:"Índice de Garantía"}]),a.length>0&&i("",a,[{key:"garantia",label:"Garantía"},{key:"descripcion",label:"Descripción"},{key:"obligadoSolidario",label:"Obligado Solidario"},{key:"valorPatrimonial",label:"Valor Patrimonial"},{key:"moneda",label:"Moneda"}])]})},hBe=()=>o.jsxs("div",{className:"",children:[o.jsx("div",{className:"mb-6",children:o.jsx(U9,{})}),o.jsx(q9,{})]});function gBe(){const[e,t]=w.useState(1),[r,n]=w.useState(null),{selectedClient:a,selectClient:i}=ct(),[s,l]=w.useState(!1),[c,u]=w.useState(!1),d=()=>{s?a&&(i({flowStatus:5}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):m()},f=()=>{a&&(i({flowStatus:3}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},m=()=>{u(!0)},p=()=>{u(!1)},h=()=>{console.log("Confirmación aceptada"),a&&(i({flowStatus:5}),console.log("goToNextStep ejecutado: flowStatus actualizado a 4")),u(!1)},g=async()=>{const x=await aa({productRequestId:(a==null?void 0:a.id)??""});x&&(x.requiredDocuments.length>0&&x.requiredDocuments.every(v=>v.isApproved)?l(!0):l(!1))};return w.useEffect(()=>{g()},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsx("header",{className:"flex items-center justify-between py-4",children:o.jsx("h1",{className:"text-xl font-semibold",children:"Gestión de documentación"})}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Garantías Indicativas","Datos y Garantias","Documentos"].map((x,v)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===v+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>{t(v+1),n(null)},children:x},v))}),o.jsx("div",{className:"mt-4 mb-4",children:r!==null?o.jsx(i8e,{selectedDocument:r}):(()=>{switch(e){case 1:return o.jsx(pBe,{});case 2:return o.jsx(hBe,{});case 3:return o.jsx(SDe,{onSelectDocument:n,isSectionComplete:s,setIsSectionComplete:l});default:return null}})()})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(tf,{goToBackStep:f,goToNextStep:d,currentStep:3,totalSteps:7})}),o.jsx(By,{isOpen:c,onClose:p,onConfirm:h,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}function xBe({sentMails:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!1),i=async()=>{if(!t)return;const{emailRecipient:s,emailCC:l,subject:c,content:u}=t;a(!0);try{await yd(s,l,c,u),se.success("Correo enviado exitosamente.")}catch(d){se.error("Error al enviar el correo."),console.log(d)}finally{a(!1)}};return o.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 max-w-4xl mx-auto",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 flex items-center",children:[o.jsx(Z0,{className:"text-gray-400 w-6 h-6 mr-2"}),"Buzón de Correos Enviados"]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("div",{className:"col-span-1 border-r pr-4",children:o.jsx("ul",{className:"space-y-4",children:e.map(s=>o.jsxs("li",{onClick:()=>r(s),className:`cursor-pointer p-4 hover:bg-gray-100 rounded-lg ${(t==null?void 0:t.id)===s.id?"bg-gray-200":""}`,children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.subject}),o.jsx("p",{className:"text-sm text-gray-600",children:s.emailRecipient}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString()})]},s.id))})}),o.jsx("div",{className:"col-span-2",children:t?o.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:t.subject}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Para:"})," ",t.emailRecipient]}),t.emailCC&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"CC:"})," ",t.emailCC]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Fecha:"})," ",new Date(t.createdAt).toLocaleString()]}),o.jsx("div",{className:"mt-4 text-gray-700",children:t.content}),o.jsxs("button",{onClick:i,className:"mt-4 flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:n,children:[n?o.jsx(at,{className:"w-5 h-5 mr-2 animate-spin"}):o.jsx(nl,{className:"w-5 h-5 mr-2"}),n?"Enviando...":"Volver a Enviar"]})]}):o.jsx("p",{className:"text-gray-500 text-center",children:"Selecciona un correo para visualizarlo"})})]})]})}function vBe(e,t,r,n){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
                        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

                            <title>Broxel</title>

                            <meta name="color-scheme" content="light dark">
                                <style type="text/css">
                                    @media (prefers-color-scheme: dark) {
            .darkmode {background - color: #1e1e1e !important; }
                                    .darkmode p {color: #777777 !important; }
}

                                </style>



                                <style type="text/css">
                                    body,#bodyTable,#bodyCell{
                                        height:100%;
                                    margin:0;
                                    padding:0;
                                    width:100%;
    }

                                    #templateBody{
                                        /*background-color:  #f1f3f5 !important;*/
                                        background - color:  #f1f3f5 !important;
                                    border-top:0;
                                    border-bottom:0;
    }


                                    #bodyBackground{
                                        border - collapse:separate !important;
                                    background-color:#FFFFFF !important;
                                    border:1px solid #eeeeee !important;
                                    border-radius:12px;
    }
                                    #templateHeader{
        /*@editable*/background - color: #f1f3f5 !important;
        /*@editable*/padding-top:10px;
        /*@editable*/padding-bottom:10px;
    }


}   @media only screen and (max-width: 580px){
                                        body{
                                        width:100% !important;
                                    min-width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .templateContainer{
                                        max - width:580px !important;
                                    width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .mcnImage{
                                        height:auto !important;
                                    width:100% !important;
    }

}




                                    /*CircularStdBlack*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 800;
                                    font-style: normal;
}

                                    /*CircularStdBold*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 600;
                                    font-style: normal;
}

                                    /*CircularStdMedium*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 500;
                                    font-style: normal;
}

                                    /*CircularStdBook*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 400;
                                    font-style: normal;
}


                                    h1 {
                                        font - size: 58px !important;
                                    line-height: 64px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h2 {
                                        font - size: 46px !important;
                                    line-height: 55px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h3 {
                                        font - size: 40px !important;
                                    line-height: 49px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h4 {
                                        font - size: 32px !important;
                                    line-height: 40px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h5 {
                                        font - size: 27px !important;
                                    line-height: 33px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    letter-spacing: 0px !important;
}

                                    h6 {
                                        font - size: 21px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    color: #001E30 !important;
                                    letter-spacing: 0px !important;
                                    margin-bottom:-11px;
}

                                    p {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400 !important;
                                    letter-spacing: 0px !important;
}


                                    li {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    ol {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    a{
                                        color:#0075ff !important;
                                    font-weight:700 !important;
                                    text-decoration:none !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
}
                                    span.linkfooter{
                                        font - family:'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-size:12px;
                                    font-weight:300;
                                    color:#0075ff;
}

                                    b{
                                        font - weight:800 !important;
}

                                    ul{
                                        margin - left:-11px;
                                    margin-top:30px !important;
}

                                    @media only screen and (max-width: 480px){
.contenedor{
                                        background - color:#ffffff !important;
                                    width:96% !important;
                                    max-width:580px !important;
                                    overflow:hidden !important;
                                    border-radius:3px!important;
                                    padding:40px 0px!important;
                                    margin-top:40px!important;
}}








                                </style>




                            </head>



                            <body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
                                <style type="text/css">body, table, td, h1, h2, h3, h4, h5, ol, ul, p {font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; }</style>


                                <!-- PREHEADER AQUÍ-->
                                <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
                                <!-- PREHEADER AQUÍ-->

                                <center>
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                                        <tr>
                                            <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                                                <!-- BEGIN TEMPLATE // -->




                                                <!-- BEGIN HEADER // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader"><tr><td align="center" valign="top">
                                                    <span style="line-height:1px;">&nbsp;</span>
                                                </td></tr></table>
                                                <!-- // END HEADER -->







                                                <!-- BEGIN HEADER LOGO // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                                        <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                                    <tr><td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                                    </td></tr></table>
                                                            </td></tr></table>
                                                    </td></tr></table>
                                                <!-- // END HEADER LOGO -->






                                                <!-- BEGIN BODY // -->
                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding: 7px 7px;">
                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%"><tr>




                                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                            <tbody><tr><td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                                <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                                <!-- TITLE HEADER BODY // -->

                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;"><tr><td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> Ingresa a la plataforma digital de crédito NAFIN<span style="color:#00a6f5">.</span></h2></td></tr></table>
                                                                            </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TITLE HEADER BODY // -->




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                                <!-- BEGIN CONTENT // -->

                                                                                <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                    <b>${e}</b> te damos la bienvenida a la plataforma de crédito <b>NAFIN.</b> A continuación te compartimos tus credenciales de acceso para completar los detalles de tu&nbsp;solicitud:




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->



                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                                Usuario:

                                                                                        </td>
                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                            <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                        </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>





                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                        </td>



                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->

                                                                                    <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                        En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu crédito de manera rápida y sencilla.


                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!--TEXTO DESTACADO-->

                                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                                            Ingresa a la plataforma ahora.</h5>

                                                                                        <!--FIN TEXTO DESTACADO-->




                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!-- TABLA BOTON-->
                                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                                <!--BOTON-->
                                                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                    <tbody class="mcnButtonBlockOuter">
                                                                                                        <tr>
                                                                                                            <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                    <tbody>
                                                                                                                        <tr>
                                                                                                                            <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <!--BOTON-->


                                                                                            </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!-- FIN TABLA BOTON-->







                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->





                                                                                        <!-- END CONTENT // -->

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                            </table>

                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                    <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                                    </td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>


                                                                            </td>
                                                                        </tr>
                                                                    </table>


                                                                </td>
                                                                </tr>
                                                            </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                        <!-- // END BODY -->






                                                        <!-- BEGIN FOOTER // -->
                                                        <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                                                            <!-- FOOTER -->
                                                            <tr>
                                                                <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                                                    <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                                                        <tbody>


                                                                            <tr>
                                                                                <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                                                    <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                                                            <b>¿Necesitas ayuda?</b><br>
                                                                                                Llámanos desde México o Estados Unidos al
                                                                                                <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                                                                    Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                                                                    <br>&nbsp;<br>&nbsp;
                                                                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                                                                    </p>
                                                                                                    </td>

                                                                                                </tr>

                                                                                                <tr>
                                                                                                    <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                                                                        <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                                                                                    <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>

                                                                                                    </td>
                                                                                                </tr>
                                                                                                <!-- FIN FOOTER -->

                                                                                            </table>
                                                                                            <!-- // END FOOTER -->







                                                                                            <!-- // END TEMPLATE -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </center>
                                                                        </body>
                                                                    </html>

    `}const AR=[{id:1,name:"Bienvenida",subject:"Bienvenido a nuestra plataforma",body:`[Nombre del solicitante] te damos la bienvenida a la plataforma de crédito NAFIN. A continuación te compartimos tus credenciales de acceso para completar los detalles de tu solicitud: 

* usuario: [Nombre de usuario]
* contraseña: [Contraseña temporal]
En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu crédito de manera rápida y sencilla.
 
Ingresa a la plataforma ahora. [Insertar enlace a la plataforma]`},{id:2,name:"Recordatorio",subject:"Actualización en tu trámite",body:`Hola [Nombre del solicitante] tenemos novedades sobre tu trámite en la plataforma de crédito NAFIN.  

Para conocer los detalles y los próximos pasos, ingresa a tu cuenta y revisa la sección de seguimiento: [Insertar enlace a la plataforma]
`}];function yBe(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(""),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(!1),{selectedClient:h,selectClient:g}=ct(),{user:x}=mt(),[v,b]=w.useState("send"),[y,j]=w.useState(!1),[E,N]=w.useState(!1),[S,T]=w.useState([{id:"1",content:"Este es el contenido del primer correo.",subject:"Primer Correo",emailRecipient:"correo1@example.com",emailCC:"correo2@example.com",createdAt:"2023-10-01T12:00:00Z"}]),C=(F,ne)=>F.replace(/\[Nombre del solicitante\]/g,ne.name||"[Nombre del solicitante]").replace(/\[Nombre de usuario\]/g,ne.username||"[Nombre de usuario]").replace(/\[Contraseña temporal\]/g,ne.temporaryPassword||"[Contraseña temporal]").replace(/\[Fecha del evento\]/g,ne.eventDate||"[Fecha del evento]").replace(/\[Hora del evento\]/g,ne.eventTime||"[Hora del evento]").replace(/\[Insertar enlace a la plataforma\]/g,ne.platformLink||"[Insertar enlace a la plataforma]").replace(/\[Insertar enlace al evento\]/g,ne.platformLink||"[Insertar enlace al evento]"),k=F=>{const ne={name:(h==null?void 0:h.name)??"",username:(h==null?void 0:h.email)??"",temporaryPassword:e,eventDate:new Date().toISOString().split("T")[0],eventTime:new Date().toLocaleTimeString(),platformLink:"https://documentaihostingpage-269526555085.us-central1.run.app"},U=C(F.body,ne);l(F.subject),u(U),F.id===1&&f(vBe((h==null?void 0:h.name)??"",(h==null?void 0:h.email)??"",e,"https://documentaihostingpage-269526555085.us-central1.run.app")),F.id===2&&f(pDe({name:(h==null?void 0:h.name)??"",url:"https://documentaihostingpage-269526555085.us-central1.run.app"}))};async function A(){if(h)try{const F=await RJ({mailboxId:h.mailboxId??""});if(T(F.messages),F.messages.length>0){const ne=F.messages[0].emailCC;g({ccemail:ne}),N(!0)}}catch(F){return console.error("Error fetching mails:",F),null}return null}async function _(){var ne;const F=await _B((h==null?void 0:h.email)??"",((ne=x==null?void 0:x.adminTeam)==null?void 0:ne.id)??"",12);t(F)}w.useEffect(()=>{h!=null&&h.email&&n(h.email),A(),_()},[]);const I=async()=>{p(!0);try{const F=await yd(r,a,s,d);if(F){se.success("Correo enviado exitosamente."),console.log("Respuesta de la API:",F);const ne={id:(h==null?void 0:h.mailboxId)??"",content:c,subject:s,emailRecipient:r,emailCC:a,createdAt:new Date().toISOString()};await OJ({mailboxId:(h==null?void 0:h.mailboxId)??"",content:c,subject:s,emailRecipient:r,emailCC:a}),T(U=>[...U,ne]),g({ccemail:a}),N(!0),await xc(3,(h==null?void 0:h.id)??"")}}catch(F){se.error("No se pudo enviar el correo. Inténtalo nuevamente."),console.error("Error al enviar el correo:",F)}finally{p(!1)}},M=F=>{F.preventDefault(),I(),n(""),i(""),l(""),u("")},L=()=>{E?h&&(g({flowStatus:3}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")):H()},W=()=>{h&&(g({flowStatus:2}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},H=()=>{j(!0)},q=()=>{j(!1)},B=()=>{console.log("Confirmación aceptada"),h&&(g({flowStatus:3}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3")),j(!1)};return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-lg p-8 max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Gestión de Correos"}),o.jsxs("div",{className:"flex border-b mb-4",children:[o.jsxs("button",{onClick:()=>b("send"),className:`flex-1 p-2 text-center ${v==="send"?"border-b-2 border-blue-500 font-semibold text-blue-600":"text-gray-500"}`,children:[o.jsx(uT,{className:"w-5 h-5 inline-block mr-2"}),"Enviar Correo"]}),o.jsxs("button",{onClick:()=>b("inbox"),className:`flex-1 p-2 text-center ${v==="inbox"?"border-b-2 border-blue-500 font-semibold text-blue-600":"text-gray-500"}`,children:[o.jsx(Z0,{className:"w-5 h-5 inline-block mr-2"}),"Buzón de Correos"]})]}),v==="send"?o.jsxs("form",{onSubmit:M,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ah,{className:"text-gray-400 w-6 h-6"}),o.jsx("input",{type:"email",value:r,onChange:F=>n(F.target.value),placeholder:"Destinatario",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",required:!0})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z0,{className:"text-gray-400 w-6 h-6"}),o.jsx("input",{type:"text",value:a,onChange:F=>i(F.target.value),placeholder:"CC (opcional) separado por comas",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z0,{className:"text-gray-400 w-6 h-6"}),o.jsx("input",{type:"text",value:s,onChange:F=>l(F.target.value),placeholder:"Asunto",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",required:!0})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(Fg,{className:"text-gray-400 w-6 h-6 mt-2"}),o.jsx("textarea",{value:c,onChange:F=>u(F.target.value),placeholder:"Contenido del correo",className:"flex-grow bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5 h-52",required:!0,spellCheck:!0,lang:"es"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Gi,{className:"text-gray-400 w-6 h-6"}),o.jsxs("select",{onChange:F=>k(AR[parseInt(F.target.value)]),className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5",children:[o.jsx("option",{value:"",children:"Seleccionar plantilla"}),AR.map((F,ne)=>o.jsx("option",{value:ne,children:F.name},F.id))]})]}),o.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition duration-300",disabled:m,children:m?o.jsx("span",{children:"Enviando..."}):o.jsxs(o.Fragment,{children:[o.jsx(uT,{className:"w-5 h-5"}),o.jsx("span",{children:"Enviar"})]})})]})]}):o.jsx(xBe,{sentMails:S}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(tf,{goToBackStep:W,goToNextStep:L,currentStep:2,totalSteps:7})}),o.jsx("div",{children:o.jsx(By,{isOpen:y,onClose:q,onConfirm:B,title:"¿Deseas continuar?",message:"Aún no has enviado las credenciales de acceso al usuario. Para enviar las credenciales selecciona la plantilla de bienvenida y click en enviar"})})]})}const bBe=async e=>{const t=await yE({productRequestId:e});if(t&&t.length>0){const r=t[0];return{id:r.id,razonSocial:r.razonSocial||"",rfc:r.rfc||"",montoSolicitado:r.montoSolicitado||0,moneda:r.moneda||"MXN",tipoCredito:r.tipoCredito||"",plazoCredito:r.plazoCredito||0,periodoGracia:r.periodoGracia||0,amortizacionCapital:r.amortizacionCapital||"mensual",amortizacionCapitalOtro:r.amortizacionCapitalOtro||"",pagoIntereses:r.pagoIntereses||"mensual",destinoRecursos:r.destinoRecursos||"",fuentePago:r.fuentePago||"contratos",fuentePagoOtros:r.fuentePagoOtros||"",riesgoComun:r.riesgoComun||!1,empresa:r.empresa||"",montoAutorizado:r.montoAutorizado||0,saldoVigente:r.saldoVigente||0,personasExpuestas:r.personasExpuestas||!1,nombre:r.nombre||"",relacion:r.relacion||"",actividadRealizada:r.actividadRealizada||"",incidenciasLegales:r.incidenciasLegales||!1,descripcionJuicio:r.descripcionJuicio||"",consecuencias:r.consecuencias||"",monto:r.monto||0,timing:r.timing||"",informacionAdicional:r.informacionAdicional||"",garantias:"",incorporationDate:r.incorporationDate||"",paisRegistro:r.paisRegistro||"",tipoProducto:r.tipoProducto||"",creditoSindicado:r.creditoSindicado||"",pepInvolucrado:r.pepInvolucrado||"",nombrePep:r.nombrePep||"",detallesCargoPep:r.detallesCargoPep||"",periodoDelCargo:r.periodoDelCargo||"",institucionDelCargoPep:r.institucionDelCargoPep||"",paisDeCargoPep:r.paisDeCargoPep||"",investigacionPrevia:"",familiarFuncionPublica:r.familiarFuncionPublica||"",nombreFamiliarPep:r.nombreFamiliarPep||"",nombreSocioPep:r.nombreSocioPep||"",parentescoSocioPep:r.parentescoSocioPep||"",periodoCargoFamiliar:r.periodoCargoFamiliar||"",paisCargoFamiliar:r.paisCargoFamiliar||"",institucionCargoFamiliar:r.institucionCargoFamiliar||"",fechaConsulta:"",mop:"",clavesPrevencion:"",atrasosCredito:"",evidenciaIncumplimiento:"",TipoEvidenciaIncumplimiento:"",montoTransacciones:0,montoRiesgoComun:0,actividadesRiesgo:"",actividadRiesgo:"",calificacionExperta:"",categorizacionSaras:"",dentroDeLimite:"",cumpleRestricciones:"",restriccionesEligibilidad:"",cumpleCaracteristicasEligibilidad:"",otrosComentarios:"",areaAtencionSolicitud:"",funcionarioNombre:"",funcionarioPuesto:"",supervisorNombre:"",supervisorPuesto:""}}else return console.log("No se encontraron datos de financiamiento."),null},wBe=(e,t,r)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"razonSocial":return typeof t=="string"&&t.trim()===""?"La razón social es obligatoria":"";case"rfc":return typeof t=="string"&&!/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(t)?"RFC inválido":"";case"paisRegistro":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"tipoProducto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"tipoCredito":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"pagoIntereses":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"creditoSindicado":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"fechaConsulta":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"mop":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"calificacionCartera":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"clavesPrevencion":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"atrasosCredito":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"incidenciasLegales":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"riesgoComun":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"investigacionPrevia":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"pepInvolucrado":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"familiarFuncionPublica":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"actividadesRiesgo":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"calificacionExperta":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"categorizacionSaras":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"dentroDeLimite":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"cumpleRestricciones":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"cumpleCaracteristicasEligibilidad":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"funcionarioNombre":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"areaAtencionSolicitud":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"funcionarioPuesto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"supervisorNombre":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"supervisorPuesto":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"destinoRecursos":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"incorporationDate":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"montoSolicitado":return typeof t=="number"&&t<=0?"El monto solicitado debe ser mayor a 0":"";case"fuentePago":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";case"plazoCredito":return Number(t)<1?"El plazo de crédito debe ser al menos 1 año.":r==="Revolvente"&&Number(t)>4?"El plazo máximo permitido para créditos revolventes es 4 años.":"";case"periodoGracia":return typeof t=="number"&&t<0?"El período de gracia no puede ser negativo":"";case"timing":return typeof t=="string"&&t.trim()===""?"Este campo es obligatorio":"";default:return""}},IR=e=>{const t={};return Object.keys(e).forEach(r=>{const n=wBe(r,e[r],e.tipoCredito??"");n&&(t[r]=n)}),t},SBe=Number.MAX_SAFE_INTEGER,Hc=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:l,required:c=!0})=>{const u=p=>p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),[d,f]=w.useState(u(e));w.useEffect(()=>{f(u(e))},[e]);const m=p=>{const h=p.target.value.replace(/,/g,"");if(h===""||h==="."||h==="-"){f(""),t(0);return}if(!/^-?\d*(\.\d{0,2})?$/.test(h))return;const g=parseFloat(h);isNaN(g)?f(h):(t(g),f(h.replace(/\B(?=(\d{3})+(?!\d))/g,",")))};return o.jsx("div",{className:"mb-4",children:o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",c&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-lg bg-gray-100 ${a}`,children:[o.jsx("input",{type:"text",value:r?u(e):d,onChange:m,disabled:r,maxLength:SBe.toString().length,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),o.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),l]})})},Oa=({name:e,value:t,onChange:r,options:n=[],label:a,required:i=!1,disabled:s=!1,error:l,title:c,otherPlaceholder:u="Especifique..."})=>{const d=t.startsWith("otro:"),[f,m]=w.useState(d?t.replace("otro:",""):""),p=g=>{g.target.value==="otros"?(m(""),r({target:{name:e,value:"otro:"}})):(m(""),r(g))},h=g=>{const x=`otro:${g.target.value}`;m(g.target.value),r({target:{name:e,value:x}})};return o.jsxs("div",{className:"mb-4",children:[a&&o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:c,children:[a," ",i&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:e,value:d?"otros":t,onChange:p,required:i,disabled:s,title:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione una opción"}),n.map(g=>o.jsx("option",{value:g.code,children:g.name},g.code)),o.jsx("option",{value:"otros",children:"Otros"})]}),d&&o.jsx("input",{type:"text",name:e,value:f,onChange:h,placeholder:u,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&o.jsx("span",{className:"text-red-500",children:l})]})},NBe=()=>{const[e,t]=w.useState([]),{selectedClient:r}=ct();return w.useEffect(()=>{(async()=>{if(r){const a=await Cv({productRequestId:r.id});a&&t(a)}else se.error("No hay una empresa seleccionada.")})()},[]),o.jsxs("div",{className:"max-w-4xl mx-auto bg-white mb-4",children:[o.jsx("h1",{className:"block text-gray-700 font-medium mb-2",children:"Garantías indicativas propuestas"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 p-2",children:"Descripción"}),o.jsx("th",{className:"border border-gray-300 p-2",children:"Garante"}),o.jsx("th",{className:"border border-gray-300 p-2",children:"Obligado Solidario"}),o.jsx("th",{className:"border border-gray-300 p-2",children:"Valor Estimado (Últ. Avalúo)"})]})}),o.jsx("tbody",{children:e.length>0?e.map((n,a)=>o.jsxs("tr",{className:`${a%2===0?"bg-gray-50":""}`,children:[o.jsx("td",{className:"p-2",children:n.descripcion}),o.jsx("td",{className:"p-2",children:n.garante??"No especificado"}),o.jsx("td",{className:"p-2",children:n.obligadoSolidario??"No especificado"}),o.jsx("td",{className:"p-2",children:n.valorActual?`${n.moneda??""} ${n.valorActual} (Fecha: ${n.fechaValor??"N/A"})`:"No especificado"})]},a)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"No hay garantías agregadas."})})})]})})]})},PR=({name:e,value:t,onChange:r,label:n,required:a=!1,disabled:i=!1,error:s,title:l,reasonPlaceholder:c="Especifique el motivo..."})=>{const u=t.startsWith("si"),d=u?t.replace(/^si:\s*/,""):"",f=p=>{const h=p.target.value;r({target:{name:e,value:h==="si"?`si: ${d}`:h}})},m=p=>{const h=p.target.value;r({target:{name:e,value:`si: ${h}`}})};return o.jsxs("div",{className:"mb-4",children:[n&&o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:l,children:[n," ",a&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:e,value:t||"",onChange:f,required:a,disabled:i,title:l,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),u&&o.jsx("input",{type:"text",name:`${e}_reason`,value:d,onChange:m,placeholder:c,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s&&o.jsx("span",{className:"text-red-500",children:s})]})};async function EBe(e,t){var s,l,c,u,d;const r=await Cv({productRequestId:t}),n=f=>f?f.replace(/\\/g,"\\textbackslash ").replace(/_/g,"\\_").replace(/\$/g,"\\$").replace(/%/g,"\\%").replace(/&/g,"\\&").replace(/#/g,"\\#").replace(/{/g,"\\{").replace(/}/g,"\\}").replace(/\^/g,"\\textasciicircum ").replace(/~/g,"\\textasciitilde ").replace(/</g,"\\textless ").replace(/>/g,"\\textgreater "):"",a=(r==null?void 0:r.map(f=>({id:f.id||"",garantia:n(f.garantia||"No especificado"),descripcion:n(f.descripcion||"No especificado"),ubicacion:f.ubicacion?n(f.ubicacion):void 0,propietario:f.propietario?n(f.propietario):void 0,fechaAdquisicion:f.fechaAdquisicion?n(f.fechaAdquisicion):void 0,valorActual:f.valorActual?n(f.valorActual.toLocaleString("es-MX")):void 0,valorAdquisicion:f.valorAdquisicion?n(f.valorAdquisicion.toLocaleString("es-MX")):void 0,fechaValor:f.fechaValor?n(f.fechaValor):void 0,moneda:f.moneda?n(f.moneda):void 0,sinGravamen:f.sinGravamen??!1,gravamenConQuien:n(f.gravamenConQuien??"NA"),gravamenDescripcion:n(f.gravamenDescripcion??"NA"),garante:f.garante?n(f.garante):void 0,indiceGarantia:typeof f.indiceGarantia=="number"&&f.indiceGarantia!==0?parseFloat(f.indiceGarantia.toFixed(2)):void 0,obligadoSolidario:f.obligadoSolidario?n(f.obligadoSolidario):void 0,valorPatrimonial:f.valorPatrimonial?n(f.valorPatrimonial.toLocaleString("es-MX")):void 0})))??[];console.log(a);const i={header:{titulo:"CÉDULA DE ELEGIBILIDAD PARA SOLICITUDES DE PRIMER PISO",direccion_credito:"Dirección de Crédito",version:"2.0",fecha_actualizacion:kBe(),logo_path:"logo_nafin.png"},solicitante:{solicitante:e.razonSocial??"",rfc:e.rfc,pais_registro:e.paisRegistro,filtro_pais:"Solo México",fecha_constitucion:e.incorporationDate??""},operacion:{tipo_producto:e.tipoProducto??"",tipo_credito:e.tipoCredito,destino:e.destinoRecursos,monto_moneda:`${e.montoSolicitado.toLocaleString("es-MX")} ${e.moneda}`,fuente_pago:`${jBe(e.fuentePago)}  ${e.fuentePagoOtros} `,plazo_credito:` ${e.plazoCredito.toString()+" Años"}`,periodo_gracia:e.tipoCredito==="Revolvente"?"NA":`${e.periodoGracia} Meses`,periodicidad_pagos:_Be(e.pagoIntereses),garantias:a??[],obligado_solidario:"No se incluyó el nombre de los obligados solidarios",credito_sindicado:e.creditoSindicado==="si"},buro_credito:{fecha_consulta:e.fechaConsulta??"",mop:((s=e.mop)==null?void 0:s.toUpperCase())??"",calificacion_cartera:e.calificacionCartera??"",tiene_claves_prevencion:e.clavesPrevencion==="si",atrasos_credito:e.atrasosCredito==="si",evidencia_incumplimiento:e.evidenciaIncumplimiento||e.TipoEvidenciaIncumplimiento?[e.evidenciaIncumplimiento,e.TipoEvidenciaIncumplimiento].filter(Boolean).join(" : "):"NA",incidencia_legal:e.incidenciasLegales?`Sí: ${e.descripcionJuicio} ${e.consecuencias} ${e.monto} ${e.moneda}`:"No"},riesgo_comun:{tiene_credito_nafin:e.riesgoComun,monto_transacciones:`${((l=e.montoTransacciones)==null?void 0:l.toLocaleString("es-MX"))??""} ${e.moneda}`,monto_riesgo_comun:`${((c=e.montoRiesgoComun)==null?void 0:c.toLocaleString("es-MX"))??""} ${e.moneda}`,detalle_empresas:e.riesgoComun&&e.empresa?[{riesgo_comun_empresa:e.empresa,riesgo_comun_monto:`${((u=e.montoAutorizado)==null?void 0:u.toLocaleString("es-MX"))??""} ${e.moneda}`,riesgo_comun_saldo:`${((d=e.saldoVigente)==null?void 0:d.toLocaleString("es-MX"))??""} ${e.moneda}`}]:[]},riesgo_pldft:{investigacion_previa:e.investigacionPrevia==="si",pep_involucrado:e.pepInvolucrado==="si",detalles_cargos:e.detallesCargoPep??"No especificado",nombre_pep:e.nombrePep??"No especificado",periodo_cargo:e.periodoDelCargo??"",institucion_cargo:e.institucionDelCargoPep??"",pais_cargo:e.paisDeCargoPep??"",familiar_funcion_publica:e.familiarFuncionPublica==="si",nombre_familiar:e.nombreFamiliarPep??"No especificado",nombre_socio:e.nombreSocioPep??"No especificado",parentesco_socio:e.parentescoSocioPep??"No especificado",periodo_cargo_familiar:e.periodoCargoFamiliar??"No especificado",institucion_cargo_familiar:e.institucionCargoFamiliar??"No especificado",pais_cargo_familiar:e.paisCargoFamiliar??"No especificado",actividades_riesgo:e.actividadesRiesgo==="si",actividad_riesgo:e.actividadRiesgo??"No especificado"},calificacion:{calificacion_experta:e.calificacionExperta??"",categorizacion_saras:e.categorizacionSaras??""},criterios_elegibilidad:{dentro_limite:e.dentroDeLimite==="si",cumple_restricciones:e.cumpleRestricciones==="si",cumple_carateristicas_eligibilidad:e.cumpleCaracteristicasEligibilidad==="si",restricciones_eligibilidad:e.restriccionesEligibilidad??""},observaciones:{otros_comentarios:e.otrosComentarios??"",funcionario_nombre:e.funcionarioNombre??"",funcionario_puesto:e.funcionarioPuesto??"",supervisor_nombre:e.supervisorNombre??"",supervisor_puesto:e.supervisorPuesto??"",area_atencion_solicitud:e.areaAtencionSolicitud??""}};return console.log(i),i}function jBe(e){var r;return((r=[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}].find(n=>n.code===e))==null?void 0:r.name)||"Código no encontrado"}function _Be(e){var r;return((r=[{code:"mensual",name:"Mensual"},{code:"trimestral",name:"Trimestral"},{code:"semestral",name:"Semestral"},{code:"al_vencimiento",name:"Al vencimiento"}].find(n=>n.code===e))==null?void 0:r.name)||"Código no encontrado"}const kBe=()=>{const e=new Date,t={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("es-ES",t).replace(".","")},CBe=()=>{const[e,t]=w.useState({id:"",razonSocial:"",paisRegistro:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"",plazoCredito:0,periodoGracia:0,amortizacionCapital:"",amortizacionCapitalOtro:"",pagoIntereses:"",destinoRecursos:"",fuentePago:"",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,personasExpuestas:!1,nombre:"",relacion:"",actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",tipoProducto:"",creditoSindicado:"",fechaConsulta:"",mop:"",calificacionCartera:"",clavesPrevencion:"",atrasosCredito:"",evidenciaIncumplimiento:"",TipoEvidenciaIncumplimiento:"",montoTransacciones:0,montoRiesgoComun:0,investigacionPrevia:"",pepInvolucrado:"",nombrePep:"",detallesCargoPep:"",periodoDelCargo:"",institucionDelCargoPep:"",paisDeCargoPep:"",familiarFuncionPublica:"",nombreFamiliarPep:"",nombreSocioPep:"",parentescoSocioPep:"",periodoCargoFamiliar:"",paisCargoFamiliar:"",institucionCargoFamiliar:"",actividadesRiesgo:"",actividadRiesgo:"",calificacionExperta:"",categorizacionSaras:"",dentroDeLimite:"",cumpleRestricciones:"",restriccionesEligibilidad:"",cumpleCaracteristicasEligibilidad:"",otrosComentarios:"",areaAtencionSolicitud:"",funcionarioNombre:"",funcionarioPuesto:"",supervisorNombre:"",supervisorPuesto:"",garantias:""}),[r,n]=w.useState(!1),[a]=w.useState(!0),[i,s]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(),[f,m]=w.useState({}),{selectedClient:p,selectClient:h}=ct(),g=E=>{if(!a)return;const{name:N,value:S}=E.target,T=N;t({...e,[T]:S}),m(C=>({...C,[T]:IR({...e,[T]:S})[T]||""}))};async function x(){try{console.log("procesando");const E=await EBe(e,(p==null?void 0:p.id)??""),N=JSON.stringify(E);s(!0),console.log(N),await xje(N,"view"),s(!1),l||await xc(6,(p==null?void 0:p.id)??"")}catch(E){console.error("Error al generar el PDF:",E),se.error("Ocurrió un error al generar el documento."),s(!1)}}const v=async E=>{if(E.preventDefault(),!p){se.error("No se seleccionó un producto");return}{const N=IR(e);if(Object.keys(N).length>0){m(N),se.error("Hay errores en el formulario. Por favor, revisa los campos."),console.log(Object.keys(N)),n(!1);return}}if(x(),l){const{id:N,...S}=e;console.log(N);const T={...S,elegibilityCardId:u??""};PJ(T)}else{const{id:N,...S}=e;console.log(N);const T={...S,productRequestId:p.id};c(!0),IJ(T)}};w.useEffect(()=>{(async()=>{let N=!1;const S=await CJ({productRequestId:(p==null?void 0:p.id)??""});if(S&&S[0]&&(N=!0,c(!0),d(S[0].id??"")),N){if(S&&S[0]){const T={razonSocial:S[0].razonSocial??"",paisRegistro:S[0].paisRegistro??"",rfc:S[0].rfc??"",montoSolicitado:S[0].montoSolicitado??0,moneda:S[0].moneda||"MXN",tipoCredito:S[0].tipoCredito??"",plazoCredito:S[0].plazoCredito??0,periodoGracia:S[0].periodoGracia??0,amortizacionCapital:S[0].amortizacionCapital??"",amortizacionCapitalOtro:S[0].amortizacionCapitalOtro??"",pagoIntereses:S[0].pagoIntereses??"",destinoRecursos:S[0].destinoRecursos??"",fuentePago:S[0].fuentePago??"",fuentePagoOtros:S[0].fuentePagoOtros??"",riesgoComun:S[0].riesgoComun??!1,empresa:S[0].empresa??"",montoAutorizado:S[0].montoAutorizado??0,saldoVigente:S[0].saldoVigente??0,personasExpuestas:S[0].personasExpuestas??!1,nombre:S[0].nombre??"",relacion:S[0].relacion??"",actividadRealizada:S[0].actividadRealizada??"",incidenciasLegales:S[0].incidenciasLegales??!1,descripcionJuicio:S[0].descripcionJuicio??"",consecuencias:S[0].consecuencias??"",monto:S[0].monto??0,timing:S[0].timing??"",informacionAdicional:S[0].informacionAdicional??"",incorporationDate:S[0].incorporationDate??"",tipoProducto:S[0].tipoProducto??"",creditoSindicado:S[0].creditoSindicado??"",fechaConsulta:S[0].fechaConsulta??"",mop:S[0].mop??"",calificacionCartera:S[0].calificacionCartera??"",clavesPrevencion:S[0].clavesPrevencion??"",atrasosCredito:S[0].atrasosCredito??"",evidenciaIncumplimiento:S[0].evidenciaIncumplimiento??"",TipoEvidenciaIncumplimiento:S[0].TipoEvidenciaIncumplimiento??"",montoTransacciones:S[0].montoTransacciones??0,montoRiesgoComun:S[0].montoRiesgoComun??0,investigacionPrevia:S[0].investigacionPrevia??"",pepInvolucrado:S[0].pepInvolucrado??"",nombrePep:S[0].nombrePep??"",detallesCargoPep:S[0].detallesCargoPep??"",periodoDelCargo:S[0].periodoDelCargo??"",institucionDelCargoPep:S[0].institucionDelCargoPep??"",paisDeCargoPep:S[0].paisDeCargoPep??"",familiarFuncionPublica:S[0].familiarFuncionPublica??"",nombreFamiliarPep:S[0].nombreFamiliarPep??"",nombreSocioPep:S[0].nombreSocioPep??"",parentescoSocioPep:S[0].parentescoSocioPep??"",periodoCargoFamiliar:S[0].periodoCargoFamiliar??"",paisCargoFamiliar:S[0].paisCargoFamiliar??"",institucionCargoFamiliar:S[0].institucionCargoFamiliar??"",actividadesRiesgo:S[0].actividadesRiesgo??"",actividadRiesgo:S[0].actividadRiesgo??"",calificacionExperta:S[0].calificacionExperta??"",categorizacionSaras:S[0].categorizacionSaras??"",dentroDeLimite:S[0].dentroDeLimite??"",cumpleRestricciones:S[0].cumpleRestricciones??"",restriccionesEligibilidad:S[0].restriccionesEligibilidad??"",cumpleCaracteristicasEligibilidad:S[0].cumpleCaracteristicasEligibilidad??"",otrosComentarios:S[0].otrosComentarios??"",areaAtencionSolicitud:S[0].areaAtencionSolicitud??"",funcionarioNombre:S[0].funcionarioNombre??"",funcionarioPuesto:S[0].funcionarioPuesto??"",supervisorNombre:S[0].supervisorNombre??"",supervisorPuesto:S[0].supervisorPuesto??"",garantias:S[0].garantias??""};t({...e,...T})}}else{const T=await bBe((p==null?void 0:p.id)??"");T&&T.id&&t({...e,...T})}})()},[]);const b=[{code:"México",name:"México"}],y=()=>{p&&(h({flowStatus:6}),console.log("goToNextStep ejecutado: flowStatus actualizado a 3"))},j=()=>{p&&(h({flowStatus:4}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))};return o.jsxs("div",{children:[o.jsxs("div",{className:"",children:[o.jsxs("form",{className:"max-w-4xl mx-auto p-10 bg-white rounded-md",children:[o.jsxs("div",{className:"mb-4",children:[i&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center",children:[o.jsx(at,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("p",{className:"text-lg font-semibold mt-4",children:"Generando cédula..."})]})}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Detalles de la Solicitud"}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Datos del solicitante"}),o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Nombre del solicitante",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"razonSocial",value:e.razonSocial,onChange:g,required:!0,disabled:!a,title:"Ingresa la razón social de la empresa",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.razonSocial&&o.jsx("span",{className:"text-red-500",children:f.razonSocial})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["RFC del solicitante",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"rfc",value:e.rfc,onChange:g,required:!0,disabled:!a,title:"Ingrese el Registro Federal de Contribuyentes (RFC) de la empresa o persona física.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.rfc&&o.jsx("span",{className:"text-red-500",children:f.rfc})]}),o.jsx(Oa,{label:"País de registro del solicitante",title:"Seleccione el país de registro de la empresa o persona física.",name:"paisRegistro",value:e.paisRegistro,onChange:g,options:b,otherPlaceholder:"Especifique el pais de registro",required:!0,disabled:!a,error:f.paisRegistro}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha correspondiente a la fecha de constitucion de su empresa",children:["Fecha de constitucion",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"incorporationDate",value:e.incorporationDate,onChange:g,required:!0,disabled:!a,title:"Seleccione la fecha correspondiente.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.incorporationDate&&o.jsx("span",{className:"text-red-500",children:f.incorporationDate})]}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Características de la operación"}),o.jsx(Oa,{label:"Tipo de producto financiero",title:"Seleccione el tipo de producto financiero.",name:"tipoProducto",value:e.tipoProducto??"",onChange:g,options:[{code:"Corporativo",name:"Corporativo"},{code:"Proyecto de inversión",name:"Proyecto de inversión"}],otherPlaceholder:"Especifique el tipo de producto",required:!0,disabled:!a,error:f.tipoProducto}),o.jsx(Oa,{label:"Tipo de Crédito solicitado",title:"Seleccione el tipo de crédito que mejor se adapte a sus necesidades financieras.",name:"tipoCredito",value:e.tipoCredito??"",onChange:g,options:[{code:"Simple",name:"Simple"},{code:"Revolvente",name:"Revolvente"},{code:"Mixto",name:"Mixto"}],otherPlaceholder:"Indique el tipo de crédito",required:!0,disabled:!a,error:f.tipoCredito}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el propósito o uso que se dará a los recursos solicitados.",children:["Destino de Recursos inicialmente propuestos ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"destinoRecursos",value:e.destinoRecursos,onChange:g,required:!0,disabled:!a,title:"Describa el propósito o uso de los recursos solicitados en la solicitud de financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.destinoRecursos&&o.jsx("span",{className:"text-red-500",children:f.destinoRecursos})]}),o.jsx(Hc,{name:"Monto Solicitado",value:e.montoSolicitado,onChange:E=>t(N=>({...N,montoSolicitado:E})),disabled:!0,title:"Monto total solicitado para el financiamiento, en la moneda seleccionada.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoSolicitado?o.jsx("span",{className:"text-red-500",children:f.montoSolicitado}):""}),o.jsx(Oa,{label:"Fuente de Pago",title:"Seleccione la fuente principal con la que se realizará el pago del crédito.",name:"fuentePago",value:e.fuentePago??"",onChange:g,options:[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}],otherPlaceholder:"Seleccione una opción",required:!0,disabled:!a,error:f.fuentePago}),e.fuentePago==="otros"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique otra fuente de pago si no está en la lista anterior.",children:"Especificar Fuente de Pago:"}),o.jsx("textarea",{name:"fuentePagoOtros",value:e.fuentePagoOtros,onChange:g,disabled:!a,title:"Describa la fuente de pago alternativa que utilizará para cubrir el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique la duración del crédito en años, dentro del rango permitido.",children:["Plazo de Crédito (en años)",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"plazoCredito",value:e.plazoCredito,onChange:g,min:"1",...e.tipoCredito==="Revolvente"?{max:4}:{},required:!0,disabled:!a,title:"Ingrese el número de años del crédito",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.plazoCredito&&o.jsx("span",{className:"text-red-500",children:f.plazoCredito})]}),e.tipoCredito!=="Revolvente"&&o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el período durante el cual no se pagará el capital del crédito, solo los intereses.",children:["Período de Gracia de Capital (en meses)",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"periodoGracia",value:e.periodoGracia,onChange:g,onInput:E=>{const N=E.target;N.value=N.value.replace(/[^0-9]/g,"")},required:!0,title:"Ingrese la cantidad de meses de gracia antes de comenzar a pagar el capital.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoGracia&&o.jsx("span",{className:"text-red-500",children:f.periodoGracia})]})}),o.jsx(Oa,{label:"Periodicidad de Pago de Capital e Intereses",title:"Seleccione la frecuencia con la que realizará pagos de capital del crédito.",name:"pagoIntereses",value:e.pagoIntereses??"",onChange:g,options:[{code:"mensual",name:"Mensual"},{code:"trimestral",name:"Trimestral"},{code:"semestral",name:"Semestral"},{code:"al_vencimiento",name:"Al vencimiento"}],otherPlaceholder:"Especifique periodicidad del pago de capital e intereses",required:!0,disabled:!a,error:f.pagoIntereses}),e.amortizacionCapital==="otro"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Especifique otro tipo de amortización si no está en la lista anterior.",children:"Especifica la amortización:"}),o.jsx("input",{type:"text",name:"amortizacionCapitalOtro",value:e.amortizacionCapitalOtro,onChange:g,disabled:!a,title:"Indique el esquema de amortización personalizado.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx(NBe,{}),o.jsx(PR,{name:"creditoSindicado",value:e.creditoSindicado??"",onChange:g,label:"¿El crédito es sindicado?",title:"indique si el crédito crédito es sindicado",required:!0,reasonPlaceholder:"¿Quién es el Banco Agente?",error:f.creditoSindicado}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Buró de Crédito e Incidencias Legales"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha de consulta del buró.",children:["Fecha de consulta de buró de crédito:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"fechaConsulta",value:e.fechaConsulta,onChange:g,disabled:!a,title:"Ingrese la fecha en la cual consultó el buró.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.fechaConsulta&&o.jsx("span",{className:"text-red-500",children:f.fechaConsulta})]}),o.jsx(Oa,{label:"MOP",title:"Seleccione la MOP de Buró de Crédito.",name:"mop",value:e.mop??"",onChange:g,options:[{code:"mop1",name:"MOP1"},{code:"mop2",name:"MOP2"},{code:"mop3",name:"MOP3"},{code:"mop4",name:"MOP4"},{code:"mop5",name:"MOP5"},{code:"mop6",name:"MOP6"},{code:"mop7",name:"MOP7"}],otherPlaceholder:"Otra MOP",required:!0,disabled:!a,error:f.mop}),o.jsx(Oa,{label:"Calificación de Cartera Buró de Crédito",title:"Calificación de Cartera Buró de Crédito.",name:"calificacionCartera",value:e.calificacionCartera??"",onChange:g,options:[{code:"A1",name:"A1"},{code:"A2",name:"A2"},{code:"B1",name:"B1"},{code:"B2",name:"B2"},{code:"B3",name:"B3"},{code:"C1",name:"C1"},{code:"C2",name:"C2"},{code:"D",name:"D"},{code:"E",name:"E"},{code:"EX",name:"EX"},{code:"NC",name:"NC"}],otherPlaceholder:"Otra calificación",required:!0,disabled:!a,error:f.calificacionCartera}),o.jsx(PR,{name:"clavesPrevencion",value:e.clavesPrevencion??"",onChange:g,label:"¿Tiene claves de prevención?",title:"indique si tiene claves de prevención",required:!0,reasonPlaceholder:"Enlistar las claves de prevención",error:f.clavesPrevencion}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indica si el cliente presenta atrasos con sus créditos.",children:"¿Registra atrasos en sus créditos?"}),o.jsxs("select",{name:"atrasosCredito",value:e.atrasosCredito,disabled:!a,onChange:g,title:"¿Registra atrasos en sus créditos?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.atrasosCredito&&o.jsx("span",{className:"text-red-500",children:f.atrasosCredito})]}),e.atrasosCredito==="si"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-100 p-2 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["En caso de incumplimiento ¿se podrá contar con evidencia para solventarlo?",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"evidenciaIncumplimiento",value:e.evidenciaIncumplimiento,onChange:g,required:!0,disabled:!a,title:"Seleccione una opción",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"si",children:"Sí"}),o.jsx("option",{value:"no",children:"No"})]}),f.evidenciaIncumplimiento&&o.jsx("span",{className:"text-red-500",children:f.evidenciaIncumplimiento})]}),o.jsx("div",{className:"mb-4 bg-yellow-100 p-2 rounded-md",children:o.jsx(Oa,{label:"Tipo evidencia para aclaración incumplimiento",title:"Tipo evidencia para aclaración incumplimiento",name:"TipoEvidenciaIncumplimiento",value:e.TipoEvidenciaIncumplimiento??"",onChange:g,options:[{code:"Evidencia de pago",name:"Evidencia de pago"},{code:"Carta aclaratoria de atraso en crédito",name:"Carta aclaratoria de atraso en crédito"},{code:"Carta opinion de cumplimiento SAT",name:"Carta opinion de cumplimiento SAT"}],otherPlaceholder:"Especifique el tipo evidencia para aclaración incumplimiento",required:!0,disabled:!a,error:f.TipoEvidenciaIncumplimiento})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si la empresa tiene incidencias legales en curso o pasadas.",children:"¿Tiene alguna incidencia legal (demanda o litigio) vigente?"}),o.jsxs("select",{name:"incidenciasLegales",value:e.incidenciasLegales?"si":"no",disabled:!a,onChange:E=>{t({...e,incidenciasLegales:E.target.value==="si"})},required:!0,title:"Seleccione 'Sí' si la empresa tiene incidencias legales o 'No' en caso contrario.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.incidenciasLegales&&o.jsx("span",{className:"text-red-500",children:f.incidenciasLegales})]}),e.incidenciasLegales&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Describa brevemente el juicio o litigio relacionado con la empresa.",children:"Descripción de incidencia:"}),o.jsx("textarea",{name:"descripcionJuicio",value:e.descripcionJuicio,onChange:g,required:!0,disabled:!a,title:"Ingrese una descripción del juicio o litigio en el que está involucrada la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique las posibles consecuencias del juicio para la empresa.",children:"Posibles Consecuencias:"}),o.jsx("textarea",{name:"consecuencias",value:e.consecuencias,onChange:g,required:!0,disabled:!a,title:"Describa las posibles consecuencias legales o económicas que pueda enfrentar la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(Hc,{name:"Monto de las posibles consecuencias",value:e.monto??0,onChange:E=>t(N=>({...N,monto:E})),disabled:!a,title:"Especifique el monto en disputa o el impacto financiero estimado del juicio.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoTransacciones?o.jsx("span",{className:"text-red-500",children:f.montoTransacciones}):""})})]}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Riesgo Común"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera.",children:"Riesgo Común ¿El solicitante o alguna de sus empresas relacionadas tiene crédito o ha tenido crédito con Nafin?"}),o.jsxs("select",{name:"riesgoComun",value:e.riesgoComun?"true":"false",disabled:!a,onChange:E=>{t({...e,riesgoComun:E.target.value==="true"})},title:"Seleccione 'Sí' si el crédito está asociado con otras empresas en términos de riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"false",children:"No"}),o.jsx("option",{value:"true",children:"Sí"})]})]}),e.riesgoComun&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la empresa con la que se comparte el riesgo.",children:["Nombre de la Empresa acreditada:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"empresa",value:e.empresa||"",onChange:g,disabled:!a,title:"Especifique la empresa con la que se comparte el riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.empresa&&o.jsx("span",{className:"text-red-500",children:f.empresa})]}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(Hc,{name:"Monto Autorizado",value:e.montoAutorizado??0,onChange:E=>t(N=>({...N,montoAutorizado:E})),disabled:!a,title:"Ingrese el saldo autorizado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoAutorizado?o.jsx("span",{className:"text-red-500",children:f.montoAutorizado}):""})}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(Hc,{name:"Saldo Vigente",value:e.saldoVigente??0,onChange:E=>t(N=>({...N,saldoVigente:E})),disabled:!a,title:"Ingrese el saldo actual que aún no ha sido pagado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.saldoVigente?o.jsx("span",{className:"text-red-500",children:f.saldoVigente}):""})})]}),o.jsx(Hc,{name:"El monto de transacciones vigentes asciende a",value:e.montoTransacciones??0,onChange:E=>t(N=>({...N,montoTransacciones:E})),disabled:!a,title:"Ingrese el monto de transacciones vigentes",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoTransacciones?o.jsx("span",{className:"text-red-500",children:f.montoTransacciones}):""}),o.jsx(Hc,{name:"de autorizarse la presente solicitud, el monto por riesgo común sería de",value:e.montoRiesgoComun??0,onChange:E=>t(N=>({...N,montoRiesgoComun:E})),disabled:!a,title:"Ingrese el monto de transacciones vigentes",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:f.montoRiesgoComun?o.jsx("span",{className:"text-red-500",children:f.montoRiesgoComun}):"",required:!1}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Determinación inicial de Grado de Riesgo PLD/FT"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"La investigación preliminar de conocimiento de cliente y, en su caso obligado solidario, arroja resultados positivos",children:["La investigación preliminar de conocimiento de cliente y, en su caso obligado solidario, arroja resultados positivos",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"investigacionPrevia",value:e.investigacionPrevia,onChange:g,required:!0,disabled:!a,title:"Seleccione una opción",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"si",children:"Sí"}),o.jsx("option",{value:"no",children:"No"})]}),f.investigacionPrevia&&o.jsx("span",{className:"text-red-500",children:f.investigacionPrevia})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero.",children:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero."}),o.jsxs("select",{name:"pepInvolucrado",value:e.pepInvolucrado,disabled:!a,onChange:g,title:"Seleccione 'Sí' si alguna persona políticamente expuesta está relacionada con la solicitud.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.pepInvolucrado&&o.jsx("span",{className:"text-red-500",children:f.pepInvolucrado})]}),e.pepInvolucrado==="si"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombrePep",value:e.nombrePep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombrePep&&o.jsx("span",{className:"text-red-500",children:f.nombrePep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"detallesCargoPep",value:e.detallesCargoPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.detallesCargoPep&&o.jsx("span",{className:"text-red-500",children:f.detallesCargoPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del accionista o directivo.",children:["Periodo del cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"periodoDelCargo",value:e.periodoDelCargo||"",onChange:g,disabled:!a,title:"Escriba el periodo del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoDelCargo&&o.jsx("span",{className:"text-red-500",children:f.periodoDelCargo})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del accionista o directivo",children:["Institucion del cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"institucionDelCargoPep",value:e.institucionDelCargoPep||"",onChange:g,disabled:!a,title:"Escriba la Institucion del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.institucionDelCargoPep&&o.jsx("span",{className:"text-red-500",children:f.institucionDelCargoPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"paisDeCargoPep",value:e.paisDeCargoPep||"",onChange:g,disabled:!a,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.paisDeCargoPep&&o.jsx("span",{className:"text-red-500",children:f.paisDeCargoPep})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero.",children:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),o.jsxs("select",{name:"familiarFuncionPublica",value:e.familiarFuncionPublica,disabled:!a,onChange:g,title:"Seleccione 'Sí' si algun familiar esta políticamente expuesta",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.familiarFuncionPublica&&o.jsx("span",{className:"text-red-500",children:f.familiarFuncionPublica})]}),e.familiarFuncionPublica==="si"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del familiar del socio, accionista o directivo.",children:["Nombre del familiar del socio, accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombreFamiliarPep",value:e.nombreFamiliarPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombreFamiliarPep&&o.jsx("span",{className:"text-red-500",children:f.nombreFamiliarPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo :",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombreSocioPep",value:e.nombreSocioPep||"",onChange:g,disabled:!a,title:"Escriba el nombre completo del socio accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.nombreSocioPep&&o.jsx("span",{className:"text-red-500",children:f.nombreSocioPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Parentesco del socio, accionista o directivo con el familiar:",children:["Parentesco del socio, accionista o directivo con el familiar:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"parentescoSocioPep",value:e.parentescoSocioPep||"",onChange:g,disabled:!a,title:"Escriba el parentesco del socio, accionista o directivo con el familiar:",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.parentescoSocioPep&&o.jsx("span",{className:"text-red-500",children:f.parentescoSocioPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del familiar.",children:["Periodo del cargo público del familiar",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"periodoCargoFamiliar",value:e.periodoCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba el periodo del cargo público del familiar.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.periodoCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:f.periodoCargoFamiliar})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del familiar",children:["Institucion del cargo público del familiar:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"institucionCargoFamiliar",value:e.institucionCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba la Institucion del cargo público del familiar",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.institucionCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:f.institucionCargoFamiliar})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"paisCargoFamiliar",value:e.paisCargoFamiliar||"",onChange:g,disabled:!a,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.paisCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:f.paisCargoFamiliar})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:" ¿Actividades de riesgo asociadas?",children:"¿Actividades de riesgo asociadas?"}),o.jsxs("select",{name:"actividadesRiesgo",value:e.actividadesRiesgo,disabled:!a,onChange:g,title:" ¿Actividades de riesgo asociadas?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.actividadesRiesgo&&o.jsx("span",{className:"text-red-500",children:f.actividadesRiesgo})]}),e.actividadesRiesgo==="si"&&o.jsx(Oa,{label:"Identificación de actividades de riesgo",title:"Identificación de actividades de riesgo",name:"actividadRiesgo",value:e.actividadRiesgo??"",onChange:g,options:[{code:"juegos_apuesta",name:"Juegos con apuesta, concursos y sorteos"},{code:"tarjetas_credito",name:"Tarjetas de crédito, prepagadas o de servicios o cheques de viajero"},{code:"prestamos_creditos",name:"Mutuo, préstamos o créditos, con y sin garantía"},{code:"construccion_inmuebles",name:"Servicios de construcción, desarrollo o comercialización y arrendamiento de bienes inmuebles"},{code:"comercializacion_metales",name:"Comercialización o intermediación de metales, joyas, relojes y/o piedras preciosas"},{code:"subasta_arte",name:"Subasta o comercialización de obras de arte"},{code:"comercializacion_vehiculos",name:"Comercialización o distribución de todo tipo de vehículos terrestres, marinos o aéreos"},{code:"servicios_blindaje",name:"Servicios de blindaje"},{code:"traslado_custodia_valores",name:"Servicios de traslado o custodia de dinero o valores"},{code:"servicios_profesionales",name:"Prestación de servicios profesionales de manera independiente, sin que medie relación laboral con el cliente"},{code:"servicios_fe_publica",name:"Prestación de servicios de FÉ PÚBLICA por notarios, corredores y servidores públicos"},{code:"recepcion_donativos",name:"Recepción de donativos por parte de Asociaciones y Sociedades sin fines de lucro"},{code:"comercio_exterior",name:"Prestación de servicios de comercio exterior como agente o apoderado aduanal, mediante autorización de la SHCP, de las mercancías mencionadas en la Ley Aduanera"},{code:"uso_goce_inmuebles",name:"Constitución de derechos personales de Uso y Goce de bienes inmuebles"},{code:"intercambio_activos_virtuales",name:"Ofrecimiento habitual y profesional de intercambio de activos virtuales a través de plataformas electrónicas, digitales o similares (criptomonedas como Bitcoin, Ethereum, XRP, entre otras)"}],otherPlaceholder:"Otra actividad",required:!0,disabled:!a,error:f.actividadRiesgo}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Calificación"}),o.jsx(Oa,{label:"Calificación Experta",title:"Seleccione la calificación experta del 1 al 10.",name:"calificacionExperta",value:e.calificacionExperta??"",onChange:g,options:[{code:"1",name:"1"},{code:"2",name:"2"},{code:"3",name:"3"},{code:"4",name:"4"},{code:"5",name:"5"},{code:"6",name:"6"},{code:"7",name:"7"},{code:"8",name:"8"},{code:"9",name:"9"},{code:"10",name:"10"}],otherPlaceholder:"Otra calificación",required:!0,disabled:!a,error:f.calificacionExperta}),o.jsx(Oa,{label:"Categorización SARAS",title:"Seleccione la categoría SARAS.",name:"categorizacionSaras",value:e.categorizacionSaras??"",onChange:g,options:[{code:"A",name:"A"},{code:"B",name:"B"},{code:"C",name:"C"}],otherPlaceholder:"Otra categoría",required:!0,disabled:!a,error:f.categorizacionSaras}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Criterios de Elegibilidad"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?",children:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?"}),o.jsxs("select",{name:"dentroDeLimite",value:e.dentroDeLimite,disabled:!a,onChange:g,title:"¿La calificación experta preliminar se encuentra dentro del límite permitido por tipo de producto?",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.dentroDeLimite&&o.jsx("span",{className:"text-red-500",children:f.dentroDeLimite})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito.",children:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito."}),o.jsxs("select",{name:"cumpleRestricciones",value:e.cumpleRestricciones,disabled:!a,onChange:g,title:"El solicitante y, en su caso, el obligado solidario cumplen con las políticas generales de aceptación de buró de crédito de la Institución conforme al Manual de Crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.cumpleRestricciones&&o.jsx("span",{className:"text-red-500",children:f.cumpleRestricciones})]}),e.cumpleRestricciones==="no"&&o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(Oa,{label:"Restricciones de Elegibilidad",title:"Presenta alguna de las siguientes restricciones conforme al Manual de Crédito.",name:"restriccionesEligibilidad",value:e.restriccionesEligibilidad??"",onChange:g,options:[{code:"creditoConsumo",name:"Crédito al consumo"},{code:"noConstituidaMexico",name:"No se encuentra legalmente constituida en México"},{code:"huelga",name:"Se encuentra en huelga o emplazado a huelga"},{code:"carteraVencida",name:"Presenta cartera vencida con NAFIN"},{code:"suspendidosNafin",name:"Se encuentra en la relación de empresas/accionistas suspendidos por NAFIN"},{code:"agriculturaExcluida",name:"Actividad de agricultura, ganadería, caza, silvicultura o pesca (excepto proyectos con transformación)"},{code:"impactoAmbiental",name:"Proyectos que generen efectos negativos en el medio ambiente"},{code:"baresCantinas",name:"Adaptación o acondicionamiento de establecimientos para bares y cantinas no asociado a restaurante"},{code:"liquidacionPasivos",name:"El destino es liquidación de pasivos (salvo refinanciamiento de un proyecto) o aportación accionaria"},{code:"quiebraTecnica",name:"El solicitante presenta quiebra técnica (pérdida de dos terceras partes de su capital social)"},{code:"concursoMercantil",name:"El solicitante se encuentra en concurso mercantil (salvo sector público)"},{code:"clavePrevencion",name:"El solicitante, aval, fiador u obligado solidario presenta 'Clave de prevención' en el Buró de Crédito"},{code:"lista69B",name:"Se encuentra en la lista del Art. 69 B del Código Fiscal de la Federación"},{code:"fintechSectorPrimario",name:"El solicitante es una Institución de Tecnología Financiera o del sector primario"},{code:"listaExclusion",name:"Realiza alguna de las actividades señaladas en la lista de exclusión (ANEXO 2)"}],otherPlaceholder:"Otra restricción",required:!0,disabled:!a,error:f.restriccionesEligibilidad})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido.",children:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido."}),o.jsxs("select",{name:"cumpleCaracteristicasEligibilidad",value:e.cumpleCaracteristicasEligibilidad,disabled:!a,onChange:g,title:"Cumple con las características y criterios de elegibilidad específicos comprendidos en el Manual de Crédito, de acuerdo al producto y/o programa institucional ofrecido.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione"}),o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),f.cumpleCaracteristicasEligibilidad&&o.jsx("span",{className:"text-red-500",children:f.cumpleCaracteristicasEligibilidad})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Comentarios adicionales",children:"Otros Comentarios"}),o.jsx("textarea",{name:"otrosComentarios",value:e.otrosComentarios||"",onChange:g,disabled:!a,title:"Escriba comentarios adicionales si es necesario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),f.otrosComentarios&&o.jsx("span",{className:"text-red-500",children:f.otrosComentarios})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Área que atiende la solicititud",children:["Área que atiende la solicititud",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"areaAtencionSolicitud",value:e.areaAtencionSolicitud||"",onChange:g,disabled:!a,title:"Área que atiende la solicititud",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.areaAtencionSolicitud&&o.jsx("span",{className:"text-red-500",children:f.areaAtencionSolicitud})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del funcionario",children:["Nombre del Funcionario",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"funcionarioNombre",value:e.funcionarioNombre||"",onChange:g,disabled:!a,title:"Escriba el nombre del funcionario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.funcionarioNombre&&o.jsx("span",{className:"text-red-500",children:f.funcionarioNombre})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Puesto del funcionario",children:["Puesto del Funcionario",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"funcionarioPuesto",value:e.funcionarioPuesto||"",onChange:g,disabled:!a,title:"Escriba el puesto del funcionario",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.funcionarioPuesto&&o.jsx("span",{className:"text-red-500",children:f.funcionarioPuesto})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del supervisor",children:["Nombre del Supervisor",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"supervisorNombre",value:e.supervisorNombre||"",onChange:g,disabled:!a,title:"Escriba el nombre del supervisor",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.supervisorNombre&&o.jsx("span",{className:"text-red-500",children:f.supervisorNombre})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Puesto del supervisor",children:["Puesto del Supervisor",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"supervisorPuesto",value:e.supervisorPuesto||"",onChange:g,disabled:!a,title:"Escriba el puesto del supervisor",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.supervisorPuesto&&o.jsx("span",{className:"text-red-500",children:f.supervisorPuesto})]}),o.jsx("div",{className:"flex justify-between",children:o.jsx("button",{type:"button",onClick:v,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 flex items-center justify-center gap-2 ${r&&"opacity-50 cursor-not-allowed"}`,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ju,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):"Generar cédula"})})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(tf,{goToBackStep:j,goToNextStep:y,currentStep:5,totalSteps:7})})]})},TBe=({isOpen:e,onClose:t,rejectReason:r})=>e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4 text-red-600",children:"Razón del Rechazo"}),o.jsx("p",{className:"text-sm text-gray-700 mb-4",children:r||"No se ha proporcionado una razón para el rechazo."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Cerrar"})})]})}):null,ABe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",IBe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",PBe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",OBe=(e,t)=>{const r={rechazado:`border-red-500 ${PBe}`,requerido:`border-blue-500 ${IBe}`,opcional:`border-blue-300 ${ABe}`};return e?r.rechazado:t?r.requerido:r.opcional},RBe=(e,t,r,n)=>e?o.jsx(Za,{className:"w-6 h-6 text-green-600"}):t?o.jsx(Qi,{className:"w-6 h-6 text-red-600"}):r?o.jsx(o.Fragment,{children:o.jsx("div",{className:"",children:o.jsx("div",{title:"Análisis:"+n,children:o.jsx(qs,{className:"w-6 h-6 text-red-500","aria-label":"Advertencia"})})})}):o.jsx(Gr,{className:"w-6 h-6 text-yellow-500"}),DBe=(e,t)=>e?"Aprobado":t?"Rechazado":"Revisar",FBe=(e,t)=>o.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded w-full mb-2 text-center",children:[o.jsx("p",{className:"truncate",children:e}),o.jsx("p",{children:t})]}),MBe=e=>o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"w-10 h-10 text-gray-400 mb-2"}),o.jsxs("label",{className:"w-full bg-gray-100 text-gray-600 text-xs text-center border rounded py-1 cursor-pointer",children:["Cargar archivo",o.jsx("input",{type:"file",className:"hidden",disabled:!0,onChange:e})]})]}),LBe=(e,t,r,n,a,i,s,l,c)=>o.jsxs("div",{className:"absolute top-10 right-4 w-32 bg-white border border-gray-200 rounded shadow-lg z-10",children:[e&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),a&&a()},children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),"Descargar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),i&&i()},children:[o.jsx(rl,{className:"w-4 h-4 mr-2"}),"Ver"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),s&&s()},children:[o.jsx(Za,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),l&&l()},children:[o.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),t&&o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),n(!0)},children:[o.jsx(_E,{className:"w-4 h-4 mr-2"}),"Detalles"]})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),c&&c()},children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>r(!1),children:[o.jsx(pt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]});function $Be({title:e,isUploaded:t,isLoading:r,isApproved:n,isRejected:a,rejectReason:i,fileName:s,fileSize:l,isRequired:c,isRejectedByAI:u,IaRejectedReason:d,onUpload:f,onDownload:m,onDelete:p,onView:h,onApprove:g,onReject:x}){const[v,b]=w.useState(!1),[y,j]=w.useState(!1),E=w.useRef(null);w.useEffect(()=>{const S=T=>{E.current&&!E.current.contains(T.target)&&b(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const N=S=>{var C;const T=(C=S.target.files)==null?void 0:C[0];T&&f&&f(T)};return o.jsxs("div",{ref:E,className:`w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg p-4 flex flex-col shadow-sm relative border-2 ${OBe(a,c)}`,title:e,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("h3",{className:"text-sm font-medium text-gray-800 max-w-full break-words whitespace-normal",title:e,children:e})}),o.jsx("button",{className:"py-1 px-2 bg-gray-50 text-gray-600 rounded-full text-xs font-medium hover:bg-gray-100 transition-colors",onClick:()=>b(!v),"aria-label":"Opciones",children:o.jsx(zo,{size:20})})]}),v&&LBe(t,a,b,j,m,h,g,x,p),o.jsx("h3",{className:`${c?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:c?"Requerido":"Opcional"}),o.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:r?o.jsx(iM,{size:"4rem"}):o.jsx(o.Fragment,{children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${n?"bg-green-100 border border-green-300":a?"bg-red-100 border border-red-300":"bg-yellow-100 border border-yellow-300"}`,children:RBe(n,a,u,d)}),o.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-green-600":a?"text-red-600":"text-yellow-500"}`,children:DBe(n,a)}),FBe(s,l)]}):MBe(N)})}),o.jsx(TBe,{isOpen:y,onClose:()=>j(!1),rejectReason:i||"No se especificó una razón para el rechazo."})]})}const BBe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},zBe=({isOpen:e,onCancel:t,onConfirm:r})=>{const[n,a]=w.useState(!1);if(!e)return null;const i=async()=>{a(!0);try{await r()}finally{a(!1)}};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:o.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"¿Estás seguro?"}),o.jsx("p",{className:"mb-4",children:"Esta acción eliminará el archivo permanentemente."}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:t,disabled:n,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center justify-center",onClick:i,disabled:n,children:n?o.jsx(at,{className:"animate-spin h-5 w-5 mr-2"}):"Eliminar"})]})]})})},UBe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(qBe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},qBe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})};function VBe({onPlaceholderClick:e}){return o.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:o.jsx(on,{className:"w-6 h-6 text-gray-500"})}),o.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Solicitar otro documento"})]})}const OR={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function RR(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function DR(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function HBe(e){return e.includes("Solicitud de Financiamiento")?"Solicitud de Financiamiento":e.includes("Estados Financieros auditados")?"Estados Financieros Auditados":e.includes("Estados financieros internos")||e.includes("Estado Financiero")?"Estados Financieros Internos":e.includes("Presentación Corporativa")?"Presentación corporativa":e.includes("Flujos indicativos")||e.includes("Proyecciones")?"Proyecciones / Flujos indicativos":e.includes("Buró de Crédito")?"Buró de crédito":"Información adicional"}const WBe=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?(console.warn("No se encontraron documentos requeridos"),[]):t.requiredDocuments.map(n=>{const a=HBe(n.documentTemplate.name);return{documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??"",category:a}}).sort((n,a)=>{const i=OR[n.category]-OR[a.category];return i!==0?i:n.category==="Estados Financieros Auditados"&&a.category==="Estados Financieros Auditados"?RR(n.documentTemplate.name)-RR(a.documentTemplate.name):n.category==="Estados Financieros Internos"&&a.category==="Estados Financieros Internos"?DR(n.documentTemplate.name)-DR(a.documentTemplate.name):0})}catch(t){return console.error("Error al obtener los documentos:",t),[]}},GBe=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,l){return l.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>Id(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}};function XBe({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState("processing"),[u,d]=w.useState({title:"",message:"",details:void 0}),[f,m]=w.useState(!1);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{const x=await sh();s(x)},h=async()=>{c("processing");const v=await GBe({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),m(!0)},g=x=>{x.preventDefault(),h()};return e?o.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[o.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Solicitar otro documento"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Selecciona el documento adicional a solicitar."}),o.jsx("div",{className:" mb-4",children:o.jsx(jB,{documents:n,setDocuments:a,docTemplates:i})}),o.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[o.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Solicitar documento adicional"}),o.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&o.jsx(_n,{onClose:t,status:l,messages:u})]}):null}function KBe(){const{selectedClient:e}=ct(),[t,r]=w.useState([]),[n,a]=w.useState(!1),[i,s]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(null),[v,b]=w.useState(null),[y,j]=w.useState(!1),[E,N]=w.useState(!1),[S,T]=w.useState(!1),[C,k]=w.useState(!1),[A,_]=w.useState(!1),[I,M]=w.useState(null),{user:L}=mt(),W=()=>t.length>0&&t.every(re=>re.isPreApproved),H=async re=>{t.length>0&&t.every(P=>P.isPreApproved)?N(!0):re&&(await xc(3,(e==null?void 0:e.id)??""),N(!1))},q=async()=>{let re="";const P=W(),z=e==null?void 0:e.name,D=await Kx((e==null?void 0:e.email)??"",(L==null?void 0:L.idToken)??""),O="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+D.token;if(P===!1){const ie=t.filter(oe=>oe.isPreApproved).length,ue=t.filter(oe=>oe.isRejected).length,ye=t.filter(oe=>oe.isUploaded===!1).length;re=fDe({name:z??"",numAprobados:ie,numRechazados:ue,numPendientes:ye,url:O})}else re=mDe({name:z??"",url:O}),await xc(4,(e==null?void 0:e.id)??"");await yd((e==null?void 0:e.email)??"",e==null?void 0:e.ccemail,"Actualización en tu trámite",re)?P===!1?se.success("cliente notificado"):se.success("Seccion completa, cliente notificado"):se.error("Ocurrió un error, intente de nuevo mas tarde")},B=async(re,P)=>{if(T(!0),P)if((await cr({id:P,isPreApproved:!0,isRejected:!1,rejectReason:""})).success){const D=[...t];D[re]={...D[re],isPreApproved:!0,isRejected:!1,rejectReason:""},r(D),console.log("Documento aprobado")}else se.error("Error al aprobar el documento. Inténtalo de nuevo.")},F=(re,P)=>{a(!0),s(re),b(P)},ne=async re=>{if(T(!0),v)if((await cr({id:v,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:re})).success){if(i!==null){const z=[...t];z[i]={...z[i],isRejected:!0,isPreApproved:!1,rejectReason:re},r(z),console.log(`Documento rechazado: ${z[i].documentTemplate.name}, Razón: ${re}`)}}else se.error("Error al rechazar el documento. Inténtalo de nuevo.");a(!1),s(null)},U=(re,P,z)=>{m(!0),h(re),x(P),j(z)},R=async()=>{var re,P;if(T(!0),p!==null)if(g&&y){const D=((P=(re=t[p].fileName)==null?void 0:re.split(".").pop())==null?void 0:P.toLowerCase())??"",G=`${g}.${D}`,O=await Yd(G,"documentos");if(console.log(O?"Archivo eliminado en bucket":"Error al eliminar archivo en bucket"),(await cr({id:g,isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:"",fileSize:"",isRejectedByAI:!1,IaRejectedReason:""})).success){const ie=[...t];ie[p]={...ie[p],isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:void 0,fileSize:void 0,fileUrl:void 0,isRejectedByAI:!1,IaRejectedReason:void 0},r(ie),console.log("Archivo eliminado en índice")}else se.error("Error al eliminar el documento. Inténtalo de nuevo.")}else g&&((await rh({requiredDocument:g})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),r(D=>D.filter(G=>G.id!==g)),se.success("Documento requerido eliminado")):se.error("Error al eliminar el documento. Inténtalo de nuevo."));m(!1),x(null),h(null)},K=async(re,P)=>{var z;if(r(D=>D.map(G=>G.id===re?{...G,isLoading:!0}:G)),re){const D=((z=P.split(".").pop())==null?void 0:z.toLowerCase())??"",fe=await Un("view","documentos",re,"token",D);fe.data?(c(fe.data),d(D),console.log("URL de vista previa:",fe.data)):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}r(D=>D.map(G=>G.id===re?{...G,isLoading:!1}:G))},J=()=>c(null);w.useEffect(()=>{const re=async()=>{if(!(e!=null&&e.id)){se.error("No hay una empresa seleccionada.");return}const P=await WBe(e.id),z=P.length>0&&P.every(D=>D.isPreApproved);N(z),r(P),console.log("Documentos actualizados:",P)};I===null&&re(),I===!0&&A===!1&&re(),M(A)},[A]),w.useEffect(()=>{H(E)},[t]);const te=async(re,P)=>{var z;r(D=>D.map(G=>G.id===re?{...G,isLoading:!0}:G));try{const D=((z=P.split(".").pop())==null?void 0:z.toLowerCase())??"";(await Un("download","documentos",re,"token",D,P)).success?se.success("Archivo descargado"):se.error("Error al descargar el documento. Inténtalo de nuevo.")}catch(D){console.log(D),se.error("Error al descargar el documento. Inténtalo de nuevo.")}r(D=>D.map(G=>G.id===re?{...G,isLoading:!1}:G))};return o.jsxs("div",{children:[o.jsxs("div",{className:"p-6 bg-gray-50 rounded-md space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Documentos subidos: ",t.filter(re=>re.isUploaded).length,"/",t.length]}),E?o.jsxs("div",{className:"relative flex items-center gap-1 text-green-600 group",children:[o.jsx(At,{size:20}),o.jsx("span",{children:"Completado"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"Esta sección ha sido completada."})]}):o.jsxs("div",{className:"relative flex items-center gap-1 text-orange-600 group",children:[o.jsx(Gr,{size:20}),o.jsx("span",{children:"En proceso"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"En proceso de recepción documental, el estado cambia cuando validas todos los documentos."})]})]}),S?o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,o.jsxs("div",{className:"max-h-[600px] overflow-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 mt-4",children:[t.map((re,P)=>o.jsx($Be,{title:re.documentTemplate.name,isUploaded:re.isUploaded,isApproved:re.isPreApproved,isRejected:re.isRejected,rejectReason:re.rejectReason,fileName:re.fileName,fileSize:re.fileSize,isLoading:re.isLoading,isRequired:re.isRequired,onApprove:()=>B(P,re.id),onReject:()=>F(P,re.id),onDelete:()=>U(P,re.id,re.isUploaded),onDownload:()=>te(re.id,re.fileName??""),onView:()=>K(re.id,re.fileName??""),isRejectedByAI:re.isRejectedByAI??!1,IaRejectedReason:re.IaRejectedReason??""},re.id)),o.jsx(VBe,{onPlaceholderClick:()=>_(!0)})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("button",{onClick:async()=>{k(!0),await q(),k(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[C?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),E?"Informar sección completa":"Informar cambio en Recepción",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:E?"Informa al cliente por correo que sus documentos han sido recibidos, activa la siguiente sección":"Informa al cliente por correo que el estado de sus documentos ha cambiado"})]})}),o.jsx(BBe,{isOpen:n,onClose:()=>a(!1),onConfirm:ne}),o.jsx(zBe,{isOpen:f,onCancel:()=>m(!1),onConfirm:R}),l&&o.jsx(UBe,{fileUrl:l,onClose:J,fileType:u??"pdf"})]}),o.jsx(pr,{})]}),o.jsx("div",{children:A&&o.jsx(XBe,{isOpen:A,onClose:()=>_(!1),selectedProductId:(e==null?void 0:e.id)??""})})]})}function YBe(){const[e,t]=w.useState(1),{selectedClient:r,selectClient:n}=ct(),[a,i]=w.useState(!1),s=()=>{r&&n({flowStatus:4})},l=()=>{r&&n({flowStatus:2})},c=()=>{i(!1)},u=()=>{r&&n({flowStatus:4}),i(!1)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsx("header",{className:"flex items-center justify-between py-4",children:o.jsx("h1",{className:"text-xl font-semibold",children:"Detalles de solicitud"})}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Formulario Financiero","Garantías Indicativas","Documentos Requeridos"].map((d,f)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===f+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>t(f+1),children:d},f))}),o.jsxs("div",{className:"mt-4 mb-4",children:[e===1&&o.jsx(U9,{}),e===2&&o.jsx(q9,{}),e===3&&o.jsx(KBe,{})]})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(tf,{goToBackStep:l,goToNextStep:s,currentStep:3,totalSteps:7})}),o.jsx(By,{isOpen:a,onClose:c,onConfirm:u,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const JBe=()=>{const[e,t]=w.useState(2),[r,n]=w.useState(!1),a=7,{selectedClient:i}=ct(),s=Mt(),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(!1),[p,h]=w.useState(!1),[g,x]=w.useState(!1),v=w.useRef(null),b=async()=>{},y=()=>{s(-1)};w.useEffect(()=>{console.log("actualización recibida en onboarding"),t(S=>{const T=(i==null?void 0:i.flowStatus)??0;return S!==T?T:S})},[i]),w.useEffect(()=>{async function S(){if(i!=null&&i.chatId)try{const T=await Sh({chatId:(i==null?void 0:i.chatId)??""});if(T){const C=T.messages.filter(k=>!k.isRead&&!k.isSenderAdmin);if(C.length>0){const k={id:i.id,content:`Tienes ${C.length} nuevos mensajes sin leer.`,type:"info",read:!1,createdAt:new Date};d([k]),console.log("se llamo a toast"),h(!0)}c(T.messages)}}catch(T){console.log("error",T)}}S()},[]);const j=async()=>{if(i!=null&&i.chatId)try{if(l&&l.filter(T=>!T.isRead&&!T.isSenderAdmin).length>0){const T=l.map(C=>!C.isRead&&!C.isSenderAdmin?(console.log("marcando como leído",C),Nh({messageId:C.id,isRead:!0}),{...C,isRead:!0}):C);d([]),c(T)}}catch(S){console.log("Error al marcar mensajes como leídos:",S)}},E=()=>{n(!0),j(),console.log("El chat con el admin se abrió.")};w.useEffect(()=>{function S(T){v.current&&!v.current.contains(T.target)&&n(!1)}return r&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[r]);function N(){x(!g),Bm.removeAll(),zm.removeAll(),Eu.removeAll(),window.location.reload()}return o.jsxs("div",{className:"flex flex-col",children:[i&&o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:y,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(tl,{size:24})}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white  p-3 rounded-lg ",children:[o.jsx("span",{className:"text-gray-800 font-semibold",children:i.company}),o.jsx("span",{className:"text-gray-600",children:i.email})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex justify-center flex-1",children:o.jsxs("button",{className:"relative w-auto bg-gradient-to-r from-green-400 to-green-500 text-white py-2 px-5 rounded-full flex items-center gap-2 transition-transform transform hover:scale-105",onClick:()=>E(),children:[o.jsx(_a,{size:22}),"Chat con usuario",u.length>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.length})]})}),o.jsxs("div",{className:"relative group inline-block",children:[o.jsx("button",{onClick:N,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(kE,{size:24,className:`transition-transform duration-500 transform ${g?"rotate-180":""}`})}),o.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:"Forzar actualización"})]})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:o.jsx(e_e,{currentStep:e,totalSteps:a,onStepChange:S=>t(S)})}),o.jsxs("main",{className:"max-w-7xl flex-grow container mx-auto",children:[e===2&&o.jsx(yBe,{}),e===3&&o.jsx(YBe,{}),e===4&&o.jsx(gBe,{}),e===5&&o.jsx(CBe,{}),e===6&&o.jsx(xDe,{}),e===7&&o.jsx(bDe,{})]}),f&&o.jsx(r_e,{notifications:u,onClose:()=>m(!1)}),p&&o.jsx(n_e,{content:"Tienes nuevos mensajes",duration:5e3,onClose:()=>h(!1)}),r&&o.jsx("div",{ref:v,children:o.jsx(t_e,{onClose:()=>n(!1),onNewMessage:b,setMessages:c,messages:l})})]})};function QBe(){return o.jsx(Yr,{children:o.jsx(JBe,{})})}function ZBe(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(""),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(!1),[h,g]=w.useState(!1),[x,v]=w.useState(!1),[b,y]=w.useState(!1),[j,E]=w.useState(!1),[N,S]=w.useState("processing"),[T,C]=w.useState(!1),[k,A]=w.useState(),[_,I]=w.useState({title:"",message:"",details:void 0}),M=async q=>{q.preventDefault(),E(!0),S("processing");const B=T&&a===""?void 0:a,F=T&&s===""?void 0:s,ne=T&&c===""?void 0:c,U=T&&d===""?void 0:d;try{(T?await q6({name:B,email:F,phone:ne,role:U,isInternal:m,isEditor:h,isViewer:x,isSuperAdmin:b,adminUid:""}):await U6({name:a,email:s,phone:c,role:d,isInternal:m,isEditor:h,isViewer:x,isSuperAdmin:b,authUid:""})).success?(S("success"),I({title:"Actualización exitosa",message:"Se actualizaron los datos correctamente."}),se.success(T?"¡Actualización exitosa!":"¡Creación exitosa!")):(S("error"),I({title:"Falló la actualización",message:"Ocurrió un error al actualizar los datos."}),se.error("Ocurrió un error."))}catch(R){console.log(R),S("error")}},L=()=>{E(!1)},W=async()=>{n(!0);try{const q=await Sc();t(q)}catch(q){console.error("Error obteniendo las categorías",q)}finally{n(!1)}},H=async()=>{n(!0);try{const q=await V6();if(q.credentials){f(q.role||""),p(q.isInternal??!1),g(q.isEditor??!1),v(q.isViewer??!1),y(q.isSuperAdmin??!1);const B=e.find(F=>F.id===q.role);B!=null&&B.type&&A(B.type)}else se.warn("No se encontraron credenciales para este administrador.")}catch(q){se.error("Error cargando credenciales."),console.error("Error al cargar credenciales:",q)}finally{n(!1)}};return w.useEffect(()=>{W()},[]),w.useEffect(()=>{T&&e.length>0&&H()},[T,e]),o.jsxs("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:[r&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsx(at,{className:"w-10 h-10 text-white animate-spin"})}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[o.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:T?"Actualizar Credencial de Acceso":"Crear Credencial de Acceso"}),o.jsxs("div",{className:"flex justify-center mb-4",children:[o.jsx("label",{className:"mr-2 font-semibold",children:"Modo:"}),o.jsxs("select",{value:T?"update":"create",onChange:q=>C(q.target.value==="update"),className:"border border-gray-300 rounded-md px-2 py-1",children:[o.jsx("option",{value:"create",children:"Crear"}),o.jsx("option",{value:"update",children:"Actualizar"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:o.jsx("strong",{children:T?"Modifique los datos necesarios y guarde los cambios.":"Para acceder a los recursos, cree una credencial de acceso."})}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nombre",value:a,onChange:q=>i(q.target.value),required:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"email",placeholder:"Correo electrónico",value:s,onChange:q=>l(q.target.value),required:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"tel",placeholder:"Número de teléfono",value:c,onChange:q=>u(q.target.value),required:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block mb-1 font-medium",children:"Tipo de categoría"}),o.jsxs("select",{value:k||"",onChange:q=>{const B=q.target.value||void 0;A(B),f("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Selecciona un tipo"}),[...new Set(e.map(q=>q.type).filter(Boolean))].sort((q,B)=>q.localeCompare(B)).map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{className:"relative mt-4",children:[o.jsx("label",{className:"block mb-1 font-medium",children:"Nombre de categoría"}),o.jsxs("select",{value:d,onChange:q=>f(q.target.value),disabled:!k,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${k?"border-gray-300 focus:ring-blue-500":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[o.jsx("option",{value:"",children:"Selecciona un nombre"}),e.filter(q=>q.type===k).sort((q,B)=>(q.name||"").localeCompare(B.name||"")).map(q=>o.jsx("option",{value:q.id||"",children:q.name},q.id))]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("label",{className:"mr-2",children:"Es interno:"}),o.jsx("input",{type:"checkbox",checked:m,onChange:q=>p(q.target.checked),className:"form-checkbox h-4 w-4 text-blue-500"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:q=>g(q.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es editor"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:q=>v(q.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es viewer"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:q=>y(q.target.checked),className:"form-checkbox h-4 w-4 text-blue-500 mr-2"}),"Es super admin"]})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:T?"Actualizar Credencial":"Crear Credencial"})]})]}),j&&o.jsx(_n,{onClose:L,status:N,reload:!0,route:"/",messages:_})]})}const eze=({templates:e,handleEditClick:t,handleDeleteTemplate:r})=>{const[n,a]=w.useState(null),i=s=>{a(n===s?null:s)};return o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-y-auto max-h-screen",children:e.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"No se encontraron plantillas. Agrega una para comenzar."}):o.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>o.jsxs("li",{className:"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center",children:[s.name,s.position!==null&&o.jsxs("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:["#",s.position+(s.category||"")+(s.isRequired===!0?" Requerido":" Opcional")]})]}),s.description&&o.jsx("p",{className:`mt-1 text-sm text-gray-600 ${n===s.id?"":"line-clamp-2"}`,children:s.description})]}),o.jsxs("div",{className:"flex space-x-2 items-center",children:[s.description&&o.jsx("button",{onClick:()=>i(s.id),className:"p-1.5 text-gray-600 hover:bg-gray-200 rounded-md transition-colors","aria-label":"Ver más",children:o.jsx(zo,{size:18})}),o.jsx("button",{onClick:()=>t(s),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-md transition-colors","aria-label":"Editar plantilla",children:o.jsx(iQ,{size:18})}),o.jsx("button",{onClick:()=>r(s.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-md transition-colors","aria-label":"Eliminar plantilla",children:o.jsx(Zi,{size:18})})]})]},s.id))})})},FR=hh.map(e=>e.name);function tze({category:e,setCategory:t}){const[r,n]=w.useState([]),[a,i]=w.useState("select"),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[h,g]=w.useState(null),[x,v]=w.useState(""),[b,y]=w.useState("");w.useEffect(()=>{j()},[]);const j=async()=>{f(!0);try{const C=await Sc();n(C)}catch(C){console.error("Error obteniendo las categorías",C)}finally{f(!1)}},E=async()=>{if(!(!s.trim()||!c.trim())){f(!0);try{(await DJ({name:s,type:c})).success&&(j(),l(""),u(""),p(!1))}catch(C){console.error("Error al agregar la categoría",C)}finally{f(!1)}}},N=async C=>{if(!(!x.trim()||!b.trim())){f(!0);try{(await MJ({categoryId:C,name:x,type:b})).success&&(j(),g(null))}catch(k){console.error("Error actualizando la categoría",k)}finally{f(!1)}}},S=async(C,k)=>{confirm(`¿Eliminar categoría "${k}"?`)&&await T(C,j,()=>alert("Error al eliminar."))},T=async(C,k,A)=>{try{(await FJ({categoryId:C})).success?k():A()}catch(_){console.error("Error al eliminar",_),A()}};return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex border-b mb-6",children:[o.jsx("button",{className:`px-4 py-2 -mb-px font-medium border-b-2 transition ${a==="select"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>i("select"),children:"Seleccionar Producto"}),o.jsx("button",{className:`ml-4 px-4 py-2 -mb-px font-medium border-b-2 transition ${a==="manage"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>i("manage"),children:"Gestionar Productos"})]}),a==="select"&&o.jsx("div",{className:"space-y-2",children:o.jsxs("select",{value:(e==null?void 0:e.id)||"",onChange:C=>{const k=r.find(A=>A.id===C.target.value)||null;t(k)},className:"w-full border p-2 rounded",children:[o.jsx("option",{value:"",children:"-- Selecciona --"}),r.map(C=>o.jsx("option",{value:C.id,children:`${C.name} (${C.type})`},C.id))]})}),a==="manage"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"+ Nuevo producto"})}),d?o.jsx("p",{className:"text-gray-500",children:"Cargando categorías..."}):o.jsx("div",{className:"space-y-6",children:Object.entries(r.reduce((C,k)=>{const A=k.type||"Sin vertical";return C[A]=C[A]||[],C[A].push(k),C},{})).map(([C,k])=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:C}),o.jsx("ul",{className:"space-y-2",children:k.map(A=>o.jsx("li",{className:"bg-gray-100 px-4 py-2 rounded flex justify-between items-center",children:h===A.id?o.jsxs(o.Fragment,{children:[o.jsx("input",{value:x,onChange:_=>v(_.target.value),className:"border rounded px-2 py-1 mr-2 w-1/3"}),o.jsx("select",{value:b,onChange:_=>y(_.target.value),className:"border rounded px-2 py-1 w-1/3",children:FR.map((_,I)=>o.jsx("option",{value:_,children:_},I))}),o.jsx("button",{onClick:()=>N(A.id),className:"text-green-700 font-semibold ml-2",children:"Guardar"}),o.jsx("button",{onClick:()=>g(null),className:"text-gray-500 font-semibold ml-2",children:"Cancelar"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:A.name}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{g(A.id),v(A.name||""),y(A.type||"")},className:"text-yellow-600",children:"Editar"}),o.jsx("button",{onClick:()=>S(A.id,A.name||""),className:"text-red-600",children:"Eliminar"})]})]})},A.id))})]},C))})]}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/30 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Agregar Categoría"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-600",children:"×"})]}),o.jsx("input",{value:s,onChange:C=>l(C.target.value),placeholder:"Nombre del producto",className:"border rounded w-full p-2 mb-3"}),o.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"border rounded w-full p-2 mb-4",children:[o.jsx("option",{value:"",children:"Selecciona una vertical"}),FR.map((C,k)=>o.jsx("option",{value:C,children:C},k))]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>p(!1),className:"bg-gray-200 px-4 py-2 rounded",children:"Cancelar"}),o.jsx("button",{onClick:E,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:d?"Guardando...":"Guardar"})]})]})})]})}function rze(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(null),[s,l]=w.useState(null),[c,u]=w.useState(null),d=Mt(),f=()=>{if(!a)return;const v=e.length>0?Math.max(...e.map(b=>b.position??0)):0;l({id:"",name:"",description:"",position:v+1,isRequired:!1,categoryName:a.name??"",categoryType:a.type??""}),u("add")},m=v=>{l({...v}),u("edit")},p=()=>{l(null),u(null)},h=async()=>{if(!(!s||!a||s.name.trim()==="")){if(n(!0),c==="add"){const v=await _J({name:s.name,description:s.description??"",position:s.position??1,categoryId:a.id,isRequired:s.isRequired??!1});v.success&&(Eu.remove(),t(b=>[...b,{...s,id:v.Id}]),p())}else c==="edit"&&(await kJ({documentTemplateId:s.id,name:s.name,description:s.description??"",position:s.position??1,categoryId:a.id,isRequired:s.isRequired??!1})).success&&(Eu.remove(),t(b=>b.map(y=>y.id===s.id?s:y)),p());n(!1)}},g=async v=>{(await jJ({documentTemplateId:v})).success&&(Eu.remove(),t(y=>y.filter(j=>j.id!==v)))},x=async()=>{if(!a)return;const b=(await W6({CategoryId:a.id})).map(y=>({...y,categoryName:a.name??"",categoryType:a.type??""}));t(b.sort((y,j)=>(y.position??0)-(j.position??0)))};return w.useEffect(()=>{x()},[a]),o.jsxs("div",{className:"max-w-5xl mx-auto p-6 text-gray-800 space-y-6",children:[o.jsx("button",{onClick:()=>d(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:o.jsx(tl,{className:"w-6 h-6"})}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-5",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selección de productos"}),o.jsx(tze,{category:a,setCategory:i})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-5",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["Plantillas de Documentos",a!=null&&a.name?`: ${a.name}`:""]}),a&&c===null&&o.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:[o.jsx(on,{size:18}),o.jsx("span",{children:"Agregar Plantilla"})]})]}),a?o.jsx(eze,{templates:e,handleEditClick:m,handleDeleteTemplate:g}):o.jsx("div",{className:"text-gray-500 italic",children:"Comienza seleccionando un producto para ver y agregar plantillas."})]}),c&&s&&o.jsx(nze,{formData:s,setFormData:l,onClose:p,onSave:h,isLoading:r,mode:c})]})}function nze({formData:e,setFormData:t,onClose:r,onSave:n,isLoading:a,mode:i}){const s=c=>{const{name:u,value:d}=c.target;t(f=>f&&{...f,[u]:d})},l=c=>{const u=c.target.value;t(d=>d&&{...d,isRequired:u==="required"})};return o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-xl relative",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:o.jsx(pt,{size:20})}),o.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[i==="edit"?"Editar Plantilla ":"Agregar Plantilla ",e.categoryName," ",o.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["# ",e.position]})]}),o.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,className:"w-full mb-3 p-2 border rounded",placeholder:"Nombre",required:!0}),o.jsx("textarea",{name:"description",value:e.description||"",onChange:s,className:"w-full mb-3 p-2 border rounded",placeholder:"Descripción",rows:3}),o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de template"}),o.jsxs("select",{value:e.isRequired?"required":"optional",onChange:l,className:"w-full mb-4 p-2 border rounded",children:[o.jsx("option",{value:"required",children:"Requerido"}),o.jsx("option",{value:"optional",children:"Opcional"})]}),o.jsxs("button",{onClick:n,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 flex justify-center items-center",disabled:a,children:[a?o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}):o.jsx(tc,{size:18,className:"mr-2"}),a?"Procesando...":i==="edit"?"Actualizar":"Agregar"]})]})})}function aze(){return o.jsx(Yr,{children:o.jsx(rze,{})})}var Dl;let V9=(Dl=class{static getText(t){return Dl.mappings[t]||"Texto no asignado"}},cf(Dl,"mappings",{1:"Registro Prospecto",2:"Recepcion Inteligente",3:"Mesa de control"}),Dl);function ize({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:n})}),a<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),o.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>o.jsx("div",{className:"flex flex-col text-center w-full",children:o.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:V9.getText(n)})},n))})]})}function sze({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=w.useState(""),{selectedClient:s}=ct(),l=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!0,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await cl({chatId:s.chatId,content:a,isAdmin:!0});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return o.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Usuario"}),o.jsx("button",{onClick:e,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>o.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[o.jsx("div",{children:u.content}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!0&&o.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),o.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),o.jsx("button",{onClick:l,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:o.jsx(nl,{size:20})})]})]})}function oze({notifications:e,onClose:t}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),o.jsx("button",{onClick:t,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>o.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?o.jsx(_a,{size:20,className:"text-blue-500"}):o.jsx(At,{size:20,className:"text-green-500"}),o.jsx("span",{children:r.content})]})},r.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const lze=({content:e,type:t="info",duration:r,onClose:n})=>{const[a,i]=w.useState(!0);return w.useEffect(()=>{const s=setTimeout(()=>{i(!1),n()},r);return()=>clearTimeout(s)},[r,n]),a?o.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg flex items-center gap-4 border-l-4 border-blue-500 max-w-lg w-full",children:[t==="info"?o.jsx(_a,{size:24,className:"text-blue-500"}):o.jsx(At,{size:24,className:"text-green-500"}),o.jsx("span",{className:"text-lg",children:e}),o.jsx("button",{onClick:()=>{i(!1),n()},className:"absolute right-4 top-4 text-gray-500",children:o.jsx(pt,{size:20})})]}):null},cze=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},nN=async(e,t)=>{const r=await Tv({productRequestId:t,flowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success},I0=43200,MR=1440,LR=Symbol.for("constructDateFrom");function Z_(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&LR in e?e[LR](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ko(e,t){return Z_(e,e)}let uze={};function dze(){return uze}function $R(e){const t=Ko(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ek(e,...t){const r=Z_.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function ag(e,t){const r=+Ko(e)-+Ko(t);return r<0?-1:r>0?1:r}function fze(e){return Z_(e,Date.now())}function mze(e,t,r){const[n,a]=ek(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function pze(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function hze(e,t){return+Ko(e)-+Ko(t)}function gze(e,t){const r=Ko(e);return r.setHours(23,59,59,999),r}function xze(e,t){const r=Ko(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function vze(e,t){const r=Ko(e);return+gze(r)==+xze(r)}function yze(e,t,r){const[n,a,i]=ek(r==null?void 0:r.in,e,e,t),s=ag(a,i),l=Math.abs(mze(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-s*l);let c=ag(a,i)===-s;vze(n)&&l===1&&ag(n,i)===1&&(c=!1);const u=s*(l-+c);return u===0?0:u}function bze(e,t,r){const n=hze(e,t)/1e3;return pze(r==null?void 0:r.roundingMethod)(n)}const wze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sze=(e,t,r)=>{let n;const a=wze[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Nze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Eze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_ze={date:Mu({formats:Nze,defaultWidth:"full"}),time:Mu({formats:Eze,defaultWidth:"full"}),dateTime:Mu({formats:jze,defaultWidth:"full"})},kze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cze=(e,t,r,n)=>kze[e];function Fi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Tze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Aze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ize={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Oze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dze=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Fze={ordinalNumber:Dze,era:Fi({values:Tze,defaultWidth:"wide"}),quarter:Fi({values:Aze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fi({values:Ize,defaultWidth:"wide"}),day:Fi({values:Pze,defaultWidth:"wide"}),dayPeriod:Fi({values:Oze,defaultWidth:"wide",formattingValues:Rze,defaultFormattingWidth:"wide"})};function Mi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Lze(l,f=>f.test(s)):Mze(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function Mze(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Lze(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function H9(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const $ze=/^(\d+)(th|st|nd|rd)?/i,Bze=/\d+/i,zze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uze={any:[/^b/i,/^(a|c)/i]},qze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vze={any:[/1/i,/2/i,/3/i,/4/i]},Hze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jze={ordinalNumber:H9({matchPattern:$ze,parsePattern:Bze,valueCallback:e=>parseInt(e,10)}),era:Mi({matchPatterns:zze,defaultMatchWidth:"wide",parsePatterns:Uze,defaultParseWidth:"any"}),quarter:Mi({matchPatterns:qze,defaultMatchWidth:"wide",parsePatterns:Vze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mi({matchPatterns:Hze,defaultMatchWidth:"wide",parsePatterns:Wze,defaultParseWidth:"any"}),day:Mi({matchPatterns:Gze,defaultMatchWidth:"wide",parsePatterns:Xze,defaultParseWidth:"any"}),dayPeriod:Mi({matchPatterns:Kze,defaultMatchWidth:"any",parsePatterns:Yze,defaultParseWidth:"any"})},Qze={code:"en-US",formatDistance:Sze,formatLong:_ze,formatRelative:Cze,localize:Fze,match:Jze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zze(e,t,r){const n=dze(),a=(r==null?void 0:r.locale)??n.locale??Qze,i=2520,s=ag(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[c,u]=ek(r==null?void 0:r.in,...s>0?[t,e]:[e,t]),d=bze(u,c),f=($R(u)-$R(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<MR){const h=Math.round(m/60);return a.formatDistance("aboutXHours",h,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<I0){const h=Math.round(m/MR);return a.formatDistance("xDays",h,l)}else if(m<I0*2)return p=Math.round(m/I0),a.formatDistance("aboutXMonths",p,l)}if(p=yze(u,c),p<12){const h=Math.round(m/I0);return a.formatDistance("xMonths",h,l)}else{const h=p%12,g=Math.trunc(p/12);return h<3?a.formatDistance("aboutXYears",g,l):h<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function e7e(e,t){return Zze(e,fze(e),t)}const t7e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},r7e=(e,t,r)=>{let n;const a=t7e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},n7e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},a7e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},i7e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s7e={date:Mu({formats:n7e,defaultWidth:"full"}),time:Mu({formats:a7e,defaultWidth:"full"}),dateTime:Mu({formats:i7e,defaultWidth:"full"})},o7e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},l7e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},c7e=(e,t,r,n)=>t.getHours()!==1?l7e[e]:o7e[e],u7e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},d7e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},f7e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},m7e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},p7e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},h7e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},g7e=(e,t)=>Number(e)+"º",x7e={ordinalNumber:g7e,era:Fi({values:u7e,defaultWidth:"wide"}),quarter:Fi({values:d7e,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Fi({values:f7e,defaultWidth:"wide"}),day:Fi({values:m7e,defaultWidth:"wide"}),dayPeriod:Fi({values:p7e,defaultWidth:"wide",formattingValues:h7e,defaultFormattingWidth:"wide"})},v7e=/^(\d+)(º)?/i,y7e=/\d+/i,b7e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},w7e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},S7e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},N7e={any:[/1/i,/2/i,/3/i,/4/i]},E7e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},j7e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},_7e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},k7e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},C7e={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},T7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},A7e={ordinalNumber:H9({matchPattern:v7e,parsePattern:y7e,valueCallback:function(e){return parseInt(e,10)}}),era:Mi({matchPatterns:b7e,defaultMatchWidth:"wide",parsePatterns:w7e,defaultParseWidth:"any"}),quarter:Mi({matchPatterns:S7e,defaultMatchWidth:"wide",parsePatterns:N7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mi({matchPatterns:E7e,defaultMatchWidth:"wide",parsePatterns:j7e,defaultParseWidth:"any"}),day:Mi({matchPatterns:_7e,defaultMatchWidth:"wide",parsePatterns:k7e,defaultParseWidth:"any"}),dayPeriod:Mi({matchPatterns:C7e,defaultMatchWidth:"any",parsePatterns:T7e,defaultParseWidth:"any"})},I7e={code:"es",formatDistance:r7e,formatLong:s7e,formatRelative:c7e,localize:x7e,match:A7e,options:{weekStartsOn:1,firstWeekContainsDate:1}},P7e=e=>e.isRejected?{label:"Alta",color:"red-500"}:e.isUploaded&&e.isApproved?{label:"Baja",color:"green-500"}:e.isUploaded&&e.isPreApproved?{label:"Media",color:"blue-500"}:{label:"Baja",color:"gray-500"},O7e=e=>e.isRejected?{label:"Rechazado",bg:"bg-red-100",text:"text-red-700"}:e.isApproved?{label:"Aprobado por Mesa Control",bg:"bg-green-100",text:"text-green-700"}:e.isPreApproved?{label:"Recibido por Agente Comercial",bg:"bg-blue-100",text:"text-blue-700"}:e.isUploaded?{label:"Subido",bg:"bg-blue-100",text:"text-blue-700"}:{label:"No subido",bg:"bg-gray-100",text:"text-gray-700"},R7e=({doc:e,entitiesDocs:t,onSelectDocument:r,onShowDetails:n})=>{var b;const{label:a,color:i}=P7e(e),{label:s,bg:l,text:c}=O7e(e),u=e.updatedAt?e7e(new Date(e.updatedAt),{locale:I7e,addSuffix:!0}).replace(/^hace /i,"Hace "):"Sin cambios",[d,f]=w.useState(!1),m=w.useRef(null);w.useEffect(()=>{const y=j=>{d&&m.current&&!m.current.contains(j.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[d]);const p=()=>{e.isUploaded&&(r(e),f(!1))},h=((b=t.find(y=>y.id===e.id))==null?void 0:b.datos)||[],g=4,x=h.slice(0,g),v=h.length>g;return o.jsxs("div",{onClick:p,className:`flex bg-white rounded-xl shadow-md border-l-4 border-${i} w-full p-6 cursor-pointer`,children:[o.jsxs("div",{className:"flex-1 pr-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`${l} ${c} px-3 py-1 rounded-full text-xs font-medium`,children:s}),o.jsxs("span",{className:`text-xs font-medium text-${i}`,children:["Prioridad: ",a]})]}),o.jsx("h3",{className:"mt-3 text-base font-semibold text-gray-900",children:e.documentTemplate.name}),e.isRejected&&e.rejectReason&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:e.rejectReason}),o.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 gap-1",children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:u})]})]}),o.jsxs("div",{className:"flex-none w-1/3 pl-3 border-l border-gray-200",children:[x.length===0&&o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{className:"text-base font-semibold text-gray-600",children:"Entidades"})}),o.jsx("div",{className:" max-h-[150px] overflow-y-auto",children:o.jsxs("ul",{className:"space-y-2 text-xs text-gray-700",children:[x.map(y=>o.jsxs("li",{children:[o.jsxs("span",{className:"font-medium text-gray-800",children:[y.entidad,":"]})," ",y.valor]},y.entidad)),v&&o.jsx("li",{children:o.jsxs("button",{type:"button",onClick:y=>{y.stopPropagation(),n(e.id)},className:"text-sm text-blue-500 hover:underline pb-10",children:["+ ver ",h.length-g]})})]})})]})]})},D7e=({fileUrl:e,fileType:t})=>{const r=()=>{const n=t==null?void 0:t.toLowerCase();return n==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):n==="xlsx"||n==="xls"?o.jsx(F7e,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center overflow-hidden",children:r()})},F7e=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%] w-full",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})},M7e=({documentId:e,extractedData:t,setExtractedData:r})=>{const[n,a]=w.useState(!1),[i,s]=w.useState(null),l=f=>f.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase()),c=f=>{const m=String(f);navigator.clipboard.writeText(m).then(()=>{s(m),se.success("Valor copiado"),setTimeout(()=>s(null),1500)})},u=async()=>{a(!0);try{const f=await kc(e,"documentos","");f!=null&&f.extracted?(r(f.extracted),se.success("Extracción completada")):(r({Entidades:[{name:"Sin datos",value:"-"}]}),se.error("No se encontraron datos"))}catch{se.error("Error en la extracción")}finally{a(!1)}},d=()=>{if(!Object.keys(t).length){se.error("No hay entidades para exportar");return}const f=nr.book_new();Object.entries(t).forEach(([m,p])=>{const h=[["Nombre","Valor"],...p.map(x=>[l(x.name),x.value])],g=nr.aoa_to_sheet(h);nr.book_append_sheet(f,g,l(m).substring(0,31))}),Ph(f,"entidades_extraidas.xlsx")};return o.jsxs("div",{className:"flex flex-col gap-6 p-6 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:u,disabled:n,title:n?"Extrayendo...":"Volver a extraer","aria-label":n?"Extrayendo entidades":"Extraer todas las entidades",className:"p-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white rounded-md transition flex items-center justify-center",children:n?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(QJ,{className:"w-5 h-5"})}),Object.keys(t).length>0&&o.jsx("button",{onClick:d,title:"Exportar entidades a Excel","aria-label":"Exportar entidades a Excel",className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition flex items-center justify-center",children:o.jsx(Od,{className:"w-5 h-5"})})]}),Object.keys(t).length>0&&o.jsx("div",{className:"bg-white rounded-lg shadow overflow-auto max-h-[70vh] p-4",children:Object.entries(t).map(([f,m])=>o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-4",children:l(f)}),o.jsx("div",{className:"divide-y divide-gray-200",children:m.map((p,h)=>o.jsxs("div",{className:"py-2 grid grid-cols-[auto,1fr,auto] items-start gap-4",children:[o.jsx("span",{className:"font-medium text-gray-800",children:l(p.name)}),o.jsx("p",{className:"text-gray-700 break-words",children:p.value}),o.jsx("button",{onClick:()=>c(p.value),className:"text-blue-500 hover:text-blue-700 transition",children:i===String(p.value)?o.jsx(Za,{className:"w-5 h-5 text-green-500"}):o.jsx(Gi,{className:"w-5 h-5"})})]},h))})]},f))})]})},Wc=[{label:"Validar firma individual",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas con facultad de firma individual. Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombre completo y cargo (si aplica) de quienes pueden firmar sin otra persona. Si no hay firmantes individuales, indica claramente la ausencia o si la firma es exclusivamente mancomunada."},{label:"Validar firma mancomunada",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas que deben firmar en conjunto (régimen mancomunado). Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombres completos y cargos (si aplica) de quienes deben firmar en conjunto. Si no hay régimen mancomunado, indícalo explícitamente."},{label:"Validar si una persona puede firmar",value:"Analiza el Acta Constitutiva en PDF para verificar si [Nombre de la persona] tiene facultad de firma para obligar a la sociedad. Busca su nombre en las secciones relevantes y determina si puede firmar, si lo hace individualmente o junto con otros. Si no tiene facultad o no aparece, indícalo explícitamente."}],P0=3,L7e=({documentId:e,isActaConstitutiva:t,chatHistory:r,setChatHistory:n})=>{const[a,i]=w.useState(""),[s,l]=w.useState(!1),[c,u]=w.useState(!1),d=async m=>{l(!0),n(p=>[...p,{question:m,answer:""}]);try{const p=await Vj(e,"documentos","",m);n(h=>h.map((g,x)=>x===h.length-1?{...g,answer:p??"❌ Sin respuesta del modelo."}:g))}catch(p){se.error("Error al consultar AI"),console.error("Error al consultar AI:",p),n(h=>h.map((g,x)=>x===h.length-1?{...g,answer:"⚠️ Error al obtener respuesta."}:g))}finally{l(!1)}},f=()=>o.jsx("div",{className:"w-full max-w-xl",children:o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:"Pregunta lo que quieras...",value:a,onChange:m=>i(m.target.value),onKeyDown:m=>{m.key==="Enter"&&a.trim()&&(d(a.trim()),i(""))},className:"flex-1 bg-transparent text-sm outline-none"}),o.jsx("button",{onClick:()=>{a.trim()&&(d(a.trim()),i(""))},className:"text-gray-600 hover:text-blue-600",children:o.jsx(aM,{className:"w-5 h-5"})})]})});return o.jsx("div",{className:"relative h-[80vh] bg-white rounded-lg flex flex-col",children:r.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 text-center gap-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Hola 👋, soy tu asistente de documentación"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Puedo ayudarte a encontrar información importante dentro del documento. Escribe una pregunta abajo para comenzar."})]}),f(),t&&o.jsxs("div",{className:"flex flex-wrap gap-2 self-start",children:[(c?Wc:Wc.slice(0,P0)).map((m,p)=>o.jsx("button",{onClick:()=>d(m.value),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full",children:m.label},p)),Wc.length>P0&&o.jsxs("button",{onClick:()=>u(!c),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full flex items-center gap-1",children:[o.jsx(zo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:c?"Ocultar":"Más"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 flex flex-col-reverse gap-3",children:[s&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 self-center",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Analizando..."})]}),[...r].reverse().map((m,p)=>o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"self-end bg-blue-100 px-4 py-2 rounded-xl max-w-[70%] text-sm shadow-sm",children:m.question}),o.jsx("div",{className:"self-start bg-gray-100 px-4 py-2 rounded-xl max-w-[80%] text-sm shadow-sm",children:o.jsx(af,{children:m.answer})})]},p)),t&&o.jsxs("div",{className:"flex flex-wrap gap-2 self-start",children:[(c?Wc:Wc.slice(0,P0)).map((m,p)=>o.jsx("button",{onClick:()=>d(m.value),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full",children:m.label},p)),Wc.length>P0&&o.jsxs("button",{onClick:()=>u(!c),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full flex items-center gap-1",children:[o.jsx(zo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:c?"Ocultar":"Más"})]})]})]}),o.jsx("div",{className:"px-4 py-3 bg-white",children:f()})]})})},$7e=w.memo(({isDocUploaded:e,previewUrl:t,urlFileType:r})=>e?t?o.jsx(D7e,{fileUrl:t,fileType:r??"pdf"}):o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Cargando vista previa..."})]}):o.jsx("span",{className:"text-red-500",children:"El usuario no ha subido este documento."})),B7e=({selectedDocument:e})=>{var h,g;const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState({}),[u,d]=w.useState([]),[f,m]=w.useState("entities");w.useEffect(()=>{e&&(async()=>{var E;const{id:x,isUploaded:v=!1,fileName:b=""}=e;if(s(v??!1),!v)return;const y=((E=b==null?void 0:b.split(".").pop())==null?void 0:E.toLowerCase())??"",j=await Un("view","documentos",x,"token",y);j.data?(r(j.data),a(y)):se.error("Error al visualizar el documento.")})()},[e]);const p=w.useMemo(()=>o.jsx($7e,{isDocUploaded:i,previewUrl:t,urlFileType:n}),[i,t,n]);return w.useEffect(()=>{(async()=>{var b,y;if(!(e!=null&&e.id)){c({});return}const v=e.id;try{const j=await Pv({requiredDocumentId:v});if(j.success&&Array.isArray(j.entities)&&j.entities.length>0){const T=j.entities.map(C=>({name:C.entidad,value:C.valor}));c({Entidades:T});return}const E=((b=e.documentTemplate)==null?void 0:b.name)??"",N=await kc(v,"documentos",E),S=(y=N==null?void 0:N.extracted)==null?void 0:y.Entidades;if(Array.isArray(S)&&S.length>0){const T={};S.forEach(C=>{if(!C.name||C.value===void 0)return;const k=C.name,A=C.value;T[k]||(T[k]=[]),T[k].push({name:k,value:A})}),c(T)}else c({}),se.info("No se encontraron entidades para este documento.")}catch(j){console.error("Error al obtener entidades:",j),se.error("Ocurrió un error al extraer las entidades."),c({})}})()},[e==null?void 0:e.id]),o.jsxs("div",{className:"grid grid-cols-2 gap-4 min-h-[90vh] bg-white rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-center p-4 border-r",children:p}),o.jsxs("div",{className:"flex flex-col w-full p-4",children:[o.jsx("div",{className:"flex gap-4 border-b mb-4",children:[{key:"entities",label:"Extracción de Entidades"},{key:"questions",label:"Preguntas AI"}].map(({key:x,label:v})=>o.jsx("button",{onClick:()=>m(x),className:`px-4 py-2 font-medium border-b-2 transition ${f===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,children:v},x))}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[f==="entities"&&(e==null?void 0:e.id)&&o.jsx(M7e,{documentId:e.id,extractedData:l,setExtractedData:c}),f==="questions"&&(e==null?void 0:e.id)&&o.jsx(L7e,{documentId:e.id,isActaConstitutiva:((g=(h=e==null?void 0:e.documentTemplate)==null?void 0:h.name)==null?void 0:g.toLowerCase().includes("constitutiva"))??!1,chatHistory:u,setChatHistory:d})]})]})]})},z7e=e=>{const t=e.toLowerCase();return t.includes("nombre")?o.jsx(ah,{className:"w-5 h-5 text-gray-500"}):t.includes("fecha")?o.jsx(ji,{className:"w-5 h-5 text-gray-500"}):t.includes("folio")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("entidad")?o.jsx(nh,{className:"w-5 h-5 text-gray-500"}):t.includes("curp")||t.includes("clave")?o.jsx(nM,{className:"w-5 h-5 text-gray-500"}):o.jsx(lr,{className:"w-5 h-5 text-gray-300"})};function U7e({isOpen:e,doc:t,onClose:r}){const[n,a]=w.useState(!1),[i,s]=w.useState(null);if(!e||!t)return null;const l=async()=>{const d=[];d.push(t.id),t.datos.forEach(m=>{const p=m.entidad.replace(/_/g," ");d.push(`${p}: ${m.valor}`)});const f=d.join(`
`);try{await navigator.clipboard.writeText(f),a(!0),setTimeout(()=>a(!1),2e3)}catch(m){console.error("Error al copiar al portapapeles:",m)}},c=async d=>{try{await navigator.clipboard.writeText(d),s(d),setTimeout(()=>s(null),2e3)}catch(f){console.error("Error al copiar el valor:",f)}},u=()=>{const d=["Entidad","Valor"],f=t.datos.map(v=>[v.entidad.replace(/_/g," "),v.valor]),m=[d,...f],p=nr.book_new(),h=nr.aoa_to_sheet(m),g=t.id.substring(0,31);nr.book_append_sheet(p,h,g);const x=`${t.id.replace(/\s+/g,"_").substring(0,20)}.xlsx`;Ph(p,x)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-4 sm:p-6 md:p-8 overflow-auto max-h-[90vh]",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:o.jsx(pt,{className:"w-6 h-6"})}),o.jsx("div",{className:"flex items-center justify-between mb-5",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:l,className:"flex items-center text-gray-500 hover:text-gray-700",children:[o.jsx(Gi,{className:"w-5 h-5 mr-1"}),n?"¡Copiado!":"Copiar todo"]}),o.jsxs("button",{onClick:u,className:"flex items-center text-green-600 hover:text-green-800",children:[o.jsx(rM,{className:"w-5 h-5 mr-1"}),"Exportar a Excel"]})]})}),o.jsx("ul",{className:"divide-y divide-gray-200 max-h-[70vh] overflow-y-auto pr-2",children:t.datos.map((d,f)=>o.jsxs("li",{className:"py-3 flex items-center gap-3",children:[o.jsx("div",{className:"mt-1",children:z7e(d.entidad)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-700 truncate",children:d.entidad.replace(/_/g," ")}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.valor})]}),o.jsxs("button",{onClick:()=>c(d.valor),className:"flex items-center text-gray-500 hover:text-gray-700",children:[o.jsx(Gi,{className:"w-4 h-4 mr-1"}),i===d.valor?o.jsx("span",{className:"text-xs text-green-600",children:"Copiado"}):o.jsx("span",{className:"text-xs",children:"Copiar"})]})]},f))})]})})}async function q7e(e,t){var l;const r=e.requiredDocuments.filter(c=>c.isUploaded),n=await Promise.all(r.map(async c=>{const u=await Pv({requiredDocumentId:c.id}),d=new Map;return(u.entities||[]).forEach(({entidad:f,valor:m})=>{const p=f.trim().toLowerCase().replace(/\s+/g,"_");f&&m&&!d.has(p)&&d.set(p,m)}),{id:c.id,datos:Array.from(d,([f,m])=>({entidad:f,valor:m}))}}));t==null||t(n);let a=r.filter(c=>{const u=n.find(d=>d.id===c.id);return!u||u.datos.length===0}),i=[...n];for(const c of a)try{const u=await kc(c.id,"documentos",c.documentTemplate.name||""),d=new Map;(((l=u.extracted)==null?void 0:l.Entidades)||[]).forEach(async({name:m,value:p})=>{const h=m.trim().toLowerCase().replace(/\s+/g,"_");m&&p&&!d.has(h)&&(d.set(h,p),await J6({requiredDocumentId:c.id,entidad:h,valor:p}))});const f=Array.from(d,([m,p])=>({entidad:m,valor:p}));i=i.filter(m=>m.id!==c.id).concat({id:c.id,datos:f}),t==null||t(i),a=a.filter(m=>m.id!==c.id)}catch(u){console.error(`Error en IA doc ${c.id}`,u)}return{entitiesDocs:i.filter(c=>c.datos.length>0),missingDocs:a}}const V7e=({isSectionComplete:e,setIsSectionComplete:t,documents:r,setDocuments:n})=>{const[a,i]=w.useState(!1),{selectedClient:s}=ct(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState("list"),[p,h]=w.useState(null),[g,x]=w.useState(!1),[v,b]=w.useState(""),[y,j]=w.useState([]),[,E]=w.useState([]);w.useEffect(()=>{if(!(r!=null&&r.requiredDocuments))return;(async()=>{d(!0);try{const{missingDocs:A}=await q7e(r,_=>j(_));E(A)}catch(A){console.error("Error en populateEntitiesForDocs:",A)}finally{d(!1)}})()},[r]);const N=async k=>{if(!(r!=null&&r.requiredDocuments)||r.requiredDocuments.length===0){console.warn("No hay documentos requeridos disponibles.");return}c(!0);try{if((await cr({id:k.id,isApproved:!0,isRejected:!1,rejectReason:""})).success){const _=r.requiredDocuments.map(I=>I.id===k.id?{...I,isApproved:!0,isRejected:!1,rejectReason:""}:I);n({requiredDocuments:_}),se.success("Documento aprobado con éxito.")}else se.error("Error al aprobar el documento.")}catch(A){console.error(A),se.error("Ocurrió un error.")}},S=async k=>{if(!(r!=null&&r.requiredDocuments)||r.requiredDocuments.length===0){console.warn("No hay documentos requeridos disponibles.");return}if(c(!0),!!p)try{if((await cr({id:p.id,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:k})).success){const _=r.requiredDocuments.map(I=>I.id===p.id?{...I,isRejected:!0,isApproved:!1,rejectReason:k}:I);n({requiredDocuments:_}),se.success("Documento rechazado con éxito.")}else se.error("Error al rechazar el documento.")}catch(A){console.error(A),se.error("Ocurrió un error.")}finally{i(!1),h(null)}},T=k=>{h(k),i(!0)},C=async k=>{if(!(r!=null&&r.requiredDocuments)||r.requiredDocuments.length===0){console.warn("No hay documentos requeridos disponibles.");return}r.requiredDocuments.length>0&&r.requiredDocuments.every(A=>A.isApproved)?t(!0):k&&(await nN(3,(s==null?void 0:s.id)??""),t(!1))};return w.useEffect(()=>{C(e)},[r]),o.jsxs("div",{className:" rounded-md p-4",children:[l&&o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}),u&&o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"La extracción de entidades está en proceso. Esto puede tardar unos minutos."}),o.jsx("div",{className:"flex border-b mb-4 items-center",children:f==="list"?o.jsx("button",{onClick:()=>m("list"),className:"px-4 font-bold py-2 -mb-px border-b-2 border-blue-500 text-blue-600",children:"Documentos"}):o.jsxs("button",{onClick:()=>m("list"),className:"flex font-bold items-center px-4 py-2 text-blue-500 hover:text-blue-700",children:[o.jsx(tl,{className:"w-4 h-4 mr-2"}),"Volver a Documentos"]})}),o.jsxs("div",{className:"relative overflow-auto",children:[f==="list"&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-4 mt-4 pb-24",children:r==null?void 0:r.requiredDocuments.map(k=>o.jsx(R7e,{doc:k,onSelectDocument:A=>{h(A),m("extraction")},onShowDetails:A=>{x(!0),b(A)},entitiesDocs:y},k.id))}),f==="extraction"&&p&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mt-4 mb-4",children:[o.jsx("h2",{className:"font-semibold text-xl text-gray-900",children:p.documentTemplate.name}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:async()=>{await N(p)},className:"flex items-center gap-1 px-4 py-2 border-2 border-green-500 text-green-500 rounded-lg hover:bg-green-50 transition",children:[o.jsx(At,{className:"w-4 h-4"}),"Aprobar"]}),o.jsxs("button",{onClick:()=>{T(p)},className:"flex items-center gap-1 px-4 py-2 border-2 border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition",children:[o.jsx(Qi,{className:"w-4 h-4"}),"Rechazar"]})]})]}),o.jsx(B7e,{selectedDocument:p})]})]}),o.jsx(cze,{isOpen:a,onClose:()=>i(!1),onConfirm:S}),o.jsx(U7e,{isOpen:g,doc:y.find(k=>k.id===v)||null,onClose:()=>x(!1)}),o.jsx(pr,{})]})},W9=({goToBackStep:e,goToNextStep:t,currentStep:r,totalSteps:n})=>o.jsxs("div",{className:"flex items-center justify-between pt-4",children:[o.jsx("button",{onClick:e,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r>2?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r<3,children:"Volver"}),o.jsx("button",{onClick:t,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r<n?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r>=n,children:r<n?"Siguiente":"Finalizado"})]}),H7e=`
Analiza la lista de documentos proporcionada y genera un reporte estructurado estrictamente en el siguiente formato utilizando Markdown. Cumple todas las instrucciones exactamente como se indican:

Incluye:
- **Total de documentos analizados**: número total de documentos procesados.
- **Estado general del proceso**: conclusión breve basada en el análisis global (por ejemplo: "Todos los documentos están pendientes", "La mayoría de los documentos fueron aprobados", etc.).
- **Caso particular**: conclusión breve derivada (por ejemplo: "Un documento se rechazó por no tener firma", etc.) si no existe alguno omite esta sección.

## Reglas estrictas:

- **Redacción**: Utiliza frases claras, neutrales y concisas.
- **Contenido**: No muestres nombres de variables, estructuras internas o referencias de programación en el reporte.
---
`;function W7e({documents:e}){const{selectedClient:t}=ct(),[r,n]=w.useState(!1),[a,i]=w.useState(""),[s,l]=w.useState(!1),[c,u]=w.useState(!1);w.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{if(n(!0),i(""),!(e!=null&&e.requiredDocuments)||e.requiredDocuments.length===0){console.warn("No hay documentos requeridos disponibles."),n(!1);return}if(n(!1),e.requiredDocuments.length>0){l(!0);try{const v=e.requiredDocuments.map(j=>{var E;return{nombre_del_documento:((E=j.documentTemplate)==null?void 0:E.name)??"Sin nombre",subido_al_sistema:j.isUploaded,aprobado_por_mesa_de_control:j.isApproved,recibido_por_agente_comercial:j.isPreApproved,rechazado_por_agente:j.isRejected,rechazado_por_inteligencia_artificial:j.isRejectedByAI,razon_de_rechazo_agente:j.rejectReason,razon_de_rechazo_de_la_inteligencia_artificial:j.IaRejectedReason}}),b=JSON.stringify({documents:v}),y=await qj(H7e,b);i(y.summary??"No se pudo generar el resumen.")}catch(v){console.error(v),i("Ocurrió un error al generar el resumen.")}finally{l(!1)}}})()},[e==null?void 0:e.requiredDocuments,t==null?void 0:t.id]);const d=(e==null?void 0:e.requiredDocuments.length)??0,f=(e==null?void 0:e.requiredDocuments.filter(x=>x.isApproved).length)??0,m=(e==null?void 0:e.requiredDocuments.filter(x=>x.isPreApproved).length)??0,p=(e==null?void 0:e.requiredDocuments.filter(x=>x.isRejected||x.isRejectedByAI).length)??0,h=d-f,g=()=>{navigator.clipboard.writeText(a),u(!0),setTimeout(()=>u(!1),2e3)};return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-6 space-y-6 sm:space-y-0 mt-4",children:[o.jsxs("div",{className:"flex-none max-w-fit grid grid-cols-2 gap-2",children:[o.jsx("h2",{className:"col-span-full text-lg text-gray-800 font-semibold",children:"Estado de documentos"}),r?o.jsx("div",{className:"col-span-full flex justify-center py-6",children:o.jsx(at,{className:"w-6 h-6 animate-spin text-gray-400"})}):[{label:"Aprobados MC",value:f,icon:o.jsx(At,{className:"w-6 h-6 text-green-400"})},{label:"Recibido AC",value:m,icon:o.jsx(sQ,{className:"w-6 h-6 text-yellow-400"})},{label:"Rechazados",value:p,icon:o.jsx(Qi,{className:"w-6 h-6 text-red-400"})},{label:"Pendientes",value:h,icon:o.jsx(Gr,{className:"w-6 h-6 text-orange-400"})}].map(x=>o.jsxs("div",{className:"bg-white rounded-md shadow-sm p-2 flex items-center justify-between max-w-30",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-500",children:x.label}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.value})]}),x.icon]},x.label))]}),o.jsx("div",{className:"flex-1 bg-white rounded-lg shadow p-6 relative",children:s?o.jsxs("div",{className:"flex flex-col items-center text-gray-500 py-8",children:[o.jsx(at,{className:"w-6 h-6 animate-spin mb-2"}),o.jsx("p",{children:"Cargando análisis…"})]}):a?o.jsxs(o.Fragment,{children:[o.jsx(af,{remarkPlugins:[Q_],children:a}),o.jsx("button",{onClick:g,className:"absolute top-4 right-4 p-2 bg-gray-200 rounded-full hover:bg-gray-300","aria-label":"Copiar análisis",children:c?o.jsx(At,{size:16,className:"text-green-500"}):o.jsx(Gi,{size:16,className:"text-gray-600"})})]}):o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No se encontró información para mostrar."})})]})}const G9=`
  inline-flex items-center gap-2
  px-4 py-2
  border-2 border-blue-500 text-blue-500 rounded-lg text-sm font-medium
  transition-colors duration-200 hover:bg-blue-50
  focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2
`,BR=({onClick:e,icon:t,label:r,loading:n=!1})=>o.jsxs("button",{onClick:e,disabled:n,className:`${G9} ${n?"opacity-50 cursor-not-allowed":""}`,children:[n?o.jsx(at,{className:"w-4 h-4 animate-spin"}):t,r]}),G7e=({selectedFile:e,onChange:t,loading:r=!1})=>o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"reporte-upload",accept:".pdf,.doc,.docx,.xlsx,.xls",onChange:n=>{var i;const a=(i=n.target.files)==null?void 0:i[0];a&&t(a)},disabled:r,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.jsxs("label",{htmlFor:"reporte-upload",className:`${G9} ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r?o.jsx(at,{className:"w-4 h-4 animate-spin"}):o.jsx(Ka,{className:"w-4 h-4"}),e?e.name:"Subir Reporte"]})]});function X7e({onSubirReporte:e,onCura:t,handleVoBo:r}){const[n,a]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(0),p=async x=>{a(x),s(!0),m(0);try{await(e==null?void 0:e(x,v=>{m(v)}))}finally{s(!1)}},h=async()=>{c(!0);try{await(t==null?void 0:t())}finally{c(!1)}},g=async()=>{d(!0);try{await(r==null?void 0:r())}finally{d(!1)}};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsx("div",{className:"flex gap-3 flex-wrap",children:o.jsx(G7e,{selectedFile:n,onChange:p,loading:i})}),o.jsx(BR,{onClick:h,icon:o.jsx(pt,{className:"w-4 h-4"}),label:"Corrección documental",loading:l}),o.jsx(BR,{onClick:g,icon:o.jsx(ZJ,{className:"w-4 h-4"}),label:"Solicitar VoBo legal",loading:u})]}),i&&o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${f}%`,backgroundColor:"#3b82f6"}})}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Subiendo: ",f.toFixed(0),"%"]})]}),n&&o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[o.jsx(Ka,{className:"w-4 h-4"}),o.jsx("span",{children:"Archivo seleccionado:"}),o.jsx("span",{className:"font-medium",children:n.name}),o.jsxs("span",{className:"text-gray-400",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})})]})}function K7e(){const{selectedClient:t,selectClient:r}=ct(),[n,a]=w.useState(!1),[i,s]=w.useState(!1),[l,c]=w.useState(""),[u,d]=w.useState(),{user:f}=mt(),m=()=>{n?t&&console.log("goToNextStep ejecutado: flowStatus actualizado a 4"):h("validar listas negras")},p=()=>{t&&(r({flowStatus:2}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},h=S=>{c(S),s(!0)},g=()=>s(!1),x=async()=>{l==="validar listas negras"?await b():l==="corrección documental"?await N():l==="Solicitar VoBo legal"&&await y(),s(!1)},v=async()=>{if(!(t!=null&&t.id)){console.warn("No hay cliente seleccionado.");return}const S=await aa({productRequestId:t.id});S&&d(S);const T=!!(S!=null&&S.requiredDocuments.length)&&S.requiredDocuments.every(C=>C.isApproved);a(T)},b=async()=>{try{await mu(2,(t==null?void 0:t.id)??""),await cu({previousStatus:t==null?void 0:t.agentFlowStatus,newStatus:2,productRequestId:(t==null?void 0:t.id)??"",userAuthId:(f==null?void 0:f.uid)??""}),se.success("Estado cambió a validación de listas negras")}catch(S){console.error("Error validando:",S),se.error("Error al actualizar el estado")}},y=async()=>{try{await mu(4,(t==null?void 0:t.id)??""),await cu({previousStatus:t==null?void 0:t.agentFlowStatus,newStatus:4,productRequestId:(t==null?void 0:t.id)??"",userAuthId:(f==null?void 0:f.uid)??""}),se.success("Estado cambió a Solicitud de Vo.Bo. Legal")}catch(S){console.error("Error validando:",S),se.error("Error al actualizar el estado")}},j=async()=>{try{await mu(3,(t==null?void 0:t.id)??""),await cu({previousStatus:t==null?void 0:t.agentFlowStatus,newStatus:3,productRequestId:(t==null?void 0:t.id)??"",userAuthId:(f==null?void 0:f.uid)??""}),se.success("Estado cambió a Generando Documento Maestro")}catch(S){console.error("Error validando:",S),se.error("Error al actualizar el estado")}},E=async(S,T)=>{const C=`${(t==null?void 0:t.id)??""}-blacklist`;if(!await ts(C,S,"documentos",T))throw new Error("Error al subir el archivo.");j()},N=async()=>{try{await mu(1,(t==null?void 0:t.id)??""),await cu({previousStatus:t==null?void 0:t.agentFlowStatus,newStatus:1,productRequestId:(t==null?void 0:t.id)??"",userAuthId:(f==null?void 0:f.uid)??""}),se.success("Estado cambiado a Corrección documental")}catch(S){console.error("Error en CURA:",S),se.error("Error cambiar el estado")}};return w.useEffect(()=>{v()},[]),w.useEffect(()=>{!!(u!=null&&u.requiredDocuments.length)&&u.requiredDocuments.every(T=>T.isApproved)&&(t==null?void 0:t.agentFlowStatus)!=2&&b()},[u]),o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(nh,{className:"w-6 h-6 text-gray-500 mr-2"}),o.jsx("h2",{className:"text-xl text-gray-800 font-semibold",children:t==null?void 0:t.company})]}),o.jsx(X7e,{onValidacionListasNegras:()=>h("validar listas negras"),onSubirReporte:E,onCura:()=>h("corrección documental"),handleVoBo:()=>h("Solicitar VoBo legal")})]}),o.jsx(W7e,{documents:u}),o.jsx(V7e,{isSectionComplete:n,setIsSectionComplete:a,documents:u,setDocuments:d})]}),o.jsx(pr,{}),o.jsx("div",{className:"mt-4",children:o.jsx(W9,{goToBackStep:p,goToNextStep:m,currentStep:3,totalSteps:7})}),i&&o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:['¿Estás seguro de establecer el estado a "',l,'"?']}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Esta acción cambiará el estado a ",l,"."]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition",children:"Cancelar"}),o.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Confirmar"})]})]})})]})}const Y7e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),o.jsx("p",{className:"mb-4",children:a}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:t,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:r,children:"Confirmar"})]})]})}):null,J7e=({isOpen:e,onClose:t,rejectReason:r})=>e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4 text-red-600",children:"Razón del Rechazo"}),o.jsx("p",{className:"text-sm text-gray-700 mb-4",children:r||"No se ha proporcionado una razón para el rechazo."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Cerrar"})})]})}):null,Q7e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",Z7e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",e9e="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",t9e=(e,t)=>{const r={rechazado:`border-red-500 ${e9e}`,requerido:`border-blue-500 ${Z7e}`,opcional:`border-blue-300 ${Q7e}`};return e?r.rechazado:t?r.requerido:r.opcional},r9e=(e,t,r,n)=>e?o.jsx(Za,{className:"w-6 h-6 text-green-600"}):t?o.jsx(Qi,{className:"w-6 h-6 text-red-600"}):r?o.jsx(o.Fragment,{children:o.jsx("div",{className:"",children:o.jsx("div",{title:"Análisis:"+n,children:o.jsx(qs,{className:"w-6 h-6 text-red-500","aria-label":"Advertencia"})})})}):o.jsx(Gr,{className:"w-6 h-6 text-yellow-500"}),n9e=(e,t)=>e?"Aprobado":t?"Rechazado":"Revisar",a9e=(e,t)=>o.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded w-full mb-2 text-center",children:[o.jsx("p",{className:"truncate",children:e}),o.jsx("p",{children:t})]}),i9e=e=>o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"w-10 h-10 text-gray-400 mb-2"}),o.jsxs("label",{className:"w-full bg-gray-100 text-gray-600 text-xs text-center border rounded py-1 cursor-pointer hover:bg-gray-200",children:["Cargar archivo",o.jsx("input",{type:"file",className:"hidden",disabled:!1,onChange:e})]})]}),s9e=e=>o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),o.jsx("span",{className:"text-blue-700 font-medium",children:"Cargando..."})]}),typeof e=="number"&&o.jsxs("div",{className:"w-full mt-1",children:[o.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e}%`}})}),o.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[e.toFixed(0),"%"]})]})]}),o9e=(e,t,r,n,a,i,s,l,c)=>o.jsxs("div",{className:"absolute top-10 right-4 w-32 bg-white border border-gray-200 rounded shadow-lg z-10",children:[e&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),a&&a()},children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),"Descargar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),i&&i()},children:[o.jsx(rl,{className:"w-4 h-4 mr-2"}),"Ver"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),s&&s()},children:[o.jsx(Za,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),l&&l()},children:[o.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),t&&o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),n(!0)},children:[o.jsx(_E,{className:"w-4 h-4 mr-2"}),"Detalles"]})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),c&&c()},children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>r(!1),children:[o.jsx(pt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]});function l9e({title:e,isUploaded:t,isLoading:r,isApproved:n,isRejected:a,rejectReason:i,fileName:s,fileSize:l,isRequired:c,isRejectedByAI:u,IaRejectedReason:d,onUpload:f,uploadProgress:m,isBusy:p,onDownload:h,onDelete:g,onView:x,onApprove:v,onReject:b}){const[y,j]=w.useState(!1),[E,N]=w.useState(!1),S=w.useRef(null);w.useEffect(()=>{const C=k=>{S.current&&!S.current.contains(k.target)&&j(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const T=C=>{var A;const k=(A=C.target.files)==null?void 0:A[0];k&&f&&f(k)};return o.jsxs("div",{ref:S,className:`w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg p-4 flex flex-col shadow-sm relative border-2 ${t9e(a,c)}`,title:e,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("h3",{className:"text-sm font-medium text-gray-800 max-w-full break-words whitespace-normal",title:e,children:e})}),o.jsx("button",{className:"py-1 px-2 bg-gray-50 text-gray-600 rounded-full text-xs font-medium hover:bg-gray-100 transition-colors",onClick:()=>j(!y),"aria-label":"Opciones",children:o.jsx(zo,{size:20})})]}),y&&o9e(t,a,j,N,h,x,v,b,g),o.jsx("h3",{className:`${c?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:c?"Requerido":"Opcional"}),o.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:r?o.jsx(o.Fragment,{children:s9e(m)}):o.jsx(o.Fragment,{children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${n?"bg-green-100 border border-green-300":a?"bg-red-100 border border-red-300":"bg-yellow-100 border border-yellow-300"}`,children:r9e(n,a,u,d)}),o.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-green-600":a?"text-red-600":"text-yellow-500"}`,children:n9e(n,a)}),a9e(s,l)]}):p?o.jsx("p",{className:"text-blue-500 text-xs",children:"ocupado..."}):i9e(T)})}),o.jsx(J7e,{isOpen:E,onClose:()=>N(!1),rejectReason:i||"No se especificó una razón para el rechazo."})]})}const c9e=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},u9e=({isOpen:e,onCancel:t,onConfirm:r})=>{const[n,a]=w.useState(!1);if(!e)return null;const i=async()=>{a(!0);try{await r()}finally{a(!1)}};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:o.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"¿Estás seguro?"}),o.jsx("p",{className:"mb-4",children:"Esta acción eliminará el archivo permanentemente."}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:t,disabled:n,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center justify-center",onClick:i,disabled:n,children:n?o.jsx(at,{className:"animate-spin h-5 w-5 mr-2"}):"Eliminar"})]})]})})},d9e=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(f9e,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},f9e=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})};function m9e({onPlaceholderClick:e}){return o.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:o.jsx(on,{className:"w-6 h-6 text-gray-500"})}),o.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Solicitar otro documento"})]})}const p9e=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?(console.warn("No se encontraron documentos requeridos"),[]):t.requiredDocuments.map(n=>({documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??"",category:""}))}catch(t){return console.error("Error al obtener los documentos:",t),[]}},h9e=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,l){return l.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>Id(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},X9=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=w.useState(!0),[i,s]=w.useState(""),l=f=>{t(m=>m.some(h=>h.id===f)?m.filter(h=>h.id!==f):[...m,{id:f,isRequired:!1}])},c=f=>{t(m=>m.map(p=>p.id===f?{...p,isRequired:!p.isRequired}:p))},u=()=>{a(f=>!f)};w.useEffect(()=>{t(f=>{const m=r.filter(p=>p.isRequired===!0).filter(p=>!f.some(h=>h.id===p.id)).map(p=>({id:p.id,isRequired:!0}));return m.length===0?f:[...f,...m]})},[r,t]);const d=[...r].sort((f,m)=>{const p=f.position??Number.MAX_SAFE_INTEGER,h=m.position??Number.MAX_SAFE_INTEGER;return p-h});return o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),o.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(m=>m.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const m=e.find(h=>h.id===f.id),p=(m==null?void 0:m.isRequired)??!1;return o.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${p?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:!!m,onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("div",{children:o.jsx("span",{className:`font-medium ${p?"text-green-800":"text-gray-800"}`,children:f.name})})]}),m&&o.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${p?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:p?"Hacer opcional":"Hacer obligatorio",children:p?"Obligatorio":"Opcional"})]},f.id)})})}),o.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function g9e({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState("processing"),[u,d]=w.useState({title:"",message:"",details:void 0}),[f,m]=w.useState(!1);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{const x=await sh();s(x)},h=async()=>{c("processing");const v=await h9e({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),m(!0)},g=x=>{x.preventDefault(),h()};return e?o.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[o.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Solicitar otro documento"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Selecciona el documento adicional a solicitar."}),o.jsx("div",{className:" mb-4",children:o.jsx(X9,{documents:n,setDocuments:a,docTemplates:i})}),o.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[o.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Solicitar documento adicional"}),o.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&o.jsx(_n,{onClose:t,status:l,messages:u})]}):null}async function x9e(e,t){try{console.log("generado token");const n={uid:(await wc({email:e??""})).Id??""};return{success:!0,token:(await Uj(n,t??"")).token}}catch(r){return console.error("Error generating token:",r),{success:!1,token:""}}}function v9e(e,t,r){return`
    <!doctype html>
    <html lang="es">

    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
        <title>Broxel</title>
    
        <meta name="color-scheme" content="light dark">
        <style type="text/css">
            @media (prefers-color-scheme: dark) {
                .darkmode {
                    background-color: #1e1e1e !important;
                }
    
                .darkmode p {
                    color: #777777 !important;
                }
            }
        </style>
    
    
    
        <style type="text/css">
            body,
            #bodyTable,
            #bodyCell {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }
    
            #templateBody {
                /*background-color:  #f1f3f5 !important;*/
                background-color: #f1f3f5 !important;
                border-top: 0;
                border-bottom: 0;
            }
    
    
            #bodyBackground {
                border-collapse: separate !important;
                background-color: #FFFFFF !important;
                border: 1px solid #eeeeee !important;
                border-radius: 12px;
            }
    
            #templateHeader {
                /*@editable*/
                background-color: #f1f3f5 !important;
                /*@editable*/
                padding-top: 10px;
                /*@editable*/
                padding-bottom: 10px;
            }
    
    
    
            @media only screen and (max-width: 580px) {
                body {
                    width: 100% !important;
                    min-width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .templateContainer {
                    max-width: 580px !important;
                    width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .mcnImage {
                    height: auto !important;
                    width: 100% !important;
                }
    
            }
    
    
    
    
            /*CircularStdBlack*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 800;
                font-style: normal;
            }
    
            /*CircularStdBold*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 600;
                font-style: normal;
            }
    
            /*CircularStdMedium*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 500;
                font-style: normal;
            }
    
            /*CircularStdBook*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 400;
                font-style: normal;
            }
    
    
            h1 {
                font-size: 58px !important;
                line-height: 64px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h2 {
                font-size: 46px !important;
                line-height: 55px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h3 {
                font-size: 40px !important;
                line-height: 49px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h4 {
                font-size: 32px !important;
                line-height: 40px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h5 {
                font-size: 27px !important;
                line-height: 33px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                text-transform: none !important;
                letter-spacing: 0px !important;
            }
    
            h6 {
                font-size: 21px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-weight: 800 !important;
                text-transform: none !important;
                color: #001E30 !important;
                letter-spacing: 0px !important;
                margin-bottom: -11px;
            }
    
            p {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400 !important;
                letter-spacing: 0px !important;
            }
    
    
            li {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            ol {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            a {
                color: #0075ff !important;
                font-weight: 700 !important;
                text-decoration: none !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
    
            span.linkfooter {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-size: 12px;
                font-weight: 300;
                color: #0075ff;
            }
    
            b {
                font-weight: 800 !important;
            }
    
            ul {
                margin-left: -11px;
                margin-top: 30px !important;
            }
    
            @media only screen and (max-width: 480px) {
                .contenedor {
                    background-color: #ffffff !important;
                    width: 96% !important;
                    max-width: 580px !important;
                    overflow: hidden !important;
                    border-radius: 3px !important;
                    padding: 40px 0px !important;
                    margin-top: 40px !important;
                }
            }
        </style>
    
    
    
    
    </head>
    
    
    
    <body lang="es" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
        <style type="text/css">
            body,
            table,
            td,
            h1,
            h2,
            h3,
            h4,
            h5,
            ol,
            ul,
            p {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
        </style>
    
    
        <!-- PREHEADER AQUÍ-->
        <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la
            plataforma y completa tus datos</span>
        <!-- PREHEADER AQUÍ-->
    
        <center>
            <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                <tr>
                    <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                        <!-- BEGIN TEMPLATE // -->
    
    
    
    
                        <!-- BEGIN HEADER // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                            <tr>
                                <td align="center" valign="top">
                                    <span style="line-height:1px;">&nbsp;</span>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER -->
    
    
    
    
    
    
    
                        <!-- BEGIN HEADER LOGO // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                    <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                    <tr>
                                                        <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">
    
    
    
                                                            <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">
    
    
    
    
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER LOGO -->
    
    
    
    
    
    
                        <!-- BEGIN BODY // -->
                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding: 7px 7px;">
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                    <tr>
    
    
    
    
                                                        <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                        <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                            <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->
    
    
    
    
    
                                                            <!-- IMAGEN SUPERIOR EN BODY // -->
                                                            <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                            <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;"
                                                                            class="mcnImage">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
    
                                                            <!-- FIN IMAGEN SUPERIOR EN BODY // -->
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">
    
    
                                                                            <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->
    
    
    
    
                                                                            <!-- TITLE HEADER BODY // -->
    
                                                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                                <tr>
                                                                                    <td class="fallback-text" align="center">
                                                                                        <h2 style="
      font-size: 40px !important;
      line-height: 51px !important;
      font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
      color: #001E30 !important;
      font-weight: 800 !important; 
      text-align: center !important;
      max-width: 480px !important;
      letter-spacing: 0px !important;"> Notificación TENGO!: ${e}<span style="color:#00a6f5">.</span>
                                                                                        </h2>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- FIN TITLE HEADER BODY // -->
    
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">
    
    
    
    
                                                                            <!-- BEGIN CONTENT // -->
    
                                                                            <p style="
    font-size: 18px !important;
    line-height: 30px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    text-align: center !important;
    font-weight: 400;
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;
    max-width: 480px;
    margin: auto;">
    
    
                                                                                ${t}
    
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
                                                                                </table>
                                                                                <!--FIN UN ESPACIO-->
    
    
    
                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
    font-size: 1em !important;
    line-height: 30px !important;
    font-family: 'CircularStd', 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 400; 
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;">
    
    
    
    
    
    
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
    
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!--TEXTO DESTACADO-->
    
                                                                                    <h5 style="font-size: 27px !important;
    line-height: 33px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 800 !important;
    text-transform: none !important;
    margin: 3px auto 10px;
    max-width: 420px !important;
    letter-spacing: 0px !important;
    text-align:center !important;">
                                                                                    Ingresa a la plataforma ahora.</h5>
    
                                                                                    <!--FIN TEXTO DESTACADO-->
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!-- TABLA BOTON-->
                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">
    
    
    
                                                                                                    <!--BOTON-->
                                                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                        <tbody class="mcnButtonBlockOuter">
                                                                                                            <tr>
                                                                                                                <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                    <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                    <a href=${r} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                    <!--BOTON-->
    
    
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <!-- FIN TABLA BOTON-->
    
    
    
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
    
                                                                                    <!-- END CONTENT // -->
    
                                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
    
                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">
    
    
    
                                                                                <!-- END CONTENIDO EN BODY // -->
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
    
    
                                                                </td>
                                                    </tr>
                                                    </table>
    
    
                                                    </td>
                                        </tr>
                                        </table>
                                        </td>
                            </tr>
                            </table>
                            <!-- // END BODY -->
    
    
    
    
    
    
                            <!-- BEGIN FOOTER // -->
                            <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
    
                                <!-- FOOTER -->
                                <tr>
                                    <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">
    
    
                                        <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                            <tbody>
    
    
                                                <tr>
                                                    <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">
    
    
                                                        <p style="
                            font-size: 13px!important;
                            line-height: 21px!important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400; margin-top: 7px!important;
                            text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                            letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                            <b>¿Necesitas ayuda?</b><br>
                                                            Llámanos desde México o Estados Unidos al
                                                            <a href="tel: 5593700536"
                                                                style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                            Este correo es automatizado, favor&nbsp;de&nbsp;no responder
    
    
    
    
    
    
    
                                                            <br>&nbsp;<br>&nbsp;
                                                            <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important;">Aviso de Privacidad</a>
    
                                                    </p>
                                                </td>
    
                                            </tr>
    
                                            <tr>
                                                <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">
    
    
                                                    <!-- CONTENIDO PARRAFO LEGALES
    
                            <p style="font-size: 10px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            line-height: 19px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            This is an automated email.
                        </span>
                                                        </p>
    
    
                                                        <p style="font-size: 10px !important;
                            line-height: 19px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>
    
                            The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>
    
                            Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                            </span></p>
    
    
                                                        <p style="font-size: 13px!important;
                            line-height: 21px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400;
                            text-align: center !important;
                            letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                            <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                            Unsubscribe from these emails.
                            </a> CONTENIDO PARRAFO LEGALES-->
    
    
    
    
    
                                                            <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">
    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
    
                                    </td>
                                </tr>
                                <!-- FIN FOOTER -->
    
                            </table>
                            <!-- // END FOOTER -->
    
    
    
    
    
    
    
                            <!-- // END TEMPLATE -->
                            </td>
                </tr>
                </table>
        </center>
    </body>
    
    </html>
    `}const K9=(e,t,r)=>v9e(e,t,r),y9e=({name:e,numAprobados:t,numRechazados:r,numPendientes:n,url:a})=>{const i="Actualización en tu trámite",s=`
    Hola <b>${e}</b>,<br><br>

    Te informamos que hay una actualización en la revisión de los documentos de tu solicitud de crédito con <b>TENGO!</b>.<br><br>

    <b>Resumen de la revisión:</b><br><br>

    - Documentos recibidos correctamente y enviados a mesa de control: ${t}<br>
    - Documentos rechazados: ${r}<br>
    - Documentos pendientes de envío: ${n}<br><br>

    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
`;return K9(i,s,a)},b9e=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    <b>${e}</b> Nos complace informarte que la recepción de documentos se completo con éxito,  comenzaremos la revisión y nos pondremos en contacto contigo en las próximas horas.

    `;return K9(r,n,t)};function w9e(){const{selectedClient:e}=ct(),[t,r]=w.useState([]),[n,a]=w.useState(!1),[i,s]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(null),[v,b]=w.useState(null),[y,j]=w.useState(!1),[E,N]=w.useState(!1),[S,T]=w.useState(!1),[C,k]=w.useState(!1),[A,_]=w.useState(!1),[I,M]=w.useState(null),[L,W]=w.useState(!1),[H,q]=w.useState(!1),[B,F]=w.useState(!1),{user:ne}=mt(),U=async()=>{console.log("solicitarRevisionListasNegras ejecutada"),await mu(2,(e==null?void 0:e.id)??""),await cu({previousStatus:e==null?void 0:e.agentFlowStatus,newStatus:2,productRequestId:(e==null?void 0:e.id)??"",userAuthId:(ne==null?void 0:ne.uid)??""}),se.success("Revisión de listas negras solicitada")},R=async()=>{q(!0),await U(),q(!1),F(!1)},K=()=>t.length>0&&t.every(oe=>oe.isPreApproved),J=async oe=>{t.length>0&&t.every(we=>we.isPreApproved)?N(!0):oe&&(await nN(3,(e==null?void 0:e.id)??""),N(!1))},te=async()=>{let oe="";const we=K(),$e=e==null?void 0:e.name,ze=await x9e((e==null?void 0:e.email)??"",(ne==null?void 0:ne.idToken)??""),Wt="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+ze.token;if(we===!1){const zt=t.filter(Ee=>Ee.isPreApproved).length,cn=t.filter(Ee=>Ee.isRejected).length,he=t.filter(Ee=>Ee.isUploaded===!1).length;oe=y9e({name:$e??"",numAprobados:zt,numRechazados:cn,numPendientes:he,url:Wt})}else oe=b9e({name:$e??"",url:Wt}),await nN(3,(e==null?void 0:e.id)??"");await cc((e==null?void 0:e.email)??"",e==null?void 0:e.ccemail,"Actualización en tu trámite",oe)?we===!1?se.success("cliente notificado"):se.success("Seccion completa, cliente notificado"):se.error("Ocurrió un error, intente de nuevo mas tarde")},re=async(oe,we)=>{if(T(!0),we)if((await cr({id:we,isPreApproved:!0,isRejected:!1,rejectReason:""})).success){const ze=[...t];ze[oe]={...ze[oe],isPreApproved:!0,isRejected:!1,rejectReason:""},r(ze),console.log("Documento aprobado")}else se.error("Error al aprobar el documento. Inténtalo de nuevo.")},P=(oe,we)=>{a(!0),s(oe),b(we)},z=async oe=>{if(T(!0),v)if((await cr({id:v,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:oe})).success){if(i!==null){const $e=[...t];$e[i]={...$e[i],isRejected:!0,isPreApproved:!1,rejectReason:oe},r($e),console.log(`Documento rechazado: ${$e[i].documentTemplate.name}, Razón: ${oe}`)}}else se.error("Error al rechazar el documento. Inténtalo de nuevo.");a(!1),s(null)},D=(oe,we,$e)=>{m(!0),h(oe),x(we),j($e)},G=async()=>{var oe,we;if(T(!0),p!==null)if(g&&y){const ze=((we=(oe=t[p].fileName)==null?void 0:oe.split(".").pop())==null?void 0:we.toLowerCase())??"",Ve=`${g}.${ze}`,Wt=await Yd(Ve,"documentos");if(console.log(Wt?"Archivo eliminado en bucket":"Error al eliminar archivo en bucket"),(await cr({id:g,isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:"",fileSize:"",isRejectedByAI:!1,IaRejectedReason:""})).success){const zt=[...t];zt[p]={...zt[p],isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:void 0,fileSize:void 0,fileUrl:void 0,isRejectedByAI:!1,IaRejectedReason:void 0},r(zt),console.log("Archivo eliminado en índice")}else se.error("Error al eliminar el documento. Inténtalo de nuevo.")}else g&&((await rh({requiredDocument:g})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),r(ze=>ze.filter(Ve=>Ve.id!==g)),se.success("Documento requerido eliminado")):se.error("Error al eliminar el documento. Inténtalo de nuevo."));m(!1),x(null),h(null)},O=async(oe,we)=>{var $e;if(r(ze=>ze.map(Ve=>Ve.id===oe?{...Ve,isLoading:!0}:Ve)),oe){const ze=(($e=we.split(".").pop())==null?void 0:$e.toLowerCase())??"",ar=await Un("view","documentos",oe,"token",ze);ar.data?(c(ar.data),d(ze)):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}r(ze=>ze.map(Ve=>Ve.id===oe?{...Ve,isLoading:!1}:Ve))},fe=()=>c(null);w.useEffect(()=>{const oe=async()=>{if(!(e!=null&&e.id)){se.error("No hay una empresa seleccionada.");return}const we=await p9e(e.id),$e=we.length>0&&we.every(ze=>ze.isPreApproved);N($e),r(we),console.log("Documentos actualizados:",we)};I===null&&oe(),I===!0&&A===!1&&oe(),M(A)},[A]),w.useEffect(()=>{J(E)},[t]);const ie=async(oe,we)=>{var $e;r(ze=>ze.map(Ve=>Ve.id===oe?{...Ve,isLoading:!0}:Ve));try{const ze=(($e=we.split(".").pop())==null?void 0:$e.toLowerCase())??"";(await Un("download","documentos",oe,"token",ze,we)).success?se.success("Archivo descargado"):se.error("Error al descargar el documento. Inténtalo de nuevo.")}catch(ze){console.log(ze),se.error("Error al descargar el documento. Inténtalo de nuevo.")}r(ze=>ze.map(Ve=>Ve.id===oe?{...Ve,isLoading:!1}:Ve))},ue=(oe,we)=>{r($e=>$e.map(ze=>ze.id===oe?{...ze,...we}:ze))},ye=async(oe,we)=>{var Wt;if(!we)return;let $e="";const ze=["pdf","xls","xlsx"],Ve=(Wt=we.name.split(".").pop())==null?void 0:Wt.toLowerCase();if(!Ve||!ze.includes(Ve)){ue(oe,{isRejectedByAI:!0,isLoading:!1,fileName:we.name,fileSize:`${(we.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}ue(oe,{isLoading:!0,fileName:we.name,fileSize:`${(we.size/1024/1024).toFixed(1)} MB`,uploadProgress:0});try{if(W(!0),!await ts(oe,we,"documentos",zt=>{ue(oe,{uploadProgress:zt})}))throw $e="Error al subir el archivo.",new Error("Error al subir el archivo.");await cr({id:oe,isUploaded:!0,fileName:we.name,fileSize:`${(we.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""}),ue(oe,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100}),W(!1)}catch(ar){console.error("Error al manejar el documento:",ar),ue(oe,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:$e,isLoading:!1,uploadProgress:0})}finally{W(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Documentos subidos: ",t.filter(oe=>oe.isUploaded).length,"/",t.length]}),L?"Subiendo documentos, espere un momento...":null,E?o.jsxs("div",{className:"relative flex items-center gap-1 text-green-600 group",children:[o.jsx(At,{size:20}),o.jsx("span",{children:"Completado"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"Esta sección ha sido completada."})]}):o.jsxs("div",{className:"relative flex items-center gap-1 text-orange-600 group",children:[o.jsx(Gr,{size:20}),o.jsx("span",{children:"En proceso"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"En proceso de recepción documental, el estado cambia cuando validas todos los documentos."})]})]}),S?o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,o.jsxs("div",{className:"max-h-[600px] overflow-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 mt-4",children:[t.map((oe,we)=>o.jsx(l9e,{title:oe.documentTemplate.name,isUploaded:oe.isUploaded,isApproved:oe.isPreApproved,isRejected:oe.isRejected,rejectReason:oe.rejectReason,fileName:oe.fileName,fileSize:oe.fileSize,isLoading:oe.isLoading,isRequired:oe.isRequired,onApprove:()=>re(we,oe.id),onReject:()=>P(we,oe.id),onDelete:()=>D(we,oe.id,oe.isUploaded),onDownload:()=>ie(oe.id,oe.fileName??""),onUpload:$e=>ye(oe.id,$e),uploadProgress:oe.uploadProgress,onView:()=>O(oe.id,oe.fileName??""),isRejectedByAI:oe.isRejectedByAI??!1,IaRejectedReason:oe.IaRejectedReason??"",isBusy:!1},oe.id)),o.jsx(m9e,{onPlaceholderClick:()=>_(!0)})]}),o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("button",{onClick:async()=>{k(!0),await te(),k(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[C?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),E?"Informar sección completa":"Informar cambio en Recepción",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:E?"Informa al cliente por correo que sus documentos han sido recibidos, activa la siguiente sección":"Informa al cliente por correo que el estado de sus documentos ha cambiado"})]})}),o.jsx("div",{className:"flex items-center",children:o.jsxs("button",{onClick:()=>F(!0),className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[H?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),"Solicitar revisión listas negras",o.jsx("span",{className:"absolute right-full top-1/2 -translate-y-1/2 mr-2 w-56 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:"Solicita la revisión de las listas negras al departamento correspondiente"})]})})]}),o.jsx(c9e,{isOpen:n,onClose:()=>a(!1),onConfirm:z}),o.jsx(u9e,{isOpen:f,onCancel:()=>m(!1),onConfirm:G}),l&&o.jsx(d9e,{fileUrl:l,onClose:fe,fileType:u??"pdf"})]}),o.jsx(pr,{})]}),o.jsxs("div",{children:[A&&o.jsx(g9e,{isOpen:A,onClose:()=>_(!1),selectedProductId:(e==null?void 0:e.id)??""}),B&&o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"¿Estás seguro de solicitar revisión de listas negras?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Esta acción enviará una solicitud al departamento correspondiente para que revisen las listas negras."}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition",children:"Cancelar"}),o.jsx("button",{onClick:R,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Confirmar"})]})]})})]})]})}function S9e(){const[e,t]=w.useState({employeeName:"",employeePosition:"",supervisorName:"",supervisorPosition:""}),[r,n]=w.useState({fecha:"",representante_legal:"",razon_social:"",is_fisico:!0,perfil:{num_cards:0,monthly_amount:"",active_stock:0},controlador_choice:"",persona_fisica:null,persona_moral:null,fideicomiso:null}),a=(f,m)=>{t(p=>({...p,[f]:m}))},i=(f,m)=>{n(p=>({...p,[f]:m}))},s=(f,m)=>{n(p=>({...p,perfil:{...p.perfil,[f]:m}}))},l=()=>{console.log("Generar LAYOUT",e)},c=async()=>{try{const{success:f,data:m}=await TEe(r);if(f&&m){const p=new Blob([m],{type:"application/pdf"}),h=URL.createObjectURL(p),g=document.createElement("a");g.href=h,g.download="kyc_form.pdf",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(h)}}catch(f){console.error("Error al generar el KYC PDF",f)}},u=()=>{console.log("Subir Documento Maestro")},d=()=>{console.log("Subir Carta Responsiva")};return o.jsxs("div",{className:"bg-gray-50",children:[o.jsxs("div",{className:"p-8 max-w-6xl mx-auto flex justify-between items-start",children:[o.jsxs("main",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col",children:[o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Funcionario *"}),o.jsx("input",{type:"text",value:e.employeeName,onChange:f=>a("employeeName",f.target.value),placeholder:"Ej. Juan Pérez",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puesto del Funcionario *"}),o.jsx("input",{type:"text",value:e.employeePosition,onChange:f=>a("employeePosition",f.target.value),placeholder:"Ej. Gerente de Operaciones",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Supervisor *"}),o.jsx("input",{type:"text",value:e.supervisorName,onChange:f=>a("supervisorName",f.target.value),placeholder:"Ej. María López",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puesto del Supervisor *"}),o.jsx("input",{type:"text",value:e.supervisorPosition,onChange:f=>a("supervisorPosition",f.target.value),placeholder:"Ej. Directora General",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[o.jsx("button",{onClick:l,className:"px-6 py-2 bg-blue-100 text-gray-900 font-semibold rounded-md hover:bg-blue-200",children:"Generar LAYOUT"}),o.jsx("button",{type:"button",className:"p-2 bg-blue-100 text-gray-900 rounded-md hover:bg-blue-200",children:o.jsx(Ka,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col",children:[o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),o.jsx("input",{type:"date",value:r.fecha,onChange:f=>i("fecha",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Representante Legal *"}),o.jsx("input",{type:"text",value:r.representante_legal,onChange:f=>i("representante_legal",f.target.value),placeholder:"Ej. JUANITO PÉREZ GÓMEZ",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razón Social *"}),o.jsx("input",{type:"text",value:r.razon_social,onChange:f=>i("razon_social",f.target.value),placeholder:"Ej. EMPRESA XYZ, S.A. DE C.V.",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:r.is_fisico,onChange:f=>i("is_fisico",f.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"¿Persona Física?"})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de Tarjetas *"}),o.jsx("input",{type:"number",value:r.perfil.num_cards,onChange:f=>s("num_cards",parseInt(f.target.value,10)),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad Mensual *"}),o.jsx("input",{type:"number",value:r.perfil.monthly_amount,onChange:f=>s("monthly_amount",parseFloat(f.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiario Controlador *"}),o.jsxs("select",{value:r.controlador_choice,onChange:f=>i("controlador_choice",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Selecciona una opción"}),o.jsx("option",{value:"doc",children:"Lo conozco y cuento con documentación para identificarlo"}),o.jsx("option",{value:"no-doc",children:"Lo conozco, pero no cuento con documentación para identificarlo"}),o.jsx("option",{value:"unknown",children:"No lo conozco"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[o.jsx("button",{onClick:c,className:"px-6 py-2 bg-blue-100 text-gray-900 font-semibold rounded-md hover:bg-blue-200",children:"Generar KYC"}),o.jsx("button",{type:"button",className:"p-2 bg-blue-100 text-gray-900 rounded-md hover:bg-blue-200",children:o.jsx(Ka,{className:"w-5 h-5"})})]})]})]}),o.jsx("aside",{className:"hidden lg:flex flex-col space-y-4 ml-6",children:["Layout","KYC","Documento Maestro","Carta Responsiva"].map(f=>o.jsxs("button",{className:"w-40 flex items-center justify-between px-4 py-3 bg-blue-100 text-gray-900 font-semibold rounded-md hover:bg-blue-200",children:[o.jsx("span",{children:f}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(lr,{className:"w-5 h-5"}),o.jsx(rl,{className:"w-5 h-5"})]})]},f))})]}),o.jsx("footer",{className:"py-4 bg-gray-50 border-t border-gray-200",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex justify-center space-x-4",children:[o.jsx("button",{onClick:u,className:"px-5 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Subir Documento Maestro"}),o.jsx("button",{onClick:d,className:"px-5 py-2 bg-white border border-gray-300rounded-md text-gray-700 hover:bg-gray-50",children:"Subir Carta Responsiva"})]})})]})}function N9e(){const[e,t]=w.useState(1),{selectedClient:r,selectClient:n}=ct(),[a,i]=w.useState(!1),s=2,l=()=>{r&&n({flowStatus:s+1})},c=()=>{r&&n({flowStatus:s-1})},u=()=>{i(!1)},d=()=>{r&&n({flowStatus:s+1}),i(!1)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsx("header",{className:"flex items-center justify-between py-4",children:o.jsx("h1",{className:"text-xl font-semibold",children:"Detalles de solicitud"})}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Documentos Requeridos","Formalización de expedientes"].map((f,m)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===m+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>t(m+1),children:f},m))}),o.jsxs("div",{className:"mt-4 mb-4",children:[e===1&&o.jsx(w9e,{}),e===2&&o.jsx(S9e,{})]})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(W9,{goToBackStep:c,goToNextStep:l,currentStep:s,totalSteps:7})}),o.jsx(Y7e,{isOpen:a,onClose:u,onConfirm:d,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const E9e=()=>{const[e,t]=w.useState(2),[r,n]=w.useState(!1),a=3,{selectedClient:i}=ct(),s=Mt(),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(!1),[p,h]=w.useState(!1),[g,x]=w.useState(!1),v=w.useRef(null),b=async()=>{},y=()=>{s(-1)};w.useEffect(()=>{t(S=>{const T=(i==null?void 0:i.flowStatus)??0;return S!==T?T:S})},[i]),w.useEffect(()=>{async function S(){if(i!=null&&i.chatId)try{const T=await Sh({chatId:(i==null?void 0:i.chatId)??""});if(T){const C=T.messages.filter(k=>!k.isRead&&!k.isSenderAdmin);if(C.length>0){const k={id:i.id,content:`Tienes ${C.length} nuevos mensajes sin leer.`,type:"info",read:!1,createdAt:new Date};d([k]),h(!0)}c(T.messages)}}catch(T){console.log("error",T)}}S()},[]);const j=async()=>{if(i!=null&&i.chatId)try{if(l&&l.filter(T=>!T.isRead&&!T.isSenderAdmin).length>0){const T=l.map(C=>!C.isRead&&!C.isSenderAdmin?(Nh({messageId:C.id,isRead:!0}),{...C,isRead:!0}):C);d([]),c(T)}}catch(S){console.log("Error al marcar mensajes como leídos:",S)}},E=()=>{n(!0),j()};w.useEffect(()=>{function S(T){v.current&&!v.current.contains(T.target)&&n(!1)}return r&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[r]);function N(){x(!g),Bm.removeAll(),zm.removeAll(),Eu.removeAll(),window.location.reload()}return o.jsxs("div",{className:"flex flex-col",children:[i&&o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:y,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(tl,{size:24})}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white p-3 rounded-lg ",children:[o.jsx("span",{className:"text-gray-800 font-semibold",children:i.company}),o.jsx("span",{className:"text-gray-600",children:i.email})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex justify-center flex-1",children:o.jsxs("button",{className:"relative w-auto bg-gradient-to-r from-green-400 to-green-500 text-white py-2 px-5 rounded-full flex items-center gap-2 transition-transform transform hover:scale-105",onClick:()=>E(),children:[o.jsx(_a,{size:22}),"Chat con usuario",u.length>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.length})]})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{onClick:N,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(kE,{size:24,className:`transition-transform duration-500 transform ${g?"rotate-180":""}`})}),o.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-2 py-1 text-xs text-white bg-blue-500 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:"Forzar actualización de datos"})]})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:o.jsx(ize,{currentStep:e,totalSteps:a})}),o.jsxs("main",{className:"max-w-full flex-grow container mx-auto ",children:[e===2&&o.jsx(N9e,{}),e===3&&o.jsx(K7e,{})]}),f&&o.jsx(oze,{notifications:u,onClose:()=>m(!1)}),p&&o.jsx(lze,{content:"Tienes nuevos mensajes",duration:5e3,onClose:()=>h(!1)}),r&&o.jsx("div",{ref:v,children:o.jsx(sze,{onClose:()=>n(!1),onNewMessage:b,setMessages:c,messages:l})})]})};function j9e(){return o.jsx(Yr,{children:o.jsx(E9e,{})})}const _9e=({handleSubmit:e})=>o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-bold text-white bg-blue-500 rounded",onClick:e,children:"Registrar cliente y documentos"})});function k9e({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:n})}),a<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),o.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>o.jsx("div",{className:"flex flex-col text-center w-full",children:o.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:V9.getText(n)})},n))})]})}const C9e=({razonSocial:e,setRazonSocial:t,userName:r,setUserName:n,userEmail:a,setUserEmail:i,rfc:s,setRfc:l,setFilledStatus:c})=>{const[u,d]=w.useState({}),[f,m]=w.useState({}),p=b=>/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(b.trim()),h=b=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b),g=()=>{const b={};e.trim()||(b.razonSocial="La razón social de la empresa es obligatoria."),s.trim()?p(s)||(b.rfc="El RFC no es válido."):b.rfc="El RFC es obligatorio.",a.trim()?h(a)||(b.userEmail="El correo electrónico no es válido."):b.userEmail="El correo electrónico es obligatorio.",d(b),c(Object.keys(b).length===0)};w.useEffect(()=>{g()},[e,s,r,a]);const x=b=>{m(y=>({...y,[b]:!0}))},v="w-full p-2 text-sm bg-gray-100 rounded border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400";return o.jsxs("div",{children:[o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información de la empresa"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Ingresa los datos básicos de tu empresa como el nombre."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Razón Social ",o.jsx("span",{className:"text-red-500",children:"*"}),f.razonSocial&&u.razonSocial&&o.jsx("span",{className:"text-red-500 text-xs",children:u.razonSocial})]}),o.jsx("input",{type:"text",value:e,onChange:b=>t(b.target.value),onBlur:()=>x("razonSocial"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["RFC ",o.jsx("span",{className:"text-red-500",children:"*"}),f.rfc&&u.rfc&&o.jsx("span",{className:"text-red-500 text-xs",children:u.rfc})]}),o.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),onBlur:()=>x("rfc"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"flex items-center text-sm mb-1 gap-2",children:"Clave de cliente"}),o.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onBlur:()=>x("userName"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Correo Electrónico ",o.jsx("span",{className:"text-red-500",children:"*"}),f.userEmail&&u.userEmail&&o.jsx("span",{className:"text-red-500 text-xs",children:u.userEmail})]}),o.jsx("input",{type:"email",value:a,onChange:b=>i(b.target.value),onBlur:()=>x("userEmail"),className:v})]})]})};async function T9e(e,t,r=12){const a=`${e.split("@")[0]}:${t}`,s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(l));return btoa(String.fromCharCode(...c)).replace(/[^a-zA-Z0-9]/g,"").slice(0,r)}function A9e(e,t,r,n){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
                        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

                            <title>Broxel</title>

                            <meta name="color-scheme" content="light dark">
                                <style type="text/css">
                                    @media (prefers-color-scheme: dark) {
            .darkmode {background - color: #1e1e1e !important; }
                                    .darkmode p {color: #777777 !important; }
}

                                </style>



                                <style type="text/css">
                                    body,#bodyTable,#bodyCell{
                                        height:100%;
                                    margin:0;
                                    padding:0;
                                    width:100%;
    }

                                    #templateBody{
                                        /*background-color:  #f1f3f5 !important;*/
                                        background - color:  #f1f3f5 !important;
                                    border-top:0;
                                    border-bottom:0;
    }


                                    #bodyBackground{
                                        border - collapse:separate !important;
                                    background-color:#FFFFFF !important;
                                    border:1px solid #eeeeee !important;
                                    border-radius:12px;
    }
                                    #templateHeader{
        /*@editable*/background - color: #f1f3f5 !important;
        /*@editable*/padding-top:10px;
        /*@editable*/padding-bottom:10px;
    }


}   @media only screen and (max-width: 580px){
                                        body{
                                        width:100% !important;
                                    min-width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .templateContainer{
                                        max - width:580px !important;
                                    width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .mcnImage{
                                        height:auto !important;
                                    width:100% !important;
    }

}




                                    /*CircularStdBlack*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 800;
                                    font-style: normal;
}

                                    /*CircularStdBold*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 600;
                                    font-style: normal;
}

                                    /*CircularStdMedium*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 500;
                                    font-style: normal;
}

                                    /*CircularStdBook*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 400;
                                    font-style: normal;
}


                                    h1 {
                                        font - size: 58px !important;
                                    line-height: 64px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h2 {
                                        font - size: 46px !important;
                                    line-height: 55px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h3 {
                                        font - size: 40px !important;
                                    line-height: 49px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h4 {
                                        font - size: 32px !important;
                                    line-height: 40px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h5 {
                                        font - size: 27px !important;
                                    line-height: 33px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    letter-spacing: 0px !important;
}

                                    h6 {
                                        font - size: 21px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    color: #001E30 !important;
                                    letter-spacing: 0px !important;
                                    margin-bottom:-11px;
}

                                    p {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400 !important;
                                    letter-spacing: 0px !important;
}


                                    li {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    ol {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    a{
                                        color:#0075ff !important;
                                    font-weight:700 !important;
                                    text-decoration:none !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
}
                                    span.linkfooter{
                                        font - family:'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-size:12px;
                                    font-weight:300;
                                    color:#0075ff;
}

                                    b{
                                        font - weight:800 !important;
}

                                    ul{
                                        margin - left:-11px;
                                    margin-top:30px !important;
}

                                    @media only screen and (max-width: 480px){
.contenedor{
                                        background - color:#ffffff !important;
                                    width:96% !important;
                                    max-width:580px !important;
                                    overflow:hidden !important;
                                    border-radius:3px!important;
                                    padding:40px 0px!important;
                                    margin-top:40px!important;
}}








                                </style>




                            </head>



                            <body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
                                <style type="text/css">body, table, td, h1, h2, h3, h4, h5, ol, ul, p {font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; }</style>


                                <!-- PREHEADER AQUÍ-->
                                <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
                                <!-- PREHEADER AQUÍ-->

                                <center>
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                                        <tr>
                                            <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                                                <!-- BEGIN TEMPLATE // -->




                                                <!-- BEGIN HEADER // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader"><tr><td align="center" valign="top">
                                                    <span style="line-height:1px;">&nbsp;</span>
                                                </td></tr></table>
                                                <!-- // END HEADER -->







                                                <!-- BEGIN HEADER LOGO // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                                        <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                                    <tr><td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                                    </td></tr></table>
                                                            </td></tr></table>
                                                    </td></tr></table>
                                                <!-- // END HEADER LOGO -->






                                                <!-- BEGIN BODY // -->
                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding: 7px 7px;">
                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%"><tr>




                                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                            <tbody><tr><td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                                <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                                <!-- TITLE HEADER BODY // -->

                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;"><tr><td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> ¡Nos complace darte la bienvenida a Clientes TENGO! by Broxel!<span style="color:#00a6f5">.</span></h2></td></tr></table>
                                                                            </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TITLE HEADER BODY // -->




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                                <!-- BEGIN CONTENT // -->

                                                                                <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                    <b>${e}</b> te damos la bienvenida a la plataforma <b>TENGO.</b> A continuación te compartimos tus credenciales de acceso para completar los detalles de tu&nbsp;solicitud:




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->



                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                                Usuario:

                                                                                        </td>
                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                            <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                        </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>





                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                        </td>



                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->

                                                                                    <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                        En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu solicitud de manera rápida y sencilla.


                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!--TEXTO DESTACADO-->

                                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                                            Ingresa a la plataforma ahora.</h5>

                                                                                        <!--FIN TEXTO DESTACADO-->




                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!-- TABLA BOTON-->
                                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                                <!--BOTON-->
                                                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                    <tbody class="mcnButtonBlockOuter">
                                                                                                        <tr>
                                                                                                            <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                    <tbody>
                                                                                                                        <tr>
                                                                                                                            <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <!--BOTON-->


                                                                                            </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!-- FIN TABLA BOTON-->







                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->





                                                                                        <!-- END CONTENT // -->

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                            </table>

                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                    <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                                    </td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>


                                                                            </td>
                                                                        </tr>
                                                                    </table>


                                                                </td>
                                                                </tr>
                                                            </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                        <!-- // END BODY -->






                                                        <!-- BEGIN FOOTER // -->
                                                        <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                                                            <!-- FOOTER -->
                                                            <tr>
                                                                <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                                                    <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                                                        <tbody>


                                                                            <tr>
                                                                                <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                                                    <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                                                            <b>¿Necesitas ayuda?</b><br>
                                                                                                Llámanos desde México o Estados Unidos al
                                                                                                <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                                                                    Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                                                                    <br>&nbsp;<br>&nbsp;
                                                                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                                                                    </p>
                                                                                                    </td>

                                                                                                </tr>

                                                                                                <tr>
                                                                                                    <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                                                                        <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                                                                                    <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>

                                                                                                    </td>
                                                                                                </tr>
                                                                                                <!-- FIN FOOTER -->

                                                                                            </table>
                                                                                            <!-- // END FOOTER -->







                                                                                            <!-- // END TEMPLATE -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </center>
                                                                        </body>
                                                                    </html>

    `}const I9e=async(e,t,r,n,a,i,s=!1,l)=>{if(s)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const c=await wE(r.email);let u;r.password=await T9e(r.email,n.adminTeamId,12);let d=!1;if(c.exist&&c.uid)console.log("Usuario ya existe, no se registra en Firebase."),u=c.uid;else{console.log("Usuario no existe, se procede a registrarlo.");const y=await _y(r,n.id);if(!y.success)return{success:!1,message:"Falló el registro del usuario",details:y.message};if(u=y.uid||"",!(await xE({name:l,email:r.email,userAuthId:u})).success)return{success:!1,message:"Falló el registro de credenciales del usuario"};d=!0}const f=r.email,m="Bienvenido",p=A9e(t.businessName,r.email,r.password||"(Acceso ya habilitado)","https://documentaihostingpage-269526555085.us-central1.run.app");await cc(f,void 0,m,p);const h=await hE(e);if(!h.success)return{success:!1,message:"Falló el registro del representante legal"};t.representativeId=h.representativeId,t.userUid=u;const g=await pE(t);if(!g.success)return{success:!1,message:"Falló el registro de la empresa"};a.businessEntityId=g.id,a.userAuthId=u;const x=await vE(a);if(!x.success)return{success:!1,message:"Falló el registro de la solicitud de crédito"};const v=i.map(y=>({productRequestId:x.Id,documentTemplateId:y.id,isRequired:y.isRequired}));return await Promise.all(v.map(y=>Id(y)))?(await bE({productRequestId:x.Id}),await Hj({productRequestId:x.Id}),{success:!0,message:"El registro se realizó correctamente",details:d?"Usuario creado nuevo":"Usuario ya existente"}):{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(c){return console.error("Error en submitClientAndDocuments:",c),{success:!1,message:"Ha ocurrido un error inesperado"}}},P9e=({verticals:e,selected:t,setSelected:r})=>o.jsxs("div",{className:"my-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Vertical"}),o.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{const a=e.find(i=>i.id===n.target.value)||null;r({vertical:a,product:null})},children:[o.jsx("option",{value:"",children:"Seleccione una vertical"}),e.map(n=>o.jsx("option",{value:n.id,disabled:!n.isSelectable,children:n.name},n.id))]}),t.vertical&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Producto"}),o.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{var i;const a=((i=t.vertical)==null?void 0:i.products.find(s=>s.id===n.target.value))||null;r(s=>({...s,product:a}))},children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),t.vertical.products.map(n=>o.jsx("option",{value:n.id,children:n.name},n.id))]})]})]}),O9e=()=>{const{user:e}=mt(),t=Mt(),[r,n]=w.useState({vertical:null,product:null}),[a,i]=w.useState(1),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,g]=w.useState(""),[x,v]=w.useState(!1),[b,y]=w.useState([]),[j,E]=w.useState([]),[N,S]=w.useState("processing"),[T,C]=w.useState({title:"",message:"",details:void 0}),[k,A]=w.useState(!1),_=async()=>{var q;const H=await G6({productName:((q=r.vertical)==null?void 0:q.name)??""});E(H)};w.useEffect(()=>{_()},[r.product]);const I=async H=>{var te,re,P,z;H.preventDefault(),A(!0),S("processing");const q=()=>{const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let G="";for(let O=0;O<8;O++)G+=D.charAt(Math.floor(Math.random()*D.length));return G},B={name:m,email:h},F={flowStatus:2,productName:((te=r.product)==null?void 0:te.name)??"",verticalName:((re=r.vertical)==null?void 0:re.name)??"",businessEntityId:"",userAuthId:""},ne={address:void 0,businessName:d,economicSector:void 0,employeeCount:void 0,incorporationDate:void 0,name:d,phone:void 0,rfc:c,yearsActive:void 0,representativeId:"",userUid:"",iconUrl:void 0,adminTeamId:((P=e==null?void 0:e.adminTeam)==null?void 0:P.id)??"",ownerAdminUid:(e==null?void 0:e.uid)??""},U={displayName:d,email:h,password:""},R={id:(e==null?void 0:e.idToken)||"",adminTeamId:((z=e==null?void 0:e.adminTeam)==null?void 0:z.id)||"",userAdminId:(e==null?void 0:e.uid)||""},K=(D,G)=>{C({title:D,message:G}),S("error")};if(!x)return K("Datos incompletos","Rellena todos los datos solicitados.");const J=await I9e(B,ne,U,R,F,b,!1,m!=null&&m.trim()?m:q());console.log(b),J.success?(C({title:"Solicitud completada",message:"Has registrado correctamente un producto."}),S("success")):(C({title:"Error",message:J.message,details:J.details}),S("error"))},M=()=>{t(-1)},L=()=>{A(!1),N!="error"&&t(-1)};return o.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center ",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 w-[950px]",children:o.jsx(k9e,{totalSteps:3})}),o.jsx("div",{className:"w-[950px] bg-white rounded-lg shadow-md p-6 font-sans",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-medium mb-4",children:"Solicitud de Producto Tengo!"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{type:"button",className:"border border-red-500 text-red-500 bg-transparent px-4 py-2 rounded shadow hover:bg-red-500 hover:text-white transition-colors duration-300",onClick:M,children:"Cancelar registro"}),!1]})]}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Crear prospecto"].map((H,q)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${a===q+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>i(q+1),children:H},q))}),o.jsx("div",{className:"mt-4",children:o.jsx("form",{onSubmit:I,children:a===1&&o.jsxs(o.Fragment,{children:[o.jsx(C9e,{companyName:s,setCompanyName:l,razonSocial:d,setRazonSocial:f,userName:m,setUserName:p,userEmail:h,setUserEmail:g,filledStatus:x,setFilledStatus:v,rfc:c,setRfc:u}),o.jsx(P9e,{verticals:wB,selected:r,setSelected:n}),o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Seleccionar documentos"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Selecciona los documentos que deseas solicitar"})]}),o.jsx("div",{className:"",children:o.jsx(X9,{documents:b,setDocuments:y,docTemplates:j})}),o.jsx(_9e,{handleSubmit:I})]})})})]})}),k&&o.jsx(_n,{onClose:L,status:N,messages:T})]})};function R9e(){return o.jsx(Yr,{children:o.jsx(O9e,{})})}const D9e=({isUploaded:e,isLoading:t,isRejectedByAI:r,isRejected:n,processMessage:a,isPreApproved:i,isApproved:s,uploadProgress:l})=>t?o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),o.jsx("span",{className:"text-blue-700 font-medium",children:a||"Subiendo archivo..."})]}),typeof l=="number"&&o.jsxs("div",{className:"w-full mt-1",children:[o.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${l}%`}})}),o.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[l.toFixed(0),"%"]})]})]}):r&&!e?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qs,{className:"w-6 h-6 text-yellow-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Error"})]}):n?o.jsxs("div",{className:"flex items-center",children:[o.jsx(pt,{className:"w-6 h-6 text-red-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-red-500",children:"Rechazado"})]}):s?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qm,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Aprobado"})]}):i?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qm,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Preaprobado"})]}):e&&r?o.jsxs("div",{className:"flex items-center",children:[o.jsx(tc,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):e?o.jsxs("div",{className:"flex items-center",children:[o.jsx(tc,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):o.jsx(lr,{className:"w-6 h-6 text-blue-500"}),zR=({onClick:e})=>o.jsxs("button",{onClick:e,className:"bg-blue-50 text-blue-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-100 w-full flex items-center justify-center",children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Cargar archivos"]}),F9e=({onClick:e=()=>{}})=>o.jsxs("button",{onClick:e,className:"bg-blue-50 text-yellow-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-100 w-full flex items-center justify-center",children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Cargar de todas formas"]}),M9e=({fileName:e,fileSize:t,onRemove:r})=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"truncate max-w-[80%]",children:[o.jsx("p",{className:"text-xs text-gray-600",children:e}),o.jsx("p",{className:"text-xs text-gray-400",children:t})]}),o.jsx("button",{onClick:r,"aria-label":"Eliminar archivo",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1",children:o.jsx(pt,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),L9e=({title:e,isUploaded:t,isLoading:r,isRejectedByAI:n,fileName:a,fileSize:i,IaRejectedReason:s,processMessage:l,onFileChange:c,onForceUpload:u,onRemove:d,onRemoveCard:f,description:m,isRejected:p,rejectedReason:h,isPreApproved:g,isApproved:x,isRequired:v,isBusy:b,id:y,isAddedByUser:j,uploadProgress:E})=>{const[N,S]=w.useState(null),[T,C]=w.useState(!1),k=B=>{var ne;const F=((ne=B.target.files)==null?void 0:ne[0])||null;S(F),c==null||c(F)},A=()=>{S(null),d==null||d()},_=B=>{var ne;B.preventDefault(),C(!1);const F=(ne=B.dataTransfer.files)==null?void 0:ne[0];F&&(S(F),c==null||c(F))},I="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",M="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",L="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,255,0,0.5),0px_3px_6px_-2px_rgba(0,255,0,0.5)] transition-shadow duration-200",W="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",H="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,165,0,0.5),0px_3px_6px_-2px_rgba(255,165,0,0.5)] transition-shadow duration-200",q=(B,F,ne,U,R)=>{const K={rechazado:`border-red-500 ${W}`,error:`border-orange-500 ${H}`,requerido:`border-blue-500 ${M}`,opcional:`border-blue-300 ${I}`,preAprobado:`border-green-500 ${L}`};return R?K.preAprobado:B?K.rechazado:!U&&F?K.error:U&&F||ne?K.requerido:K.opcional};return o.jsxs("div",{className:`relative border-2 ${q(p,n,v,t,g)} 
                rounded-lg overflow-hidden w-full max-w-[250px] min-h-[300px] flex flex-col 
                ${T?"border-dashed border-blue-400 bg-blue-50":""}`,title:m,onDragOver:B=>{B.preventDefault(),C(!0)},onDragLeave:B=>{B.preventDefault(),C(!1)},onDrop:_,children:[T&&o.jsx("div",{className:"absolute inset-0 bg-blue-100/80 backdrop-blur-sm flex items-center justify-center z-20 rounded-lg",children:o.jsxs("div",{className:"text-blue-600 text-sm font-semibold flex items-center gap-2",children:[o.jsx(Ka,{className:"w-5 h-5"}),"Suelta aquí para cargar el archivo"]})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[!t&&j&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:f,className:"p-1 bg-gray-300 text-white rounded-full hover:bg-red-700 transition","aria-label":"Eliminar tarjeta",children:o.jsx(pt,{className:"w-4 h-4"})})}),o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(D9e,{isUploaded:t,isLoading:r,isRejectedByAI:n,processMessage:l,isRejected:p,isPreApproved:g,isApproved:x,uploadProgress:E}),o.jsx("h3",{className:"text-sm font-medium mt-2 text-center",children:e}),o.jsx("h3",{className:`${v?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:v?"Requerido":"Opcional"})]}),!r&&!t&&n&&!b&&o.jsx(F9e,{onClick:u}),!r&&!t&&!n&&!b&&o.jsx(zR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}}),p&&h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-1 text-red-500",children:o.jsx("p",{className:"text-sm",children:h})}),o.jsx(zR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}})]}),t&&n&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{title:"Análisis: "+s,children:o.jsx(qs,{className:"w-6 h-6 text-yellow-500"})}),o.jsx("p",{className:"text-sm text-yellow-500",children:"Este archivo podría contener errores"})]}),o.jsx("input",{id:`fileInput-${y}`,type:"file",onChange:k,className:"hidden","aria-label":`Cargar ${e}`})]}),(N||a)&&!p&&o.jsx("div",{className:"border-t border-blue-200 p-4",children:o.jsx(M9e,{fileName:N?N.name:a||"",fileSize:N?`${(N.size/1024/1024).toFixed(1)} MB`:i||"",onRemove:A})}),s&&!t&&o.jsx("div",{className:"border-t border-blue-200 p-4",children:o.jsx("p",{className:"text-yellow-500 text-xs",children:s})})]})};function $9e({onPlaceholderClick:e}){return o.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:o.jsx(on,{className:"w-6 h-6 text-gray-500"})}),o.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Agregar otro documento"})]})}const Y9=w.createContext(void 0),pl=()=>{const e=w.useContext(Y9);if(!e)throw new Error("usePageStatus debe usarse dentro de un PageStatusProvider");return e},tk=async(e,t,r)=>t<e?((await yQ({productRequestId:r,userFlowStatus:e})).success?console.log("flujo actualizado"):console.log("error al acualizar el flujo"),!0):(console.log("el flujo ya esta actualizado"),!1),UR={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function qR(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function VR(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function B9e(e){const t=e.toLowerCase();return t.includes("solicitud de financiamiento")?"Solicitud de Financiamiento":t.includes("estados financieros auditados")?"Estados Financieros Auditados":t.includes("estados financieros internos")||t.includes("estado financiero")?"Estados Financieros Internos":t.includes("presentación corporativa")?"Presentación corporativa":t.includes("flujos indicativos")||t.includes("proyecciones")?"Proyecciones / Flujos indicativos":t.includes("buró de crédito")?"Buró de crédito":"Información adicional"}async function z9e(e){const t=await oM({productRequestId:e});return t!=null&&t.requiredDocuments?t.requiredDocuments.map(r=>{const n=B9e(r.documentTemplate.name);return{id:r.id,title:r.documentTemplate.name,description:r.documentTemplate.description,isUploaded:r.isUploaded??!1,isRequired:r.isRequired??!1,fileName:r.fileName??"",fileSize:r.fileSize??"",isRejected:r.isRejected??!1,rejectReason:r.rejectReason??"",isPreApproved:r.isPreApproved??!1,isApproved:r.isApproved??!1,isRejectedByAI:r.isRejectedByAI??!1,IaRejectedReason:r.IaRejectedReason??"",isAddedByUser:r.isAddedByUser??!1,category:n}}).sort((r,n)=>{const a=(UR[r.category]??99)-(UR[n.category]??99);return a!==0?a:r.category==="Estados Financieros Auditados"&&n.category==="Estados Financieros Auditados"?qR(r.title)-qR(n.title):r.category==="Estados Financieros Internos"&&n.category==="Estados Financieros Internos"?VR(r.title)-VR(n.title):0}):(console.warn("No se encontraron documentos requeridos."),[])}const U9e=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,l){return l.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>uM(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},q9e=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=w.useState(!0),[i,s]=w.useState(""),l=f=>{t(m=>m.some(h=>h.id===f)?m.filter(h=>h.id!==f):[...m,{id:f,isRequired:!0}])},c=f=>{t(m=>m.map(p=>p.id===f?{...p,isRequired:!p.isRequired}:p))},u=()=>{a(f=>!f)},d=[...r].sort((f,m)=>{const p=f.position??Number.MAX_SAFE_INTEGER,h=m.position??Number.MAX_SAFE_INTEGER;return p-h});return o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),o.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(m=>m.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const m=e.find(h=>h.id===f.id),p=(m==null?void 0:m.isRequired)??!1;return o.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${p?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:!!m,onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("div",{children:o.jsx("span",{className:`font-medium ${p?"text-green-800":"text-gray-800"}`,children:f.name})})]}),m&&o.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${p?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:p?"Hacer opcional":"Hacer obligatorio",children:p?"Obligatorio":"Opcional"})]},f.id)})})}),o.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function V9e({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState("processing"),[u,d]=w.useState({title:"",message:"",details:void 0}),[f,m]=w.useState(!1);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{const x=await sh();s(x)},h=async()=>{c("processing");const v=await U9e({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),m(!0)},g=x=>{x.preventDefault(),h()};return e?o.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[o.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Agregar otro documento"}),o.jsx("p",{className:"text-m text-gray-600 mt-2 italic mb-4",children:'¿No sabes cuál elegir? Busca "información adicional".'}),o.jsx("div",{className:" mb-4",children:o.jsx(q9e,{documents:n,setDocuments:a,docTemplates:i})}),o.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[o.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Agregar"}),o.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&o.jsx(_n,{onClose:t,status:l,messages:u})]}):null}const H9e=async({id:e,file:t,folder:r,docTitle:n,docDescription:a="",onProgress:i})=>{var s,l;try{const c=((s=t.name.split(".").pop())==null?void 0:s.toLowerCase())||"",u=`${e}.${c}`;if(!await ts(e,t,r,i))return{success:!1,error:"Error al subir el documento."};const m=(l=(await Je.get(`${vd.base}/generate-download-url`,{params:{file_name:u,folder:r},headers:{Authorization:`Bearer ${vd.token}`}})).data)==null?void 0:l.downloadUrl;if(!m)return{success:!1,error:"No se pudo obtener la URL de descarga."};const p=await xB(`${n} ${a}`,m);return!p||typeof p.esDocumentoValido!="boolean"?{success:!1,error:"No se pudo analizar el documento."}:{success:!0,result:p}}catch(c){return console.error("Error en analyzeUploadedDocument:",c),{success:!1,error:"Error inesperado"}}},W9e=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(0),[s,l]=w.useState(0),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(null),{selectedProduct:h}=ka(),{updateFormStatus:g,getStatusById:x}=pl(),[v,b]=w.useState(!1),y=(_,I)=>{t(M=>M.map(L=>L.id===_?{...L,...I}:L))};async function j(_){await cr({id:_,isUploaded:!0,fileName:m==null?void 0:m.name,fileSize:m?`${(m.size/1024/1024).toFixed(1)} MB`:void 0,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!0,IaRejectedReason:d,UserJustify:""}),y(_,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}const E=async(_,I,M,L)=>{var re,P;if(!I)return;let W=M,H="",q=!0,B;const F=z=>z.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/gi,"").trim(),ne=F(L),R=["informacion adicional","info adicional","documento adicional","adicional","anexo adicional","inf adicional","adicionales"].some(z=>ne.includes(F(z)));let K="";R&&(W=!0,K="Documento adicional no fue analizado por IA.");const J=["pdf","xls","xlsx"],te=(re=I.name.split(".").pop())==null?void 0:re.toLowerCase();if(!te||!J.includes(te)){y(_,{isRejectedByAI:!0,isLoading:!1,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}y(_,{isLoading:!0,processMessage:"Procesando archivo",fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,...K&&{isRejectedByAI:!0,IaRejectedReason:K},uploadProgress:0}),u(!0);try{if(W){if(!await ts(_,I,"documentos",D=>{y(_,{uploadProgress:D})}))throw p(I),f("Error al subir el archivo."),H="Error al subir el archivo.",new Error("Error al subir el archivo.")}else{const z=e.find(ie=>ie.id===_),D=(z==null?void 0:z.description)??"",{success:G,result:O,error:fe}=await H9e({id:_,file:I,folder:"documentos",docTitle:L,docDescription:D,onProgress:ie=>{y(_,{uploadProgress:ie})}});if(!G||!O)throw p(I),f(fe??"Error desconocido"),H=fe??"Error desconocido",new Error(fe);if(q=O.esDocumentoValido,B=q?void 0:`Tu documento no es válido. Razón: ${((P=O.documentoDetectado)==null?void 0:P.split("False. ")[1])||O.documentoDetectado}`,!W&&te==="pdf"&&(y(_,{isRejectedByAI:!q,isLoading:!1,IaRejectedReason:B,uploadProgress:q?0:void 0}),!q)){f(B??""),p(I);return}}await cr({id:_,isUploaded:!0,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:W||!q,IaRejectedReason:K||B,UserJustify:""}),y(_,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}catch(z){console.error("Error al manejar el documento:",z),y(_,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:H,isLoading:!1,uploadProgress:0})}finally{u(!1)}},N=async _=>{const I=e.find(M=>M.id===_);if(I)if(I.fileName){y(_,{isLoading:!0,processMessage:"Eliminando archivo"});const M=I.fileName.substring(I.fileName.lastIndexOf("."))||"",L=`${_}${M}`;if(!await Yd(L,"documentos")){se.error("Error al eliminar el archivo del servidor"),y(_,{isLoading:!1});return}await cr({id:_,isUploaded:!1,fileName:"",fileSize:"",fileFolder:"",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""})&&y(_,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isLoading:!1,processMessage:"",isUploaded:!1,isPreApproved:!1,isApproved:!1,isRejected:!1})}else y(_,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isUploaded:!1})},S=async _=>{if(!window.confirm("¿Estás seguro de que deseas eliminar este archivo?"))return;y(_,{isLoading:!0,processMessage:"Eliminando archivo"}),(await rh({requiredDocument:_})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),t(L=>L.filter(W=>W.id!==_))):console.log("Error al eliminar el archivo")},T=async()=>{try{n(!0);const _=await z9e((h==null?void 0:h.id)??"");t(_);const M=_.filter(L=>L.isUploaded).length/_.length*100;console.log("progress",M),M===100?(g("uploadDocuments","isCompleted"),tk(3,2,(h==null?void 0:h.id)??"")):g("uploadDocuments","inProgress")}catch(_){console.error("Error al cargar los documentos:",_)}n(!1)},C=async()=>{console.log("solicitar revision"),h!=null&&h.chatId&&await cl({chatId:h.chatId,content:"Sección de carga de documentos finalizada por el usuario (Este es un mensaje automatizado)",isAdmin:!1})&&se.success("Solicitud de revision enviada")};w.useEffect(()=>{T()},[v]),w.useEffect(()=>{const _=A(e);i(_);const I=k(e);l(I),_===100?g("uploadDocuments","isCompleted"):g("uploadDocuments","inProgress")},[e]);const k=_=>_.filter(M=>M.isUploaded).length,A=_=>_.filter(L=>L.isUploaded).length/_.length*100;return o.jsxs(o.Fragment,{children:[r?o.jsx(oh,{}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:o.jsxs("span",{children:[s," / ",e.length]})}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Sube o arrastra los siguientes documentos en PDF."}),c&&o.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"Subiendo archivos"}),o.jsxs("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-items-center mb-8",children:[e.map(_=>o.jsx(L9e,{id:_.id,title:_.title,isRejected:_.isRejected,rejectedReason:_.rejectReason,fileName:_.fileName,fileSize:_.fileSize,IaRejectedReason:_.IaRejectedReason,isUploaded:_.isUploaded,onFileChange:I=>E(_.id,I,_.isRejectedByAI??!1,_.title??""),onForceUpload:()=>j(_.id),onRemove:()=>N(_.id),onRemoveCard:()=>S(_.id),processMessage:_.processMessage,description:_.description??"",isLoading:_.isLoading??!1,isRejectedByAI:_.isRejectedByAI??!1,isPreApproved:_.isPreApproved??!1,isApproved:_.isApproved??!1,isRequired:_.isRequired,isAddedByUser:_.isAddedByUser??!1,isBusy:!1,uploadProgress:_.uploadProgress},_.id)),o.jsx($9e,{onPlaceholderClick:()=>b(!0)})]}),x("financingDetails")==="isCompleted"&&x("warrantyDetails")==="isCompleted"&&x("uploadDocuments")==="isCompleted"&&o.jsx("button",{className:"border-2 border-blue-500 text-blue-500 py-2 px-4 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:C,children:"Solicitar revisión"})]}),v&&o.jsx(V9e,{isOpen:v,onClose:()=>b(!1),selectedProductId:(h==null?void 0:h.id)??""})]}),o.jsx(pr,{})]})};function G9e({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=w.useState(""),{selectedProduct:s}=ka(),l=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!1,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await cl({chatId:s.chatId,content:a,isAdmin:!1});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return o.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Admin"}),o.jsx("button",{onClick:e,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>o.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 mr-auto":"bg-gray-100 ml-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[o.jsx("div",{children:u.content}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!1&&o.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),o.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),o.jsx("button",{onClick:l,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:o.jsx(nl,{size:20})})]})]})}function X9e({notifications:e,onClose:t}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),o.jsx("button",{onClick:t,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>o.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?o.jsx(_a,{size:20,className:"text-blue-500"}):o.jsx(At,{size:20,className:"text-green-500"}),o.jsx("span",{children:r.content})]})},r.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const K9e=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(Y9e,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},Y9e=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})},J9e=()=>{const{selectedProduct:e}=ka(),[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,s]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(!1),{updateFormStatus:f}=pl(),[m,p]=w.useState(null);if(w.useEffect(()=>{if(!(e!=null&&e.id)){s("No se ha seleccionado un producto válido."),a(!1);return}(async()=>{try{const b=await CE({productRequestId:e.id});b?(r(b),f("applicationResolution","isCompleted")):s("Aún no hay datos de resolución")}catch(b){console.error(b),s("Ocurrió un error al recuperar los datos de resolución.")}finally{a(!1)}})()},[e]),n)return o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx(ju,{className:"w-8 h-8 animate-spin text-blue-500"})});if(i)return o.jsxs("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-md flex items-center",children:[o.jsx(qs,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:i})]});if(!t)return o.jsx("div",{className:"p-6 bg-gray-100 border border-gray-300 rounded-md text-center",children:o.jsx("p",{className:"text-gray-600",children:"No se encontraron datos de resolución."})});const h=async()=>{c(!0);try{await Un("download","documentos",(e==null?void 0:e.id)??"","token","pdf","términos y condiciones.pdf")}catch(v){console.log(v)}finally{c(!1)}},g=()=>p(null),x=async()=>{var y;d(!0);const v=e==null?void 0:e.id,b="Terminos y condiciones.pdf";if(v){const j=((y=b.split(".").pop())==null?void 0:y.toLowerCase())??"",S=await Un("view","documentos",v,"token",j);S.data?p(S.data):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}d(!1)};return o.jsx("div",{className:"",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white",children:[o.jsx("div",{className:"px-4 py-5 sm:px-6",children:o.jsx("h2",{className:"text-xl leading-6 font-medium text-gray-900",children:t.product||"Producto Desconocido"})}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[o.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estado"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.isAcepted?o.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[o.jsx(At,{className:"mr-1.5 h-4 w-4"}),"Aceptado"]}):o.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[o.jsx(Qi,{className:"mr-1.5 h-4 w-4"}),"Rechazado"]})})]}),o.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Comentarios"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.description||"No hay comentarios adicionales."})]}),t.isAcepted&&o.jsxs("div",{className:"py-4 sm:py-5 sm:px-6 flex flex-col items-center",children:[o.jsxs("div",{className:"flex flex-row gap-4",children:[o.jsx("button",{className:"px-4 py-2 text-blue-500 border border-blue-500 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:h,children:"Descargar Términos y Condiciones"}),o.jsx("button",{className:"px-4 py-2 text-blue-500 border border-blue-500 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:x,children:"Visualizar Términos y Condiciones"})]}),(l||u)&&o.jsxs("div",{className:"flex flex-row gap-4 mt-2",children:[l&&o.jsx(ju,{className:"w-6 h-6 animate-spin text-blue-500"}),u&&o.jsx(ju,{className:"w-6 h-6 animate-spin text-blue-500"})]})]})]})}),m&&o.jsx(K9e,{fileUrl:m,onClose:g,fileType:"pdf"})]})})})},Q9e=async(e,t)=>{try{return{success:(await mQ({productRequestId:t,razonSocial:e.razonSocial??"",rfc:e.rfc??"",montoSolicitado:e.montoSolicitado??void 0,moneda:e.moneda??void 0,tipoCredito:e.tipoCredito??void 0,plazoCredito:parseInt(e.plazoCredito),periodoGracia:parseInt(e.periodoGracia),amortizacionCapital:e.amortizacionCapital??void 0,amortizacionCapitalOtro:e.amortizacionCapitalOtro??void 0,pagoIntereses:e.pagoIntereses??void 0,destinoRecursos:e.destinoRecursos??void 0,fuentePago:e.fuentePago??void 0,fuentePagoOtros:e.fuentePagoOtros??void 0,riesgoComun:e.riesgoComun??void 0,empresa:e.empresa??void 0,montoAutorizado:e.montoAutorizado??void 0,saldoVigente:e.saldoVigente??void 0,actividadRealizada:e.actividadRealizada??void 0,incidenciasLegales:e.incidenciasLegales??void 0,descripcionJuicio:e.descripcionJuicio??void 0,consecuencias:e.consecuencias??void 0,monto:e.monto??void 0,timing:e.timing??void 0,informacionAdicional:e.informacionAdicional??void 0,incorporationDate:e.incorporationDate??void 0,paisRegistro:e.paisRegistro??void 0,tipoProducto:e.tipoProducto??void 0,creditoSindicado:e.creditoSindicado??void 0,pepInvolucrado:e.pepInvolucrado??void 0,nombrePep:e.nombrePep??void 0,detallesCargoPep:e.detallesCargoPep??void 0,periodoDelCargo:e.periodoDelCargo??void 0,institucionDelCargoPep:e.institucionDelCargoPep??void 0,paisDeCargoPep:e.paisDeCargoPep??void 0,familiarFuncionPublica:e.familiarFuncionPublica??void 0,nombreFamiliarPep:e.nombreFamiliarPep??void 0,nombreSocioPep:e.nombreSocioPep??void 0,parentescoSocioPep:e.parentescoSocioPep??void 0,periodoCargoFamiliar:e.periodoCargoFamiliar??void 0,paisCargoFamiliar:e.paisCargoFamiliar??void 0,institucionCargoFamiliar:e.institucionCargoFamiliar??void 0})).success}}catch(r){throw console.error("Error al guardar los datos:",r),se.error("Error al aprobar el documento. Inténtalo de nuevo."),r}},Z9e=async(e,t,r)=>{try{const n={financingFormId:r,razonSocial:e.razonSocial!==t.razonSocial?e.razonSocial:void 0,rfc:e.rfc!==t.rfc?e.rfc:void 0,montoSolicitado:parseFloat(e.montoSolicitado)!==t.montoSolicitado?parseFloat(e.montoSolicitado)||0:void 0,moneda:e.moneda!==t.moneda?e.moneda:void 0,tipoCredito:e.tipoCredito!==t.tipoCredito?e.tipoCredito:void 0,plazoCredito:parseInt(e.plazoCredito)!==t.plazoCredito?parseInt(e.plazoCredito)||0:void 0,periodoGracia:parseInt(e.periodoGracia)!==t.periodoGracia?parseInt(e.periodoGracia)||0:void 0,amortizacionCapital:e.amortizacionCapital!==t.amortizacionCapital?e.amortizacionCapital:void 0,amortizacionCapitalOtro:e.amortizacionCapitalOtro!==t.amortizacionCapitalOtro?e.amortizacionCapitalOtro:void 0,pagoIntereses:e.pagoIntereses!==t.pagoIntereses?e.pagoIntereses:void 0,destinoRecursos:e.destinoRecursos!==t.destinoRecursos?e.destinoRecursos:void 0,fuentePago:e.fuentePago!==t.fuentePago?e.fuentePago:void 0,fuentePagoOtros:e.fuentePagoOtros!==t.fuentePagoOtros?e.fuentePagoOtros:void 0,riesgoComun:!!e.riesgoComun!==t.riesgoComun?!!e.riesgoComun:void 0,empresa:e.empresa!==t.empresa?e.empresa:void 0,montoAutorizado:parseFloat(e.montoAutorizado)!==t.montoAutorizado?parseFloat(e.montoAutorizado)||0:void 0,saldoVigente:parseFloat(e.saldoVigente)!==t.saldoVigente?parseFloat(e.saldoVigente)||0:void 0,actividadRealizada:e.actividadRealizada!==t.actividadRealizada?e.actividadRealizada:void 0,incidenciasLegales:!!e.incidenciasLegales!==t.incidenciasLegales?!!e.incidenciasLegales:void 0,descripcionJuicio:e.descripcionJuicio!==t.descripcionJuicio?e.descripcionJuicio:void 0,consecuencias:e.consecuencias!==t.consecuencias?e.consecuencias:void 0,monto:parseFloat(e.monto)!==t.monto?parseFloat(e.monto)||0:void 0,timing:e.timing!==t.timing?e.timing:void 0,informacionAdicional:e.informacionAdicional!==t.informacionAdicional?e.informacionAdicional:void 0,incorporationDate:e.incorporationDate!==t.incorporationDate?e.incorporationDate:void 0,paisRegistro:e.paisRegistro!==t.paisRegistro?e.paisRegistro:void 0,tipoProducto:e.tipoProducto!==t.tipoProducto?e.tipoProducto:void 0,creditoSindicado:e.creditoSindicado!==t.creditoSindicado?e.creditoSindicado:void 0,pepInvolucrado:e.pepInvolucrado!==t.pepInvolucrado?e.pepInvolucrado:void 0,nombrePep:e.nombrePep!==t.nombrePep?e.nombrePep:void 0,detallesCargoPep:e.detallesCargoPep!==t.detallesCargoPep?e.detallesCargoPep:void 0,periodoDelCargo:e.periodoDelCargo!==t.periodoDelCargo?e.periodoDelCargo:void 0,institucionDelCargoPep:e.institucionDelCargoPep!==t.institucionDelCargoPep?e.institucionDelCargoPep:void 0,paisDeCargoPep:e.paisDeCargoPep!==t.paisDeCargoPep?e.paisDeCargoPep:void 0,familiarFuncionPublica:e.familiarFuncionPublica!==t.familiarFuncionPublica?e.familiarFuncionPublica:void 0,nombreFamiliarPep:e.nombreFamiliarPep!==t.nombreFamiliarPep?e.nombreFamiliarPep:void 0,nombreSocioPep:e.nombreSocioPep!==t.nombreSocioPep?e.nombreSocioPep:void 0,parentescoSocioPep:e.parentescoSocioPep!==t.parentescoSocioPep?e.parentescoSocioPep:void 0,periodoCargoFamiliar:e.periodoCargoFamiliar!==t.periodoCargoFamiliar?e.periodoCargoFamiliar:void 0,paisCargoFamiliar:e.paisCargoFamiliar!==t.paisCargoFamiliar?e.paisCargoFamiliar:void 0,institucionCargoFamiliar:e.institucionCargoFamiliar!==t.institucionCargoFamiliar?e.institucionCargoFamiliar:void 0},a=Object.fromEntries(Object.entries(n).filter(([,s])=>s!==void 0));return Object.keys(a).length===1?{success:!0}:{success:(await pQ(a)).success}}catch(n){throw console.error("Error al guardar los datos:",n),se.error("Error al aprobar el documento. Inténtalo de nuevo."),n}},rk=async e=>{const t=await hQ({productRequestId:e});return t?{id:t.id,razonSocial:t.razonSocial||"",rfc:t.rfc||"",montoSolicitado:t.montoSolicitado||0,moneda:t.moneda||"MXN",tipoCredito:t.tipoCredito||"",plazoCredito:t.plazoCredito||0,periodoGracia:t.periodoGracia||0,amortizacionCapital:t.amortizacionCapital||"",amortizacionCapitalOtro:t.amortizacionCapitalOtro||"",pagoIntereses:t.pagoIntereses||"",destinoRecursos:t.destinoRecursos||"",fuentePago:t.fuentePago||"contratos",fuentePagoOtros:t.fuentePagoOtros||"",riesgoComun:t.riesgoComun||!1,empresa:t.empresa||"",montoAutorizado:t.montoAutorizado||0,saldoVigente:t.saldoVigente||0,actividadRealizada:t.actividadRealizada||"",incidenciasLegales:t.incidenciasLegales||!1,descripcionJuicio:t.descripcionJuicio||"",consecuencias:t.consecuencias||"",monto:t.monto||0,timing:t.timing||"",informacionAdicional:t.informacionAdicional||"",incorporationDate:t.incorporationDate||"",paisRegistro:t.paisRegistro||"",tipoProducto:t.tipoProducto||"",creditoSindicado:t.creditoSindicado||"",pepInvolucrado:t.pepInvolucrado||"",nombrePep:t.nombrePep||"",detallesCargoPep:t.detallesCargoPep||"",periodoDelCargo:t.periodoDelCargo||"",institucionDelCargoPep:t.institucionDelCargoPep||"",paisDeCargoPep:t.paisDeCargoPep||"",familiarFuncionPublica:t.familiarFuncionPublica||"",nombreFamiliarPep:t.nombreFamiliarPep||"",nombreSocioPep:t.nombreSocioPep||"",parentescoSocioPep:t.parentescoSocioPep||"",periodoCargoFamiliar:t.periodoCargoFamiliar||"",paisCargoFamiliar:t.paisCargoFamiliar||"",institucionCargoFamiliar:t.institucionCargoFamiliar||""}:(console.log("No se encontraron datos de financiamiento."),null)},V1=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:l})=>{const c=m=>{const p=parseFloat(m.replace(/,/g,""));return isNaN(p)?"":p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})},[u,d]=w.useState(c(e)),f=m=>{const p=m.target.value.replace(/,/g,"");if(p===""||p==="."||p==="-"){d(""),t("");return}/^-?\d*(\.\d{0,2})?$/.test(p)&&(d(p.replace(/\B(?=(\d{3})+(?!\d))/g,",")),t(p))};return w.useEffect(()=>{d(c(e))},[e]),o.jsxs(o.Fragment,{children:[s&&o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:`flex items-center ${a}`,children:[o.jsx("input",{type:"text",value:u,onChange:f,disabled:r,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),o.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),l]})},eUe=(e,t,r,n)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"garantia":return typeof t=="string"&&t.trim()===""?"Debe seleccionar un tipo de garantía":"";case"descripcion":return typeof t=="string"&&t.trim()===""?"La descripción de la garantía es obligatoria":"";case"ubicacion":return n?"":typeof t=="string"&&t.trim()===""?"La ubicación es obligatoria":"";case"propietario":return n?"":typeof t=="string"&&t.trim()===""?"El propietario es obligatorio":"";case"fechaAdquisicion":return n?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar la fecha de adquisición":"";case"valorAdquisicion":return n?"":typeof t=="string"&&Number(t)<=0?"El valor de adquisición debe ser mayor a 0":"";case"valorActual":return n?"":typeof t=="string"&&Number(t)<=0?"El valor actual debe ser mayor a 0":"";case"fechaValor":return n?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar la fecha del último avalúo":"";case"moneda":return typeof t=="string"&&t.trim()===""?"Debe seleccionar una moneda":"";case"sinGravamen":return typeof t!="boolean"?"Debe indicar si la garantía tiene gravamen":"";case"gravamenConQuien":return r?"":typeof t=="string"&&t.trim()===""?"Debe especificar con quién tiene el gravamen":"";case"gravamenDescripcion":return r?"":typeof t=="string"&&t.trim()===""?"Debe proporcionar una descripción del gravamen":"";case"garante":return typeof t=="string"&&t.trim()===""?"Debe indicar el garante":"";case"obligadoSolidario":return n&&typeof t=="string"&&t.trim()===""?"Debe indicar el obligado solidario":"";case"valorPatrimonial":return n&&typeof t=="string"&&Number(t)<=0?"El valor patrimonial debe ser mayor a 0":"";default:return""}},HR=e=>{const t={};return Object.keys(e).forEach(r=>{const n=eUe(r,e[r],e.sinGravamen,e.garantia==="Obligación solidaria");n&&(t[r]=n)}),t},tUe=["Avalúos inmobiliarios","Escrituras de propiedad","Cesión de derechos","Obligación solidaria","Prenda","Maquinaria y equipo","Patentes y marcas","Acciones","Otros bienes muebles","Otros"],rUe=({onAddResumen:e,onCancel:t,onUpdateResumen:r,initialData:n,selectedFormId:a})=>{const[i,s]=w.useState({garantia:"",descripcion:"",ubicacion:"",propietario:"",fechaAdquisicion:"",valorAdquisicion:"",valorActual:"",fechaValor:"",moneda:"MXN",sinGravamen:!0,gravamenConQuien:"",gravamenDescripcion:"",garante:"",obligadoSolidario:"",valorPatrimonial:""}),[l,c]=w.useState(0),[u,d]=w.useState(""),[f,m]=w.useState(0),[p,h]=w.useState(!1),[g,x]=w.useState(!1),[v,b]=w.useState({}),{selectedProduct:y}=ka();let j=0;i.garantia==="Obligación solidaria"?j=i.moneda==="USD"&&f>0?Number(i.valorPatrimonial)*f:Number(i.valorPatrimonial):j=i.moneda==="USD"&&f>0?Number(i.valorActual)*f:Number(i.valorActual);const E=u==="USD"&&f>0?Number(l)*f:Number(l),N=E>0?j/E:0,S=()=>N>1.5?"bg-green-500":N>=1&&N<=1.5?"bg-yellow-500":"bg-red-500",T=A=>{const{name:_,value:I,type:M}=A.target;s(W=>({...W,[_]:M==="checkbox"?A.target.checked:I}));const L=_;b(W=>({...W,[L]:HR({...i,[L]:I})[L]||""}))},C=async A=>{A.preventDefault();{const I=HR(i);if(Object.keys(I).length>0){b(I),se.error("Hay errores en el formulario. Por favor, revisa los campos."),console.log(Object.keys(I));return}}const _=I=>I===""?void 0:I;if(a){const I={warrantyFormId:a,garantia:i.garantia,descripcion:i.descripcion,ubicacion:_(i.ubicacion),propietario:_(i.propietario),fechaAdquisicion:_(i.fechaAdquisicion),valorAdquisicion:Number(i.valorAdquisicion)||void 0,valorActual:Number(i.valorActual)||void 0,fechaValor:_(i.fechaValor),moneda:i.moneda||"MXN",sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:_(i.gravamenConQuien),gravamenDescripcion:i.sinGravamen?void 0:_(i.gravamenDescripcion),garante:_(i.garante),obligadoSolidario:_(i.obligadoSolidario),valorPatrimonial:Number(i.valorPatrimonial)||void 0,indiceGarantia:N},M={warrantyFormId:a,garantia:i.garantia,descripcion:i.descripcion,ubicacion:i.ubicacion,propietario:i.propietario,fechaAdquisicion:i.fechaAdquisicion,valorAdquisicion:Number(i.valorAdquisicion),valorActual:Number(i.valorActual),fechaValor:i.fechaValor,moneda:i.moneda,sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:i.gravamenConQuien,gravamenDescripcion:i.sinGravamen?void 0:i.gravamenDescripcion,garante:i.garante,obligadoSolidario:i.obligadoSolidario,valorPatrimonial:Number(i.valorPatrimonial),indiceGarantia:N};(await xQ(I)).success?(se.success("Edición correctamente"),r(a,M),console.log("datos actualizados")):se.error("Ocurrió un error al enviar las garantias")}else{const I={productRequestId:(y==null?void 0:y.id)??"",garantia:i.garantia,descripcion:i.descripcion,ubicacion:_(i.ubicacion),propietario:_(i.propietario),fechaAdquisicion:_(i.fechaAdquisicion),valorAdquisicion:Number(i.valorAdquisicion)||void 0,valorActual:Number(i.valorActual)||void 0,fechaValor:_(i.fechaValor),moneda:i.moneda||"MXN",sinGravamen:i.sinGravamen,gravamenConQuien:i.sinGravamen?void 0:_(i.gravamenConQuien),gravamenDescripcion:i.sinGravamen?void 0:_(i.gravamenDescripcion),garante:_(i.garante),obligadoSolidario:_(i.obligadoSolidario),valorPatrimonial:Number(i.valorPatrimonial)||void 0,indiceGarantia:N},M=await gQ(I);if(M.success){console.log("garantias enviadas"),se.success("Todas las garantías han sido enviadas correctamente");const L={...I,id:M.id??""};e(L),s({garantia:"",descripcion:"",ubicacion:"",propietario:"",fechaAdquisicion:"",valorAdquisicion:"",valorActual:"",fechaValor:"",moneda:"MXN",sinGravamen:!0,gravamenConQuien:"",gravamenDescripcion:"",garante:"",obligadoSolidario:"",valorPatrimonial:""})}else console.log("error al anviar la garantia"),se.error("Ocurrió un error al enviar las garantias")}},k=(A,_)=>{if(!A)return"";const I=parseFloat(A);return isNaN(I)?"":_==="MXN"?(I/f).toFixed(2):_==="USD"?(I*f).toFixed(2):A};return w.useEffect(()=>{(async()=>{const _=await gje();m(Number(_));const I=await rk((y==null?void 0:y.id)??"");I&&I.montoSolicitado&&(c(I.montoSolicitado),d(I.moneda)),n&&s({garantia:n.garantia??"",descripcion:n.descripcion??"",ubicacion:n.ubicacion??"",propietario:n.propietario??"",fechaAdquisicion:n.fechaAdquisicion??"",valorAdquisicion:n.valorAdquisicion?String(n.valorAdquisicion):"",valorActual:n.valorActual?String(n.valorActual):"",fechaValor:n.fechaValor??"",moneda:n.moneda??"MXN",sinGravamen:n.sinGravamen??!0,gravamenConQuien:n.sinGravamen?"":n.gravamenConQuien??"",gravamenDescripcion:n.sinGravamen?"":n.gravamenDescripcion??"",garante:n.garante??"",obligadoSolidario:n.obligadoSolidario??"",valorPatrimonial:n.valorPatrimonial?String(n.valorPatrimonial):""})})()},[]),o.jsxs("form",{onSubmit:C,className:"mb-6  p-10 rounded-lg bg-gray-50",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Garantías Indicativas Propuestas"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione el tipo de garantía que se aplicará.",children:["Tipo de Garantía ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"garantia",className:"w-full p-3 border border-gray-300 rounded-md",value:i.garantia,onChange:T,title:"Seleccione una opción de garantía de la lista desplegable.",children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione una garantía"}),tUe.map(A=>o.jsx("option",{value:A,children:A},A))]}),v.garantia&&o.jsx("span",{className:"text-red-500",children:v.garantia})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese una descripción detallada de la garantía financiera.",children:["Descripción ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"descripcion",className:"w-full p-4 border border-gray-300 rounded-md",placeholder:"Escriba una descripción detallada...",rows:3,value:i.descripcion,onChange:T,title:"Escriba una descripción detallada de la garantía."}),v.descripcion&&o.jsx("span",{className:"text-red-500",children:v.descripcion})]}),i.garantia==="Obligación solidaria"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese el nombre completo del obligado solidario.",children:["Obligado Solidario ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"obligadoSolidario",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre del obligado solidario...",value:i.obligadoSolidario,onChange:T,title:"Ingrese el nombre completo del obligado solidario."}),v.obligadoSolidario&&o.jsx("span",{className:"text-red-500",children:v.obligadoSolidario})]}),o.jsx(V1,{name:"Valor patrimonial",value:i.valorPatrimonial,onChange:A=>s(_=>({..._,valorPatrimonial:A})),disabled:!1,title:"Valor patrimonial de el obligado solidario",currency:i.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:v.valorPatrimonial?o.jsx("span",{className:"text-red-500",children:v.valorPatrimonial}):""})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Indique la ubicación exacta de la garantía.",children:["Ubicación ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"ubicacion",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese la ubicación de la garantía...",value:i.ubicacion,onChange:T,title:"Ingrese la ubicación de la garantía."}),v.ubicacion&&o.jsx("span",{className:"text-red-500",children:v.ubicacion})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Ingrese el nombre completo del propietario del bien.",children:["Propietario del Bien ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"propietario",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre del propietario del bien...",value:i.propietario,onChange:T,title:"Ingrese el nombre completo del propietario del bien."}),v.propietario&&o.jsx("span",{className:"text-red-500",children:v.propietario})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si el bien está libre de gravamen.",children:"¿Libre de Gravamen?"}),o.jsxs("select",{name:"sinGravamen",value:i.sinGravamen?"si":"no",onChange:A=>s({...i,sinGravamen:A.target.value==="si"}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Seleccione 'Sí' si el bien está libre de gravamen o 'No' si tiene algún adeudo.",children:[o.jsx("option",{value:"si",children:"Sí"}),o.jsx("option",{value:"no",children:"No"})]})]}),!i.sinGravamen&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona o entidad que tiene el gravamen sobre el bien.",children:["¿Quién tiene el gravamen? ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"gravamenConQuien",value:i.gravamenConQuien,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Nombre de la persona o entidad con el gravamen."}),v.gravamenConQuien&&o.jsx("span",{className:"text-red-500",children:v.gravamenConQuien})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Proporcione una descripción detallada del adeudo.",children:["Descripción del adeudo ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"gravamenDescripcion",value:i.gravamenDescripcion,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Describa el adeudo asociado al gravamen."}),v.gravamenDescripcion&&o.jsx("span",{className:"text-red-500",children:v.gravamenDescripcion})]})]}),o.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-sm text-center text-sm mb-4",children:[o.jsx("h3",{className:"text-gray-700 font-medium",children:"Tipo de Cambio"}),o.jsxs("p",{className:"text-base font-semibold text-blue-600",children:["1 USD = ",f," MXN"]}),o.jsx("small",{className:"text-gray-500",children:"Fuente: Banxico"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block font-medium mb-2",title:"Seleccione la moneda en la que se expresan los valores del bien.",children:"Moneda"}),o.jsxs("select",{name:"moneda",className:"w-full p-2 border border-gray-300 rounded-md",value:i.moneda,onChange:T,title:"Especifique la moneda utilizada para expresar los valores del bien.",children:[o.jsx("option",{value:"MXN",children:"MXN"}),o.jsx("option",{value:"USD",children:"USD"})]})]}),i.garantia==="Obligación solidaria"?o.jsx(o.Fragment,{}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Ver conversión",children:["Valor de Adquisición  ",o.jsx("span",{className:"text-red-500",children:"*"}),o.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>h(!p),children:o.jsx(lT,{size:18})})]}),o.jsx(V1,{value:i.valorAdquisicion,onChange:A=>s(_=>({..._,valorAdquisicion:A})),disabled:!1,title:"Valor patrimonial de el obligado solidario",currency:i.moneda,className:"w-full border rounded-md h-11 pl-1",errorSection:v.valorAdquisicion?o.jsx("span",{className:"text-red-500",children:v.valorAdquisicion}):""}),p&&o.jsx("div",{className:"p-2 bg-gray-100 border border-gray-300 rounded-md mt-2",children:o.jsxs("p",{className:"text-sm",children:["Equivalente en ",o.jsx("strong",{children:i.moneda=="MXN"?"USD":"MXN"}),": ",o.jsx("span",{className:"font-semibold",children:k(i.valorAdquisicion,i.moneda)||"N/A"})]})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione la fecha en la que se adquirió el bien.",children:["Fecha de Adquisición  ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"fechaAdquisicion",className:"w-full p-2 border border-gray-300 rounded-md",value:i.fechaAdquisicion,onChange:T,title:"Indique la fecha de compra del bien."}),v.fechaAdquisicion&&o.jsx("span",{className:"text-red-500",children:v.fechaAdquisicion})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Ver conversión",children:["Valor Actual ",o.jsx("span",{className:"text-red-500",children:"*"}),o.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>x(!g),children:o.jsx(lT,{size:18})})]}),o.jsx(V1,{value:i.valorActual,onChange:A=>s(_=>({..._,valorActual:A})),disabled:!1,title:"Indique el valor actual del bien basado en avalúos recientes.",currency:i.moneda,className:"w-full border rounded-md h-11 pl-1",errorSection:""}),v.valorActual&&o.jsx("span",{className:"text-red-500",children:v.valorActual}),g&&o.jsx("div",{className:"p-2 bg-gray-100 border border-gray-300 rounded-md mt-1",children:o.jsxs("p",{className:"text-sm",children:["Equivalente en ",o.jsx("strong",{children:i.moneda=="MXN"?"USD":"MXN"}),": ",o.jsx("span",{className:"font-semibold",children:k(i.valorActual,i.moneda)||"N/A"})]})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium mb-2",title:"Seleccione la fecha del último avalúo del bien.",children:["Fecha del Último Avalúo ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"fechaValor",className:"w-full p-2 border border-gray-300 rounded-md",value:i.fechaValor,onChange:T,title:"Fecha en la que se realizó el último avalúo del bien."}),v.fechaValor&&o.jsx("span",{className:"text-red-500",children:v.fechaValor})]})]})]}),o.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[o.jsx("div",{className:"font-medium",title:"El índice de garantía se calcula en función del monto solicitado y el valor actual del bien.",children:"Índice de Garantía:"}),o.jsx("div",{className:`w-6 h-6 rounded-full ${S()}`,title:"El color indica la solidez de la garantía: verde (favorable), amarillo (moderado) y rojo (riesgoso)."}),o.jsx("div",{className:"text-gray-700",title:`Valor calculado del índice de garantía: ${N.toFixed(2)}`,children:N.toFixed(2)})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"block font-medium mb-4",title:"Indique si existe una obligación solidaria o un garante en la operación financiera.",children:["Obligación Solidaria / Garante ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"garante",className:"w-full p-4 border border-gray-300 rounded-md",placeholder:"Ingrese el nombre o razón social del garante(s), su relación con el acreditado...",rows:2,value:i.garante,onChange:T,title:"Especifique el nombre o razón social del garante, y su relación con el acreditado."}),v.garante&&o.jsx("span",{className:"text-red-500",children:v.garante}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Nota: Posible solicitud de Estados Financieros anuales dictaminados (2 años) y Estados Financieros Internos."})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500",children:"Guardar Garantía"}),o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500",children:"Cancelar"})]})]})},nUe=()=>o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Garantías no elegibles:"}),o.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:[o.jsx("li",{children:"Maquinaria y equipo que se interne al país como importación temporal."}),o.jsx("li",{children:"Bienes ubicados en el extranjero, salvo cesión de derechos con control de flujos en cuenta escrow, fideicomiso o mecanismo similar."}),o.jsx("li",{children:"Predios rústicos o rurales, salvo cuando en ellos se encuentren instalaciones del solicitante."}),o.jsx("li",{children:"Predios en zonas donde usos y costumbres impidan plena propiedad y disposición."}),o.jsx("li",{children:"Bienes que no cumplan con la normatividad bancaria aplicable."})]})]}),WR=({indiceGarantia:e})=>{const t=()=>e>1.5?"bg-green-500":e>=1&&e<=1.5?"bg-yellow-500":"bg-red-500";return o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${t()}`,children:"$"})},aUe=({isOpen:e,onConfirm:t,onCancel:r,itemName:n="esta garantía"})=>e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 text-center",children:["¿Eliminar ",n,"?"]}),o.jsx("p",{className:"mb-6 text-sm text-gray-600 text-center",children:"Esta acción no se puede deshacer."}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded",children:"Cancelar"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded",children:"Eliminar"})]})]})}):null,O0=[{key:"descripcion",label:"Descripción"},{key:"propietario",label:"Propietario"},{key:"fechaAdquisicion",label:"Fecha Adquisición"},{key:"valorAdquisicion",label:"Valor Adquisición"},{key:"valorActual",label:"Valor Actual"},{key:"fechaValor",label:"Fecha Avalúo"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Entidad Gravamen"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"garante",label:"Garante"},{key:"indiceGarantia",label:"Índice Garantia"},{key:"obligadoSolidario",label:"Obligado Solidario"},{key:"valorPatrimonial",label:"Valor Patrimonial"}],GR=[{key:"descripcion",label:"Descripción"},{key:"obligadoSolidario",label:"obligadoSolidario"},{key:"valorPatrimonial",label:"valorPatrimonial"},{key:"moneda",label:"Moneda"},{key:"sinGravamen",label:"Sin Gravamen"},{key:"gravamenConQuien",label:"Entidad Gravamen"},{key:"gravamenDescripcion",label:"Descripción Gravamen"},{key:"indiceGarantia",label:"indiceGarantia"}],iUe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(O0.map(k=>k.key)),[s,l]=w.useState(!1),[c,u]=w.useState(null),{selectedProduct:d}=ka(),[f]=w.useState(!0),{updateFormStatus:m}=pl(),[p,h]=w.useState(!1),[g,x]=w.useState(null),v=k=>{t([...e,k]),m("warrantyDetails","isCompleted"),tk(2,1,(d==null?void 0:d.id)??""),n(!1),u(null)},b=(k,A)=>{t(_=>_.map(I=>I.id===k?{...I,...A}:I)),n(!1),u(null)},y=k=>{x(k),h(!0)},j=async()=>{if(g===null)return;const k=e[g];if(!(k!=null&&k.id)){se.error("No se encontró el ID de la garantía.");return}(await vQ(k.id)).success?(t(_=>_.filter((I,M)=>M!==g)),se.success("Garantía eliminada correctamente.")):se.error("Error al eliminar la garantía."),h(!1),x(null)},E=(k,A)=>{u({id:k,index:A}),n(!0),console.log("edits",k)},N=k=>{i(A=>A.includes(k)?A.filter(_=>_!==k):[...A,k])};w.useEffect(()=>{(async()=>{if(d!=null&&d.id){const A=await cM({productRequestId:d==null?void 0:d.id});A&&(A==null?void 0:A.length)>0&&(t(A),m("warrantyDetails","isCompleted"))}else se.error("Hubo un problema al obtener las garantías. Inténtalo de nuevo.")})()},[d]);function S(){n(!0)}const T=e.filter(k=>k.garantia==="Obligación solidaria"),C=e.filter(k=>k.garantia!=="Obligación solidaria");return o.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg p-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Gestión de Garantías"}),o.jsxs("div",{className:"flex justify-end mb-4 relative",children:[o.jsx("button",{onClick:()=>l(!s),className:"p-2 bg-gray-200 rounded hover:bg-gray-300 relative",children:o.jsx(eM,{size:20})}),s&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white shadow-lg rounded p-2 z-50 border border-gray-300",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2 px-2",children:"* La selección de columnas solo afecta la visualización, no el envío de datos."}),O0.map(k=>o.jsxs("label",{className:"flex items-center space-x-2 p-1",children:[o.jsx("input",{type:"checkbox",checked:a.includes(k.key),onChange:()=>N(k.key)}),o.jsx("span",{children:k.label})]},k.key))]})]}),o.jsxs("div",{className:"mt-6",children:[C.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Garantías Agregadas"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[O0.map(k=>a.includes(k.key)&&o.jsx("th",{className:"border border-gray-300 p-2 min-w-[200px]",children:k.label},k.key)),o.jsx("th",{className:"border border-gray-300 p-2",children:"Indice"}),o.jsx("th",{className:"border border-gray-300 p-2",children:"Acciones"})]})}),o.jsx("tbody",{children:C.map((k,A)=>o.jsxs("tr",{className:`${A%2===0?"bg-gray-50":""}`,children:[O0.map(_=>a.includes(_.key)&&o.jsx("td",{className:"p-2",children:_.key==="sinGravamen"?k.sinGravamen?"Sí":"No":k[_.key]??"N/A"},_.key)),o.jsx("td",{className:"p-2 text-center",children:o.jsx(WR,{indiceGarantia:k.indiceGarantia??0})}),o.jsxs("td",{className:"p-2 text-center flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>y(A),disabled:!f,className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:o.jsx(Vm,{size:16})}),o.jsx("button",{onClick:()=>E(k.id,A),disabled:!f,className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:o.jsx(Fg,{size:16})})]})]},A))})]})})]}),T.length>0&&o.jsx("div",{className:"mt-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[GR.map(k=>o.jsx("th",{className:"border border-gray-300 p-2 min-w-[200px]",children:k.label},k.key)),o.jsx("th",{className:"border border-gray-300 p-2",children:"Indice"}),o.jsx("th",{className:"border border-gray-300 p-2",children:"Acciones"})]})}),o.jsx("tbody",{children:T.map((k,A)=>o.jsxs("tr",{className:`${A%2===0?"bg-gray-50":""}`,children:[GR.map(_=>o.jsx("td",{className:"p-2",children:_.key==="sinGravamen"?k.sinGravamen?"Sí":"No":k[_.key]??"N/A"},_.key)),o.jsx("td",{className:"p-2 text-center",children:o.jsx(WR,{indiceGarantia:k.indiceGarantia??0})}),o.jsxs("td",{className:"p-2 text-center flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>y(A),disabled:!f,className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:o.jsx(Vm,{size:16})}),o.jsx("button",{onClick:()=>E(k.id,A),disabled:!f,className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:o.jsx(Fg,{size:16})})]})]},A))})]})})}),!r&&o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("button",{onClick:()=>S(),disabled:!f,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 ${!f&&"opacity-50 cursor-not-allowed"}`,children:"Agregar nueva garantía"})})]}),r&&o.jsx("div",{className:"mt-6",children:o.jsx(rUe,{onAddResumen:v,onCancel:()=>n(!1),initialData:(c==null?void 0:c.index)!==void 0?e[c.index]:void 0,onUpdateResumen:b,selectedFormId:c==null?void 0:c.id})}),o.jsx(aUe,{isOpen:p,onCancel:()=>h(!1),onConfirm:j}),o.jsx(nUe,{}),o.jsx(pr,{})]})},XR=e=>{},sUe=(e,t,r,n,a)=>{if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")return"";switch(e){case"razonSocial":return typeof t=="string"&&t.trim()===""?"La razón social es obligatoria":"";case"rfc":return typeof t=="string"&&!/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(t)?"RFC inválido":"";case"destinoRecursos":return typeof t=="string"&&t.trim()===""?"El destino de los recursos es obligatorio":"";case"incorporationDate":return typeof t=="string"&&t.trim()===""?"La fecha de incorporación es obligatoria":"";case"montoSolicitado":return typeof t=="number"&&t<=0?"El monto solicitado debe ser mayor a 0":"";case"plazoCredito":return console.log(t),Number(t)<1?"El plazo de crédito debe ser al menos 1 año.":a==="Revolvente"&&Number(t)>4?"El plazo máximo permitido para créditos revolventes es 4 años.":"";case"periodoGracia":return typeof t=="number"&&t<0?"El período de gracia no puede ser negativo":"";case"empresa":return r&&typeof t=="string"&&t.trim()===""?"El nombre de la empresa es obligatorio":"";case"montoAutorizado":return r&&typeof t=="number"&&t<=0?"El monto autorizado debe ser mayor a 0":"";case"saldoVigente":return r&&typeof t=="number"&&t<=0?"El saldo vigente debe ser mayor a 0":"";case"nombre":return n&&typeof t=="string"&&t.trim()===""?"El nombre de la persona es obligatorio":"";case"actividadRealizada":return n&&typeof t=="string"&&t.trim()===""?"El nombre de la actividad realizada es obligatoria":"";case"timing":return typeof t=="string"&&t.trim()===""?"Debe proporcionar una fecha estimada":"";default:return""}},KR=e=>{const t={};return Object.keys(e).forEach(r=>{const n=sUe(r,e[r],e.riesgoComun??!1,e.personasExpuestas??!1,e.tipoCredito??"");n&&(t[r]=n)}),t},oUe=Number.MAX_SAFE_INTEGER,R0=({value:e,onChange:t,disabled:r,title:n,className:a,currency:i,name:s,errorSection:l})=>{const c=m=>m.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),[u,d]=w.useState(c(e)),f=m=>{const p=m.target.value.replace(/,/g,"");if(p===""||p==="."||p==="-"){d(""),t(0);return}if(!/^-?\d*(\.\d{0,2})?$/.test(p))return;const h=parseFloat(p);isNaN(h)?d(p):(t(h),d(p.replace(/\B(?=(\d{3})+(?!\d))/g,",")))};return o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el monto total que está solicitando en la solicitud de financiamiento.",children:[s," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-lg bg-gray-100 ${a}`,children:[o.jsx("input",{type:"text",value:r?e:u,onChange:f,disabled:r,maxLength:oUe.toString().length,className:"w-full text-left p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",title:n}),o.jsx("span",{className:"text-gray-700 font-medium",children:i})]}),l]})},H1=({name:e,value:t,onChange:r,options:n=[],label:a,required:i=!1,disabled:s=!1,error:l,title:c,otherPlaceholder:u="Especifique..."})=>{const d=t.startsWith("otro:"),[f,m]=w.useState(d?t.replace("otro:",""):""),p=g=>{g.target.value==="otros"?(m(""),r({target:{name:e,value:"otro:"}})):(m(""),r(g))},h=g=>{const x=`otro:${g.target.value}`;m(g.target.value),r({target:{name:e,value:x}})};return o.jsxs("div",{className:"mb-4",children:[a&&o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:c,children:[a," ",i&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:e,value:d?"otros":t,onChange:p,required:i,disabled:s,title:c,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione una opción"}),n.map(g=>o.jsx("option",{value:g.code,children:g.name},g.code)),o.jsx("option",{value:"otros",children:"Otros"})]}),d&&o.jsx("input",{type:"text",name:e,value:f,onChange:h,placeholder:u,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&o.jsx("span",{className:"text-red-500",children:l})]})},lUe=({name:e,value:t,onChange:r,label:n,required:a=!1,disabled:i=!1,error:s,title:l,reasonPlaceholder:c="Especifique el motivo..."})=>{const u=t.startsWith("si"),d=u?t.replace(/^si:\s*/,""):"",f=p=>{const h=p.target.value;r({target:{name:e,value:h==="si"?`si: ${d}`:"no"}})},m=p=>{const h=p.target.value;r({target:{name:e,value:`si: ${h}`}})};return o.jsxs("div",{className:"mb-4",children:[n&&o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:l,children:[n," ",a&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:e,value:u?"si":"no",onChange:f,required:a,disabled:i,title:l,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]}),u&&o.jsx("input",{type:"text",name:`${e}_reason`,value:d,onChange:m,placeholder:c,className:"mt-2 w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s&&o.jsx("span",{className:"text-red-500",children:s})]})},cUe=({handleBackStep:e,handleNextStep:t})=>o.jsxs("div",{className:"mt-8 border-t pt-4 flex justify-between items-center",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Volver"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Siguiente"})]}),uUe=({isOpen:e,onClose:t,onConfirm:r,onContinueWithoutSaving:n})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"¿Guardar los cambios?"}),o.jsx("p",{className:"mb-4",children:"¿Quieres guardar los cambios antes de seguir?"}),o.jsxs("div",{className:"flex justify-end gap-2 min-w-max",children:[o.jsx("button",{className:"px-3 py-1.5 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 whitespace-nowrap",onClick:t,children:"Cancelar"}),o.jsx("button",{className:"px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 whitespace-nowrap",onClick:n,children:"No guardar"}),o.jsx("button",{className:"px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 whitespace-nowrap",onClick:r,children:"Guardar"})]})]})}):null,dUe=()=>{const[e,t]=w.useState({id:"",razonSocial:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"Simple",plazoCredito:0,periodoGracia:0,amortizacionCapital:"mensual",amortizacionCapitalOtro:"",pagoIntereses:"mensual",destinoRecursos:"",fuentePago:"contratos",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",paisRegistro:"",tipoProducto:"",creditoSindicado:""}),[r,n]=w.useState({id:"",razonSocial:"",rfc:"",montoSolicitado:0,moneda:"MXN",tipoCredito:"Simple",plazoCredito:0,periodoGracia:0,amortizacionCapital:"mensual",amortizacionCapitalOtro:"",pagoIntereses:"mensual",destinoRecursos:"",fuentePago:"contratos",fuentePagoOtros:"",riesgoComun:!1,empresa:"",montoAutorizado:0,saldoVigente:0,actividadRealizada:"",incidenciasLegales:!1,descripcionJuicio:"",consecuencias:"",monto:0,timing:"",informacionAdicional:"",incorporationDate:"",paisRegistro:"",tipoProducto:"",creditoSindicado:""}),[a,i]=w.useState(!1),[s,l]=w.useState(!0),[c,u]=w.useState(!1),[d,f]=w.useState({}),{selectedProduct:m,selectProduct:p}=ka(),{updateFormStatus:h,getStatusById:g}=pl(),[x,v]=w.useState(!1),[b,y]=w.useState(!1),j=L=>{if(!s)return;const{name:W,value:H}=L.target,q=W;t({...e,[q]:H}),f(B=>({...B,[q]:KR({...e,[q]:H})[q]||""}))},[E,N]=w.useState(void 0),S=()=>{const L=g("financingDetails");N(L),h("financingDetails","inProgress"),y(!1),l(!0)},T=()=>{h("financingDetails",E??"isCompleted"),y(E!=="inProgress"),l(!1)},C=async()=>{if(!m){se.error("No se seleccionó un producto");return}{const L=KR(e);if(Object.keys(L).length>0){f(L);const W=Object.values(L).filter(Boolean).join(", ");se.error(`Errores: ${W}`),console.log(Object.keys(L)),i(!1);return}}if(c){i(!0);try{(await Z9e(e,r,r.id)).success?(se.success("Financiamiento actualizado con éxito"),l(!1),u(!0),XR(!0),h("financingDetails","isCompleted"),y(!0)):se.error("Hubo un error al actualizar el financiamiento")}catch(L){console.error("Error al actualizar el formulario:",L),se.error("Ocurrió un error inesperado")}i(!1)}else{i(!0);try{(await Q9e(e,(m==null?void 0:m.id)??"")).success?(se.success("Financiamiento guardado con éxito"),l(!1),u(!0),XR(!0),t(e),h("financingDetails","isCompleted"),y(!0),tk(1,0,m.id),p({flowStatus:1})):se.error("Hubo un error al guardar el financiamiento")}catch(L){console.error("Error al enviar el formulario:",L),se.error("Ocurrió un error inesperado")}i(!1)}},k=async L=>{L.preventDefault(),await C()};function A(){p({flowStatus:0})}const _=()=>{b?p({flowStatus:1}):v(!0)},I=async()=>{await C(),p({flowStatus:1}),v(!1)},M=()=>{p({flowStatus:1}),v(!1)};return w.useEffect(()=>{(async()=>{const W=await rk((m==null?void 0:m.id)??"");W&&W.id&&(t({...e,...W}),console.log("financiamiento",W),n(W),l(!1),u(!0),y(!0))})()},[]),o.jsxs("div",{children:[o.jsxs("form",{className:"max-w-4xl mx-auto bg-white",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Detalles de la Solicitud de Financiamiento"}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Solicitante"}),o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Razón Social",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"razonSocial",value:e.razonSocial,onChange:j,required:!0,disabled:!s,title:"Ingresa la razón social de la empresa",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.razonSocial&&o.jsx("span",{className:"text-red-500",children:d.razonSocial})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Registro Federal de Contribuyentes, clave única para identificar a una persona o empresa ante el SAT.",children:["RFC",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"rfc",value:e.rfc,onChange:j,required:!0,disabled:!s,title:"Ingrese el Registro Federal de Contribuyentes (RFC) de la empresa o persona física.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.rfc&&o.jsx("span",{className:"text-red-500",children:d.rfc})]}),o.jsx(H1,{label:"País de registro del solicitante",title:"Seleccione el país de registro de la empresa o persona física.",name:"paisRegistro",value:e.paisRegistro,onChange:j,options:[{code:"México",name:"México"}],otherPlaceholder:"Especifique el pais de registro",required:!0,disabled:!s,error:d.paisRegistro}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha correspondiente a la fecha de constitucion de su empresa",children:["Fecha de constitucion",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"incorporationDate",value:e.incorporationDate,onChange:j,required:!0,disabled:!s,title:"Seleccione la fecha correspondiente.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.incorporationDate&&o.jsx("span",{className:"text-red-500",children:d.incorporationDate})]}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Características de la operación"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el propósito o uso que se dará a los recursos solicitados.",children:["Destino de Recursos ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"destinoRecursos",value:e.destinoRecursos,onChange:j,required:!0,disabled:!s,title:"Describa el propósito o uso de los recursos solicitados en la solicitud de financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.destinoRecursos&&o.jsx("span",{className:"text-red-500",children:d.destinoRecursos})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la moneda en la que desea recibir el financiamiento.",children:"Moneda:"}),o.jsxs("select",{name:"moneda",value:e.moneda,onChange:j,required:!0,disabled:!s,title:"Elija entre Pesos (MXN) o Dólares (USD) para el financiamiento.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione"}),o.jsx("option",{value:"MXN",children:"Pesos"}),o.jsx("option",{value:"USD",children:"Dólares"})]})]}),o.jsx(R0,{name:"Monto Solicitado",value:e.montoSolicitado??0,onChange:L=>t(W=>({...W,montoSolicitado:L})),disabled:!s,title:"Monto total solicitado para el financiamiento, en la moneda seleccionada.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoSolicitado?o.jsx("span",{className:"text-red-500",children:d.montoSolicitado}):""}),o.jsx(H1,{label:"Tipo de producto financiero",title:"Seleccione el tipo de producto financiero.",name:"tipoProducto",value:e.tipoProducto??"",onChange:j,options:[{code:"Corporativo",name:"Corporativo"},{code:"Proyecto de inversión",name:"Proyecto de inversión"}],otherPlaceholder:"Especifique el tipo de producto",required:!0,disabled:!s,error:d.tipoProducto}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione el tipo de crédito que mejor se adapte a sus necesidades financieras.",children:"Tipo de Crédito:"}),o.jsxs("select",{name:"tipoCredito",value:e.tipoCredito,onChange:j,required:!0,disabled:!s,title:"Elija entre Crédito Simple, Revolvente o Mixto según sus necesidades.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccione"}),o.jsx("option",{value:"Simple",children:"Simple"}),o.jsx("option",{value:"Revolvente",children:"Revolvente"}),o.jsx("option",{value:"Mixto",children:"Mixto"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique la duración del crédito en años, dentro del rango permitido.",children:["Plazo de Crédito (en años)",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"plazoCredito",value:e.plazoCredito,onChange:j,min:"1",...e.tipoCredito==="Revolvente"?{max:4}:{},required:!0,disabled:!s,title:"Ingrese el número de años del crédito",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.plazoCredito&&o.jsx("span",{className:"text-red-500",children:d.plazoCredito})]}),e.tipoCredito!=="Revolvente"&&o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique el período durante el cual no se pagará el capital del crédito, solo los intereses.",children:["Período de Gracia de Capital (en meses)",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"periodoGracia",value:e.periodoGracia,onChange:j,onInput:L=>{const W=L.target;W.value=W.value.replace(/[^0-9]/g,"")},required:!0,title:"Ingrese la cantidad de meses de gracia antes de comenzar a pagar el capital.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoGracia&&o.jsx("span",{className:"text-red-500",children:d.periodoGracia})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la frecuencia con la que realizará pagos de capital del crédito.",children:"Amortización de Capital:"}),o.jsxs("select",{name:"amortizacionCapital",value:e.amortizacionCapital,onChange:j,disabled:!s,title:"Elija la periodicidad para el pago del capital: mensual, trimestral, semestral, al vencimiento u otro.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"mensual",children:"Mensual"}),o.jsx("option",{value:"trimestral",children:"Trimestral"}),o.jsx("option",{value:"semestral",children:"Semestral"}),o.jsx("option",{value:"al_vencimiento",children:"Al vencimiento"}),o.jsx("option",{value:"otro",children:"Otro"})]})]}),e.amortizacionCapital==="otro"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Especifique otro tipo de amortización si no está en la lista anterior.",children:"Especifica la amortización:"}),o.jsx("input",{type:"text",name:"amortizacionCapitalOtro",value:e.amortizacionCapitalOtro,onChange:j,disabled:!s,title:"Indique el esquema de amortización personalizado.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la frecuencia con la que se realizará el pago de los intereses del crédito.",children:"Pago de Intereses:"}),o.jsxs("select",{name:"pagoIntereses",value:e.pagoIntereses,onChange:j,disabled:!s,title:"Elija la periodicidad del pago de intereses: mensual, trimestral o semestral.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"mensual",children:"Mensual"}),o.jsx("option",{value:"trimestral",children:"Trimestral"}),o.jsx("option",{value:"semestral",children:"Semestral"})]})]}),o.jsx(H1,{label:"Fuente de Pago",title:"Seleccione la fuente principal con la que se realizará el pago del crédito.",name:"fuentePago",value:e.fuentePago??"",onChange:j,options:[{code:"flujoOperacion",name:"Flujo provenientes de la operación normal"},{code:"flujosContratados",name:"Flujos contratados"},{code:"fideicomiso",name:"Fideicomiso"},{code:"presupuestoPublico",name:"Presupuesto público"},{code:"proyectoPagoPropio",name:"Proyecto con fuente de pago propia"},{code:"otros",name:"Otro, especificar"}],otherPlaceholder:"Seleccione una opción",required:!0,disabled:!s,error:d.fuentePago}),e.fuentePago==="otros"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique otra fuente de pago si no está en la lista anterior.",children:"Especificar Fuente de Pago:"}),o.jsx("textarea",{name:"fuentePagoOtros",value:e.fuentePagoOtros,onChange:j,disabled:!s,title:"Describa la fuente de pago alternativa que utilizará para cubrir el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx(lUe,{name:"creditoSindicado",value:e.creditoSindicado??"",onChange:j,label:"¿El crédito es sindicado?",title:"indique si el crédito crédito es sindicado",required:!0,reasonPlaceholder:"¿Quién es el Banco Agente?"}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Riesgo común"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera.",children:"Riesgo Común: Es el riesgo crediticio representado por una misma persona, entidad o grupo de personas físicas y/o morales, que por sus nexos patrimoniales o de responsabilidad, constituyan exposiciones comunes de riesgo para Nacional Financiera"}),o.jsxs("select",{name:"riesgoComun",value:e.riesgoComun?"true":"false",disabled:!s,onChange:L=>{t({...e,riesgoComun:L.target.value==="true"})},title:"Seleccione 'Sí' si el crédito está asociado con otras empresas en términos de riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"false",children:"No"}),o.jsx("option",{value:"true",children:"Sí"})]})]}),e.riesgoComun&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la empresa con la que se comparte el riesgo.",children:["Nombre de la Empresa:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"empresa",value:e.empresa||"",onChange:j,disabled:!s,title:"Especifique la empresa con la que se comparte el riesgo financiero.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.empresa&&o.jsx("span",{className:"text-red-500",children:d.empresa})]}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(R0,{name:"Monto Autorizado",value:e.montoAutorizado??0,onChange:L=>t(W=>({...W,montoAutorizado:L})),disabled:!s,title:"Ingrese el saldo autorizado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoAutorizado?o.jsx("span",{className:"text-red-500",children:d.montoAutorizado}):""})}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(R0,{name:"Saldo Vigente",value:e.saldoVigente??0,onChange:L=>t(W=>({...W,saldoVigente:L})),disabled:!s,title:"Ingrese el saldo actual que aún no ha sido pagado en el crédito compartido.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.saldoVigente?o.jsx("span",{className:"text-red-500",children:d.saldoVigente}):""})})]}),o.jsx("h2",{className:"text-xl font-semibold mb-6 mt-6 text-gray-800",children:"Determinación inicial de Grado de Riesgo PLD/FT"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS (ANEXO 1) en el país o en el extranjero.",children:"Alguno de los socios, accionistas, directivos de empresa o el Propietario Real ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),o.jsxs("select",{name:"pepInvolucrado",value:e.pepInvolucrado,disabled:!s,onChange:j,title:"Seleccione 'Sí' si alguna persona políticamente expuesta está relacionada con la solicitud.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]})]}),e.pepInvolucrado==="si"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombrePep",value:e.nombrePep||"",onChange:j,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombrePep&&o.jsx("span",{className:"text-red-500",children:d.nombrePep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"detallesCargoPep",value:e.detallesCargoPep||"",onChange:j,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.detallesCargoPep&&o.jsx("span",{className:"text-red-500",children:d.detallesCargoPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del accionista o directivo.",children:["Periodo del cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"periodoDelCargo",value:e.periodoDelCargo||"",onChange:j,disabled:!s,title:"Escriba el periodo del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoDelCargo&&o.jsx("span",{className:"text-red-500",children:d.periodoDelCargo})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del accionista o directivo",children:["Institucion del cargo público del accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"institucionDelCargoPep",value:e.institucionDelCargoPep||"",onChange:j,disabled:!s,title:"Escriba la Institucion del cargo público del accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.institucionDelCargoPep&&o.jsx("span",{className:"text-red-500",children:d.institucionDelCargoPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"paisDeCargoPep",value:e.paisDeCargoPep||"",onChange:j,disabled:!s,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.paisDeCargoPep&&o.jsx("span",{className:"text-red-500",children:d.paisDeCargoPep})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"A su conocimiento, alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero.",children:"Alguno de los socios, accionistas, directivos de empresa o el Propietario Real tiene algún familiar por consanguinidad o afinidad o algún vínculo patrimonial con una persona que ha desempeñado en los últimos doce meses funciones públicas o actividades políticas DESTACADAS en el país o en el extranjero."}),o.jsxs("select",{name:"familiarFuncionPublica",value:e.familiarFuncionPublica,disabled:!s,onChange:L=>{t({...e,familiarFuncionPublica:L.target.value})},title:"Seleccione 'Sí' si algun familiar esta políticamente expuesta",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]})]}),e.familiarFuncionPublica==="si"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Nombre del familiar del socio, accionista o directivo.",children:["Nombre del familiar del socio, accionista o directivo:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombreFamiliarPep",value:e.nombreFamiliarPep||"",onChange:j,disabled:!s,title:"Escriba el nombre completo de la persona políticamente expuesta.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombreFamiliarPep&&o.jsx("span",{className:"text-red-500",children:d.nombreFamiliarPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Ingrese el nombre de la persona políticamente expuesta.",children:["Nombre del socio, accionista o directivo :",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"nombreSocioPep",value:e.nombreSocioPep||"",onChange:j,disabled:!s,title:"Escriba el nombre completo del socio accionista o directivo.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.nombreSocioPep&&o.jsx("span",{className:"text-red-500",children:d.nombreSocioPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Parentesco del socio, accionista o directivo con el familiar:",children:["Parentesco del socio, accionista o directivo con el familiar:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"parentescoSocioPep",value:e.parentescoSocioPep||"",onChange:j,disabled:!s,title:"Escriba el parentesco del socio, accionista o directivo con el familiar:",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.parentescoSocioPep&&o.jsx("span",{className:"text-red-500",children:d.parentescoSocioPep})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Periodo del cargo público del familiar.",children:["Periodo del cargo público del familiar",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"periodoCargoFamiliar",value:e.periodoCargoFamiliar||"",onChange:j,disabled:!s,title:"Escriba el periodo del cargo público del familiar.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.periodoCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:d.periodoCargoFamiliar})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:" Institucion del cargo público del familiar",children:["Institucion del cargo público del familiar:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"institucionCargoFamiliar",value:e.institucionCargoFamiliar||"",onChange:j,disabled:!s,title:"Escriba la Institucion del cargo público del familiar",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.institucionCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:d.institucionCargoFamiliar})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"País que asignó dicho cargo",children:["País que asignó dicho cargo",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"paisCargoFamiliar",value:e.paisCargoFamiliar||"",onChange:j,disabled:!s,title:"Escriba el país que asignó dicho cargo",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.paisCargoFamiliar&&o.jsx("span",{className:"text-red-500",children:d.paisCargoFamiliar})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique si la empresa tiene incidencias legales en curso o pasadas.",children:"Incidencias Legales:"}),o.jsxs("select",{name:"incidenciasLegales",value:e.incidenciasLegales?"si":"no",disabled:!s,onChange:L=>{t({...e,incidenciasLegales:L.target.value==="si"})},required:!0,title:"Seleccione 'Sí' si la empresa tiene incidencias legales o 'No' en caso contrario.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"no",children:"No"}),o.jsx("option",{value:"si",children:"Sí"})]})]}),e.incidenciasLegales&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Describa brevemente el juicio o litigio relacionado con la empresa.",children:"Descripción Juicio:"}),o.jsx("textarea",{name:"descripcionJuicio",value:e.descripcionJuicio,onChange:j,required:!0,disabled:!s,title:"Ingrese una descripción del juicio o litigio en el que está involucrada la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Indique las posibles consecuencias del juicio para la empresa.",children:"Posibles Consecuencias:"}),o.jsx("textarea",{name:"consecuencias",value:e.consecuencias,onChange:j,required:!0,disabled:!s,title:"Describa las posibles consecuencias legales o económicas que pueda enfrentar la empresa.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md",children:o.jsx(R0,{name:"monto",value:e.monto??0,onChange:L=>t(W=>({...W,monto:L})),disabled:!s,title:"Ingrese el monto estimado asociado a la incidencia legal.",currency:e.moneda,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",errorSection:d.montoAutorizado?o.jsx("span",{className:"text-red-500",children:d.montoAutorizado}):""})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-gray-700 font-medium mb-2",title:"Seleccione la fecha en la que estima contratar el crédito.",children:["Fecha estimada de contratación de crédito:",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"timing",value:e.timing,onChange:j,disabled:!s,title:"Ingrese la fecha en la que planea solicitar el crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.timing&&o.jsx("span",{className:"text-red-500",children:d.timing})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",title:"Proporcione cualquier información adicional relevante para la solicitud de crédito.",children:"Información Adicional:"}),o.jsx("textarea",{name:"informacionAdicional",value:e.informacionAdicional,onChange:j,disabled:!s,title:"Ingrese detalles adicionales que considere importantes para la solicitud de crédito.",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{type:"button",onClick:s?k:c?S:k,className:`px-4 py-2 bg-blue-400 text-white rounded hover:bg-blue-500 flex items-center justify-center gap-2 ${a&&"opacity-50 cursor-not-allowed"}`,children:a?o.jsxs(o.Fragment,{children:[o.jsx(ju,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):s?"Enviar formulario":c?"Editar":"Enviar formulario"}),s&&o.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 flex items-center justify-center",children:"Cancelar"})]}),o.jsx(pr,{})]}),o.jsx(cUe,{handleBackStep:A,handleNextStep:_}),o.jsx(uUe,{isOpen:x,onClose:()=>v(!1),onConfirm:I,onContinueWithoutSaving:M})]})};function fUe(){const{selectedProduct:e}=ka(),[t,r]=w.useState(null),[n,a]=w.useState(!1),{updateFormStatus:i}=pl(),s=async c=>{var d;const u=(d=c.target.files)==null?void 0:d[0];if(u){a(!0);try{await ts((e==null?void 0:e.id)||"",u,"documentos"),r(u.name),i("termsAdnConditions","isCompleted"),l()}catch(f){console.error("Error al subir el archivo:",f)}finally{a(!1)}}},l=async()=>{console.log("solicitar revision"),e!=null&&e.chatId&&await cl({chatId:e.chatId,content:"Términos y condicones firmados cargados al sistema (Este es un mensaje automatizado)",isAdmin:!1})};return o.jsx("div",{className:"min-h-min py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[o.jsxs("div",{id:"terms-content",className:"prose max-w-none text-gray-700 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Términos y Condiciones"}),o.jsx("p",{children:"Estos Términos y Condiciones regulan el uso del servicio proporcionado por nuestra empresa. Al acceder o utilizar nuestro servicio, usted acepta estar sujeto a estos Términos. Si no está de acuerdo con alguna parte de los términos, no podrá acceder al servicio."})]}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsxs("div",{className:"p-4 shadow rounded-md bg-yellow-50 flex flex-col space-y-2 transition-colors duration-500 mb-4",children:[o.jsx("h3",{className:"font-medium",children:"Subir términos y condiciones firmados"}),o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n?o.jsxs("span",{className:"text-gray-600 text-sm flex items-center",children:[o.jsx(ju,{className:"w-5 h-5 animate-spin mr-2"})," Subiendo..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ka,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-blue-600 hover:underline text-sm",children:t?`Archivo subido: ${t}`:"Cargar archivo"})]}),o.jsx("input",{type:"file",className:"hidden",onChange:s,disabled:n})]})]})})]})})})})}function mUe(){var _;const[e,t]=w.useState("financingDetails"),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(null),[d]=w.useState([{id:"financingDetails",label:"Detalles de la solicitud",component:dUe},{id:"warrantyDetails",label:"Detalles de la garantias",component:iUe},{id:"uploadDocuments",label:"Subir Documentos",component:W9e},{id:"applicationResolution",label:"Resolucion de solicitud",component:J9e},{id:"termsAdnConditions",label:"Términos y condiciones",component:fUe}]),[f,m]=w.useState([]),[p,h]=w.useState([]),{getStatusById:g,addFormStatus:x,updateFormStatus:v}=pl(),b=w.useRef(null),{selectedProduct:y}=ka();w.useEffect(()=>{x({id:"financingDetails",status:"inProgress"}),x({id:"warrantyDetails",status:"inProgress"}),x({id:"uploadDocuments",status:"inProgress"}),x({id:"applicationResolution",status:"inProgress"}),x({id:"termsAdnConditions",status:"inProgress"})},[y==null?void 0:y.id]);const j=I=>{t(I)},E=()=>{const I=d.findIndex(M=>M.id===e);I<d.length-1&&t(d[I+1].id)};w.useEffect(()=>{(async()=>{console.log(y==null?void 0:y.flowStatus),t(d[(y==null?void 0:y.flowStatus)??1].id);const M=(y==null?void 0:y.id)??"",[L,W,H]=await Promise.all([rk(M),cM({productRequestId:M}),CE({productRequestId:M})]),q=!!(L!=null&&L.id),B=!!(W!=null&&W.length),F=!!(H!=null&&H.id);q?(v("financingDetails","isCompleted"),console.log("hay datos")):(console.log("no hay datos"),v("financingDetails","inProgress")),B?v("warrantyDetails","isCompleted"):v("warrantyDetails","inProgress"),F?v("applicationResolution","isCompleted"):v("applicationResolution","inProgress")})()},[]),w.useEffect(()=>{async function I(){t(d[(y==null?void 0:y.flowStatus)??1].id)}I()},[y,d]),w.useEffect(()=>{async function I(){if(y!=null&&y.chatId)try{const M=await Sh({chatId:(y==null?void 0:y.chatId)??""});if(M){const L=M.messages.filter(W=>!W.isRead&&W.isSenderAdmin);if(L.length>0){const W={id:y.id,content:`Tienes ${L.length} nuevos mensajes sin leer del administrador.`,type:"info",read:!1,createdAt:new Date};m([W])}h(M.messages)}}catch(M){console.log("error",M)}}I()},[y==null?void 0:y.chatId]);const N=async()=>{if(y!=null&&y.chatId)try{if(p&&p.filter(M=>!M.isRead&&M.isSenderAdmin).length>0){const M=p.map(L=>!L.isRead&&L.isSenderAdmin?(console.log("marcando como leído",L),Nh({messageId:L.id,isRead:!0}),{...L,isRead:!0}):L);m([]),h(M)}}catch(I){console.log("Error al marcar mensajes como leídos:",I)}},S=async()=>{};w.useEffect(()=>{async function I(){try{const M=await lM({productRequestId:(y==null?void 0:y.id)??""});l((M==null?void 0:M.name)||"Empresa Desconocida"),(M==null?void 0:M.iconUrl)!==void 0&&M.iconUrl!==null&&u(M.iconUrl)}catch(M){console.error("Error fetching credit request data:",M),l("Error al cargar nombre de la empresa"),se.error("No se pudieron obtener los datos")}}I()},[]);const T=((_=d.find(I=>I.id===e))==null?void 0:_.component)||(()=>o.jsx("div",{children:"No encontrado"}));function C(){const I=d.findIndex(M=>M.id===e);I>0&&t(d[I-1].id)}const k=()=>{n(!0),N(),console.log("El chat con el admin se abrió.")};w.useEffect(()=>{function I(M){b.current&&!b.current.contains(M.target)&&n(!1)}return r?document.addEventListener("mousedown",I):document.removeEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[r]);const A=d.findIndex(I=>I.id===e);return o.jsxs("div",{className:"bg-gray-100 p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4 w-40",children:[c?o.jsx("img",{src:c,alt:"Icono de la empresa",className:"w-24"}):o.jsx(nh,{className:"w-full h-full text-orange-600"}),o.jsx("h1",{className:"text-2xl font-bold",children:s})]}),o.jsxs("button",{className:"relative bg-gray-200 rounded-full p-2 hover:bg-gray-300",onClick:()=>i(!0),children:[o.jsx(GJ,{size:24,className:"text-gray-600"}),f.length>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.length})]})]}),o.jsxs("div",{className:"mx-auto p-6 bg-white shadow rounded-lg",children:[o.jsx("div",{className:"border-b mb-6 flex",children:d.map(I=>o.jsxs("button",{className:`flex-1 text-center py-2 flex items-center justify-center gap-2 ${e===I.id?"border-b-2 border-blue-500 font-semibold":"text-gray-500"}`,onClick:()=>j(I.id),children:[I.label,g(I.id)==="inProgress"&&o.jsx(Gr,{size:16,className:"text-yellow-500"}),g(I.id)==="isCompleted"&&o.jsx(Za,{size:16,className:"text-green-500"})]},I.id))}),o.jsx("div",{className:"pt-6",children:o.jsx(T,{})}),A>0&&o.jsxs("div",{className:"mt-8 border-t pt-4 flex justify-between items-center",children:[o.jsx("button",{onClick:C,disabled:A===0,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Volver"}),o.jsxs("button",{className:"relative bg-green-300 text-gray-700 py-2 px-4 rounded hover:bg-green-400 flex items-center gap-2",onClick:k,children:[o.jsx(_a,{size:20}),"Chat con Admin"]}),o.jsx("button",{onClick:E,disabled:A===d.length-1,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Siguiente"})]})]}),r&&o.jsx("div",{ref:b,children:o.jsx(G9e,{onClose:()=>n(!1),onNewMessage:S,setMessages:h,messages:p})}),a&&o.jsx(X9e,{notifications:f,onClose:()=>i(!1)}),o.jsx(pr,{})]})}function pUe(){return o.jsx(Yr,{children:o.jsx(mUe,{})})}const hUe=({isUploaded:e,isLoading:t,isRejectedByAI:r,isRejected:n,processMessage:a,isPreApproved:i,isApproved:s,uploadProgress:l})=>t?o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),o.jsx("span",{className:"text-blue-700 font-medium",children:a||"Subiendo archivo..."})]}),typeof l=="number"&&o.jsxs("div",{className:"w-full mt-1",children:[o.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${l}%`}})}),o.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[l.toFixed(0),"%"]})]})]}):r&&!e?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qs,{className:"w-6 h-6 text-yellow-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Error"})]}):n?o.jsxs("div",{className:"flex items-center",children:[o.jsx(pt,{className:"w-6 h-6 text-red-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-red-500",children:"Rechazado"})]}):s?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qm,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Aprobado"})]}):i?o.jsxs("div",{className:"flex items-center",children:[o.jsx(qm,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Preaprobado"})]}):e&&r?o.jsxs("div",{className:"flex items-center",children:[o.jsx(tc,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):e?o.jsxs("div",{className:"flex items-center",children:[o.jsx(tc,{className:"w-6 h-6 text-green-500"}),o.jsx("p",{className:"ml-2 text-sm font-bold text-gray-500",children:"Guardado"})]}):o.jsx(lr,{className:"w-6 h-6 text-blue-500"}),YR=({onClick:e})=>o.jsxs("button",{onClick:e,className:"bg-blue-50 text-blue-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-100 w-full flex items-center justify-center",children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Cargar archivos"]}),gUe=({onClick:e=()=>{}})=>o.jsxs("button",{onClick:e,className:"bg-blue-50 text-yellow-500 px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-100 w-full flex items-center justify-center",children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Cargar de todas formas"]}),xUe=({fileName:e,fileSize:t,onRemove:r})=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"truncate max-w-[80%]",children:[o.jsx("p",{className:"text-xs text-gray-600",children:e}),o.jsx("p",{className:"text-xs text-gray-400",children:t})]}),o.jsx("button",{onClick:r,"aria-label":"Eliminar archivo",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1",children:o.jsx(pt,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),vUe=({title:e,isUploaded:t,isLoading:r,isRejectedByAI:n,fileName:a,fileSize:i,IaRejectedReason:s,processMessage:l,onFileChange:c,onForceUpload:u,onRemove:d,onRemoveCard:f,description:m,isRejected:p,rejectedReason:h,isPreApproved:g,isApproved:x,isRequired:v,isBusy:b,id:y,isAddedByUser:j,uploadProgress:E})=>{const[N,S]=w.useState(null),[T,C]=w.useState(!1),k=B=>{var ne;const F=((ne=B.target.files)==null?void 0:ne[0])||null;S(F),c==null||c(F)},A=()=>{S(null),d==null||d()},_=B=>{var ne;B.preventDefault(),C(!1);const F=(ne=B.dataTransfer.files)==null?void 0:ne[0];F&&(S(F),c==null||c(F))},I="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",M="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",L="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,255,0,0.5),0px_3px_6px_-2px_rgba(0,255,0,0.5)] transition-shadow duration-200",W="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",H="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,165,0,0.5),0px_3px_6px_-2px_rgba(255,165,0,0.5)] transition-shadow duration-200",q=(B,F,ne,U,R)=>{const K={rechazado:`border-red-500 ${W}`,error:`border-orange-500 ${H}`,requerido:`border-blue-500 ${M}`,opcional:`border-blue-300 ${I}`,preAprobado:`border-green-500 ${L}`};return R?K.preAprobado:B?K.rechazado:!U&&F?K.error:U&&F||ne?K.requerido:K.opcional};return o.jsxs("div",{className:`relative border-2 ${q(p,n,v,t,g)} 
                rounded-lg overflow-hidden w-full max-w-[250px] min-h-[300px] flex flex-col 
                ${T?"border-dashed border-blue-400 bg-blue-50":""}`,title:m,onDragOver:B=>{B.preventDefault(),C(!0)},onDragLeave:B=>{B.preventDefault(),C(!1)},onDrop:_,children:[T&&o.jsx("div",{className:"absolute inset-0 bg-blue-100/80 backdrop-blur-sm flex items-center justify-center z-20 rounded-lg",children:o.jsxs("div",{className:"text-blue-600 text-sm font-semibold flex items-center gap-2",children:[o.jsx(Ka,{className:"w-5 h-5"}),"Suelta aquí para cargar el archivo"]})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[!t&&j&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:f,className:"p-1 bg-gray-300 text-white rounded-full hover:bg-red-700 transition","aria-label":"Eliminar tarjeta",children:o.jsx(pt,{className:"w-4 h-4"})})}),o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(hUe,{isUploaded:t,isLoading:r,isRejectedByAI:n,processMessage:l,isRejected:p,isPreApproved:g,isApproved:x,uploadProgress:E}),o.jsx("h3",{className:"text-sm font-medium mt-2 text-center",children:e}),o.jsx("h3",{className:`${v?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:v?"Requerido":"Opcional"})]}),!r&&!t&&n&&!b&&o.jsx(gUe,{onClick:u}),!r&&!t&&!n&&!b&&o.jsx(YR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}}),p&&h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-1 text-red-500",children:o.jsx("p",{className:"text-sm",children:h})}),o.jsx(YR,{onClick:()=>{var B;return(B=document.getElementById(`fileInput-${y}`))==null?void 0:B.click()}})]}),t&&n&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{title:"Análisis: "+s,children:o.jsx(qs,{className:"w-6 h-6 text-yellow-500"})}),o.jsx("p",{className:"text-sm text-yellow-500",children:"Este archivo podría contener errores"})]}),o.jsx("input",{id:`fileInput-${y}`,type:"file",onChange:k,className:"hidden","aria-label":`Cargar ${e}`})]}),(N||a)&&!p&&o.jsx("div",{className:"border-t border-blue-200 p-4",children:o.jsx(xUe,{fileName:N?N.name:a||"",fileSize:N?`${(N.size/1024/1024).toFixed(1)} MB`:i||"",onRemove:A})}),s&&!t&&o.jsx("div",{className:"border-t border-blue-200 p-4",children:o.jsx("p",{className:"text-yellow-500 text-xs",children:s})})]})};function yUe({onPlaceholderClick:e}){return o.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:o.jsx(on,{className:"w-6 h-6 text-gray-500"})}),o.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Agregar otro documento"})]})}const JR={"Solicitud de Financiamiento":1,"Estados Financieros Auditados":2,"Estados Financieros Internos":3,"Garantías (Avalúos)":4,"Presentación corporativa":5,"Proyecciones / Flujos indicativos":6,"Buró de crédito":7,"Información adicional":8};function QR(e){const t=e.toLowerCase();return t.includes("antepenúltimo")?3:t.includes("penúltimo")?2:t.includes("último")?1:99}function ZR(e){const t=e.toLowerCase();return t.includes("mensual")&&t.includes("último mes")&&t.includes("año corriente")?1:t.includes("mensual")&&t.includes("año inmediato anterior")?2:t.includes("trimestral")&&t.includes("trimestre inmediato anterior")?3:t.includes("trimestral")&&t.includes("año anterior")?4:t.includes("internos")&&t.includes("último año")?5:t.includes("internos")&&t.includes("penúltimo año")?6:t.includes("internos")&&t.includes("antepenúltimo año")?7:99}function bUe(e){const t=e.toLowerCase();return t.includes("solicitud de financiamiento")?"Solicitud de Financiamiento":t.includes("estados financieros auditados")?"Estados Financieros Auditados":t.includes("estados financieros internos")||t.includes("estado financiero")?"Estados Financieros Internos":t.includes("presentación corporativa")?"Presentación corporativa":t.includes("flujos indicativos")||t.includes("proyecciones")?"Proyecciones / Flujos indicativos":t.includes("buró de crédito")?"Buró de crédito":"Información adicional"}async function wUe(e){const t=await oM({productRequestId:e});return t!=null&&t.requiredDocuments?t.requiredDocuments.map(r=>{const n=bUe(r.documentTemplate.name);return{id:r.id,title:r.documentTemplate.name,description:r.documentTemplate.description,isUploaded:r.isUploaded??!1,isRequired:r.isRequired??!1,fileName:r.fileName??"",fileSize:r.fileSize??"",isRejected:r.isRejected??!1,rejectReason:r.rejectReason??"",isPreApproved:r.isPreApproved??!1,isApproved:r.isApproved??!1,isRejectedByAI:r.isRejectedByAI??!1,IaRejectedReason:r.IaRejectedReason??"",isAddedByUser:r.isAddedByUser??!1,category:n}}).sort((r,n)=>{const a=(JR[r.category]??99)-(JR[n.category]??99);return a!==0?a:r.category==="Estados Financieros Auditados"&&n.category==="Estados Financieros Auditados"?QR(r.title)-QR(n.title):r.category==="Estados Financieros Internos"&&n.category==="Estados Financieros Internos"?ZR(r.title)-ZR(n.title):0}):(console.warn("No se encontraron documentos requeridos."),[])}const SUe=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,l){return l.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>uM(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}},NUe=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=w.useState(!0),[i,s]=w.useState(""),l=f=>{t(m=>m.some(h=>h.id===f)?m.filter(h=>h.id!==f):[...m,{id:f,isRequired:!0}])},c=f=>{t(m=>m.map(p=>p.id===f?{...p,isRequired:!p.isRequired}:p))},u=()=>{a(f=>!f)},d=[...r].sort((f,m)=>{const p=f.position??Number.MAX_SAFE_INTEGER,h=m.position??Number.MAX_SAFE_INTEGER;return p-h});return o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),o.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(m=>m.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const m=e.find(h=>h.id===f.id),p=(m==null?void 0:m.isRequired)??!1;return o.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${p?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:!!m,onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("div",{children:o.jsx("span",{className:`font-medium ${p?"text-green-800":"text-gray-800"}`,children:f.name})})]}),m&&o.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${p?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:p?"Hacer opcional":"Hacer obligatorio",children:p?"Obligatorio":"Opcional"})]},f.id)})})}),o.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})};function EUe({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState("processing"),[u,d]=w.useState({title:"",message:"",details:void 0}),[f,m]=w.useState(!1);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{const x=await sh();s(x)},h=async()=>{c("processing");const v=await SUe({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),m(!0)},g=x=>{x.preventDefault(),h()};return e?o.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[o.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Agregar otro documento"}),o.jsx("p",{className:"text-m text-gray-600 mt-2 italic mb-4",children:'¿No sabes cuál elegir? Busca "información adicional".'}),o.jsx("div",{className:" mb-4",children:o.jsx(NUe,{documents:n,setDocuments:a,docTemplates:i})}),o.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[o.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Agregar"}),o.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&o.jsx(_n,{onClose:t,status:l,messages:u})]}):null}const jUe=async({id:e,file:t,folder:r,docTitle:n,docDescription:a="",onProgress:i})=>{var s,l;try{const c=((s=t.name.split(".").pop())==null?void 0:s.toLowerCase())||"",u=`${e}.${c}`;if(!await ts(e,t,r,i))return{success:!1,error:"Error al subir el documento."};const m=(l=(await Je.get(`${vd.base}/generate-download-url`,{params:{file_name:u,folder:r},headers:{Authorization:`Bearer ${vd.token}`}})).data)==null?void 0:l.downloadUrl;if(!m)return{success:!1,error:"No se pudo obtener la URL de descarga."};const p=await xB(`${n} ${a}`,m);return!p||typeof p.esDocumentoValido!="boolean"?{success:!1,error:"Respuesta inválida del análisis."}:{success:!0,result:p}}catch(c){return console.error("Error en analyzeUploadedDocument:",c),{success:!1,error:"Error inesperado durante el análisis."}}},_Ue=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(0),[s,l]=w.useState(0),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(null),{selectedProduct:h}=ka(),{updateFormStatus:g,getStatusById:x}=pl(),[v,b]=w.useState(!1),y=(_,I)=>{t(M=>M.map(L=>L.id===_?{...L,...I}:L))};async function j(_){await cr({id:_,isUploaded:!0,fileName:m==null?void 0:m.name,fileSize:m?`${(m.size/1024/1024).toFixed(1)} MB`:void 0,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!0,IaRejectedReason:d,UserJustify:""}),y(_,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}const E=async(_,I,M,L)=>{var re,P;if(!I)return;let W=M,H="",q=!0,B;const F=z=>z.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/gi,"").trim(),ne=F(L),R=["informacion adicional","info adicional","documento adicional","adicional","anexo adicional","inf adicional","adicionales"].some(z=>ne.includes(F(z)));let K="";R&&(W=!0,K="Documento adicional no fue analizado por IA.");const J=["pdf","xls","xlsx"],te=(re=I.name.split(".").pop())==null?void 0:re.toLowerCase();if(!te||!J.includes(te)){y(_,{isRejectedByAI:!0,isLoading:!1,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}y(_,{isLoading:!0,processMessage:"Procesando archivo",fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,...K&&{isRejectedByAI:!0,IaRejectedReason:K},uploadProgress:0}),u(!0);try{if(W){if(!await ts(_,I,"documentos",D=>{y(_,{uploadProgress:D})}))throw p(I),f("Error al subir el archivo."),H="Error al subir el archivo.",new Error("Error al subir el archivo.")}else{const z=e.find(ie=>ie.id===_),D=(z==null?void 0:z.description)??"",{success:G,result:O,error:fe}=await jUe({id:_,file:I,folder:"documentos",docTitle:L,docDescription:D,onProgress:ie=>{y(_,{uploadProgress:ie})}});if(!G||!O)throw p(I),f(fe??"Error desconocido"),H=fe??"Error desconocido",new Error(fe);if(q=O.esDocumentoValido,B=q?void 0:`Tu documento no es válido. Razón: ${((P=O.documentoDetectado)==null?void 0:P.split("False. ")[1])||O.documentoDetectado}`,!W&&te==="pdf"&&(y(_,{isRejectedByAI:!q,isLoading:!1,IaRejectedReason:B,uploadProgress:q?0:void 0}),!q)){f(B??""),p(I);return}}await cr({id:_,isUploaded:!0,fileName:I.name,fileSize:`${(I.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:W||!q,IaRejectedReason:K||B,UserJustify:""}),y(_,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100})}catch(z){console.error("Error al manejar el documento:",z),y(_,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:H,isLoading:!1,uploadProgress:0})}finally{u(!1)}},N=async _=>{const I=e.find(M=>M.id===_);if(I)if(I.fileName){y(_,{isLoading:!0,processMessage:"Eliminando archivo"});const M=I.fileName.substring(I.fileName.lastIndexOf("."))||"",L=`${_}${M}`;if(!await Yd(L,"documentos")){se.error("Error al eliminar el archivo del servidor"),y(_,{isLoading:!1});return}await cr({id:_,isUploaded:!1,fileName:"",fileSize:"",fileFolder:"",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""})&&y(_,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isLoading:!1,processMessage:"",isUploaded:!1,isPreApproved:!1,isApproved:!1,isRejected:!1})}else y(_,{isRejectedByAI:!1,fileName:void 0,fileSize:void 0,IaRejectedReason:void 0,isUploaded:!1})},S=async _=>{if(!window.confirm("¿Estás seguro de que deseas eliminar este archivo?"))return;y(_,{isLoading:!0,processMessage:"Eliminando archivo"}),(await rh({requiredDocument:_})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),t(L=>L.filter(W=>W.id!==_))):console.log("Error al eliminar el archivo")},T=async()=>{try{n(!0);const _=await wUe((h==null?void 0:h.id)??"");t(_);const I=_.filter(W=>W.isUploaded).length,M=_.filter(W=>W.isRejected).length;I/_.length*100===100&&M===0?g("uploadDocuments","isCompleted"):(M>0,g("uploadDocuments","inProgress"))}catch(_){console.error("Error al cargar los documentos:",_)}n(!1)},C=async()=>{console.log("solicitar revision"),h!=null&&h.chatId&&await cl({chatId:h.chatId,content:"Sección de carga de documentos finalizada por el usuario (Este es un mensaje automatizado)",isAdmin:!1})&&se.success("Solicitud de revision enviada")};w.useEffect(()=>{T()},[v]),w.useEffect(()=>{const _=A(e),I=e.filter(L=>L.isRejected).length;i(_);const M=k(e);l(M),_===100&&I===0?g("uploadDocuments","isCompleted"):(I>0,g("uploadDocuments","inProgress"))},[e]);const k=_=>_.filter(M=>M.isUploaded).length,A=_=>_.filter(L=>L.isUploaded).length/_.length*100;return o.jsxs(o.Fragment,{children:[r?o.jsx(oh,{}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:o.jsxs("span",{children:[s," / ",e.length]})}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Sube o arrastra los siguientes documentos en PDF."}),c&&o.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"Subiendo archivos"}),o.jsxs("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-items-center mb-8",children:[e.map(_=>o.jsx(vUe,{id:_.id,title:_.title,isRejected:_.isRejected,rejectedReason:_.rejectReason,fileName:_.fileName,fileSize:_.fileSize,IaRejectedReason:_.IaRejectedReason,isUploaded:_.isUploaded,onFileChange:I=>E(_.id,I,_.isRejectedByAI??!1,_.title??""),onForceUpload:()=>j(_.id),onRemove:()=>N(_.id),onRemoveCard:()=>S(_.id),processMessage:_.processMessage,description:_.description??"",isLoading:_.isLoading??!1,isRejectedByAI:_.isRejectedByAI??!1,isPreApproved:_.isPreApproved??!1,isApproved:_.isApproved??!1,isRequired:_.isRequired,isAddedByUser:_.isAddedByUser??!1,isBusy:!1,uploadProgress:_.uploadProgress},_.id)),o.jsx(yUe,{onPlaceholderClick:()=>b(!0)})]}),x("uploadDocuments")==="isCompleted"&&o.jsx("button",{className:"border-2 border-blue-500 text-blue-500 py-2 px-4 rounded-md hover:bg-blue-500 hover:text-white transition",onClick:C,children:"Solicitar revisión"})]}),v&&o.jsx(EUe,{isOpen:v,onClose:()=>b(!1),selectedProductId:(h==null?void 0:h.id)??""})]}),o.jsx(pr,{})]})};function kUe({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=w.useState(""),{selectedProduct:s}=ka(),l=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!1,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await cl({chatId:s.chatId,content:a,isAdmin:!1});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return o.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Admin"}),o.jsx("button",{onClick:e,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>o.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 mr-auto":"bg-gray-100 ml-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[o.jsx("div",{children:u.content}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!1&&o.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),o.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),o.jsx("button",{onClick:l,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:o.jsx(nl,{size:20})})]})]})}function CUe({notifications:e,onClose:t}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),o.jsx("button",{onClick:t,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>o.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?o.jsx(_a,{size:20,className:"text-blue-500"}):o.jsx(At,{size:20,className:"text-green-500"}),o.jsx("span",{children:r.content})]})},r.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}function TUe(){var T;const[e,t]=w.useState("uploadDocuments"),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(null),[d]=w.useState([{id:"uploadDocuments",label:"Subir Documentos",component:_Ue}]),[f,m]=w.useState([]),[p,h]=w.useState([]),{getStatusById:g,addFormStatus:x}=pl(),v=w.useRef(null),{selectedProduct:b}=ka();w.useEffect(()=>{x({id:"uploadDocuments",status:"inProgress"})},[b==null?void 0:b.id]);const y=C=>{t(C)};w.useEffect(()=>{async function C(){if(b!=null&&b.chatId)try{const k=await Sh({chatId:(b==null?void 0:b.chatId)??""});if(k){const A=k.messages.filter(_=>!_.isRead&&_.isSenderAdmin);if(A.length>0){const _={id:b.id,content:`Tienes ${A.length} nuevos mensajes sin leer del administrador.`,type:"info",read:!1,createdAt:new Date};m([_])}h(k.messages)}}catch(k){console.log("error",k)}}C()},[b==null?void 0:b.chatId]);const j=async()=>{if(b!=null&&b.chatId)try{if(p&&p.filter(k=>!k.isRead&&k.isSenderAdmin).length>0){const k=p.map(A=>!A.isRead&&A.isSenderAdmin?(console.log("marcando como leído",A),Nh({messageId:A.id,isRead:!0}),{...A,isRead:!0}):A);m([]),h(k)}}catch(C){console.log("Error al marcar mensajes como leídos:",C)}},E=async()=>{};w.useEffect(()=>{async function C(){try{const k=await lM({productRequestId:(b==null?void 0:b.id)??""});l((k==null?void 0:k.name)||"Empresa Desconocida"),(k==null?void 0:k.iconUrl)!==void 0&&k.iconUrl!==null&&u(k.iconUrl)}catch(k){console.error("Error fetching credit request data:",k),l("Error al cargar nombre de la empresa"),se.error("No se pudieron obtener los datos")}}C()},[]);const N=((T=d.find(C=>C.id===e))==null?void 0:T.component)||(()=>o.jsx("div",{children:"No encontrado"})),S=()=>{n(!0),j(),console.log("El chat con el admin se abrió.")};return w.useEffect(()=>{function C(k){v.current&&!v.current.contains(k.target)&&n(!1)}return r?document.addEventListener("mousedown",C):document.removeEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[r]),o.jsxs("div",{className:"bg-gray-100 p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4 w-40",children:[c?o.jsx("img",{src:c,alt:"Icono de la empresa",className:"w-24"}):o.jsx(nh,{className:"w-full h-full text-orange-600"}),o.jsx("h1",{className:"text-2xl font-bold",children:s})]}),o.jsxs("button",{className:"relative bg-green-300 text-gray-700 py-2 px-4 rounded hover:bg-green-400 flex items-center gap-2",onClick:S,children:[o.jsx(_a,{size:20}),f.length>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.length}),"Chat con Admin"]})]}),o.jsxs("div",{className:"mx-auto p-6 bg-white shadow rounded-lg",children:[o.jsx("div",{className:"border-b mb-6 flex",children:d.map(C=>o.jsxs("button",{className:`flex-1 text-center py-2 flex items-center justify-center gap-2 ${e===C.id?"border-b-2 border-blue-500 font-semibold":"text-gray-500"}`,onClick:()=>y(C.id),children:[C.label,g(C.id)==="inProgress"&&o.jsx(Gr,{size:16,className:"text-yellow-500"}),g(C.id)==="isCompleted"&&o.jsx(Za,{size:16,className:"text-green-500"})]},C.id))}),o.jsx("div",{className:"pt-6",children:o.jsx(N,{})})]}),r&&o.jsx("div",{ref:v,children:o.jsx(kUe,{onClose:()=>n(!1),onNewMessage:E,setMessages:h,messages:p})}),a&&o.jsx(CUe,{notifications:f,onClose:()=>i(!1)}),o.jsx(pr,{})]})}function AUe(){return o.jsx(Yr,{children:o.jsx(TUe,{})})}function IUe(){var n;const{selectedProduct:e}=ka(),t=((n=e==null?void 0:e.verticalName)==null?void 0:n.toLowerCase())||"",r=()=>t.includes("nafin")||t.includes("document ai")?o.jsx(pUe,{}):t.includes("tengo")?o.jsx(AUe,{}):o.jsxs("p",{children:["Tu producto no existe: ",e==null?void 0:e.verticalName]});return o.jsx(o.Fragment,{children:r()})}const PUe=()=>{const e=Mt(),t=()=>{window.location.reload(),e(-1)};return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:o.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 text-center max-w-md",children:[o.jsx("div",{className:"flex justify-center animate-pulse",children:o.jsx(JJ,{size:64,className:"text-red-500"})}),o.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:"Sin conexión"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"No se pudo establecer conexión con el servidor. Por favor, verifica tu conexión a internet o intenta nuevamente más tarde."}),o.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Reintentar"})]})})},OUe=({children:e})=>{const{isLogging:t,conectionError:r}=mt(),n=Mt();return t?o.jsx(oh,{}):r?o.jsx(o.Fragment,{children:e}):(n(-1),null)};function RUe(){const{user:e}=mt(),[t,r]=w.useState([]),[n,a]=w.useState(!1),[i,s]=w.useState(null),[l,c]=w.useState(""),[u,d]=w.useState("viewer"),[f,m]=w.useState(""),[p,h]=w.useState(!1),[g,x]=w.useState(!1),[v,b]=w.useState("processing"),[y,j]=w.useState({title:"",message:"",details:void 0}),E=async C=>{C.preventDefault(),x(!0),b("processing");try{if(!(e!=null&&e.uid)){se.error("No se encontró UID del administrador.");return}(p?await K6({adminTeamMemberId:f,adminTeamId:l,role:u}):await X6({adminUid:e.uid,adminTeamId:l,role:u})).success?(b("success"),j({title:p?"Actualización exitosa":"Registro exitoso",message:p?"Se actualizó el miembro del equipo correctamente.":"Se agregó el miembro al equipo correctamente."}),se.success(p?"¡Actualización exitosa!":"¡Registro exitoso!")):(b("error"),j({title:"Error",message:"Ocurrió un error al procesar la solicitud."}),se.error("Error al procesar."))}catch(k){console.error(k),b("error"),se.error("Ocurrió un error.")}},N=()=>{x(!1)},S=async()=>{a(!0);try{const C=await Pd();r(C)}catch(C){console.error("Error obteniendo equipos",C),s("No se pudieron cargar los equipos.")}finally{a(!1)}},T=async()=>{a(!0);try{const C=await H6();C.id!==""?(h(!0),c(C.id)):h(!1)}catch(C){console.error("Error obteniendo el equipo",C),s("No se pudo obtener tu equipo.")}finally{a(!1)}};return w.useEffect(()=>{S(),T()},[]),i?o.jsx("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[o.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"Error"}),o.jsx("p",{className:"text-center text-red-600",children:i})]})}):o.jsxs("div",{className:"bg-gray-300 flex flex-col justify-center items-center min-h-screen",children:[n&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsx(at,{className:"w-10 h-10 text-white animate-spin"})}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[o.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:p?"Actualizar Miembro de Equipo":"Agregar Miembro a Equipo"}),o.jsxs("div",{className:"flex justify-center mb-4",children:[o.jsx("label",{className:"mr-2 font-semibold",children:"Modo:"}),o.jsxs("select",{value:p?"update":"create",onChange:C=>h(C.target.value==="update"),className:"border border-gray-300 rounded-md px-2 py-1",children:[o.jsx("option",{value:"create",children:"Crear"}),o.jsx("option",{value:"update",children:"Actualizar"})]})]}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p&&o.jsx("input",{type:"text",placeholder:"ID del Miembro del Equipo",value:f,onChange:C=>m(C.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!p&&o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block mb-1 font-medium",children:"Equipo"}),o.jsxs("select",{value:l,onChange:C=>c(C.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Selecciona un equipo"}),t.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))]})]}),o.jsxs("div",{className:"relative mt-4",children:[o.jsx("label",{className:"block mb-1 font-medium",children:"Rol"}),o.jsxs("select",{value:u,onChange:C=>d(C.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"owner",children:"Owner"}),o.jsx("option",{value:"editor",children:"Editor"}),o.jsx("option",{value:"viewer",children:"Viewer"})]})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-300",children:p?"Actualizar Miembro":"Agregar Miembro"})]})]}),g&&o.jsx(_n,{onClose:N,status:v,reload:!0,route:"/",messages:y})]})}function DUe(e,t,r,n,a){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

    <title>Broxel</title>

    <meta name="color-scheme" content="light dark">
    <style type="text/css">
        @media (prefers-color-scheme: dark) {
            .darkmode {
                background - color: #1e1e1e !important;
            }

            .darkmode p {
                color: #777777 !important;
            }
        }
    </style>



    <style type="text/css">
        body,
        #bodyTable,
        #bodyCell {
            height: 100%;
            margin: 0;
            padding: 0;
            width: 100%;
        }

        #templateBody {
            /*background-color:  #f1f3f5 !important;*/
            background - color: #f1f3f5 !important;
            border-top: 0;
            border-bottom: 0;
        }


        #bodyBackground {
            border - collapse: separate !important;
            background-color: #FFFFFF !important;
            border: 1px solid #eeeeee !important;
            border-radius: 12px;
        }

        #templateHeader {
            /*@editable*/
            background - color: #f1f3f5 !important;
            /*@editable*/
            padding-top: 10px;
            /*@editable*/
            padding-bottom: 10px;
        }


        }

        @media only screen and (max-width: 580px) {
            body {
                width: 100% !important;
                min-width: 100% !important;
            }

        }

        @media only screen and (max-width: 580px) {
            .templateContainer {
                max - width: 580px !important;
                width: 100% !important;
            }

        }

        @media only screen and (max-width: 580px) {
            .mcnImage {
                height: auto !important;
                width: 100% !important;
            }

        }




        /*CircularStdBlack*/
        @font-face {
            font - family: "CircularStd";
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
            font-weight: 800;
            font-style: normal;
        }

        /*CircularStdBold*/
        @font-face {
            font - family: "CircularStd";
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
            font-weight: 600;
            font-style: normal;
        }

        /*CircularStdMedium*/
        @font-face {
            font - family: "CircularStd";
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
            font-weight: 500;
            font-style: normal;
        }

        /*CircularStdBook*/
        @font-face {
            font - family: "CircularStd";
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
            src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
            font-weight: 400;
            font-style: normal;
        }


        h1 {
            font - size: 58px !important;
            line-height: 64px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 800 !important;
            letter-spacing: 0px !important;
        }

        h2 {
            font - size: 46px !important;
            line-height: 55px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 800 !important;
            letter-spacing: 0px !important;
        }

        h3 {
            font - size: 40px !important;
            line-height: 49px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 800 !important;
            letter-spacing: 0px !important;
        }

        h4 {
            font - size: 32px !important;
            line-height: 40px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 800 !important;
            letter-spacing: 0px !important;
        }

        h5 {
            font - size: 27px !important;
            line-height: 33px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 800 !important;
            text-transform: none !important;
            letter-spacing: 0px !important;
        }

        h6 {
            font - size: 21px !important;
            line-height: 30px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            font-weight: 800 !important;
            text-transform: none !important;
            color: #001E30 !important;
            letter-spacing: 0px !important;
            margin-bottom: -11px;
        }

        p {
            font - size: 18px !important;
            line-height: 30px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 400 !important;
            letter-spacing: 0px !important;
        }


        li {
            font - size: 18px !important;
            line-height: 30px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 400;
            letter-spacing: 0px !important;
            margin-bottom: 11px;
        }

        ol {
            font - size: 18px !important;
            line-height: 30px !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            color: #001E30 !important;
            font-weight: 400;
            letter-spacing: 0px !important;
            margin-bottom: 11px;
        }

        a {
            color: #0075ff !important;
            font-weight: 700 !important;
            text-decoration: none !important;
            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
        }

        span.linkfooter {
            font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            font-size: 12px;
            font-weight: 300;
            color: #0075ff;
        }

        b {
            font - weight: 800 !important;
        }

        ul {
            margin - left: -11px;
            margin-top: 30px !important;
        }

        @media only screen and (max-width: 480px) {
            .contenedor {
                background - color: #ffffff !important;
                width: 96% !important;
                max-width: 580px !important;
                overflow: hidden !important;
                border-radius: 3px !important;
                padding: 40px 0px !important;
                margin-top: 40px !important;
            }
        }
    </style>




</head>



<body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
    <style type="text/css">
        body,
        table,
        td,
        h1,
        h2,
        h3,
        h4,
        h5,
        ol,
        ul,
        p {
            font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
        }
    </style>


    <!-- PREHEADER AQUÍ-->
    <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
    <!-- PREHEADER AQUÍ-->

    <center>
        <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
            <tr>
                <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                    <!-- BEGIN TEMPLATE // -->




                    <!-- BEGIN HEADER // -->
                    <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                        <tr>
                            <td align="center" valign="top">
                                <span style="line-height:1px;">&nbsp;</span>
                            </td>
                        </tr>
                    </table>
                    <!-- // END HEADER -->







                    <!-- BEGIN HEADER LOGO // -->
                    <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                        <tr>
                            <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                    <tr>
                                        <td align="center" valign="top">
                                            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                <tr>
                                                    <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <!-- // END HEADER LOGO -->






                    <!-- BEGIN BODY // -->
                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                        <tr>
                            <td align="center" valign="top" style="padding: 7px 7px;">
                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                    <tr>
                                        <td align="center" valign="top">
                                            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                <tr>




                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                            <tbody>
                                                                <tr>
                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                            <tbody>
                                                                <tr>
                                                                    <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                        <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                        <!-- TITLE HEADER BODY // -->

                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                            <tr>
                                                                                <td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> ¡Nos complace darte la bienvenida a Clientes TENGO! by Broxel!<span style="color:#00a6f5">.</span></h2>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <!-- FIN TITLE HEADER BODY // -->




                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                        <!-- BEGIN CONTENT // -->

                                                                        <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">

                                                                            <b>${e},</b> te damos una cálida bienvenida a la plataforma <b>Clientes de Broxel.</b> <br> A continuación encontrarás tus credenciales para acceder a la herramienta y poder gestionar de manera más eficiente todos los expedientes de tus clientes:





                                                                            <!--UN ESPACIO-->
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                            <tr>
                                                                                <td align="center">&nbsp;</td>
                                                                            </tr>
                                                                        </table>
                                                                        <!--FIN UN ESPACIO-->


                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                        <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                            Usuario:

                                                                                    </td>
                                                                                    <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                        <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                        <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>





                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                        <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                    </td>



                                                                                    <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                        <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>




                                                                        <!--UN ESPACIO-->
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                            <tr>
                                                                                <td align="center">&nbsp;</td>
                                                                            </tr>
                                                                        </table>
                                                                        <!--FIN UN ESPACIO-->

                                                                        <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                            Si tienes alguna pregunta o necesitas ayuda, no dudes en contactar a <a href="mailto:${a}">${a}</a>.




                                                                            <!--UN ESPACIO-->
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                            <tr>
                                                                                <td align="center">&nbsp;</td>
                                                                            </tr>
                                                                        </table>
                                                                        <!--FIN UN ESPACIO-->




                                                                        <!--TEXTO DESTACADO-->

                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                            Ingresa a la plataforma ahora.</h5>

                                                                        <!--FIN TEXTO DESTACADO-->




                                                                        <!--UN ESPACIO-->
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                            <tr>
                                                                                <td align="center">&nbsp;</td>
                                                                            </tr>
                                                                        </table>
                                                                        <!--FIN UN ESPACIO-->




                                                                        <!-- TABLA BOTON-->
                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                        <!--BOTON-->
                                                                                        <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                            <tbody class="mcnButtonBlockOuter">
                                                                                                <tr>
                                                                                                    <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                        <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                            <tbody>
                                                                                                                <tr>
                                                                                                                    <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                        <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!--BOTON-->


                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TABLA BOTON-->







                                                                        <!--UN ESPACIO-->
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                            <tr>
                                                                                <td align="center">&nbsp;</td>
                                                                            </tr>
                                                                        </table>
                                                                        <!--FIN UN ESPACIO-->





                                                                        <!-- END CONTENT // -->

                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>


                                                    </td>
                                                </tr>
                                            </table>


                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <!-- // END BODY -->






                    <!-- BEGIN FOOTER // -->
                    <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                        <!-- FOOTER -->
                        <tr>
                            <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                    <tbody>


                                        <tr>
                                            <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                        <b>¿Necesitas ayuda?</b><br>
                                                        Llámanos desde México o Estados Unidos al
                                                        <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                        Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                        <br>&nbsp;<br>&nbsp;
                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                </p>
                                            </td>

                                        </tr>

                                        <tr>
                                            <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                            </td>
                        </tr>
                        <!-- FIN FOOTER -->

                    </table>
                    <!-- // END FOOTER -->







                    <!-- // END TEMPLATE -->
                </td>
            </tr>
        </table>
    </center>
</body>

</html>

`}async function FUe(e,t){var r;try{let n=function(c){return c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"")};const a=await _y({displayName:e.displayName,email:e.email,password:e.password},t);if(!a.success||!a.uid)return{success:!1,error:"Error al registrar el usuario en Firebase"};if(!(await kEe(e.email,t)).success)return{success:!1,error:"Error al asignar el rol del administrador"};const s=e.role.id;if(!(await U6({name:e.displayName,email:e.email,phone:e.phone,role:s,isInternal:e.isInternal,isSuperAdmin:e.isSuperAdmin,isMasterAdmin:e.isMasterAdmin,isSupportAdmin:e.isSupportAdmin,isCommercialAgent:e.isCommercialAgent,isControlDeskAgent:e.isControlDeskAgent,authUid:a.uid})).success)return{success:!1,error:"Error al insertar las credenciales del administrador"};if(!e.isMasterAdmin&&!e.isSupportAdmin){const c=e.teamRole||"Owner",u=await Pd(),d=(r=e.role.type)==null?void 0:r.trim();if(d){const f=n(d),m=u.find(b=>n(b.name)===f);let p;if(m)p=m.id,console.log(`Equipo encontrado: ${m.name}`);else{const b=d,y=await EE({name:b});if(y.success&&y.id)p=y.id,console.log(`Equipo creado: ${b}`);else return{success:!1,error:"Error al crear equipo automáticamente"}}if(!(await X6({adminUid:a.uid,adminTeamId:p,role:c})).success)return{success:!1,error:"Error al agregar al administrador al equipo"};const g=e.email,x="Bienvenido",v=DUe(e.displayName,e.email,e.password,"https://documentaihostingpage-269526555085.us-central1.run.app","tengo.contact@broxel.com");await cc(g,void 0,x,v)}}return{success:!0,message:"Administrador registrado exitosamente"}}catch(n){return console.error(n),{success:!1,error:"Ocurrió un error inesperado durante el registro"}}}const MUe=()=>{const e="abcdefghijklmnopqrstuvwxyz",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",n="!@#$%&*+?";let i="";i+=e.charAt(Math.floor(Math.random()*e.length)),i+=t.charAt(Math.floor(Math.random()*t.length)),i+=r.charAt(Math.floor(Math.random()*r.length)),i+=n.charAt(Math.floor(Math.random()*n.length));const s=e+t+r+n;for(let l=i.length;l<12;++l)i+=s.charAt(Math.floor(Math.random()*s.length));return i=i.split("").sort(()=>Math.random()-.5).join(""),i};function LUe({onClose:e}){const[t,r]=w.useState(""),[n,a]=w.useState(""),[i,s]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(void 0),[f]=w.useState("Owner"),[m]=w.useState(!0),[p,h]=w.useState(!1),[g,x]=w.useState(!1),[v,b]=w.useState(!1),[y,j]=w.useState([]),[E,N]=w.useState(""),[S,T]=w.useState(!1),[C,k]=w.useState(null),[A,_]=w.useState(null),[I,M]=w.useState(!1),[L,W]=w.useState(!1),{user:H}=mt(),[q,B]=w.useState(""),[F,ne]=w.useState(g?"master":p?"super":v?"support":"");w.useEffect(()=>{x(F==="master"),h(F==="super"),b(F==="support")},[F]);const U={"":"Superusuario: puede registrar y dar seguimiento a solicitudes de su vertical, pero no puede eliminarlas. Ideal para usuarios operativos en general.",super:"Administrador: puede registrar, dar seguimiento y eliminar solicitudes dentro de su vertical. Ideal para líderes o responsables con control completo.",master:"Superadministrador: tiene acceso a las solicitudes de todas las verticales. Puede gestionar plantillas, ver estadísticas y verticales. Ideal para usuarios con responsabilidades globales o de coordinación general.",support:"Administrador de soporte: puede registrar y crear otros administradores, pero no tiene acceso a datos de equipos ni estadísticas. Ideal para personal de soporte o gestión de usuarios."},R=({text:P})=>o.jsxs("div",{className:"group relative inline-block ml-1",children:[o.jsx(tM,{className:"w-4 h-4 text-gray-500 hover:text-blue-500 transition-colors duration-200"}),o.jsx("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-blue-500 text-white text-m font-semibold rounded-md px-4 py-2 w-[300px] text-center shadow-md",children:P})]}),K=P=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/.test(P);w.useEffect(()=>{(async()=>{try{const[z]=await Promise.all([Sc()]);j(z)}catch(z){k("Error al cargar roles o equipos."),console.error(z)}})()},[]);const J=Array.from(new Set(y.map(P=>P.type).filter(Boolean))),te=y.filter(P=>P.type===E),re=async P=>{if(P.preventDefault(),k(null),_(null),!u){k("Debe seleccionar un rol.");return}if(!(H!=null&&H.idToken)){k("Ocurrió un error interno, recargue la página.");return}T(!0);try{const D=await FUe({displayName:t,email:n,password:i,phone:l,role:u,isInternal:m,isSuperAdmin:g?!1:p,isMasterAdmin:g,isSupportAdmin:v,isCommercialAgent:q==="commercial",isControlDeskAgent:q==="control",teamRole:f||void 0},H.idToken);D.success?(_(D.message||"Administrador registrado exitosamente."),setTimeout(()=>e(),1500)):k(D.error||"Ocurrió un error.")}catch(z){console.error("Error inesperado:",z),k("Ocurrió un error inesperado.")}finally{T(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-start overflow-y-auto px-4 py-10",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl p-8 relative",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Agregar nuevo administrador"}),C&&o.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-100 rounded-md p-3",children:C}),A&&o.jsx("div",{className:"mb-4 text-sm text-green-700 bg-green-100 rounded-md p-3",children:A}),o.jsxs("form",{onSubmit:re,className:"space-y-8",children:[o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(ah,{className:"w-5 h-5"})," Información personal"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Nombre ",o.jsx(R,{text:"Nombre completo del administrador que estás registrando."})]}),o.jsx("input",{type:"text",value:t,onChange:P=>r(P.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:S,required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Teléfono ",o.jsx(R,{text:"Número de contacto del administrador (opcional)."})]}),o.jsx("input",{type:"text",value:l,onChange:P=>c(P.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:S})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Correo electrónico ",o.jsx(R,{text:"Correo que usará el nuevo administrador."})]}),o.jsx("input",{type:"email",value:n,onChange:P=>a(P.target.value),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:S,required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Contraseña ",o.jsx(R,{text:"Debe tener al menos 8 caracteres, incluyendo mayúsculas, minúsculas, números y símbolos."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:L?"text":"password",value:i,onChange:P=>s(P.target.value),onBlur:()=>M(!0),className:"w-full border rounded-md px-3 py-2 text-sm pr-10",disabled:S,required:!0}),o.jsx("button",{type:"button",onClick:()=>W(!L),className:"absolute right-3 top-2.5 text-gray-500",children:L?o.jsx(jE,{className:"w-4 h-4"}):o.jsx(rl,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"mt-2 flex justify-end",children:o.jsx("button",{type:"button",onClick:()=>s(MUe()),className:"text-blue-600 text-sm hover:underline",disabled:S,children:"Sugerir contraseña"})}),I&&!K(i)&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un símbolo."})]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(nQ,{className:"w-5 h-5"})," Rol y permisos"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selecciona el rol de administrador:"}),o.jsx("div",{className:"flex flex-wrap gap-4",children:[{label:"Super usuario",value:""},{label:"Administrador",value:"super"},{label:"Super Administrador",value:"master"},{label:"Soporte",value:"support"}].map(({label:P,value:z})=>o.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.jsx(R,{text:U[z]}),o.jsx("button",{type:"button",onClick:()=>ne(z),className:`px-3 py-1 rounded-full text-sm border transition ${F===z?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:P})]},z))})]}),!g&&!v&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Vertical ",o.jsx(R,{text:"Categoría general del producto que administrará."})]}),o.jsxs("select",{value:E,onChange:P=>{N(P.target.value),d(void 0)},className:"w-full border rounded-md px-3 py-2 text-sm",disabled:S,required:!0,children:[o.jsx("option",{value:"",children:"Seleccione una vertical"}),J.map(P=>o.jsx("option",{value:P,children:P},P))]})]}),!g&&!v&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Producto ",o.jsx(R,{text:"Producto específico dentro de la vertical seleccionada."})]}),o.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:P=>d(te.find(z=>z.id===P.target.value)||void 0),className:"w-full border rounded-md px-3 py-2 text-sm",disabled:!E||S,required:!0,children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),te.map(P=>o.jsx("option",{value:P.id,children:P.name||"Sin nombre"},P.id))]})]}),u&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Tipo de agente"," ",o.jsx(R,{text:"Opcional: sólo uno a la vez. Si no aplica, no selecciones ninguno."})]}),o.jsx("div",{className:"flex flex-wrap gap-4",children:[{label:"Agente Comercial",value:"commercial"},{label:"Agente Mesa de Control",value:"control"}].map(({label:P,value:z})=>o.jsx("button",{type:"button",onClick:()=>B(q===z?"":z),className:`px-3 py-1 rounded-full text-sm border transition ${q===z?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:P},z))})]})]})]}),o.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:S||!K(i),children:S?"Guardando...":"Guardar"}),o.jsx("button",{type:"button",onClick:e,className:"text-gray-600 hover:underline",children:"Cancelar"})]})]})]})})}async function $Ue(e){var t;try{let r=function(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"")};if(!(await q6({name:e.displayName,email:e.email,phone:e.phone,role:e.role?e.role.id:void 0,isInternal:e.isInternal,isSuperAdmin:e.isSuperAdmin,isMasterAdmin:e.isMasterAdmin,isSupportAdmin:e.isSupportAdmin,isCommercialAgent:e.isCommercialAgent,isControlDeskAgent:e.isControlDeskAgent,adminUid:e.uid})).success)return{success:!1,error:"Error al actualizar las credenciales del administrador."};if(!e.isMasterAdmin&&!e.isSupportAdmin){const a="Owner",i=await Pd(),s=(t=e.role.type)==null?void 0:t.trim();if(s){const l=r(s),c=i.find(f=>r(f.name)===l);let u;if(c)u=c.id,console.log(`Equipo encontrado: ${c.name}`);else{const f=s,m=await EE({name:f});if(m.success&&m.id)u=m.id,console.log(`Equipo creado: ${f}`);else return{success:!1,error:"Error al crear equipo automáticamente"}}if(!(await K6({adminTeamMemberId:e.adminTeamMemberId,adminTeamId:u,role:a})).success)return{success:!1,error:"Error al agregar al administrador al equipo"}}}return{success:!0,message:"Administrador actualizado correctamente."}}catch(r){return console.error("Error en updateAdminInfo:",r),{success:!1,error:"Ocurrió un error inesperado durante la actualización."}}}function BUe({admin:e,onClose:t}){const[r,n]=w.useState(e.name||""),[a]=w.useState(e.email||""),[i,s]=w.useState(null),[l]=w.useState(e.isInternal),[c,u]=w.useState(e.isSuperAdmin),[d,f]=w.useState(e.isMasterAdmin),[m,p]=w.useState(e.isSupportAdmin),[h,g]=w.useState(e.isCommercialAgent?"commercial":e.isControlDeskAgent?"control":""),[x,v]=w.useState([]),[b,y]=w.useState(""),[j,E]=w.useState(!1),[N,S]=w.useState(null),[T,C]=w.useState(null),[k,A]=w.useState(d?"master":c?"super":m?"support":"");w.useEffect(()=>{f(k==="master"),u(k==="super"),p(k==="support")},[k]);const _={"":"Superusuario: puede registrar y dar seguimiento a solicitudes de su vertical, pero no puede eliminarlas. Ideal para usuarios operativos en general.",super:"Administrador: puede registrar, dar seguimiento y eliminar solicitudes dentro de su vertical. Ideal para líderes o responsables con control completo.",master:"Superadministrador: tiene acceso a las solicitudes de todas las verticales. Puede gestionar plantillas, ver estadísticas y verticales. Ideal para usuarios con responsabilidades globales o de coordinación general.",support:"Administrador de soporte: puede registrar y crear otros administradores, pero no tiene acceso a datos de equipos ni estadísticas. Ideal para personal de soporte o gestión de usuarios."},I=({text:H})=>o.jsxs("div",{className:"group relative inline-block ml-1",children:[o.jsx(tM,{className:"w-4 h-4 text-gray-500 hover:text-blue-500 transition-colors duration-200"}),o.jsx("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-blue-500 text-white text-m font-semibold rounded-md px-4 py-2 w-[300px] text-center shadow-md",children:H})]});w.useEffect(()=>{(async()=>{try{const[q]=await Promise.all([Sc()]);v(q);const B=q.find(F=>F.id===e.role);B&&(s(B),y(B.type??""))}catch(q){C("Error al cargar roles o equipos."),console.error(q)}})()},[e.role]);const M=Array.from(new Set(x.map(H=>H.type).filter(Boolean))),L=x.filter(H=>H.type===b),W=async H=>{var q;if(H.preventDefault(),C(null),S(null),E(!0),!i){C("Debes seleccionar un producto válido."),E(!1);return}try{const B=await $Ue({uid:e.uid,displayName:r,role:i,isInternal:l,isSuperAdmin:c,isMasterAdmin:d,isSupportAdmin:m,isCommercialAgent:h==="commercial",isControlDeskAgent:h==="control",adminTeamMemberId:((q=e.adminTeamMember_on_admin)==null?void 0:q.id)??""});B.success?(S(B.message||"Administrador actualizado correctamente."),setTimeout(()=>t(),1500)):C(B.error||"Ocurrió un error.")}catch(B){C("Ocurrió un error inesperado."),console.error(B)}finally{E(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 overflow-y-auto flex justify-center items-start py-10 px-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl p-8 relative max-h-screen overflow-y-auto",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-xl",children:o.jsx(pt,{})}),o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Actualizar administrador"}),T&&o.jsx("div",{className:"mb-4 p-3 text-sm text-red-700 bg-red-100 rounded-md",children:T}),N&&o.jsx("div",{className:"mb-4 p-3 text-sm text-green-700 bg-green-100 rounded-md",children:N}),o.jsxs("form",{onSubmit:W,className:"space-y-8 divide-y divide-gray-200",children:[o.jsxs("fieldset",{children:[o.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Información personal"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Nombre",value:r,onChange:H=>n(H.target.value),className:"mt-1 w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:j||d||m}),o.jsx("input",{type:"email",placeholder:"Correo electrónico",value:a,readOnly:!0,disabled:!0,className:"mt-1 w-full border bg-gray-100 rounded-md px-3 py-2 text-sm text-gray-600"})]})]}),o.jsxs("fieldset",{children:[o.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Rol y permisos"}),o.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:[{label:"Super usuario",value:""},{label:"Administrador",value:"super"},{label:"Super Administrador",value:"master"},{label:"Soporte",value:"support"}].map(({label:H,value:q})=>o.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.jsx(I,{text:_[q]}),o.jsx("button",{type:"button",onClick:()=>A(q),className:`px-3 py-1 rounded-full text-sm border transition ${k===q?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:H})]},q))}),!d&&!m&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("select",{value:b,onChange:H=>{y(H.target.value),s(null),g("")},className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:j,children:[o.jsx("option",{value:"",children:"Seleccione una vertical"}),M.map(H=>o.jsx("option",{value:H,children:H},H))]}),o.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:H=>{const q=x.find(B=>B.id===H.target.value)||null;s(q),g("")},className:"mt-1 block w-full border rounded-md px-3 py-2 text-sm",required:!0,disabled:!b||j,children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),L.map(H=>o.jsx("option",{value:H.id,children:H.name||"Sin nombre"},H.id))]})]}),i&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Tipo de agente ",o.jsx(I,{text:"Opcional: sólo uno a la vez. Si no aplica, no selecciones ninguno."})]}),o.jsx("div",{className:"flex flex-wrap gap-4",children:[{label:"Agente Comercial",value:"commercial"},{label:"Agente Mesa de Control",value:"control"}].map(({label:H,value:q})=>o.jsx("button",{type:"button",onClick:()=>g(h===q?"":q),className:`px-3 py-1 rounded-full text-sm border transition ${h===q?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:H},q))})]})]})]}),o.jsxs("div",{className:"pt-6 flex justify-end items-center gap-4",children:[j&&o.jsx("span",{className:"text-sm text-gray-500",children:"Actualizando..."}),o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",disabled:!i||j,children:j?"Guardando...":"Actualizar"})]})]})]})})}function zUe({admin:e,onClose:t}){var f;const[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState(""),c=m=>m.isSupportAdmin?{label:"Soporte"}:m.isMasterAdmin?{label:"Super Administrador"}:m.isSuperAdmin?{label:"Administrador"}:{label:"Super usuario"};w.useEffect(()=>{(async()=>{const[p,h]=await Promise.all([Sc(),Pd()]);n(p),i(h);const g=p.find(x=>x.id===e.role);g!=null&&g.type&&l(g.type)})()},[e]);const u=r.find(m=>m.id===e.role),d=a.find(m=>{var p;return m.id===((p=e.adminTeamMember_on_admin)==null?void 0:p.adminTeamId)});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6 space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Detalles del administrador"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Nombre:"})," ",e.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Correo:"})," ",e.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo:"})," ",e.isInternal?"Interno":"Externo"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Rol:"})," ",c(e).label]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Vertical:"})," ",s||"No definida"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Producto:"})," ",(u==null?void 0:u.name)||"Sin producto"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Equipo:"})," ",(d==null?void 0:d.name)||"Sin equipo"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Rol en equipo:"})," ",((f=e.adminTeamMember_on_admin)==null?void 0:f.role)||"No asignado"]})]}),o.jsx("div",{className:"pt-4 text-right",children:o.jsx("button",{onClick:t,className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Cerrar"})})]})})}function UUe({adminName:e,onConfirm:t,onCancel:r,isLoading:n}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"¿Eliminar administrador?"}),o.jsxs("p",{className:"text-sm mb-6 text-gray-600",children:["¿Estás seguro de que deseas eliminar a ",o.jsx("strong",{children:e}),"? Esta acción no se puede deshacer."]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:r,disabled:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50",children:"Cancelar"}),o.jsx("button",{onClick:t,disabled:n,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 flex items-center gap-2 disabled:opacity-50",children:n?o.jsxs(o.Fragment,{children:[o.jsx(at,{className:"w-4 h-4 animate-spin"}),"Eliminando..."]}):"Confirmar"})]})]})})}async function qUe({adminUid:e,adminToken:t}){try{return(await SJ({adminUid:e})).success?(await yh({uid:e},t)).success?{success:!0,message:"Administrador eliminado correctamente."}:{success:!1,message:"Falló la eliminación del usuario en Firebase",error:"Error desconocido"}:{success:!1,error:"No se pudo eliminar el administrador en la base de datos"}}catch(r){return console.error("Error al eliminar al administrador:",r),{success:!1,error:"Error inesperado al eliminar el administrador."}}}function VUe(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState(null),[s,l]=w.useState(null),[c,u]=w.useState([]),[d,f]=w.useState([]),[,m]=w.useState([]),[p,h]=w.useState(!0),[g,x]=w.useState(!1),{user:v}=mt(),b=Mt(),[y,j]=w.useState(null),[E,N]=w.useState("asc");w.useEffect(()=>{(async()=>{h(!0);const[_,I,M]=await Promise.all([Y6(),Sc(),Pd()]);u(_),f(I),m(M),h(!1)})()},[e,r]);const S=A=>A.isSupportAdmin?{label:"Soporte",color:"red"}:A.isMasterAdmin?{label:"Super Administrador",color:"green"}:A.isSuperAdmin?{label:"Administrador",color:"blue"}:{label:"Super usuario",color:"gray"},T=A=>{y===A?N(_=>_==="asc"?"desc":"asc"):(j(A),N("asc"))},C=[...c].sort((A,_)=>{if(!y)return 0;let I="",M="";if(y==="role"){const L=W=>W.isMasterAdmin?3:W.isSuperAdmin?2:1;return E==="asc"?L(A)-L(_):L(_)-L(A)}else if(y==="type")I=A.isInternal?"Interno":"Externo",M=_.isInternal?"Interno":"Externo";else if(y==="vertical"){const L=d.find(H=>H.id===A.role),W=d.find(H=>H.id===_.role);I=`${(L==null?void 0:L.type)||""} ${(L==null?void 0:L.name)||""}`,M=`${(W==null?void 0:W.type)||""} ${(W==null?void 0:W.name)||""}`}return E==="asc"?I.localeCompare(M):M.localeCompare(I)}),k=async()=>{if(!a||!(v!=null&&v.idToken))return;x(!0);const A=await qUe({adminUid:a.uid,adminToken:v.idToken});x(!1),A.success?u(_=>_.filter(I=>I.id!==a.id)):alert(A.error||"Error al eliminar administrador"),i(null)};return o.jsxs("div",{className:"min-h-screen text-gray-800 py-10 px-4 sm:px-6 lg:px-8",children:[o.jsx("button",{onClick:()=>b(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:o.jsx(tl,{className:"w-6 h-6"})}),o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Administradores"}),o.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition",children:"Nuevo administrador"})]}),o.jsxs("section",{className:"bg-white border rounded-xl shadow-sm",children:[o.jsx("div",{className:"px-6 py-4 border-b",children:o.jsx("h3",{className:"text-lg font-medium",children:"Lista de administradores"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-100 text-left text-xs text-gray-500 uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Nombre"}),o.jsx("th",{className:"px-6 py-3",children:"Correo"}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>T("role"),children:["Rol"," ",y==="role"&&(E==="asc"?o.jsx(xi,{size:12}):o.jsx(Pr,{size:12}))]}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>T("type"),children:["Tipo"," ",y==="type"&&(E==="asc"?o.jsx(xi,{size:12}):o.jsx(Pr,{size:12}))]}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>T("vertical"),children:["Vertical"," ",y==="vertical"&&(E==="asc"?o.jsx(xi,{size:12}):o.jsx(Pr,{size:12}))]}),o.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:p?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:"Cargando administradores..."})}):C.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No hay administradores registrados."})}):C.map(A=>{const _=S(A);return o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:I=>{I.target.tagName!=="BUTTON"&&l(A)},children:[o.jsx("td",{className:"px-6 py-4 font-medium",children:A.name}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:A.email}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full bg-${_.color}-100 text-${_.color}-800`,children:_.label})}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:A.isInternal?"Interno":"Externo"}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:(()=>{const I=d.find(M=>M.id===A.role);return I?`${I.type??"Sin vertical"} / ${I.name??"Sin producto"}`:"No Aplica"})()}),o.jsxs("td",{className:"px-6 py-4 space-x-3",children:[o.jsx("button",{onClick:()=>n(A),className:"text-blue-600 hover:underline",children:"Editar"}),o.jsx("button",{onClick:()=>i(A),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},A.id)})})]})})]})]}),e&&o.jsx(LUe,{onClose:()=>t(!1)}),r&&o.jsx(BUe,{admin:r,onClose:()=>n(null)}),a&&o.jsx(UUe,{adminName:a.name,onConfirm:k,onCancel:()=>i(null),isLoading:g}),s&&o.jsx(zUe,{admin:s,onClose:()=>l(null)})]})}function HUe(){return o.jsx(Yr,{children:o.jsx(VUe,{})})}function WUe({onClose:e,onCreate:t,isLoading:r}){const[n,a]=w.useState(""),i=()=>{n.trim()&&t(n.trim())};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[o.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:o.jsx(pt,{size:20})}),o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nuevo equipo"}),o.jsx("input",{type:"text",placeholder:"Nombre del equipo",value:n,onChange:s=>a(s.target.value),className:"w-full border px-3 py-2 rounded mb-4",autoFocus:!0}),o.jsxs("button",{onClick:i,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2",children:[o.jsx(on,{size:16})," Crear equipo"]})]})})}function GUe(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState(!0),[s,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[m,p]=w.useState(!1),h=Mt();w.useEffect(()=>{g()},[]);const g=async()=>{i(!0);const[j,E]=await Promise.all([Y6(),Pd()]);t(j),n(E),i(!1)},x=j=>e.filter(E=>{var N;return((N=E.adminTeamMember_on_admin)==null?void 0:N.adminTeamId)===j}),v=async j=>{if(x(j).length>0){alert("No puedes eliminar un equipo con integrantes asignados.");return}if(!window.confirm("¿Estás seguro que deseas eliminar este equipo?"))return;(await LJ(j)).success?await g():alert("Error al eliminar el equipo")},b=j=>{u(j.id),f(j.name)},y=async()=>{if(!c||!d.trim())return;(await $J({adminTeamId:c,name:d.trim()})).success?(u(null),await g()):alert("Error al actualizar el equipo")};return o.jsxs("div",{className:"min-h-screen text-gray-800 py-10 px-4 sm:px-6 lg:px-8",children:[o.jsx("button",{onClick:()=>h(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",title:"Volver",children:o.jsx(tl,{className:"w-6 h-6"})}),o.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Equipos de Administradores"}),o.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm flex items-center gap-2",children:[o.jsx(on,{size:16})," Nuevo equipo"]})]}),a?o.jsx("p",{className:"text-gray-500",children:"Cargando equipos..."}):r.length===0?o.jsx("p",{className:"text-gray-500",children:"No hay equipos registrados."}):o.jsx("div",{className:"space-y-4",children:r.map(j=>{const E=x(j.id),N=c===j.id;return o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ih,{className:"text-blue-500"}),N?o.jsx("input",{type:"text",value:d,onChange:S=>f(S.target.value),className:"border px-2 py-1 text-sm rounded"}):o.jsx("h3",{className:"text-lg font-medium text-gray-800",children:j.name})]}),o.jsx("div",{className:"flex gap-2",children:N?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y,className:"text-green-600 hover:text-green-800",children:o.jsx(tc,{size:18})}),o.jsx("button",{onClick:()=>u(null),className:"text-gray-600 hover:text-gray-800",children:o.jsx(pt,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>b(j),className:"text-gray-600 hover:text-gray-800",title:"Editar nombre",children:o.jsx(Fg,{size:18})}),o.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-800",title:"Eliminar equipo",children:o.jsx(Zi,{size:18})})]})})]}),E.length>0?o.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 pl-2",children:E.map(S=>o.jsxs("li",{children:[S.name," (",S.email,")"]},S.id))}):o.jsx("p",{className:"text-gray-500 text-sm pl-1",children:"Sin integrantes."})]},j.id)})})]}),m&&o.jsx(WUe,{onClose:()=>p(!1),isLoading:s,onCreate:async j=>{l(!0),(await EE({name:j})).success?(p(!1),await g()):alert("Error al crear el equipo"),l(!1)}})]})}function XUe(){return o.jsx(Yr,{children:o.jsx(GUe,{})})}const J9=({documents:e,setDocuments:t,docTemplates:r})=>{const[n,a]=w.useState(!0),[i,s]=w.useState(""),l=f=>{t(m=>m.some(h=>h.id===f)?m.filter(h=>h.id!==f):[...m,{id:f,isRequired:!1}])},c=f=>{t(m=>m.map(p=>p.id===f?{...p,isRequired:!p.isRequired}:p))},u=()=>{a(f=>!f)};w.useEffect(()=>{t(f=>{const m=r.filter(p=>p.isRequired===!0).filter(p=>!f.some(h=>h.id===p.id)).map(p=>({id:p.id,isRequired:!0}));return m.length===0?f:[...f,...m]})},[r,t]);const d=[...r].sort((f,m)=>{const p=f.position??Number.MAX_SAFE_INTEGER,h=m.position??Number.MAX_SAFE_INTEGER;return p-h});return o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar documento...",value:i,onChange:f=>s(f.target.value),className:"w-full p-2 mb-4 border rounded-md"}),o.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 mt-4",children:d.filter(f=>(n||e.some(m=>m.id===f.id))&&f.name.toLowerCase().includes(i.toLowerCase())).map(f=>{const m=e.find(h=>h.id===f.id),p=(m==null?void 0:m.isRequired)??!1;return o.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-md text-sm border ${p?"bg-green-50 border-green-400":"bg-gray-50 border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:!!m,onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("div",{children:o.jsx("span",{className:`font-medium ${p?"text-green-800":"text-gray-800"}`,children:f.name})})]}),m&&o.jsx("button",{type:"button",onClick:()=>c(f.id),className:`p-1 rounded-full text-xs px-3 py-1 transition-colors ${p?"bg-green-100 hover:bg-green-200 text-green-800":"bg-blue-100 hover:bg-blue-200 text-blue-800"}`,title:p?"Hacer opcional":"Hacer obligatorio",children:p?"Obligatorio":"Opcional"})]},f.id)})})}),o.jsx("button",{type:"button",onClick:u,className:"mt-4 text-blue-600 hover:text-blue-800",children:n?"Ver seleccionados":"Ver todos los documentos"})]})},KUe=({handleSubmit:e})=>o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-bold text-white bg-blue-500 rounded",onClick:e,children:"Registrar cliente y documentos"})}),nv=class nv{static getText(t){return nv.mappings[t]||"Texto no asignado"}};cf(nv,"mappings",{1:"Registro Prospecto",2:"Recepcion Inteligente",3:"Mesa de control",4:"Análisis financiero"});let ev=nv;function YUe({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:n})}),a<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),o.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>o.jsx("div",{className:"flex flex-col text-center w-full",children:o.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:ev.getText(n)})},n))})]})}const JUe=({razonSocial:e,setRazonSocial:t,userName:r,setUserName:n,userEmail:a,setUserEmail:i,rfc:s,setRfc:l,setFilledStatus:c})=>{const[u,d]=w.useState({}),[f,m]=w.useState({}),p=b=>/^[A-ZÑ&]{3}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/.test(b.trim()),h=b=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b),g=()=>{const b={};e.trim()||(b.razonSocial="La razón social de la empresa es obligatoria."),s.trim()?p(s)||(b.rfc="El RFC no es válido."):b.rfc="El RFC es obligatorio.",a.trim()?h(a)||(b.userEmail="El correo electrónico no es válido."):b.userEmail="El correo electrónico es obligatorio.",d(b),c(Object.keys(b).length===0)};w.useEffect(()=>{g()},[e,s,r,a]);const x=b=>{m(y=>({...y,[b]:!0}))},v="w-full p-2 text-sm bg-gray-100 rounded border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400";return o.jsxs("div",{children:[o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Información de la empresa"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Ingresa los datos básicos de tu empresa como el nombre."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Razón Social ",o.jsx("span",{className:"text-red-500",children:"*"}),f.razonSocial&&u.razonSocial&&o.jsx("span",{className:"text-red-500 text-xs",children:u.razonSocial})]}),o.jsx("input",{type:"text",value:e,onChange:b=>t(b.target.value),onBlur:()=>x("razonSocial"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["RFC ",o.jsx("span",{className:"text-red-500",children:"*"}),f.rfc&&u.rfc&&o.jsx("span",{className:"text-red-500 text-xs",children:u.rfc})]}),o.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),onBlur:()=>x("rfc"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"flex items-center text-sm mb-1 gap-2",children:"Clave de cliente"}),o.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onBlur:()=>x("userName"),className:v})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center text-sm mb-1 gap-2",children:["Correo Electrónico ",o.jsx("span",{className:"text-red-500",children:"*"}),f.userEmail&&u.userEmail&&o.jsx("span",{className:"text-red-500 text-xs",children:u.userEmail})]}),o.jsx("input",{type:"email",value:a,onChange:b=>i(b.target.value),onBlur:()=>x("userEmail"),className:v})]})]})};async function QUe(e,t,r=12){const a=`${e.split("@")[0]}:${t}`,s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(l));return btoa(String.fromCharCode(...c)).replace(/[^a-zA-Z0-9]/g,"").slice(0,r)}function ZUe(e,t,r,n){return`
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
                        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

                            <title>Broxel</title>

                            <meta name="color-scheme" content="light dark">
                                <style type="text/css">
                                    @media (prefers-color-scheme: dark) {
            .darkmode {background - color: #1e1e1e !important; }
                                    .darkmode p {color: #777777 !important; }
}

                                </style>



                                <style type="text/css">
                                    body,#bodyTable,#bodyCell{
                                        height:100%;
                                    margin:0;
                                    padding:0;
                                    width:100%;
    }

                                    #templateBody{
                                        /*background-color:  #f1f3f5 !important;*/
                                        background - color:  #f1f3f5 !important;
                                    border-top:0;
                                    border-bottom:0;
    }


                                    #bodyBackground{
                                        border - collapse:separate !important;
                                    background-color:#FFFFFF !important;
                                    border:1px solid #eeeeee !important;
                                    border-radius:12px;
    }
                                    #templateHeader{
        /*@editable*/background - color: #f1f3f5 !important;
        /*@editable*/padding-top:10px;
        /*@editable*/padding-bottom:10px;
    }


}   @media only screen and (max-width: 580px){
                                        body{
                                        width:100% !important;
                                    min-width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .templateContainer{
                                        max - width:580px !important;
                                    width:100% !important;
    }

}   @media only screen and (max-width: 580px){
    .mcnImage{
                                        height:auto !important;
                                    width:100% !important;
    }

}




                                    /*CircularStdBlack*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 800;
                                    font-style: normal;
}

                                    /*CircularStdBold*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 600;
                                    font-style: normal;
}

                                    /*CircularStdMedium*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 500;
                                    font-style: normal;
}

                                    /*CircularStdBook*/
                                    @font-face {
                                        font - family: "CircularStd";
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                                    src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                                    font-weight: 400;
                                    font-style: normal;
}


                                    h1 {
                                        font - size: 58px !important;
                                    line-height: 64px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h2 {
                                        font - size: 46px !important;
                                    line-height: 55px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h3 {
                                        font - size: 40px !important;
                                    line-height: 49px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h4 {
                                        font - size: 32px !important;
                                    line-height: 40px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    letter-spacing: 0px !important;
}

                                    h5 {
                                        font - size: 27px !important;
                                    line-height: 33px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    letter-spacing: 0px !important;
}

                                    h6 {
                                        font - size: 21px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-weight: 800 !important;
                                    text-transform: none !important;
                                    color: #001E30 !important;
                                    letter-spacing: 0px !important;
                                    margin-bottom:-11px;
}

                                    p {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400 !important;
                                    letter-spacing: 0px !important;
}


                                    li {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    ol {
                                        font - size: 18px !important;
                                    line-height: 30px !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    color: #001E30 !important;
                                    font-weight: 400;
                                    letter-spacing: 0px !important;
                                    margin-bottom: 11px;
}

                                    a{
                                        color:#0075ff !important;
                                    font-weight:700 !important;
                                    text-decoration:none !important;
                                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
}
                                    span.linkfooter{
                                        font - family:'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                                    font-size:12px;
                                    font-weight:300;
                                    color:#0075ff;
}

                                    b{
                                        font - weight:800 !important;
}

                                    ul{
                                        margin - left:-11px;
                                    margin-top:30px !important;
}

                                    @media only screen and (max-width: 480px){
.contenedor{
                                        background - color:#ffffff !important;
                                    width:96% !important;
                                    max-width:580px !important;
                                    overflow:hidden !important;
                                    border-radius:3px!important;
                                    padding:40px 0px!important;
                                    margin-top:40px!important;
}}








                                </style>




                            </head>



                            <body leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
                                <style type="text/css">body, table, td, h1, h2, h3, h4, h5, ol, ul, p {font - family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; }</style>


                                <!-- PREHEADER AQUÍ-->
                                <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la plataforma y completa tus datos</span>
                                <!-- PREHEADER AQUÍ-->

                                <center>
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                                        <tr>
                                            <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                                                <!-- BEGIN TEMPLATE // -->




                                                <!-- BEGIN HEADER // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader"><tr><td align="center" valign="top">
                                                    <span style="line-height:1px;">&nbsp;</span>
                                                </td></tr></table>
                                                <!-- // END HEADER -->







                                                <!-- BEGIN HEADER LOGO // -->
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                                        <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                                    <tr><td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">



                                                                        <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">




                                                                    </td></tr></table>
                                                            </td></tr></table>
                                                    </td></tr></table>
                                                <!-- // END HEADER LOGO -->






                                                <!-- BEGIN BODY // -->
                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                                                    <tr><td align="center" valign="top" style="padding: 7px 7px;">
                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                                            <tr><td align="center" valign="top">
                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%"><tr>




                                                                    <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                                    <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                                        <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->





                                                                        <!-- IMAGEN SUPERIOR EN BODY // -->
                                                                        <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                                        <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;" class="mcnImage">
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <!-- FIN IMAGEN SUPERIOR EN BODY // -->



                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                            <tbody><tr><td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">


                                                                                <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->




                                                                                <!-- TITLE HEADER BODY // -->

                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;"><tr><td class="fallback-text" align="center">
                                                                                    <h2 style="
font-size: 40px !important;
line-height: 51px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important; 
text-align: center !important;
max-width: 480px !important;
letter-spacing: 0px !important;"> ¡Nos complace darte la bienvenida a Clientes TENGO! by Broxel!<span style="color:#00a6f5">.</span></h2></td></tr></table>
                                                                            </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- FIN TITLE HEADER BODY // -->




                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">




                                                                                <!-- BEGIN CONTENT // -->

                                                                                <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                    <b>${e}</b> te damos la bienvenida a la plataforma <b>TENGO.</b> A continuación te compartimos tus credenciales de acceso para completar los detalles de tu&nbsp;solicitud:




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->



                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">
                                                                                                Usuario:

                                                                                        </td>
                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">



                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400; 
margin-top:13px !important; margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${t}</b>


                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:5px; padding-right:0px; padding-bottom:0px; padding-left:0px;">
                                                                                            <hr style="color: #b4c4d6 !important;
height: 0px;
border:0.5px solid;">

                                                                                        </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>





                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                        <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                            <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;">Contraseña:

                                                                                        </td>



                                                                                            <td class="fallback-text" valign="top" align="right" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
font-size: 1em !important;
line-height: 30px !important;
font-family: 'CircularStd', 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;"><b>${r}</b>



                                                                                            </td>
                                                                                        </tr>
                                                                                        </tbody>
                                                                                    </table>




                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                    <!--FIN UN ESPACIO-->

                                                                                    <p style="
font-size: 18px !important;
line-height: 30px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
text-align: center !important;
font-weight: 400;
margin-top:13px !important;
margin-bottom: 13px !important;
letter-spacing: 0px !important;
max-width: 480px;
margin: auto;">
                                                                                        En la plataforma encontrarás toda la información necesaria, así como herramientas que te ayudarán a gestionar tu solicitud de manera rápida y sencilla.


                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!--TEXTO DESTACADO-->

                                                                                        <h5 style="font-size: 27px !important;
line-height: 33px !important;
font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
color: #001E30 !important;
font-weight: 800 !important;
text-transform: none !important;
margin: 3px auto 10px;
max-width: 420px !important;
letter-spacing: 0px !important;
text-align:center !important;">
                                                                                            Ingresa a la plataforma ahora.</h5>

                                                                                        <!--FIN TEXTO DESTACADO-->




                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->




                                                                                        <!-- TABLA BOTON-->
                                                                                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                            <tbody><tr><td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">



                                                                                                <!--BOTON-->
                                                                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                    <tbody class="mcnButtonBlockOuter">
                                                                                                        <tr>
                                                                                                            <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                    <tbody>
                                                                                                                        <tr>
                                                                                                                            <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                <a href=${n} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <!--BOTON-->


                                                                                            </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                        <!-- FIN TABLA BOTON-->







                                                                                        <!--UN ESPACIO-->
                                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;"><tr><td align="center">&nbsp;</td></tr></table>
                                                                                        <!--FIN UN ESPACIO-->





                                                                                        <!-- END CONTENT // -->

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                            </table>

                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                    <tbody><tr><td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">



                                                                                        <!-- END CONTENIDO EN BODY // -->

                                                                                    </td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>


                                                                            </td>
                                                                        </tr>
                                                                    </table>


                                                                </td>
                                                                </tr>
                                                            </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                        <!-- // END BODY -->






                                                        <!-- BEGIN FOOTER // -->
                                                        <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">

                                                            <!-- FOOTER -->
                                                            <tr>
                                                                <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">


                                                                    <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                                                        <tbody>


                                                                            <tr>
                                                                                <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">


                                                                                    <p style="
                    font-size: 13px!important;
                    line-height: 21px!important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400; margin-top: 7px!important;
                    text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                    letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                                                            <b>¿Necesitas ayuda?</b><br>
                                                                                                Llámanos desde México o Estados Unidos al
                                                                                                <a href="tel: 5593700536" style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                                                                    Este correo es automatizado, favor&nbsp;de&nbsp;no responder







                                                                                                    <br>&nbsp;<br>&nbsp;
                                                                                                        <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
line-height: 1.7em !important;">Aviso de Privacidad</a>

                                                                                                    </p>
                                                                                                    </td>

                                                                                                </tr>

                                                                                                <tr>
                                                                                                    <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">


                                                                                                        <!-- CONTENIDO PARRAFO LEGALES

                                                                                                        <p style="font-size: 10px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    line-height: 19px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                This is an automated email.
                                                                                                            </span>
                                                                                                        </p>


                                                                                                        <p style="font-size: 10px !important;
                    line-height: 19px !important;
                    text-align: justify !important;
                    max-width: 490px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #718192 !important;
                    font-weight: 400;
                    letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                                                                                                                BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>

                                                                                                                    The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>

                                                                                                                        Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                                                                                                                    </span></p>


                                                                                                                <p style="font-size: 13px!important;
                    line-height: 21px !important;
                    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                    color: #001E30 !important;
                    font-weight: 400;
                    text-align: center !important;
                    letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                                                                                    <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                                                                                                                        Unsubscribe from these emails.
                                                                                                                    </a>

                    CONTENIDO PARRAFO LEGALES-->





                                                                                                                    <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">

                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                            </tbody>
                                                                                                        </table>

                                                                                                    </td>
                                                                                                </tr>
                                                                                                <!-- FIN FOOTER -->

                                                                                            </table>
                                                                                            <!-- // END FOOTER -->







                                                                                            <!-- // END TEMPLATE -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </center>
                                                                        </body>
                                                                    </html>

    `}const eqe=async(e,t,r,n,a,i,s=!1)=>{if(s)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const l=await wE(r.email);let c;r.password=await QUe(r.email,n.adminTeamId,12);let u=!1;if(l.exist&&l.uid)console.log("Usuario ya existe, no se registra en Firebase."),c=l.uid;else{console.log("Usuario no existe, se procede a registrarlo.");const b=await _y(r,n.id);if(!b.success)return{success:!1,message:"Falló el registro del usuario",details:b.message};if(c=b.uid||"",!(await xE({name:r.displayName,email:r.email,userAuthId:c})).success)return{success:!1,message:"Falló el registro de credenciales del usuario"};u=!0}const d=r.email,f="Bienvenido",m=ZUe(t.businessName,r.email,r.password||"(Acceso ya habilitado)","https://documentaihostingpage-269526555085.us-central1.run.app");await cc(d,void 0,f,m);const p=await hE(e);if(!p.success)return{success:!1,message:"Falló el registro del representante legal"};t.representativeId=p.representativeId,t.userUid=c;const h=await pE(t);if(!h.success)return{success:!1,message:"Falló el registro de la empresa"};a.businessEntityId=h.id,a.userAuthId=c;const g=await vE(a);if(!g.success)return{success:!1,message:"Falló el registro de la solicitud de crédito"};const x=i.map(b=>({productRequestId:g.Id,documentTemplateId:b.id,isRequired:b.isRequired}));return await Promise.all(x.map(b=>Id(b)))?(await bE({productRequestId:g.Id}),await Hj({productRequestId:g.Id}),{success:!0,message:"El registro se realizó correctamente",details:u?"Usuario creado nuevo":"Usuario ya existente"}):{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(l){return console.error("Error en submitClientAndDocuments:",l),{success:!1,message:"Ha ocurrido un error inesperado"}}},tqe=({verticals:e,selected:t,setSelected:r})=>o.jsxs("div",{className:"my-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Vertical"}),o.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{const a=e.find(i=>i.id===n.target.value)||null;r({vertical:a,product:null})},children:[o.jsx("option",{value:"",children:"Seleccione una vertical"}),e.map(n=>o.jsx("option",{value:n.id,disabled:!n.isSelectable,children:n.name},n.id))]}),t.vertical&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccionar Producto"}),o.jsxs("select",{className:"w-full p-2 border rounded mt-1 bg-white shadow-sm",onChange:n=>{var i;const a=((i=t.vertical)==null?void 0:i.products.find(s=>s.id===n.target.value))||null;r(s=>({...s,product:a}))},children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),t.vertical.products.map(n=>o.jsx("option",{value:n.id,children:n.name},n.id))]})]})]}),rqe=()=>{const{user:e}=mt(),t=Mt(),[r,n]=w.useState({vertical:null,product:null}),[a,i]=w.useState(1),[s,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,g]=w.useState(""),[x,v]=w.useState(!1),[b,y]=w.useState([]),[j,E]=w.useState([]),[N,S]=w.useState("processing"),[T,C]=w.useState({title:"",message:"",details:void 0}),[k,A]=w.useState(!1),_=async()=>{var q;const H=await G6({productName:((q=r.vertical)==null?void 0:q.name)??""});E(H)};w.useEffect(()=>{_()},[r.product]);const I=async H=>{var te,re,P,z;H.preventDefault(),A(!0),S("processing");const q={name:m,email:h},B={flowStatus:2,productName:((te=r.product)==null?void 0:te.name)??"",verticalName:((re=r.vertical)==null?void 0:re.name)??"",businessEntityId:"",userAuthId:""},F={address:void 0,businessName:d,economicSector:void 0,employeeCount:void 0,incorporationDate:void 0,name:d,phone:void 0,rfc:c,yearsActive:void 0,representativeId:"",userUid:"",iconUrl:void 0,adminTeamId:((P=e==null?void 0:e.adminTeam)==null?void 0:P.id)??"",ownerAdminUid:(e==null?void 0:e.uid)??""},ne=()=>{const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let G="";for(let O=0;O<8;O++)G+=D.charAt(Math.floor(Math.random()*D.length));return G},U={displayName:m!=null&&m.trim()?m:ne(),email:h,password:""},R={id:(e==null?void 0:e.idToken)||"",adminTeamId:((z=e==null?void 0:e.adminTeam)==null?void 0:z.id)||"",userAdminId:(e==null?void 0:e.uid)||""},K=(D,G)=>{C({title:D,message:G}),S("error")};if(!x)return K("Datos incompletos","Rellena todos los datos solicitados.");const J=await eqe(q,F,U,R,B,b,!1);console.log(b),J.success?(C({title:"Solicitud completada",message:"Has registrado correctamente un producto."}),S("success")):(C({title:"Error",message:J.message,details:J.details}),S("error"))},M=()=>{t(-1)},L=()=>{A(!1),N!="error"&&t(-1)};return o.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center ",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 w-[950px]",children:o.jsx(YUe,{totalSteps:3})}),o.jsx("div",{className:"w-[950px] bg-white rounded-lg shadow-md p-6 font-sans",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-medium mb-4",children:"Solicitud de Producto Tengo!"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{type:"button",className:"border border-red-500 text-red-500 bg-transparent px-4 py-2 rounded shadow hover:bg-red-500 hover:text-white transition-colors duration-300",onClick:M,children:"Cancelar registro"}),!1]})]}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Crear prospecto"].map((H,q)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${a===q+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>i(q+1),children:H},q))}),o.jsx("div",{className:"mt-4",children:o.jsx("form",{onSubmit:I,children:a===1&&o.jsxs(o.Fragment,{children:[o.jsx(JUe,{companyName:s,setCompanyName:l,razonSocial:d,setRazonSocial:f,userName:m,setUserName:p,userEmail:h,setUserEmail:g,filledStatus:x,setFilledStatus:v,rfc:c,setRfc:u}),o.jsx(tqe,{verticals:EB,selected:r,setSelected:n}),o.jsxs("div",{className:"relative group mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Seleccionar documentos"}),o.jsx("div",{className:"absolute left-0 top-full mt-2 hidden w-max bg-gray-800 text-white text-sm rounded p-2 shadow-lg group-hover:block",children:"Selecciona los documentos que deseas solicitar"})]}),o.jsx("div",{className:"",children:o.jsx(J9,{documents:b,setDocuments:y,docTemplates:j})}),o.jsx(KUe,{handleSubmit:I})]})})})]})}),k&&o.jsx(_n,{onClose:L,status:N,messages:T})]})};function nqe(){return o.jsx(Yr,{children:o.jsx(rqe,{})})}function aqe({currentStep:e=1,totalSteps:t=7}){const r=Array.from({length:t},(n,a)=>a+1);return o.jsxs("div",{className:"w-full mx-auto p-4",children:[o.jsx("div",{className:"relative flex items-center w-full",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `}),o.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center
                                ${e>=n?"border-gre-500 bg-blue-500 text-white":"border-gray-300 bg-white"}`,children:e>n?o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("span",{className:"font-bold",children:n})}),a<t&&o.jsx("div",{className:`flex-grow h-0.5 mx-2
                                    ${e>=n?"bg-blue-500":"bg-gray-300"}
                                `})]},n))}),o.jsx("div",{className:"flex justify-between mt-4",children:r.map(n=>o.jsx("div",{className:"flex flex-col text-center w-full",children:o.jsx("span",{className:e===n?"text-blue-500 font-bold":"",children:ev.getText(n)})},n))})]})}function iqe({onClose:e,onNewMessage:t,messages:r,setMessages:n}){const[a,i]=w.useState(""),{selectedClient:s}=ct(),l=async()=>{if(a.trim()!==""){const u={isSenderAdmin:!0,id:Date.now().toString(),content:a,createdAt:new Date().toISOString(),isRead:!1};if(n([...r,u]),i(""),t(),s!=null&&s.chatId){const d=await cl({chatId:s.chatId,content:a,isAdmin:!0});console.log("mensaje enviado?",d.success)}}},c=u=>{const d=new Date(u);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`};return o.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg w-80 animate-slide-up",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Chat con Usuario"}),o.jsx("button",{onClick:e,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 h-64 overflow-y-auto",children:r.length>0?r.map(u=>o.jsxs("div",{className:`p-2 rounded mb-2 shadow ${u.isSenderAdmin?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"} ${u.isRead?"bg-green-100":"bg-gray-200"}`,style:{maxWidth:"70%"},children:[o.jsx("div",{children:u.content}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c(u.createdAt),u.isSenderAdmin===!0&&o.jsx("span",{className:`ml-2 ${u.isRead?"text-green-500":"text-red-500"}`,children:u.isRead?"Leído":"No leído"})]})]},u.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay mensajes aún."})}),o.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 px-3 py-2 border rounded focus:outline-none",value:a,onChange:u=>i(u.target.value)}),o.jsx("button",{onClick:l,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center",children:o.jsx(nl,{size:20})})]})]})}function sqe({notifications:e,onClose:t}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96",children:[o.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Notificaciones"}),o.jsx("button",{onClick:t,className:"text-white",children:o.jsx(pt,{size:20})})]}),o.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:e.length>0?e.map(r=>o.jsx("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-100 rounded mb-2 shadow",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="info"?o.jsx(_a,{size:20,className:"text-blue-500"}):o.jsx(At,{size:20,className:"text-green-500"}),o.jsx("span",{children:r.content})]})},r.id)):o.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones."})})]})})}const oqe=({content:e,type:t="info",duration:r,onClose:n})=>{const[a,i]=w.useState(!0);return w.useEffect(()=>{const s=setTimeout(()=>{i(!1),n()},r);return()=>clearTimeout(s)},[r,n]),a?o.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg flex items-center gap-4 border-l-4 border-blue-500 max-w-lg w-full",children:[t==="info"?o.jsx(_a,{size:24,className:"text-blue-500"}):o.jsx(At,{size:24,className:"text-green-500"}),o.jsx("span",{className:"text-lg",children:e}),o.jsx("button",{onClick:()=>{i(!1),n()},className:"absolute right-4 top-4 text-gray-500",children:o.jsx(pt,{size:20})})]}):null},lqe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},aN=async(e,t)=>{const r=await Tv({productRequestId:t,flowStatus:e});return r.success?console.log("flujo actualizado a",e):console.log("error al actualizar el flujo"),r.success};async function iN(e,t){try{console.log("generado token");const n={uid:(await wc({email:e??""})).Id??""};return{success:!0,token:(await Uj(n,t??"")).token}}catch(r){return console.error("Error generating token:",r),{success:!1,token:""}}}function cqe(e,t,r){return`
    <!doctype html>
    <html lang="es">

    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
        <title>Broxel</title>
    
        <meta name="color-scheme" content="light dark">
        <style type="text/css">
            @media (prefers-color-scheme: dark) {
                .darkmode {
                    background-color: #1e1e1e !important;
                }
    
                .darkmode p {
                    color: #777777 !important;
                }
            }
        </style>
    
    
    
        <style type="text/css">
            body,
            #bodyTable,
            #bodyCell {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }
    
            #templateBody {
                /*background-color:  #f1f3f5 !important;*/
                background-color: #f1f3f5 !important;
                border-top: 0;
                border-bottom: 0;
            }
    
    
            #bodyBackground {
                border-collapse: separate !important;
                background-color: #FFFFFF !important;
                border: 1px solid #eeeeee !important;
                border-radius: 12px;
            }
    
            #templateHeader {
                /*@editable*/
                background-color: #f1f3f5 !important;
                /*@editable*/
                padding-top: 10px;
                /*@editable*/
                padding-bottom: 10px;
            }
    
    
    
            @media only screen and (max-width: 580px) {
                body {
                    width: 100% !important;
                    min-width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .templateContainer {
                    max-width: 580px !important;
                    width: 100% !important;
                }
    
            }
    
            @media only screen and (max-width: 580px) {
                .mcnImage {
                    height: auto !important;
                    width: 100% !important;
                }
    
            }
    
    
    
    
            /*CircularStdBlack*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Black.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Black.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 800;
                font-style: normal;
            }
    
            /*CircularStdBold*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Bold.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 600;
                font-style: normal;
            }
    
            /*CircularStdMedium*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Medium.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 500;
                font-style: normal;
            }
    
            /*CircularStdBook*/
            @font-face {
                font-family: "CircularStd";
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot");
                src: url("http://transformacion.broxel.com/fuentes/CircularStd-Book.eot?#iefix") format("embedded-opentype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.woff") format("woff"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.ttf") format("truetype"), url("http://transformacion.broxel.com/fuentes/CircularStd-Book.svg#bcc26993292869431e54c666aafa8fcd") format("svg");
                font-weight: 400;
                font-style: normal;
            }
    
    
            h1 {
                font-size: 58px !important;
                line-height: 64px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h2 {
                font-size: 46px !important;
                line-height: 55px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h3 {
                font-size: 40px !important;
                line-height: 49px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h4 {
                font-size: 32px !important;
                line-height: 40px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                letter-spacing: 0px !important;
            }
    
            h5 {
                font-size: 27px !important;
                line-height: 33px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 800 !important;
                text-transform: none !important;
                letter-spacing: 0px !important;
            }
    
            h6 {
                font-size: 21px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-weight: 800 !important;
                text-transform: none !important;
                color: #001E30 !important;
                letter-spacing: 0px !important;
                margin-bottom: -11px;
            }
    
            p {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400 !important;
                letter-spacing: 0px !important;
            }
    
    
            li {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            ol {
                font-size: 18px !important;
                line-height: 30px !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                color: #001E30 !important;
                font-weight: 400;
                letter-spacing: 0px !important;
                margin-bottom: 11px;
            }
    
            a {
                color: #0075ff !important;
                font-weight: 700 !important;
                text-decoration: none !important;
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
    
            span.linkfooter {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                font-size: 12px;
                font-weight: 300;
                color: #0075ff;
            }
    
            b {
                font-weight: 800 !important;
            }
    
            ul {
                margin-left: -11px;
                margin-top: 30px !important;
            }
    
            @media only screen and (max-width: 480px) {
                .contenedor {
                    background-color: #ffffff !important;
                    width: 96% !important;
                    max-width: 580px !important;
                    overflow: hidden !important;
                    border-radius: 3px !important;
                    padding: 40px 0px !important;
                    margin-top: 40px !important;
                }
            }
        </style>
    
    
    
    
    </head>
    
    
    
    <body lang="es" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0">
        <style type="text/css">
            body,
            table,
            td,
            h1,
            h2,
            h3,
            h4,
            h5,
            ol,
            ul,
            p {
                font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
            }
        </style>
    
    
        <!-- PREHEADER AQUÍ-->
        <span style="display:none; max-width: 0;max-height: 0;overflow: hidden;font-size: 0;mso-hide: all;"> Ingresa a la
            plataforma y completa tus datos</span>
        <!-- PREHEADER AQUÍ-->
    
        <center>
            <table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable" style="background:#f1f3f5 !important;">
                <tr>
                    <td align="center" valign="top" id="bodyCell" style="background:#f1f3f5 !important;">
                        <!-- BEGIN TEMPLATE // -->
    
    
    
    
                        <!-- BEGIN HEADER // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
                            <tr>
                                <td align="center" valign="top">
                                    <span style="line-height:1px;">&nbsp;</span>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER -->
    
    
    
    
    
    
    
                        <!-- BEGIN HEADER LOGO // -->
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding-top:9px; padding-bottom:9px; background:#f1f3f5 !important;">
                                    <table border="0" cellpadding="0" cellspacing="0" width="620" class="templateContainer" style="background:#f1f3f5 !important; border:none !important;">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background:#f1f3f5 !important;">
                                                    <tr>
                                                        <td valign="top" style="padding-top:0px; padding-bottom:0px; background:#f1f3f5 !important;">
    
    
    
                                                            <img align="left" src="https://assets.broxel.com//mails/b2c/img/2020/logobroxel.png" width="300" style="max-width:300px; padding:5px 0px 25px; display: block !important; vertical-align: bottom; margin-left:20px;" class="mcnImage">
    
    
    
    
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <!-- // END HEADER LOGO -->
    
    
    
    
    
    
                        <!-- BEGIN BODY // -->
                        <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateBody" style="background:#f1f3f5 !important;">
                            <tr>
                                <td align="center" valign="top" style="padding: 7px 7px;">
                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="580" id="bodyBackground" style="background:#ffffff !important; border-radius:12px !important;" class="templateContainer">
                                        <tr>
                                            <td align="center" valign="top">
                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                                    <tr>
    
    
    
    
                                                        <!-- ESPACIO SUPERIOR E INFERIOR EN BODY // -->
                                                        <td valign="top" style="padding-top:0px; padding-bottom:70px;">
                                                            <!-- FIN ESPACIO SUPERIOR E INFERIOR EN BODY // -->
    
    
    
    
    
                                                            <!-- IMAGEN SUPERIOR EN BODY // -->
                                                            <table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" style="min-width:100%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td valign="top" style="padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align:center;">
                                                                            <img align="center" alt="" src="https://assets.broxel.com/mails/b2c/img/2024/I_ACESSO.png" width="170" style="max-width:170px; margin-top: 30px;padding-bottom: 0; display: inline !important; vertical-align: bottom; border-radius: 12px 12px 0px 0px !important;"
                                                                            class="mcnImage">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
    
                                                            <!-- FIN IMAGEN SUPERIOR EN BODY // -->
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%; align-content: center !important;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center" class="fallback-text" valign="top" style="padding-top:0px; padding-right:35px; padding-bottom:10px; padding-left:35px;">
    
    
                                                                            <!-- ////////////////////////////// CONTENIDO EN BODY ////////////////////////// -->
    
    
    
    
                                                                            <!-- TITLE HEADER BODY // -->
    
                                                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-13px;">
                                                                                <tr>
                                                                                    <td class="fallback-text" align="center">
                                                                                        <h2 style="
      font-size: 40px !important;
      line-height: 51px !important;
      font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
      color: #001E30 !important;
      font-weight: 800 !important; 
      text-align: center !important;
      max-width: 480px !important;
      letter-spacing: 0px !important;"> Notificación TENGO!: ${e}<span style="color:#00a6f5">.</span>
                                                                                        </h2>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- FIN TITLE HEADER BODY // -->
    
    
    
    
                                                            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:0px; padding-left:50px;">
    
    
    
    
                                                                            <!-- BEGIN CONTENT // -->
    
                                                                            <p style="
    font-size: 18px !important;
    line-height: 30px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    text-align: center !important;
    font-weight: 400;
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;
    max-width: 480px;
    margin: auto;">
    
    
                                                                                ${t}
    
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
                                                                                </table>
                                                                                <!--FIN UN ESPACIO-->
    
    
    
                                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;">
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:5px; padding-bottom:0px; padding-left:5px;">
                                                                                                <p style="
    font-size: 1em !important;
    line-height: 30px !important;
    font-family: 'CircularStd', 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 400; 
    margin-top:13px !important;
    margin-bottom: 13px !important;
    letter-spacing: 0px !important;">
    
    
    
    
    
    
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
    
    
    
    
                                                                                <!--UN ESPACIO-->
                                                                                <table cellpadding="0" cellspacing="0" border="0" width="100%" height="40" style="height:40px !important;">
                                                                                    <tr>
                                                                                        <td align="center">&nbsp;</td>
                                                                                    </tr>
    
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!--TEXTO DESTACADO-->
    
                                                                                    <h5 style="font-size: 27px !important;
    line-height: 33px !important;
    font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
    color: #001E30 !important;
    font-weight: 800 !important;
    text-transform: none !important;
    margin: 3px auto 10px;
    max-width: 420px !important;
    letter-spacing: 0px !important;
    text-align:center !important;">
                                                                                    Ingresa a la plataforma ahora.</h5>
    
                                                                                    <!--FIN TEXTO DESTACADO-->
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="30" style="height:30px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
                                                                                    <!-- TABLA BOTON-->
                                                                                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td class="fallback-text" valign="top" style="padding-top:21px; padding-right:20px; padding-bottom:2px; padding-left:20px;">
    
    
    
                                                                                                    <!--BOTON-->
                                                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;">
                                                                                                        <tbody class="mcnButtonBlockOuter">
                                                                                                            <tr>
                                                                                                                <td style="padding-left:5px;" valign="top" align="center" class="mcnButtonBlockInner">
                                                                                                                    <table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 6px;background-color:#0075ff !important; font-family: 'Roboto Light', Arial, sans-serif !important;">
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td align="center" valign="middle" class="mcnButtonContent" style="font-family: 'Roboto Light', Arial, sans-serif !important; font-size: 15px!important; padding: 12px 30px !important;">
                                                                                                                                    <a href=${r} target="_blank" class="mcnButton " title="" style="font-weight:800;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF !important; font-family: 'Roboto Light', Arial, sans-serif !important;"><b>Ingresar</b></a>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                    <!--BOTON-->
    
    
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <!-- FIN TABLA BOTON-->
    
    
    
    
    
    
    
                                                                                    <!--UN ESPACIO-->
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%" height="10" style="height:10px !important;">
                                                                                        <tr>
                                                                                            <td align="center">&nbsp;</td>
                                                                                        </tr>
                                                                                    </table>
                                                                                    <!--FIN UN ESPACIO-->
    
    
    
    
    
                                                                                    <!-- END CONTENT // -->
    
                                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
    
                                                                <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:99%;">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fallback-text" valign="top" style="padding-top:0px; padding-right:50px; padding-bottom:1px; padding-left:50px;">
    
    
    
                                                                                <!-- END CONTENIDO EN BODY // -->
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
    
    
                                                                </td>
                                                    </tr>
                                                    </table>
    
    
                                                    </td>
                                        </tr>
                                        </table>
                                        </td>
                            </tr>
                            </table>
                            <!-- // END BODY -->
    
    
    
    
    
    
                            <!-- BEGIN FOOTER // -->
                            <table style="margin:auto!important;" align="center" border="0" cellpadding="0" cellspacing="0" width="100%" id="templateHeader">
    
                                <!-- FOOTER -->
                                <tr>
                                    <td align="center" style="width:96%;max-width:650px;margin-left:auto !important;margin-right:auto !important; font-weight:400;padding-top:40px;">
    
    
                                        <table align="center" style="width:100%;text-align:center; max-width:600px !important; padding: 0px 30px!important; margin:auto!important; color: #001E30 !important;">
                                            <tbody>
    
    
                                                <tr>
                                                    <td align="center" style="padding:10px 0px; color:#001E30 !important; margin: auto!important;">
    
    
                                                        <p style="
                            font-size: 13px!important;
                            line-height: 21px!important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400; margin-top: 7px!important;
                            text-align: center !important; margin-left:auto!important; margin-right:auto!important;
                            letter-spacing: 0px !important; max-width:400px !important;"> <span style="font-size: 13px!important; line-height: 21px!important;">
                                                            <b>¿Necesitas ayuda?</b><br>
                                                            Llámanos desde México o Estados Unidos al
                                                            <a href="tel: 5593700536"
                                                                style="color:#0075ff !important; text-decoration:none !important;">55&nbsp;9370&nbsp;0536</a>.<br>
                                                            Este correo es automatizado, favor&nbsp;de&nbsp;no responder
    
    
    
    
    
    
    
                                                            <br>&nbsp;<br>&nbsp;
                                                            <a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important; ">Términos y Condiciones</a>|&nbsp;<a href="https://broxel.com/legales/" style="color:#0075ff !important; text-decoration:none; font-size:0.9em !important;
    line-height: 1.7em !important;">Aviso de Privacidad</a>
    
                                                    </p>
                                                </td>
    
                                            </tr>
    
                                            <tr>
                                                <td align="center" style="padding:10px 0 30px 0; margin:auto!important;">
    
    
                                                    <!-- CONTENIDO PARRAFO LEGALES
    
                            <p style="font-size: 10px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            line-height: 19px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            This is an automated email.
                        </span>
                                                        </p>
    
    
                                                        <p style="font-size: 10px !important;
                            line-height: 19px !important;
                            text-align: justify !important;
                            max-width: 490px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #718192 !important;
                            font-weight: 400;
                            letter-spacing: 0px !important;"><span style="font-size: 10px !important; line-height: 19px !important;">
                            BY USING THIS CARD YOU AGREE WITH THE TERMS AND CONDITIONS OF THE CARDHOLDER AGREEMENT AND FEE SCHEDULE. <br>
    
                            The Broxel USA Visa® Prepaid Card and The Miami Dolphins® Visa® Prepaid Card are issued by Pathward®, National Association, Member FDIC, pursuant to a license by Visa U.S.A. Inc. Card programs marketed and administered by Servicios Broxel S.A.P.I de C.V. <br>
    
                            Servicios Broxel S.A.P.I. de C.V. is a financial technology company, not a bank or financial institution.
                            </span></p>
    
    
                                                        <p style="font-size: 13px!important;
                            line-height: 21px !important;
                            font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important;
                            color: #001E30 !important;
                            font-weight: 400;
                            text-align: center !important;
                            letter-spacing: 0px !important; max-width:400px !important; margin:20px auto !important;">
                                                            <a class="Unsubscribe--unsubscribeLink" href="{{{unsubscribe}}}" target="_blank" style="text-decoration:none !important; font-family: 'Figtree', 'CircularStd', 'Roboto', Tahoma, 'Montserrat', sans-serif !important; font-size: 13px!important;">
                            Unsubscribe from these emails.
                            </a> CONTENIDO PARRAFO LEGALES-->
    
    
    
    
    
                                                            <p style="color:#22bdd8 !important;text-decoration:none !important; text-align:center;">
    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
    
                                    </td>
                                </tr>
                                <!-- FIN FOOTER -->
    
                            </table>
                            <!-- // END FOOTER -->
    
    
    
    
    
    
    
                            <!-- // END TEMPLATE -->
                            </td>
                </tr>
                </table>
        </center>
    </body>
    
    </html>
    `}const Gy=(e,t,r)=>cqe(e,t,r),uqe=({name:e,numAprobados:t,numRechazados:r,url:n})=>{const a="Actualización en tu trámite",i=`
    Hola <b>${e}</b>,<br><br>
    
    Te informamos que hay una <b>actualización</b> en la revisión de los documentos de tu solicitud <b>TENGO!</b>.<br><br>
    
    <b>Resumen de la revisión</b>:<br>
    - <b>Documentos aprobados</b>: ${t}<br>
    - <b>Documentos rechazados</b>: ${r}<br><br>
    
    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
    `;return Gy(a,i,n)},dqe=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    Hola <b>${e}</b>,<br><br>
    
    Nos complace informarte que el equipo de <b>TENGO!</b> ha completado la revisión y validación de los documentos para tu solicitud.<br><br>
    
    En breve recibirás instrucciones detalladas sobre los siguientes pasos y el resultado de tu solicitud. Te recomendamos estar atento a tu correo electrónico y a las notificaciones en nuestra plataforma.<br><br>
    
    Atentamente,<br>
    <b>El equipo de TENGO!</b>
`;return Gy(r,n,t)},fqe=({name:e,numAprobados:t,numRechazados:r,numPendientes:n,url:a})=>{const i="Actualización en tu trámite",s=`
    Hola <b>${e}</b>,<br><br>

    Te informamos que hay una actualización en la revisión de los documentos de tu solicitud de crédito con <b>TENGO!</b>.<br><br>

    <b>Resumen de la revisión:</b><br><br>

    - Documentos recibidos correctamente y enviados a mesa de control: ${t}<br>
    - Documentos rechazados: ${r}<br>
    - Documentos pendientes de envío: ${n}<br><br>

    Para conocer los detalles de esta actualización, por favor ingresa a la plataforma.
`;return Gy(i,s,a)},mqe=({name:e,url:t})=>{const r="Actualización en tu trámite",n=`
    <b>${e}</b> Nos complace informarte que la recepción de documentos se completo con éxito,  comenzaremos la revisión y nos pondremos en contacto contigo en las próximas horas.

    `;return Gy(r,n,t)},pqe=({onSelectDocument:e,isSectionComplete:t,setIsSectionComplete:r})=>{const[n,a]=w.useState({requiredDocuments:[]}),[i,s]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{selectedClient:f}=ct(),[m,p]=w.useState(!1),[h,g]=w.useState(!1),[x,v]=w.useState(!1),{user:b}=mt(),y=w.useRef(null);w.useEffect(()=>{const k=A=>{y.current&&!y.current.contains(A.target)&&s(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const j=async()=>{const k=f==null?void 0:f.name,I=`https://documentaihostingpage-269526555085.us-central1.run.app/${(await iN((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??"")).token}`,M=dqe({name:k??"",url:I});await cc((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",M)?se.success("Sección completa, Cliente notificado"):se.error("Ocurrió un error al enviar el correo")},E=async()=>{const k=f==null?void 0:f.name,I=`https://documentaihostingpage-269526555085.us-central1.run.app/${(await iN((f==null?void 0:f.email)??"",(b==null?void 0:b.idToken)??"")).token}`,M=n.requiredDocuments.filter(q=>q.isApproved).length,L=n.requiredDocuments.filter(q=>q.isRejected).length,W=uqe({name:k??"",numAprobados:M,numRechazados:L,url:I});await cc((f==null?void 0:f.email)??"",(f==null?void 0:f.ccemail)??"","Actualización en tu trámite Mc",W)?se.success("Cliente notificado"):se.error("Ocurrió un error")};w.useEffect(()=>{(async()=>{if(!f){se.error("No hay una empresa seleccionada.");return}try{const A=await aa({productRequestId:f.id});A&&a(A)}catch(A){se.error("Ocurrió un error al obtener los documentos."),console.error("Error fetching documents:",A)}})()},[f]);const N=async k=>{if(p(!0),k.id)try{if((await cr({id:k.id,isApproved:!0,isRejected:!1,rejectReason:""})).success){const _=[...n.requiredDocuments],I=_.findIndex(M=>M.id===k.id);I!==-1&&(_[I]={..._[I],isApproved:!0,isRejected:!1,rejectReason:""},a({requiredDocuments:_}),se.success("Documento aprobado con éxito."))}else se.error("Error al aprobar el documento.")}catch(A){console.error("Error al aprobar el documento:",A),se.error("Ocurrió un error.")}},S=async k=>{if(p(!0),u)try{if((await cr({id:u.id,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:k})).success){const _=[...n.requiredDocuments],I=_.findIndex(M=>M.id===u.id);I!==-1&&(_[I]={..._[I],isRejected:!0,rejectReason:k,isApproved:!1},a({requiredDocuments:_}),se.success("Documento rechazado con éxito."))}else se.error("Error al rechazar el documento.")}catch(A){console.error("Error al rechazar el documento:",A),se.error("Ocurrió un error.")}finally{c(!1),d(null),s(null)}},T=k=>{d(k),c(!0)},C=async k=>{n.requiredDocuments.length>0&&n.requiredDocuments.every(A=>A.isApproved)?r(!0):k&&(await aN(3,(f==null?void 0:f.id)??""),r(!1))};return w.useEffect(()=>{C(t)},[n]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-center mb-4 mt-4",children:o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Documentos"})}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[m&&o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}),o.jsxs("div",{className:"grid gap-4 mt-4 max-h-[400px] overflow-y-auto pb-24",children:[n.requiredDocuments.map(k=>o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg relative ${k.isRejected?"bg-red-100":k.isApproved?"bg-green-100":k.isUploaded?"bg-blue-100":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:k.documentTemplate.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{title:k.isUploaded?"Documento subido":"Esperando subida",children:k.isUploaded?o.jsx(Um,{className:"text-green-500 w-5 h-5"}):o.jsx(Gr,{className:"text-yellow-500 w-5 h-5"})}),o.jsx("div",{title:k.isPreApproved?"Pre-aprobado":"Pendiente de pre-aprobación",children:k.isPreApproved?o.jsx(qm,{className:"text-blue-500 w-5 h-5"}):o.jsx(Gr,{className:"text-yellow-500 w-5 h-5"})}),o.jsx("div",{title:k.isApproved?"Aprobado":"Pendiente de aprobación",children:k.isApproved?o.jsx(At,{className:"text-green-500 w-5 h-5"}):o.jsx(Gr,{className:"text-yellow-500 w-5 h-5"})})]}),k.isRejected&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Motivo de rechazo: ",k.rejectReason]})]}),o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>s(A=>A===k.id?null:k.id),children:"Opciones"}),i===k.id&&o.jsx("div",{ref:y,className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-lg w-48 z-10",children:o.jsx("ul",{children:k.isUploaded?o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>e(k),children:"Ver Documento"})}),o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:()=>{N(k),s(null)},children:"Aprobar"})}),o.jsx("li",{className:"border-t border-gray-200",children:o.jsx("button",{className:"w-full px-4 py-2 text-left text-red-500 hover:bg-gray-100",onClick:()=>T(k),children:"Rechazar"})})]}):o.jsx("li",{children:o.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"Documento no disponible"})})})})]})})]},k.id)),o.jsx(lqe,{isOpen:l,onClose:()=>c(!1),onConfirm:S}),o.jsx(pr,{})]}),o.jsxs("div",{className:"flex gap-2 relative mt-4",children:[o.jsxs("button",{onClick:async()=>{g(!0),await j(),g(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[h?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(aQ,{className:"w-5 h-5"}),"Aprobar la recepción documental",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Establece esta sección como completa y notifica al cliente por correo que sus documentos fueron aprobados"})]}),o.jsxs("button",{onClick:async()=>{v(!0),await E(),v(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[x?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(nl,{className:"w-5 h-5"}),"Notificar al usuario de un cambio",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white shadow-lg z-10 pointer-events-none",children:"Envía una notificación al usuario sobre actualizaciones en su solicitud"})]})]})]})]})},hqe=({fileUrl:e,fileType:t})=>{const r=()=>{const n=t==null?void 0:t.toLowerCase();return n==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):n==="xlsx"||n==="xls"?o.jsx(gqe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"w-full h-full bg-gray-200 rounded-md flex items-center justify-center overflow-hidden",children:r()})},gqe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%] w-full",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})},xqe=({url:e})=>{const[t]=w.useState(e),[r,n]=w.useState("1"),[a,i]=w.useState(new Date().getFullYear()),[s,l]=w.useState("situacion"),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(null),h=async()=>{u(!0),f(null),p(null);try{const g=r.split(",").map(b=>parseInt(b.trim(),10)).filter(b=>!isNaN(b)),v=await CEe({downloadUrl:t,pages:g,year:a,type:s});v&&Object.keys(v).length>0?f(v):p("No se obtuvieron datos financieros.")}catch{p("Error al analizar el PDF.")}finally{u(!1)}};return o.jsxs("div",{className:"w-full max-w-full bg-white space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Páginas (ej. 1,2,3)",className:"w-full border p-2 rounded text-sm",value:r,onChange:g=>n(g.target.value)}),o.jsx("input",{type:"number",placeholder:"Año",className:"w-full border p-2 rounded text-sm",value:a,onChange:g=>i(Number(g.target.value))}),o.jsxs("select",{className:"w-full border p-2 rounded text-sm",value:s,onChange:g=>l(g.target.value),children:[o.jsx("option",{value:"situacion",children:"Estado de Situación Financiera"}),o.jsx("option",{value:"resultado",children:"Estado de Resultado Integral"})]})]}),o.jsx("button",{onClick:h,disabled:c,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:c?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(at,{className:"animate-spin w-4 h-4"})," Analizando..."]}):"Analizar PDF"}),m&&o.jsx("p",{className:"text-red-600 text-sm",children:m}),d&&Object.entries(d).sort((g,x)=>parseInt(x[0],10)-parseInt(g[0],10)).map(([g,x])=>o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:g}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(x).map(([v,b])=>o.jsxs("div",{className:"flex justify-between border-b pb-1 text-sm",children:[o.jsx("span",{className:"font-medium",children:v}),o.jsx("span",{className:"ml-4 flex-shrink-0",children:b||"-"})]},v))})]},g))]})},Gc=[{label:"Validar firma individual",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas con facultad de firma individual. Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombre completo y cargo (si aplica) de quienes pueden firmar sin otra persona. Si no hay firmantes individuales, indica claramente la ausencia o si la firma es exclusivamente mancomunada."},{label:"Validar firma mancomunada",value:"Analiza el Acta Constitutiva en PDF para identificar a las personas que deben firmar en conjunto (régimen mancomunado). Revisa las secciones de Administración, Representación Legal y Poderes. Extrae nombres completos y cargos (si aplica) de quienes deben firmar en conjunto. Si no hay régimen mancomunado, indícalo explícitamente."},{label:"Validar si una persona puede firmar",value:"Analiza el Acta Constitutiva en PDF para verificar si [Nombre de la persona] tiene facultad de firma para obligar a la sociedad. Busca su nombre en las secciones relevantes y determina si puede firmar, si lo hace individualmente o junto con otros. Si no tiene facultad o no aparece, indícalo explícitamente."}],D0=3,vqe=({documentId:e,isActaConstitutiva:t,chatHistory:r,setChatHistory:n})=>{const[a,i]=w.useState(""),[s,l]=w.useState(!1),[c,u]=w.useState(!1),d=async m=>{l(!0),n(p=>[...p,{question:m,answer:""}]);try{const p=await Vj(e,"documentos","",m);n(h=>h.map((g,x)=>x===h.length-1?{...g,answer:p??"❌ Sin respuesta del modelo."}:g))}catch{se.error("Error al consultar AI"),n(h=>h.map((g,x)=>x===h.length-1?{...g,answer:"⚠️ Error al obtener respuesta."}:g))}finally{l(!1)}},f=()=>o.jsx("div",{className:"w-full max-w-xl",children:o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:"Pregunta lo que quieras...",value:a,onChange:m=>i(m.target.value),onKeyDown:m=>{m.key==="Enter"&&a.trim()&&(d(a.trim()),i(""))},className:"flex-1 bg-transparent text-sm outline-none"}),o.jsx("button",{onClick:()=>{a.trim()&&(d(a.trim()),i(""))},className:"text-gray-600 hover:text-blue-600",children:o.jsx(aM,{className:"w-5 h-5"})})]})});return o.jsx("div",{className:"relative h-[80vh] bg-white rounded-lg flex flex-col",children:r.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 text-center gap-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Hola 👋, soy tu asistente de documentación"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Puedo ayudarte a encontrar información importante dentro del documento. Escribe una pregunta abajo para comenzar."})]}),f(),t&&o.jsxs("div",{className:"flex flex-wrap gap-2 self-start",children:[(c?Gc:Gc.slice(0,D0)).map((m,p)=>o.jsx("button",{onClick:()=>d(m.value),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full",children:m.label},p)),Gc.length>D0&&o.jsxs("button",{onClick:()=>u(!c),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full flex items-center gap-1",children:[o.jsx(zo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:c?"Ocultar":"Más"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 flex flex-col-reverse gap-3",children:[s&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 self-center",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Analizando..."})]}),[...r].reverse().map((m,p)=>o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"self-end bg-blue-100 px-4 py-2 rounded-xl max-w-[70%] text-sm shadow-sm",children:m.question}),o.jsx("div",{className:"self-start bg-gray-100 px-4 py-2 rounded-xl max-w-[80%] text-sm shadow-sm",children:o.jsx(af,{children:m.answer})})]},p)),t&&o.jsxs("div",{className:"flex flex-wrap gap-2 self-start",children:[(c?Gc:Gc.slice(0,D0)).map((m,p)=>o.jsx("button",{onClick:()=>d(m.value),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full",children:m.label},p)),Gc.length>D0&&o.jsxs("button",{onClick:()=>u(!c),className:"text-sm px-3 py-1 bg-blue-50 hover:bg-blue-100 rounded-full flex items-center gap-1",children:[o.jsx(zo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:c?"Ocultar":"Más"})]})]})]}),o.jsx("div",{className:"px-4 py-3 bg-white",children:f()})]})})},yqe=({documentId:e,extractedData:t,setExtractedData:r})=>{const[n,a]=w.useState(!1),[i,s]=w.useState(null),l=d=>{const f=String(d);navigator.clipboard.writeText(f).then(()=>{s(f),se.success("Valor copiado al portapapeles"),setTimeout(()=>s(null),1500)})},c=async()=>{a(!0);try{const d=await kc(e,"documentos","");d!=null&&d.extracted?(r(d.extracted),se.success("Extracción completada.")):(r({"Análisis de entidades":[{name:"Datos no encontrados",value:0}]}),se.error("Error al extraer datos."))}catch{se.error("Error en la extracción.")}finally{a(!1)}},u=()=>{if(!Object.keys(t).length){se.error("No hay entidades para exportar.");return}const d=nr.book_new();Object.entries(t).forEach(([f,m])=>{const p=[["Nombre","Valor"],...m.map(g=>[g.name,g.value])],h=nr.aoa_to_sheet(p);nr.book_append_sheet(d,h,f.substring(0,31))}),Ph(d,"entidades_extraidas.xlsx")};return o.jsxs("div",{className:"flex flex-col gap-4 overflow-y-auto p-2",children:[o.jsxs("div",{className:"flex justify-between gap-4 mt-2",children:[o.jsx("button",{onClick:c,disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex-1",children:n?"Extrayendo...":"Extraer Todo"}),Object.keys(t).length>0&&o.jsx("button",{onClick:u,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center justify-center",children:o.jsx(Od,{className:"w-5 h-5"})})]}),Object.keys(t).length>0&&o.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:Object.entries(t).map(([d,f])=>o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[o.jsx("h3",{className:"text-md font-bold mb-2",children:d}),o.jsx("ul",{children:f.map((m,p)=>o.jsxs("li",{className:"border-b py-1 flex justify-between items-center",children:[o.jsx("span",{children:m.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:m.value}),o.jsx("button",{onClick:()=>l(m.value),className:"text-blue-500 hover:text-blue-700",children:i===m.value?o.jsx(Za,{className:"w-4 h-4 text-green-500"}):o.jsx(Gi,{className:"w-4 h-4"})})]})]},p))})]},d))})]})},bqe=w.memo(({isDocUploaded:e,previewUrl:t,urlFileType:r})=>e?t?o.jsx(hqe,{fileUrl:t,fileType:r??"pdf"}):o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(at,{className:"animate-spin h-5 w-5"}),o.jsx("span",{children:"Cargando vista previa..."})]}):o.jsx("span",{className:"text-red-500",children:"El usuario no ha subido este documento."})),wqe=({selectedDocument:e})=>{var h,g;const[t,r]=w.useState(null),[n,a]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState({}),[u,d]=w.useState([]),[f,m]=w.useState("entities");w.useEffect(()=>{e&&(async()=>{var E;const{id:x,isUploaded:v=!1,fileName:b=""}=e;if(s(v??!1),!v)return;const y=((E=b==null?void 0:b.split(".").pop())==null?void 0:E.toLowerCase())??"",j=await Un("view","documentos",x,"token",y);j.data?(r(j.data),a(y)):se.error("Error al visualizar el documento.")})()},[e]);const p=w.useMemo(()=>o.jsx(bqe,{isDocUploaded:i,previewUrl:t,urlFileType:n}),[i,t,n]);return w.useEffect(()=>{(async()=>{var b,y;if(!(e!=null&&e.id)){c({});return}const v=e.id;try{const j=await Pv({requiredDocumentId:v});if(j.success&&Array.isArray(j.entities)&&j.entities.length>0){const T=j.entities.map(C=>({name:C.entidad,value:C.valor}));c({Entidades:T});return}const E=((b=e.documentTemplate)==null?void 0:b.name)??"",N=await kc(v,"documentos",E),S=(y=N==null?void 0:N.extracted)==null?void 0:y.Entidades;if(Array.isArray(S)&&S.length>0){const T={};S.forEach(C=>{if(!C.name||C.value===void 0)return;const k=C.name,A=C.value;T[k]||(T[k]=[]),T[k].push({name:k,value:A})}),c(T)}else c({}),se.info("No se encontraron entidades para este documento.")}catch(j){console.error("Error al obtener entidades:",j),se.error("Ocurrió un error al extraer las entidades."),c({})}})()},[e==null?void 0:e.id]),o.jsxs("div",{className:"grid grid-cols-2 gap-4 min-h-[90vh] bg-white rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-center p-4 border-r",children:p}),o.jsxs("div",{className:"flex flex-col w-full p-4",children:[o.jsx("div",{className:"flex gap-4 border-b mb-4",children:[{key:"entities",label:"Extracción de Entidades"},{key:"financial",label:"Análisis Financiero"},{key:"questions",label:"Preguntas AI"}].map(({key:x,label:v})=>o.jsx("button",{onClick:()=>m(x),className:`px-4 py-2 font-medium border-b-2 transition ${f===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,children:v},x))}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[f==="entities"&&(e==null?void 0:e.id)&&o.jsx(yqe,{documentId:e.id,extractedData:l,setExtractedData:c}),f==="financial"&&t&&o.jsx(xqe,{url:t}),f==="questions"&&(e==null?void 0:e.id)&&o.jsx(vqe,{documentId:e.id,isActaConstitutiva:((g=(h=e==null?void 0:e.documentTemplate)==null?void 0:h.name)==null?void 0:g.toLowerCase().includes("constitutiva"))??!1,chatHistory:u,setChatHistory:d})]})]})]})},Q9=({goToBackStep:e,goToNextStep:t,currentStep:r,totalSteps:n})=>o.jsxs("div",{className:"flex items-center justify-between pt-4",children:[o.jsx("button",{onClick:e,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r>2?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r<3,children:"Volver"}),o.jsx("button",{onClick:t,className:`px-5 py-2 rounded-lg text-white font-medium transition-all ${r<n?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:r>=n,children:r<n?"Siguiente":"Finalizado"})]}),Z9=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),o.jsx("p",{className:"mb-4",children:a}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:t,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:r,children:"Confirmar"})]})]})}):null,Sqe=async e=>{if(!e){console.error("No se proporcionó un ID válido.");return}try{const t=await aa({productRequestId:e});if(!t||!t.requiredDocuments){console.warn("No se encontraron documentos requeridos.");return}return t.requiredDocuments.map((r,n)=>{var a;return[`Documento #${n+1}`,`Nombre de plantilla: ${((a=r.documentTemplate)==null?void 0:a.name)??"Sin nombre"}`,`Estado: ${r.status??"Sin estado"}`,`Obligatorio: ${r.isRequired?"Sí":"No"}`,`Subido: ${r.isUploaded?"Sí":"No"}`,`Aprobado: ${r.isApproved?"Sí":"No"}`,`Pre-Aprobado: ${r.isPreApproved?"Sí":"No"}`,`Rechazado: ${r.isRejected?"Sí":"No"}`,`Rechazado por IA: ${r.isRejectedByAI?"Sí":"No"}`,`Motivo de Rechazo: ${r.rejectReason??""}`,`Motivo de Rechazo IA: ${r.IaRejectedReason??""}`].filter(Boolean).join(" , ")}).join(" | ")}catch(t){console.error("Error al obtener los documentos:",t)}},Nqe=`
Analiza la lista de documentos proporcionada y genera un reporte estructurado estrictamente en el siguiente formato utilizando Markdown. Cumple todas las instrucciones exactamente como se indican:

---

# 📄 Análisis de Documentos

## 1. Conteo de documentos por estado

Genera una tabla en Markdown con las siguientes columnas:
- **Estado**: Muestra los estados "✅ Aprobados", "🟡 Preaprobados", "❌ Rechazados" y "⏳ Pendientes", en ese orden exacto.
- **Cantidad**: Indica el número de documentos correspondientes a cada estado. Si no hay documentos en algún estado, muestra "0".

---

## 2. Resumen general

Incluye:
- **Total de documentos analizados**: número total de documentos procesados.
- **Estado general del proceso**: conclusión breve basada en el análisis global (por ejemplo: "Todos los documentos están pendientes", "La mayoría de los documentos fueron aprobados", etc.).

---

## Reglas estrictas:

- **Formato obligatorio**: Mantén exactamente el mismo orden de secciones, encabezados, y estilo de Markdown.
- **Datos faltantes**: Si no hay datos para una sección, indícalo usando "0" o "Ninguno", según corresponda.
- **Redacción**: Utiliza frases claras, neutrales y concisas.
- **Consistencia**: No inventes datos, no omitas secciones, no alteres el diseño.
- **Contenido**: No muestres nombres de variables, estructuras internas o referencias de programación en el reporte.
- **Presentación**: Entrega el resultado en un formato limpio, bien alineado y completamente legible.

---
`;function Eqe(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),[a,i]=w.useState(!1),{selectedClient:s}=ct();w.useEffect(()=>{(async()=>{if(s!=null&&s.id){n(!0),t("");try{const u=await Sqe(s.id),d=JSON.stringify({documents:u}),f=await qj(Nqe,d);t(f.summary||"No se pudo generar el resumen.")}catch(u){console.error("Error al obtener el resumen:",u),t("Ocurrió un error al generar el resumen. Intenta nuevamente.")}finally{n(!1)}}})()},[s==null?void 0:s.id]);const l=()=>{navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)};return o.jsxs("div",{className:"rounded-md",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Análisis inteligente"})}),o.jsx("div",{className:"",children:o.jsx("div",{className:"",children:r?o.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[o.jsx(at,{className:"w-6 h-6 animate-spin mb-2"}),o.jsx("p",{children:"Cargando..."})]}):e?o.jsxs("div",{className:"bg-white p-4 rounded-md  relative",children:[o.jsx(af,{remarkPlugins:[Q_],children:e}),o.jsx("button",{onClick:l,className:"absolute top-2 right-2 p-2 bg-gray-200 rounded-full hover:bg-gray-300","aria-label":"Copiar al portapapeles",children:a?o.jsx(At,{size:15,className:"text-green-500"}):o.jsx(Gi,{size:15,className:"text-gray-600"})})]}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No se encontró información para mostrar."})})})]})}const jqe=e=>{const t=e.toLowerCase();return t.includes("nombre")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("fecha")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("folio")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("entidad")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("curp")||t.includes("clave")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):o.jsx(lr,{className:"w-5 h-5 text-gray-300"})};function _qe({doc:e,loading:t,onClick:r}){return o.jsxs("div",{className:"bg-white border rounded-xl shadow-md p-5 h-full hover:shadow-lg transition cursor-pointer flex flex-col justify-between",onClick:()=>r(e),children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("div",{className:"relative group",children:[e.isUploaded?o.jsx(Um,{className:"w-6 h-6 text-green-500"}):o.jsx(Um,{className:"w-6 h-6 text-gray-300"}),o.jsx("span",{className:`
                        absolute
                        -top-6
                        left-1/2
                        transform -translate-x-1/2
                        whitespace-nowrap
                        bg-gray-800
                        text-white
                        text-xs
                        rounded
                        px-2
                        py-1
                        opacity-0
                        pointer-events-none
                        group-hover:opacity-100
                        transition-opacity
                    `,children:e.isUploaded?"Documento subido":"No subido"})]}),o.jsxs("div",{className:"relative group",children:[e.isApproved?o.jsx(cT,{className:"w-6 h-6 text-green-500"}):o.jsx(cT,{className:"w-6 h-6 text-gray-300"}),o.jsx("span",{className:`
                        absolute
                        -top-6
                        left-1/2
                        transform -translate-x-1/2
                        whitespace-nowrap
                        bg-gray-800
                        text-white
                        text-xs
                        rounded
                        px-2
                        py-1
                        opacity-0
                        pointer-events-none
                        group-hover:opacity-100
                        transition-opacity
                    `,children:e.isApproved?"Documento aprobado":"No aprobado"})]}),o.jsx("h3",{className:"font-semibold text-lg text-gray-800 truncate",children:e.nombre})]}),o.jsx("div",{className:"space-y-3 flex-1",children:t?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(at,{className:"w-6 h-6 animate-spin text-gray-500"})}):e.datos.slice(0,5).map((n,a)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"mt-1",children:jqe(n.entidad)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:n.entidad.replace(/_/g," ")}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:n.valor})]})]},a))})]})}const kqe=e=>{const t=e.toLowerCase();return t.includes("nombre")?o.jsx(ah,{className:"w-5 h-5 text-gray-500"}):t.includes("fecha")?o.jsx(ji,{className:"w-5 h-5 text-gray-500"}):t.includes("folio")?o.jsx(lr,{className:"w-5 h-5 text-gray-500"}):t.includes("entidad")?o.jsx(nh,{className:"w-5 h-5 text-gray-500"}):t.includes("curp")||t.includes("clave")?o.jsx(nM,{className:"w-5 h-5 text-gray-500"}):o.jsx(lr,{className:"w-5 h-5 text-gray-300"})};function Cqe({isOpen:e,doc:t,onClose:r}){const[n,a]=w.useState(!1),[i,s]=w.useState(null);if(!e||!t)return null;const l=async()=>{const d=[];d.push(t.nombre),t.datos.forEach(m=>{const p=m.entidad.replace(/_/g," ");d.push(`${p}: ${m.valor}`)});const f=d.join(`
`);try{await navigator.clipboard.writeText(f),a(!0),setTimeout(()=>a(!1),2e3)}catch(m){console.error("Error al copiar al portapapeles:",m)}},c=async d=>{try{await navigator.clipboard.writeText(d),s(d),setTimeout(()=>s(null),2e3)}catch(f){console.error("Error al copiar el valor:",f)}},u=()=>{const d=["Entidad","Valor"],f=t.datos.map(v=>[v.entidad.replace(/_/g," "),v.valor]),m=[d,...f],p=nr.book_new(),h=nr.aoa_to_sheet(m),g=t.nombre.substring(0,31);nr.book_append_sheet(p,h,g);const x=`${t.nombre.replace(/\s+/g,"_").substring(0,20)}.xlsx`;Ph(p,x)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-4 sm:p-6 md:p-8 overflow-auto max-h-[90vh]",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:o.jsx(pt,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800 truncate",children:t.nombre}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:l,className:"flex items-center text-gray-500 hover:text-gray-700",children:[o.jsx(Gi,{className:"w-5 h-5 mr-1"}),n?"¡Copiado!":"Copiar todo"]}),o.jsxs("button",{onClick:u,className:"flex items-center text-green-600 hover:text-green-800",children:[o.jsx(rM,{className:"w-5 h-5 mr-1"}),"Exportar a Excel"]})]})]}),o.jsx("ul",{className:"divide-y divide-gray-200 max-h-[70vh] overflow-y-auto pr-2",children:t.datos.map((d,f)=>o.jsxs("li",{className:"py-3 flex items-center gap-3",children:[o.jsx("div",{className:"mt-1",children:kqe(d.entidad)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-700 truncate",children:d.entidad.replace(/_/g," ")}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.valor})]}),o.jsxs("button",{onClick:()=>c(d.valor),className:"flex items-center text-gray-500 hover:text-gray-700",children:[o.jsx(Gi,{className:"w-4 h-4 mr-1"}),i===d.valor?o.jsx("span",{className:"text-xs text-green-600",children:"Copiado"}):o.jsx("span",{className:"text-xs",children:"Copiar"})]})]},f))})]})})}function Tqe(){const{selectedClient:e}=ct(),[t,r]=w.useState([]),[n,a]=w.useState({}),i=w.useRef({}),s=c=>c.trim().toLowerCase().replace(/\s+/g,"_"),l=async(c,u)=>{var f,m;if(i.current[c])return;const d=t.find(p=>p.id===c);if(!(d&&d.datos.length>0)){i.current[c]=!0,a(p=>({...p,[c]:!0}));try{const p=await Pv({requiredDocumentId:c}),h=new Set;if(p.success&&Array.isArray(p.entities)&&p.entities.length>0&&p.entities.forEach(g=>{const x=s(g.entidad);h.add(x)}),h.size>0){const g=new Map;(f=p.entities)==null||f.forEach(v=>{const b=s(v.entidad);g.has(b)||g.set(b,v.valor)});const x=Array.from(g.entries()).map(([v,b])=>({entidad:v,valor:b}));r(v=>v.map(b=>b.id!==c?b:{...b,datos:x}))}else{const g=await kc(c,"documentos",u||""),x=(m=g==null?void 0:g.extracted)==null?void 0:m.Entidades,v=new Map;if(Array.isArray(x))for(const b of x){if(!b.name||!b.value)continue;const y=s(b.name);v.has(y)||v.set(y,b.value)}if(v.size===0)r(b=>b.map(y=>y.id!==c?y:{...y,datos:[]}));else{const b=[];for(const[y,j]of v.entries()){if(!h.has(y))try{await J6({requiredDocumentId:c,entidad:y,valor:j})}catch(E){console.warn(`No se pudo insertar la entidad "${y}" (quizá ya existía):`,E)}b.push({entidad:y,valor:j})}r(y=>y.map(j=>j.id!==c?j:{...j,datos:b}))}}}catch(p){se.error(`Error al procesar entidades del documento ${c}`),console.error(p)}finally{i.current[c]=!1,a(p=>({...p,[c]:!1}))}}};return w.useEffect(()=>{(async()=>{if(!e){se.error("No hay una empresa seleccionada."),r([]);return}try{const u=await aa({productRequestId:e.id});if(!u)return;const d=u.requiredDocuments.map(f=>({id:f.id,nombre:f.documentTemplate.name,isUploaded:!!f.isUploaded,isApproved:!!f.isApproved,datos:[]}));r(d);for(const f of d)f.isUploaded&&await l(f.id,f.nombre)}catch(u){se.error("Ocurrió un error al obtener los documentos."),console.error("Error fetching documents:",u)}})()},[e]),{legalDocuments:t,loadingDocuments:n,extraerEntidades:l,setLegalDocuments:r}}function Aqe(){const{legalDocuments:e,loadingDocuments:t}=Tqe(),[r,n]=w.useState(0),[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(3),d=w.useRef(null),f=w.useRef(null),m=w.useRef(null),p=w.useRef(!1),h=w.useCallback(()=>{const M=window.innerWidth;M<640?u(1):M<1024?u(2):u(3)},[]);w.useEffect(()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[h]);const g=Math.max(0,e.length-c),x=()=>n(M=>Math.min(M+1,g)),v=()=>n(M=>Math.max(M-1,0)),b=M=>{d.current=M.changedTouches[0].screenX},y=M=>{if(f.current=M.changedTouches[0].screenX,d.current===null)return;const L=d.current-(f.current??0),W=50;L>W?x():L<-W&&v(),d.current=null,f.current=null},j=M=>{p.current=!0,m.current=M.screenX},E=M=>{p.current&&M.preventDefault()},N=M=>{if(!p.current||m.current===null){p.current=!1,m.current=null;return}const L=M.screenX,W=(m.current??0)-L,H=50;W>H?x():W<-H&&v(),p.current=!1,m.current=null},S=M=>{M.deltaX>20?x():M.deltaX<-20&&v()},T=M=>{l(M),i(!0)},C=()=>{i(!1),l(null)},k=e.find(M=>M.id===s)||null,A=100/c,I=e.length/c*100-A;return o.jsxs("div",{className:"w-full pb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 mt-4 text-center",children:"Datos"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:v,disabled:r===0,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow border hover:bg-gray-100 disabled:opacity-30",children:o.jsx(Ji,{className:"w-6 h-6 text-gray-600"})}),o.jsx("button",{onClick:x,disabled:r>=g,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow border hover:bg-gray-100 disabled:opacity-30",children:o.jsx(_i,{className:"w-6 h-6 text-gray-600"})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{style:{transform:`translateX(-${100/c*r}%)`,width:`${I}%`,paddingRight:`${A}%`},className:"flex transition-transform duration-300 ease-in-out",onTouchStart:b,onTouchEnd:y,onMouseDown:j,onMouseMove:E,onMouseUp:N,onWheel:S,children:e.map(M=>o.jsx("div",{className:"flex-shrink-0 box-border px-3",style:{width:`${A}%`},children:o.jsx(_qe,{doc:M,loading:!!t[M.id],onClick:()=>T(M.id)})},M.id))})}),r>=g&&o.jsx("div",{className:"absolute right-0 top-0 mt-2 mr-12 bg-white/90 text-gray-700 px-3 py-1 rounded shadow text-sm",children:"Parece que llegaste al final"})]}),o.jsx(Cqe,{isOpen:a,doc:k,onClose:C})]})}function Iqe(){var g;const[t,r]=w.useState(null),{selectedClient:n,selectClient:a}=ct(),[i,s]=w.useState(!1),[l,c]=w.useState(!1),u=()=>{i?n&&(a({flowStatus:4}),console.log("goToNextStep ejecutado: flowStatus actualizado a 4")):f()},d=()=>{n&&(a({flowStatus:2}),console.log("goToBackStep ejecutado: flowStatus actualizado a 2"))},f=()=>{c(!0)},m=()=>{c(!1)},p=()=>{console.log("Confirmación aceptada"),n&&(a({flowStatus:4}),console.log("handleConfirm ejecutado: flowStatus actualizado a 4")),c(!1)},h=async()=>{const x=await aa({productRequestId:(n==null?void 0:n.id)??""});x&&(x.requiredDocuments.length>0&&x.requiredDocuments.every(v=>v.isApproved)?s(!0):s(!1))};return w.useEffect(()=>{h()},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsx(Eqe,{}),o.jsx(Aqe,{}),o.jsx("div",{className:"mt-4 mb-4",children:t!==null?o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"relative mb-4 flex items-center justify-between",children:[o.jsx("div",{children:o.jsx("button",{onClick:()=>r(null),className:"flex items-center justify-center bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:o.jsx(tl,{size:20})})}),o.jsx("h2",{className:"absolute left-1/2 transform -translate-x-1/2 text-lg font-semibold",children:((g=t==null?void 0:t.documentTemplate)==null?void 0:g.name)??"Documentos"}),o.jsx("div",{className:"w-10"})]}),o.jsx(wqe,{selectedDocument:t})]}):o.jsx(pqe,{onSelectDocument:r,isSectionComplete:i,setIsSectionComplete:s})})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(Q9,{goToBackStep:d,goToNextStep:u,currentStep:3,totalSteps:7})}),o.jsx(Z9,{isOpen:l,onClose:m,onConfirm:p,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const Pqe=({isOpen:e,onClose:t,rejectReason:r})=>e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4 text-red-600",children:"Razón del Rechazo"}),o.jsx("p",{className:"text-sm text-gray-700 mb-4",children:r||"No se ha proporcionado una razón para el rechazo."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Cerrar"})})]})}):null,Oqe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(102,178,255,0.5),0px_3px_6px_-2px_rgba(102,178,255,0.5)] transition-shadow duration-200",Rqe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(0,102,255,0.5),0px_3px_6px_-2px_rgba(0,102,255,0.5)] transition-shadow duration-200",Dqe="shadow-md hover:shadow-[0px_6px_10px_-1px_rgba(255,0,0,0.5),0px_3px_6px_-2px_rgba(255,0,0,0.5)] transition-shadow duration-200",Fqe=(e,t)=>{const r={rechazado:`border-red-500 ${Dqe}`,requerido:`border-blue-500 ${Rqe}`,opcional:`border-blue-300 ${Oqe}`};return e?r.rechazado:t?r.requerido:r.opcional},Mqe=(e,t,r,n)=>e?o.jsx(Za,{className:"w-6 h-6 text-green-600"}):t?o.jsx(Qi,{className:"w-6 h-6 text-red-600"}):r?o.jsx(o.Fragment,{children:o.jsx("div",{className:"",children:o.jsx("div",{title:"Análisis:"+n,children:o.jsx(qs,{className:"w-6 h-6 text-red-500","aria-label":"Advertencia"})})})}):o.jsx(Gr,{className:"w-6 h-6 text-yellow-500"}),Lqe=(e,t)=>e?"Aprobado":t?"Rechazado":"Revisar",$qe=(e,t)=>o.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded w-full mb-2 text-center",children:[o.jsx("p",{className:"truncate",children:e}),o.jsx("p",{children:t})]}),Bqe=e=>o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"w-10 h-10 text-gray-400 mb-2"}),o.jsxs("label",{className:"w-full bg-gray-100 text-gray-600 text-xs text-center border rounded py-1 cursor-pointer hover:bg-gray-200",children:["Cargar archivo",o.jsx("input",{type:"file",className:"hidden",disabled:!1,onChange:e})]})]}),zqe=e=>o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-300 border-t-blue-500 rounded-full animate-spin"}),o.jsx("span",{className:"text-blue-700 font-medium",children:"Cargando..."})]}),typeof e=="number"&&o.jsxs("div",{className:"w-full mt-1",children:[o.jsx("div",{className:"w-full bg-blue-100 h-2 rounded-full",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e}%`}})}),o.jsxs("p",{className:"text-xs text-blue-600 text-right mt-1",children:[e.toFixed(0),"%"]})]})]}),Uqe=(e,t,r,n,a,i,s,l,c)=>o.jsxs("div",{className:"absolute top-10 right-4 w-32 bg-white border border-gray-200 rounded shadow-lg z-10",children:[e&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),a&&a()},children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),"Descargar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),i&&i()},children:[o.jsx(rl,{className:"w-4 h-4 mr-2"}),"Ver"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),s&&s()},children:[o.jsx(Za,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),l&&l()},children:[o.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),t&&o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),n(!0)},children:[o.jsx(_E,{className:"w-4 h-4 mr-2"}),"Detalles"]})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r(!1),c&&c()},children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-xs text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>r(!1),children:[o.jsx(pt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]});function qqe({title:e,isUploaded:t,isLoading:r,isApproved:n,isRejected:a,rejectReason:i,fileName:s,fileSize:l,isRequired:c,isRejectedByAI:u,IaRejectedReason:d,onUpload:f,uploadProgress:m,isBusy:p,onDownload:h,onDelete:g,onView:x,onApprove:v,onReject:b}){const[y,j]=w.useState(!1),[E,N]=w.useState(!1),S=w.useRef(null);w.useEffect(()=>{const C=k=>{S.current&&!S.current.contains(k.target)&&j(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const T=C=>{var A;const k=(A=C.target.files)==null?void 0:A[0];k&&f&&f(k)};return o.jsxs("div",{ref:S,className:`w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg p-4 flex flex-col shadow-sm relative border-2 ${Fqe(a,c)}`,title:e,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("h3",{className:"text-sm font-medium text-gray-800 max-w-full break-words whitespace-normal",title:e,children:e})}),o.jsx("button",{className:"py-1 px-2 bg-gray-50 text-gray-600 rounded-full text-xs font-medium hover:bg-gray-100 transition-colors",onClick:()=>j(!y),"aria-label":"Opciones",children:o.jsx(zo,{size:20})})]}),y&&Uqe(t,a,j,N,h,x,v,b,g),o.jsx("h3",{className:`${c?"text-blue-500":"text-blue-300"} text-sm font-medium mt-2 text-center`,children:c?"Requerido":"Opcional"}),o.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:r?o.jsx(o.Fragment,{children:zqe(m)}):o.jsx(o.Fragment,{children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${n?"bg-green-100 border border-green-300":a?"bg-red-100 border border-red-300":"bg-yellow-100 border border-yellow-300"}`,children:Mqe(n,a,u,d)}),o.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-green-600":a?"text-red-600":"text-yellow-500"}`,children:Lqe(n,a)}),$qe(s,l)]}):p?o.jsx("p",{className:"text-blue-500 text-xs",children:"ocupado..."}):Bqe(T)})}),o.jsx(Pqe,{isOpen:E,onClose:()=>N(!1),rejectReason:i||"No se especificó una razón para el rechazo."})]})}const Vqe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,a]=w.useState(""),i=()=>{n.trim()?(r(n),a("")):alert("Por favor, ingresa la razón del rechazo.")};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-lg",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rechazar Documento"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md mb-4",rows:4,placeholder:"Indica la razón del rechazo...",value:n,onChange:s=>a(s.target.value)}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmar"})]})]})}):null},Hqe=({isOpen:e,onCancel:t,onConfirm:r})=>{const[n,a]=w.useState(!1);if(!e)return null;const i=async()=>{a(!0);try{await r()}finally{a(!1)}};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:o.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"¿Estás seguro?"}),o.jsx("p",{className:"mb-4",children:"Esta acción eliminará el archivo permanentemente."}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:t,disabled:n,children:"Cancelar"}),o.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center justify-center",onClick:i,disabled:n,children:n?o.jsx(at,{className:"animate-spin h-5 w-5 mr-2"}):"Eliminar"})]})]})})},Wqe=({fileUrl:e,fileType:t,onClose:r})=>{const[n,a]=w.useState(!1),i=()=>{a(!n)},s=()=>{const l=t==null?void 0:t.toLowerCase();return l==="pdf"?o.jsx("iframe",{src:e,title:"Vista Previa del Documento",className:"w-full h-full border-0"}):l==="xlsx"||l==="xls"?o.jsx(Gqe,{fileUrl:e}):o.jsx("p",{children:"Archivo no soportado"})};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-60 z-50",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-xl relative ${n?"w-full h-full":"max-w-4xl w-full h-[80%] sm:h-[90%]"} mx-4 overflow-hidden transition-all duration-300`,children:[o.jsx("button",{onClick:r,className:"absolute top-9 right-4 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-red-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Cerrar",children:o.jsx(pt,{className:"w-5 h-5"})}),o.jsx("button",{onClick:i,className:"absolute top-9 right-16 text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-blue-400 rounded-full p-2 shadow focus:outline-none","aria-label":"Expandir/Contraer",children:n?o.jsx(Dd,{className:"w-5 h-5"}):o.jsx(Rd,{className:"w-5 h-5"})}),s()]})})},Gqe=({fileUrl:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await(await fetch(e)).arrayBuffer(),s=new Uint8Array(i),l=Ei(s,{type:"array"}),c=l.SheetNames.map(u=>{const d=l.Sheets[u],f=nr.sheet_to_json(d);return{sheetName:u,data:f}});r(c)})()},[e]),o.jsx("div",{className:"overflow-auto max-h-[90%]",children:t.length>0?t.map((n,a)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:n.sheetName}),o.jsxs("table",{className:"table-auto w-full",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(n.data[0]).map(i=>o.jsx("th",{className:"px-4 py-2 border-b",children:i},i))})}),o.jsx("tbody",{children:n.data.map((i,s)=>o.jsx("tr",{children:Object.values(i).map((l,c)=>o.jsx("td",{className:"px-4 py-2 border-b",children:l},c))},s))})]})]},a)):o.jsx("p",{children:"Cargando archivo Excel..."})})};function Xqe({onPlaceholderClick:e}){return o.jsxs("div",{className:"w-full max-w-[250px] min-h-[300px] overflow-hidden bg-white rounded-lg border border-gray-300 p-4 flex flex-col justify-center items-center cursor-pointer shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center mb-4",children:o.jsx(on,{className:"w-6 h-6 text-gray-500"})}),o.jsx("span",{className:"text-sm font-medium text-gray-600 text-center",children:"Solicitar otro documento"})]})}const Kqe=async e=>{if(!e)return console.warn("No se proporcionó un ID de cliente válido"),[];try{const t=await aa({productRequestId:e});return!t||!t.requiredDocuments?(console.warn("No se encontraron documentos requeridos"),[]):t.requiredDocuments.map(n=>({documentTemplate:n.documentTemplate,status:n.status,id:n.id,isRequired:n.isRequired??!1,isUploaded:n.isUploaded??!1,isApproved:n.isApproved??!1,isPreApproved:n.isPreApproved??!1,isRejected:n.isRejected??!1,isLoading:!1,rejectReason:n.rejectReason??"",fileName:n.fileName??"",fileSize:n.fileSize??"",isRejectedByAI:n.isRejectedByAI??!1,IaRejectedReason:n.IaRejectedReason??"",category:""}))}catch(t){return console.error("Error al obtener los documentos:",t),[]}},Yqe=async(e,t,r=!1)=>{if(r)return console.log("Simulación activa. No se ejecutarán operaciones reales."),{success:!0,message:"Simulación completada exitosamente.",details:"Ninguna operación real fue ejecutada."};try{const a=function(s,l){return l.map(c=>({productRequestId:s,documentTemplateId:c.id,isRequired:c.isRequired}))}(e.productRequestId,t);return await Promise.all(a.map(s=>Id(s)))?{success:!0,message:"El registro se realizó correctamente"}:{success:!1,message:"Falló el registro de los documentos requeridos"}}catch(n){return console.error("Error en submitClientAndDocuments:",n),{success:!1,message:"Ha ocurrido un error inesperado"}}};function Jqe({isOpen:e,onClose:t,selectedProductId:r}){const[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState("processing"),[u,d]=w.useState({title:"",message:"",details:void 0}),[f,m]=w.useState(!1);w.useEffect(()=>{e&&p()},[e]);const p=async()=>{const x=await sh();s(x)},h=async()=>{c("processing");const v=await Yqe({productRequestId:r},n,!1);v.success?(d({title:"Solicitud completada",message:"Documento adicional solicitado con éxito"}),c("success")):(d({title:"Error",message:v.message,details:v.details}),c("error")),m(!0)},g=x=>{x.preventDefault(),h()};return e?o.jsxs("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-50",children:[o.jsxs("div",{className:"bg-white rounded-lg p-8 w-[700px] max-w-full text-center shadow-lg relative",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Solicitar otro documento"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Selecciona el documento adicional a solicitar."}),o.jsx("div",{className:" mb-4",children:o.jsx(J9,{documents:n,setDocuments:a,docTemplates:i})}),o.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[o.jsx("button",{type:"submit",onClick:g,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Solicitar documento adicional"}),o.jsx("button",{onClick:t,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Cancelar"})]})]}),f&&o.jsx(_n,{onClose:t,status:l,messages:u})]}):null}function Qqe(){const{selectedClient:e}=ct(),[t,r]=w.useState([]),[n,a]=w.useState(!1),[i,s]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(null),[v,b]=w.useState(null),[y,j]=w.useState(!1),[E,N]=w.useState(!1),[S,T]=w.useState(!1),[C,k]=w.useState(!1),[A,_]=w.useState(!1),[I,M]=w.useState(null),[L,W]=w.useState(!1),{user:H}=mt(),q=()=>t.length>0&&t.every(G=>G.isPreApproved),B=async G=>{t.length>0&&t.every(O=>O.isPreApproved)?N(!0):G&&(await aN(3,(e==null?void 0:e.id)??""),N(!1))},F=async()=>{let G="";const O=q(),fe=e==null?void 0:e.name,ie=await iN((e==null?void 0:e.email)??"",(H==null?void 0:H.idToken)??""),ye="https://documentaihostingpage-269526555085.us-central1.run.app"+"/"+ie.token;if(O===!1){const we=t.filter(Ve=>Ve.isPreApproved).length,$e=t.filter(Ve=>Ve.isRejected).length,ze=t.filter(Ve=>Ve.isUploaded===!1).length;G=fqe({name:fe??"",numAprobados:we,numRechazados:$e,numPendientes:ze,url:ye})}else G=mqe({name:fe??"",url:ye}),await aN(3,(e==null?void 0:e.id)??"");await cc((e==null?void 0:e.email)??"",e==null?void 0:e.ccemail,"Actualización en tu trámite",G)?O===!1?se.success("cliente notificado"):se.success("Seccion completa, cliente notificado"):se.error("Ocurrió un error, intente de nuevo mas tarde")},ne=async(G,O)=>{if(T(!0),O)if((await cr({id:O,isPreApproved:!0,isRejected:!1,rejectReason:""})).success){const ie=[...t];ie[G]={...ie[G],isPreApproved:!0,isRejected:!1,rejectReason:""},r(ie),console.log("Documento aprobado")}else se.error("Error al aprobar el documento. Inténtalo de nuevo.")},U=(G,O)=>{a(!0),s(G),b(O)},R=async G=>{if(T(!0),v)if((await cr({id:v,isRejected:!0,isApproved:!1,isPreApproved:!1,rejectReason:G})).success){if(i!==null){const fe=[...t];fe[i]={...fe[i],isRejected:!0,isPreApproved:!1,rejectReason:G},r(fe),console.log(`Documento rechazado: ${fe[i].documentTemplate.name}, Razón: ${G}`)}}else se.error("Error al rechazar el documento. Inténtalo de nuevo.");a(!1),s(null)},K=(G,O,fe)=>{m(!0),h(G),x(O),j(fe)},J=async()=>{var G,O;if(T(!0),p!==null)if(g&&y){const ie=((O=(G=t[p].fileName)==null?void 0:G.split(".").pop())==null?void 0:O.toLowerCase())??"",ue=`${g}.${ie}`,ye=await Yd(ue,"documentos");if(console.log(ye?"Archivo eliminado en bucket":"Error al eliminar archivo en bucket"),(await cr({id:g,isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:"",fileSize:"",isRejectedByAI:!1,IaRejectedReason:""})).success){const we=[...t];we[p]={...we[p],isUploaded:!1,isApproved:!1,isPreApproved:!1,isRejected:!1,fileName:void 0,fileSize:void 0,fileUrl:void 0,isRejectedByAI:!1,IaRejectedReason:void 0},r(we),console.log("Archivo eliminado en índice")}else se.error("Error al eliminar el documento. Inténtalo de nuevo.")}else g&&((await rh({requiredDocument:g})).success?(console.log("Archivo eliminado en índice de documentos requeridos"),r(ie=>ie.filter(ue=>ue.id!==g)),se.success("Documento requerido eliminado")):se.error("Error al eliminar el documento. Inténtalo de nuevo."));m(!1),x(null),h(null)},te=async(G,O)=>{var fe;if(r(ie=>ie.map(ue=>ue.id===G?{...ue,isLoading:!0}:ue)),G){const ie=((fe=O.split(".").pop())==null?void 0:fe.toLowerCase())??"",oe=await Un("view","documentos",G,"token",ie);oe.data?(c(oe.data),d(ie)):se.error("Error al visualizar el documento. Inténtalo de nuevo.")}r(ie=>ie.map(ue=>ue.id===G?{...ue,isLoading:!1}:ue))},re=()=>c(null);w.useEffect(()=>{const G=async()=>{if(!(e!=null&&e.id)){se.error("No hay una empresa seleccionada.");return}const O=await Kqe(e.id),fe=O.length>0&&O.every(ie=>ie.isPreApproved);N(fe),r(O),console.log("Documentos actualizados:",O)};I===null&&G(),I===!0&&A===!1&&G(),M(A)},[A]),w.useEffect(()=>{B(E)},[t]);const P=async(G,O)=>{var fe;r(ie=>ie.map(ue=>ue.id===G?{...ue,isLoading:!0}:ue));try{const ie=((fe=O.split(".").pop())==null?void 0:fe.toLowerCase())??"";(await Un("download","documentos",G,"token",ie,O)).success?se.success("Archivo descargado"):se.error("Error al descargar el documento. Inténtalo de nuevo.")}catch(ie){console.log(ie),se.error("Error al descargar el documento. Inténtalo de nuevo.")}r(ie=>ie.map(ue=>ue.id===G?{...ue,isLoading:!1}:ue))},z=(G,O)=>{r(fe=>fe.map(ie=>ie.id===G?{...ie,...O}:ie))},D=async(G,O)=>{var ye;if(!O)return;let fe="";const ie=["pdf","xls","xlsx"],ue=(ye=O.name.split(".").pop())==null?void 0:ye.toLowerCase();if(!ue||!ie.includes(ue)){z(G,{isRejectedByAI:!0,isLoading:!1,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,IaRejectedReason:"Formato de archivo no permitido. Solo se aceptan PDFs y archivos de Excel."});return}z(G,{isLoading:!0,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,uploadProgress:0});try{if(W(!0),!await ts(G,O,"documentos",we=>{z(G,{uploadProgress:we})}))throw fe="Error al subir el archivo.",new Error("Error al subir el archivo.");await cr({id:G,isUploaded:!0,fileName:O.name,fileSize:`${(O.size/1024/1024).toFixed(1)} MB`,fileFolder:"documentos",isPreApproved:!1,isApproved:!1,isRejected:!1,rejectReason:"false",isRejectedByAI:!1,IaRejectedReason:"",UserJustify:""}),z(G,{isLoading:!1,isUploaded:!0,isRejected:!1,uploadProgress:100}),W(!1)}catch(oe){console.error("Error al manejar el documento:",oe),z(G,{isRejectedByAI:!0,fileName:void 0,fileSize:void 0,IaRejectedReason:fe,isLoading:!1,uploadProgress:0})}finally{W(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Documentos subidos: ",t.filter(G=>G.isUploaded).length,"/",t.length]}),E?o.jsxs("div",{className:"relative flex items-center gap-1 text-green-600 group",children:[o.jsx(At,{size:20}),o.jsx("span",{children:"Completado"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"Esta sección ha sido completada."})]}):o.jsxs("div",{className:"relative flex items-center gap-1 text-orange-600 group",children:[o.jsx(Gr,{size:20}),o.jsx("span",{children:"En proceso"}),o.jsx("div",{className:"absolute right-full ml-2 hidden group-hover:flex px-4 py-1 text-sm text-gray-600 border border-blue-500 rounded-md bg-white w-max max-w-xs",children:"En proceso de recepción documental, el estado cambia cuando validas todos los documentos."})]})]}),S?o.jsx("div",{className:"mt-2 p-3 bg-blue-100 border-l-4 border-blue-500 text-gray-600 text-l",children:"📢 Hiciste un cambio? No olvides notificar al cliente."}):null,o.jsxs("div",{className:"max-h-[600px] overflow-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 mt-4",children:[t.map((G,O)=>o.jsx(qqe,{title:G.documentTemplate.name,isUploaded:G.isUploaded,isApproved:G.isPreApproved,isRejected:G.isRejected,rejectReason:G.rejectReason,fileName:G.fileName,fileSize:G.fileSize,isLoading:G.isLoading,isRequired:G.isRequired,onApprove:()=>ne(O,G.id),onReject:()=>U(O,G.id),onDelete:()=>K(O,G.id,G.isUploaded),onDownload:()=>P(G.id,G.fileName??""),onUpload:fe=>D(G.id,fe),uploadProgress:G.uploadProgress,onView:()=>te(G.id,G.fileName??""),isRejectedByAI:G.isRejectedByAI??!1,IaRejectedReason:G.IaRejectedReason??"",isBusy:L},G.id)),o.jsx(Xqe,{onPlaceholderClick:()=>_(!0)})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("button",{onClick:async()=>{k(!0),await F(),k(!1)},className:"relative flex items-center gap-2 border-2 font-bold py-2 px-4 rounded-lg transition border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white group",children:[C?o.jsx(at,{className:"w-5 h-5 animate-spin"}):o.jsx(At,{className:"w-5 h-5"}),E?"Informar sección completa":"Informar cambio en Recepción",o.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-52 border border-gray-500 text-gray-500 text-sm rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white",children:E?"Informa al cliente por correo que sus documentos han sido recibidos, activa la siguiente sección":"Informa al cliente por correo que el estado de sus documentos ha cambiado"})]})}),o.jsx(Vqe,{isOpen:n,onClose:()=>a(!1),onConfirm:R}),o.jsx(Hqe,{isOpen:f,onCancel:()=>m(!1),onConfirm:J}),l&&o.jsx(Wqe,{fileUrl:l,onClose:re,fileType:u??"pdf"})]}),o.jsx(pr,{})]}),o.jsx("div",{children:A&&o.jsx(Jqe,{isOpen:A,onClose:()=>_(!1),selectedProductId:(e==null?void 0:e.id)??""})})]})}function Zqe(){const[e,t]=w.useState(1),{selectedClient:r,selectClient:n}=ct(),[a,i]=w.useState(!1),s=2,l=()=>{r&&n({flowStatus:s+1})},c=()=>{r&&n({flowStatus:s-1})},u=()=>{i(!1)},d=()=>{r&&n({flowStatus:s+1}),i(!1)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col h-auto p-4 bg-gray-100",children:[o.jsxs("main",{className:"bg-gray-50 shadow-md rounded-lg flex-1 overflow-auto p-4",children:[o.jsx("header",{className:"flex items-center justify-between py-4",children:o.jsx("h1",{className:"text-xl font-semibold",children:"Detalles de solicitud"})}),o.jsx("div",{className:"tabs mb-6 flex border-b border-gray-300",children:["Documentos Requeridos"].map((f,m)=>o.jsx("button",{className:`tab px-4 py-2 font-semibold ${e===m+1?"bg-blue-500 text-white border-b-4 border-blue-700":"text-gray-600"}`,onClick:()=>t(m+1),children:f},m))}),o.jsx("div",{className:"mt-4 mb-4",children:e===1&&o.jsx(Qqe,{})})]}),o.jsx(pr,{})]}),o.jsx("div",{children:o.jsx(Q9,{goToBackStep:c,goToNextStep:l,currentStep:s,totalSteps:7})}),o.jsx(Z9,{isOpen:a,onClose:u,onConfirm:d,title:"¿Deseas continuar?",message:"Aún no está completa la sección de revisión humana"})]})}const eVe=({value:e,max:t,title:r,subtitle:n,unit:a})=>{const i=e/t*100,s=i/100*180,l=c=>c<33?"#10B981":c<66?"#F59E0B":"#EF4444";return o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:r}),o.jsx("p",{className:"text-xs text-gray-500 mb-4",children:n}),o.jsxs("div",{className:"relative w-32 h-16 mx-auto mb-4",children:[o.jsxs("svg",{width:"128",height:"64",viewBox:"0 0 128 64",children:[o.jsx("path",{d:"M 10 54 A 54 54 0 0 1 118 54",fill:"none",stroke:"#E5E7EB",strokeWidth:"8"}),o.jsx("path",{d:"M 10 54 A 54 54 0 0 1 118 54",fill:"none",stroke:l(i),strokeWidth:"8",strokeDasharray:`${s/180*169.65} 169.65`,transform:"rotate(0 64 54)"})]}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e}),o.jsx("span",{className:"text-xs text-gray-500",children:a})]})]}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:t})]})]})},tVe=({data:e,title:t})=>{const r=Math.max(...e.map(n=>n.value));return o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:t}),o.jsx("div",{className:"space-y-3",children:e.map((n,a)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 text-xs text-gray-600",children:n.label}),o.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-6 relative",children:o.jsx("div",{className:"h-6 rounded-full flex items-center justify-end pr-2",style:{backgroundColor:n.color,width:`${n.value/r*100}%`},children:o.jsx("span",{className:"text-xs text-white font-medium",children:n.value})})})]},a))})]})},W1=({data:e,title:t})=>{const r=e.reduce((i,s)=>i+s.value,0);let n=0;const a=(i,s)=>{const l=i/100*360,c=s+l,u=l>180?1:0,d=50+40*Math.cos(s*Math.PI/180),f=50+40*Math.sin(s*Math.PI/180),m=50+40*Math.cos(c*Math.PI/180),p=50+40*Math.sin(c*Math.PI/180);return`M 50 50 L ${d} ${f} A 40 40 0 ${u} 1 ${m} ${p} Z`};return o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:t}),o.jsx("div",{className:"relative w-32 h-32 mx-auto mb-4",children:o.jsx("svg",{width:"128",height:"128",viewBox:"0 0 100 100",children:e.map((i,s)=>{const l=i.value/r*100,c=a(l,n);return n+=l/100*360,o.jsx("path",{d:c,fill:i.color,stroke:"white",strokeWidth:"1"},s)})})}),o.jsx("div",{className:"space-y-1",children:e.map((i,s)=>o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),o.jsx("span",{className:"text-gray-600",children:i.label}),o.jsxs("span",{className:"font-medium",children:[(i.value/r*100).toFixed(1),"%"]})]},s))})]})},rVe=({data:e,title:t})=>{const r=e.reduce((n,a)=>n+a.value,0);return o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:t}),o.jsx("div",{className:"h-48 flex",children:e.map((n,a)=>{const i=n.value/r*100;return o.jsx("div",{className:"flex items-center justify-center text-white text-xs font-medium p-2",style:{width:`${i}%`,backgroundColor:n.color,minHeight:"100%"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-semibold",children:n.name}),o.jsxs("div",{className:"text-xs opacity-90",children:["$",n.value.toLocaleString()]})]})},a)})})]})},nVe=()=>{const e=[{value:376,max:500,title:"Antigüedad de",subtitle:"Cuentas por Cobrar",unit:"Días"},{value:175,max:300,title:"Antigüedad Promedio",subtitle:"de Inventario",unit:"Días"},{value:0,max:100,title:"Antigüedad de",subtitle:"Cuentas por Pagar",unit:"Días"},{value:550,max:600,title:"Ciclo de Conversión",subtitle:"de Efectivo",unit:"Días"}],t=[{label:"Prueba Ácida",value:1.2,color:"#3B82F6"},{label:"Liquidez",value:1.8,color:"#8B5CF6"},{label:"Razón Corriente",value:2.1,color:"#EC4899"},{label:"Margen Seguridad",value:.9,color:"#10B981"}],r=[{year:"2021",amount:"$ 18,345,400.00"},{year:"2022",amount:"$ 21,507,561,200.00"},{year:"2023",amount:"$ 20,528,658.00"},{year:"2024",amount:"$ 19,193,650.00"}],n=[[{label:"OK",value:99.3,color:"#10B981"},{label:"Riesgo Negras",value:.7,color:"#EF4444"}],[{label:"OK",value:90.5,color:"#10B981"},{label:"Riesgo Judicial",value:9.5,color:"#EF4444"}],[{label:"OK",value:80.1,color:"#10B981"},{label:"Gobierno",value:19.9,color:"#EF4444"}]],a=[{name:"PHARMA MANAGEMENT INNOVATION",value:45e5,color:"#7DD3FC"},{name:"INSTITUTO MEXICANO",value:28e5,color:"#A78BFA"},{name:"GRUPO LANDSTEINER",value:12e5,color:"#F472B6"},{name:"Otros Clientes",value:8e5,color:"#34D399"}],i=[{client:"PHARMA MANAGEMENT INNOVATION",sales:"$426,690,374.94",percentage:"41.52%",days:"35.9",paid:"$1,189,462,758.66",difference:"99%",max:"437.3",min:"5",average:"71.8"},{client:"INSTITUTO MEXICANO DEL SEGURO SOCIAL",sales:"$185,240,738.98",percentage:"18.03%",days:"28.4",paid:"$106,617,982.29",difference:"100%",max:"188.0",min:"22.9",average:"82.7"}],s={pruebaAcida:1.25,liquidez:1.85,capitalTrabajo:19193650,pasivoCapitalContable:.65,pasivoActivoTotal:.45,pasivoCapitalSocial:.78,rotacionCuentasCobrar:9.7,rotacionInventarios:2.1,rotacionActivos:1.3,rotacionCuentasPagar:12.5,utilidadVentas:.15,utilidadActivoTotal:.12,utilidadCapitalContable:.18,incrementoVentas:.08,incrementoResultados:.12,incrementoActivo:.05};return o.jsx("div",{className:"min-h-screen bg-gray-50 rounded-md  p-6",children:o.jsxs("div",{className:" mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Análisis Financiero"}),o.jsx("p",{className:"text-gray-600",children:"Dashboard de Indicadores Financieros y Razones de Liquidez"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado de Situación Financiera"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Activos Totales"}),o.jsx("span",{children:"$125,450,000"})]}),o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Pasivos Totales"}),o.jsx("span",{children:"$56,452,500"})]}),o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Capital Contable"}),o.jsx("span",{children:"$68,997,500"})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado de Resultado Integral"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Ingresos Totales"}),o.jsx("span",{children:"$98,750,000"})]}),o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Gastos Operativos"}),o.jsx("span",{children:"$83,937,500"})]}),o.jsxs("div",{className:"flex justify-between border-b pb-2",children:[o.jsx("span",{className:"font-medium",children:"Utilidad Neta"}),o.jsx("span",{children:"$14,812,500"})]})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Razones Financieras"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"text-lg font-bold text-blue-600",children:s.pruebaAcida}),o.jsx("div",{className:"text-xs text-gray-600",children:"Prueba Ácida"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"text-lg font-bold text-green-600",children:s.liquidez}),o.jsx("div",{className:"text-xs text-gray-600",children:"Liquidez"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[(s.capitalTrabajo/1e6).toFixed(1),"M"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Capital de Trabajo"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"text-lg font-bold text-red-600",children:s.pasivoCapitalContable}),o.jsx("div",{className:"text-xs text-gray-600",children:"Pasivo/Capital"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:s.rotacionCuentasCobrar}),o.jsx("div",{className:"text-xs text-gray-600",children:"Rot. Cuentas Cobrar"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[o.jsxs("div",{className:"text-lg font-bold text-indigo-600",children:[(s.utilidadVentas*100).toFixed(1),"%"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Utilidad/Ventas"})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Razones de Actividad Operativa"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((l,c)=>o.jsx(eVe,{...l},c))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(tVe,{data:t,title:"Razones de Liquidez"})}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capital de Trabajo"}),o.jsx("div",{className:"space-y-3",children:r.map((l,c)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[o.jsx("span",{className:"font-medium text-gray-700",children:l.year}),o.jsx("span",{className:"text-gray-900",children:l.amount})]},c))})]})]}),o.jsx(rVe,{data:a,title:"Diversificación de Ingresos"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top 5 Clientes"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left",children:"Cliente"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"$ (Ventas)"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"%"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Antigüedad"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Pagado"})]})}),o.jsx("tbody",{children:i.map((l,c)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"px-4 py-2 font-medium",children:l.client}),o.jsx("td",{className:"px-4 py-2",children:l.sales}),o.jsx("td",{className:"px-4 py-2",children:l.percentage}),o.jsx("td",{className:"px-4 py-2",children:l.days}),o.jsx("td",{className:"px-4 py-2",children:l.paid})]},c))})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(W1,{data:n[0],title:"Ingresos en Riesgo Fiscal"}),o.jsx(W1,{data:n[1],title:"Ingresos en Riesgo Judicial"}),o.jsx(W1,{data:n[2],title:"Ingresos de Gobierno"})]})]})]})})},aVe=()=>{const[e,t]=w.useState(2),[r,n]=w.useState(!1),a=4,{selectedClient:i}=ct(),s=Mt(),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(!1),[p,h]=w.useState(!1),[g,x]=w.useState(!1),v=w.useRef(null),b=async()=>{},y=()=>{s(-1)};w.useEffect(()=>{console.log("actualización recibida en onboarding"),t(S=>{const T=(i==null?void 0:i.flowStatus)??0;return S!==T?T:S})},[i]),w.useEffect(()=>{async function S(){if(i!=null&&i.chatId)try{const T=await Sh({chatId:(i==null?void 0:i.chatId)??""});if(T){const C=T.messages.filter(k=>!k.isRead&&!k.isSenderAdmin);if(C.length>0){const k={id:i.id,content:`Tienes ${C.length} nuevos mensajes sin leer.`,type:"info",read:!1,createdAt:new Date};d([k]),console.log("se llamo a toast"),h(!0)}c(T.messages)}}catch(T){console.log("error",T)}}S()},[]);const j=async()=>{if(i!=null&&i.chatId)try{if(l&&l.filter(T=>!T.isRead&&!T.isSenderAdmin).length>0){const T=l.map(C=>!C.isRead&&!C.isSenderAdmin?(console.log("marcando como leído",C),Nh({messageId:C.id,isRead:!0}),{...C,isRead:!0}):C);d([]),c(T)}}catch(S){console.log("Error al marcar mensajes como leídos:",S)}},E=()=>{n(!0),j(),console.log("El chat con el admin se abrió.")};w.useEffect(()=>{function S(T){v.current&&!v.current.contains(T.target)&&n(!1)}return r&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[r]);function N(){x(!g),Bm.removeAll(),zm.removeAll(),Eu.removeAll(),window.location.reload()}return o.jsxs("div",{className:"flex flex-col",children:[i&&o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:y,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(tl,{size:24})}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white p-3 rounded-lg ",children:[o.jsx("span",{className:"text-gray-800 font-semibold",children:i.company}),o.jsx("span",{className:"text-gray-600",children:i.email})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex justify-center flex-1",children:o.jsxs("button",{className:"relative w-auto bg-gradient-to-r from-green-400 to-green-500 text-white py-2 px-5 rounded-full flex items-center gap-2 transition-transform transform hover:scale-105",onClick:()=>E(),children:[o.jsx(_a,{size:22}),"Chat con usuario",u.length>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.length})]})}),o.jsxs("div",{className:"relative group",children:[o.jsx("button",{onClick:N,className:"p-2 rounded-full text-blue-500 hover:bg-blue-100 transition-all",children:o.jsx(kE,{size:24,className:`transition-transform duration-500 transform ${g?"rotate-180":""}`})}),o.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-2 py-1 text-xs text-white bg-blue-500 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:"Forzar actualización de datos"})]})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:o.jsx(aqe,{currentStep:e,totalSteps:a})}),o.jsxs("main",{className:"max-w-full flex-grow container mx-auto ",children:[e===2&&o.jsx(Zqe,{}),e===3&&o.jsx(Iqe,{}),e===4&&o.jsx(nVe,{})]}),f&&o.jsx(sqe,{notifications:u,onClose:()=>m(!1)}),p&&o.jsx(oqe,{content:"Tienes nuevos mensajes",duration:5e3,onClose:()=>h(!1)}),r&&o.jsx("div",{ref:v,children:o.jsx(iqe,{onClose:()=>n(!1),onNewMessage:b,setMessages:c,messages:l})})]})};function iVe(){return o.jsx(Yr,{children:o.jsx(aVe,{})})}const sVe=()=>o.jsxs(IH,{children:[o.jsx(Xt,{path:"/",element:o.jsx(dT,{})}),o.jsx(Xt,{path:"/:magicToken",element:o.jsx(dT,{})}),o.jsx(Xt,{path:"/register",element:o.jsx(lQ,{})}),o.jsx(Xt,{path:"/not-authorized",element:o.jsx(Gje,{})}),o.jsx(Xt,{path:"/offline",element:o.jsx(OUe,{children:o.jsx(PUe,{})})}),o.jsx(Xt,{path:"/user/dashboard",element:o.jsx(Ob,{children:o.jsx(IUe,{})})}),o.jsx(Xt,{path:"/user/welcome",element:o.jsx(Ob,{children:o.jsx(fT,{})})}),o.jsx(Xt,{path:"/user/welcome/:productSelectedId",element:o.jsx(Ob,{children:o.jsx(fT,{})})}),o.jsxs(Xt,{path:"/admin",children:[o.jsx(Xt,{path:"dashboard",element:o.jsx(ss,{children:o.jsx(Wje,{})})}),o.jsx(Xt,{path:"credentials",element:o.jsx(ZBe,{})}),o.jsx(Xt,{path:"teams",element:o.jsx(RUe,{})}),o.jsx(Xt,{path:"teams/overview",element:o.jsx(XUe,{})}),o.jsx(Xt,{path:"templates/management",element:o.jsx(ss,{children:o.jsx(aze,{})})}),o.jsx(Xt,{path:"management",element:o.jsx(ss,{children:o.jsx(HUe,{})})}),o.jsxs(Xt,{path:"nafin",children:[o.jsx(Xt,{path:"product/request",element:o.jsx(ss,{children:o.jsx(Zje,{})})}),o.jsx(Xt,{path:"product/onboarding",element:o.jsx(ss,{children:o.jsx(QBe,{})})})]}),o.jsxs(Xt,{path:"tengo",children:[o.jsx(Xt,{path:"product/request",element:o.jsx(ss,{children:o.jsx(R9e,{})})}),o.jsx(Xt,{path:"product/onboarding",element:o.jsx(ss,{children:o.jsx(j9e,{})})})]}),o.jsxs(Xt,{path:"credit",children:[o.jsx(Xt,{path:"product/request",element:o.jsx(ss,{children:o.jsx(nqe,{})})}),o.jsx(Xt,{path:"product/onboarding",element:o.jsx(ss,{children:o.jsx(iVe,{})})})]})]})]}),oVe=({children:e})=>{const[t,r]=w.useState(()=>{const i=sessionStorage.getItem("selectedProduct");return i?JSON.parse(i):null});w.useEffect(()=>{t?sessionStorage.setItem("selectedProduct",JSON.stringify(t)):sessionStorage.removeItem("selectedProduct")},[t]);const n=i=>{r(s=>s?{...s,...i}:i)},a=()=>r(null);return o.jsx(dM.Provider,{value:{selectedProduct:t,selectProduct:n,deselectProduct:a},children:e})},lVe=({children:e})=>{const[t,r]=w.useState(()=>{const l=sessionStorage.getItem("formStatuses");return l?JSON.parse(l):[]});w.useEffect(()=>{sessionStorage.setItem("formStatuses",JSON.stringify(t))},[t]);const n=l=>{r(c=>[...c,{...l,updatedAt:new Date}])},a=(l,c)=>{r(u=>u.map(d=>d.id===l?{...d,status:c,updatedAt:new Date}:d))},i=l=>{r(c=>c.filter(u=>u.id!==l))},s=l=>{const c=t.find(u=>u.id===l);return c?c.status:void 0};return o.jsx(Y9.Provider,{value:{formStatuses:t,addFormStatus:n,updateFormStatus:a,removeFormStatus:i,getStatusById:s},children:e})};function cVe(){return o.jsxs(RH,{children:[o.jsx(lVe,{children:o.jsx(oVe,{children:o.jsx(DH,{children:o.jsx(zJ,{children:o.jsx(sVe,{})})})})}),o.jsx(pr,{})]})}const uVe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYZE_API_TOKEN:"codigodeacceso",VITE_ANALYZE_SERVER_BASE_URL:"https://documentaiservices-269526555085.us-central1.run.app",VITE_API_BASE_URL:"https://documentaibackend-269526555085.us-central1.run.app",VITE_API_CONTACT_EMAIL:"tengo.contact@broxel.com",VITE_API_FRONT_URL:"https://documentaihostingpage-269526555085.us-central1.run.app",VITE_BUCKETDOCS_API_TOKEN:"tokendebucket",VITE_BUCKETDOCS_BASE_URL:"https://bucketdocs-269526555085.us-central1.run.app",VITE_EMAIL_API_TOKEN:"tokendemailer",VITE_EMAIL_SERVER_BASE_URL:"https://sendtwiliomails-269526555085.us-central1.run.app",VITE_FIREBASE_API_KEY:"AIzaSyAxQuDj03p8iXzTpjJb1_XTT_AuamQ_EU0",VITE_FIREBASE_APP_ID:"1:269526555085:web:7e886c2ea8e85ac9530c84",VITE_FIREBASE_AUTH_DOMAIN:"logintest-441321.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"269526555085",VITE_FIREBASE_PROJECT_ID:"logintest-441321",VITE_FIREBASE_STORAGE_BUCKET:"logintest-441321.firebasestorage.app",VITE_OPENAI_API_TOKEN:"codigodeacceso",VITE_OPENAI_SERVER_BASE_URL:"http://127.0.0.1:8000",VITE_PDFGENERATOR_API_TOKEN:"tokenpdfgenerator",VITE_PDF_GENERATOR_BASE_URL:"https://pdfformatgenerator-269526555085.us-central1.run.app",VITE_STORAGE_ROOT_FOLDER:"documentos"};function ln(e){const t=uVe[e];if(!t)throw new Error(`❌ FALTA variable de entorno: ${e}`);return t}ln("VITE_FIREBASE_API_KEY");ln("VITE_FIREBASE_AUTH_DOMAIN");ln("VITE_FIREBASE_PROJECT_ID");ln("VITE_FIREBASE_STORAGE_BUCKET");ln("VITE_FIREBASE_MESSAGING_SENDER_ID");ln("VITE_FIREBASE_APP_ID");ln("VITE_API_FRONT_URL");ln("VITE_STORAGE_ROOT_FOLDER");ln("VITE_API_BASE_URL");ln("VITE_EMAIL_SERVER_BASE_URL");ln("VITE_EMAIL_API_TOKEN");ln("VITE_ANALYZE_SERVER_BASE_URL");ln("VITE_ANALYZE_API_TOKEN");ln("VITE_BUCKETDOCS_BASE_URL");ln("VITE_BUCKETDOCS_API_TOKEN");ln("VITE_PDF_GENERATOR_BASE_URL");ln("VITE_PDFGENERATOR_API_TOKEN");fD(document.getElementById("root")).render(o.jsx(cVe,{}));
